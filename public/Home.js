!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}({12:function(e,t,n){"use strict";fetch("data/events.json").then(e=>e.json()).then(e=>(function(e){const t=document.querySelector(".content");t&&(e.forEach(e=>{const n=function(e){const t=document.querySelector(".template").content.cloneNode(!0);t.querySelector(".tile").classList.add(`${e.size}`),t.querySelector(".type-tile").setAttribute("type",e.type),t.querySelector(".title-tile").innerText=e.title,t.querySelector(".source-tile").innerText=e.source,t.querySelector(".description-tile").innerText=e.description,"critical"===e.type?t.querySelector(".icon-tile").style.backgroundImage=`url(img/${e.icon}-white.svg)`:t.querySelector(".icon-tile").style.backgroundImage=`url(img/${e.icon}.svg)`,t.querySelector(".time-tile").innerText=e.time;const n=e.data;e.description&&t.querySelector(".info-tile").classList.add("visable");if(n){if(t.querySelector(".info-tile").classList.add("visable"),n.track){const e=document.querySelector(".template-audio").content.cloneNode(!0);e.querySelector(".cover").style.backgroundImage=`url("${n.albumcover}")`,e.querySelector(".artist").innerText=`${n.artist}-${n.track.name}`,e.querySelector(".length").innerText=n.track.length,e.querySelector(".track").setAttribute("max",n.track.lenght),e.querySelector(".track").setAttribute("value",`${n.track.lenght}/2`),e.querySelector(".volume-range").setAttribute("value",n.volume),e.querySelector(".volume").innerText=`${n.volume}%`,t.querySelector(".data-tile").classList.add("data-audio"),t.querySelector(".data-tile").appendChild(e)}if("graph"===n.type){const e=document.querySelector(".template-graph").content.cloneNode(!0);e.querySelector(".graph").style.background=" url('../img/Richdata.png') no-repeat",e.querySelector(".graph").style.backgroundImage="-webkit-image-set( url('../img/Richdata.png') 1x, url('img/Richdata@2x.png') 2x, url('img/Richdata@3x.png') 3x )",e.querySelector(".graph").style.backgroundPosition="center bottom",t.querySelector(".data-tile").appendChild(e)}if(n.image){const e=document.createElement("div");e.style.background="url('img/Bitmap.png')",e.style.background="-webkit-image-set( url('img/Bitmap.png') 1x, url('img/Bitmap2x.png') 2x , url('img/Bitmap3x.png') 3x",e.style.backgroundPosition="50% 50%",e.classList.add("cam");const n=document.querySelector(".template-image").content.cloneNode(!0);n.appendChild(e);const r=document.createElement("div");r.classList.add("control-labels");const o=document.createElement("div");o.classList.add("control-zoom");const i=document.createElement("div");i.classList.add("control-bright"),o.innerText="Приближение: 78%",i.innerText="Яркость: 50%";const c=document.createElement("div");c.classList.add("cam-slider"),e.appendChild(c),r.appendChild(o),r.appendChild(i),t.querySelector(".data-tile").classList.add("camera"),t.querySelector(".data-tile").appendChild(n),t.querySelector(".data-tile").appendChild(r)}if(n.buttons){const e=document.querySelector(".template-buttons").content.cloneNode(!0);n.buttons.forEach(t=>{const n=document.createElement("div");n.classList.add("data-button"),n.innerText=t,e.querySelector(".buttons").appendChild(n)}),t.querySelector(".data-tile").appendChild(e)}}return t}(e);t.appendChild(n)}),function(){document.querySelector(".camera").setAttribute("touch-action","none");const e=document.querySelector(".cam");e.setAttribute("touch-action","none");const t=document.querySelector(".control-zoom"),n=document.querySelector(".control-bright"),r=document.querySelector(".cam-slider");r.style.opacity="1";const o=[];let i=-1;const c=[],l=[];let a=100,u=100;function d(e){o.push(e),l.push({x:e.clientX,y:e.clientY})}function s(d){for(let e=0;e<o.length;e++)if(d.pointerId==o[e].pointerId){o[e]=d;break}if(2===o.length){let r,u,d,s,p=Math.abs(o[0].clientX-o[1].clientX),y=o[0].clientX-o[1].clientX,m=o[0].clientY-o[1].clientY;l.length>0&&(r=l[0].x-l[1].x,u=l[0].y-l[1].y,d=Math.atan((r*m-u*y)/(r*y+u*m)),s=180*d/Math.PI),Math.abs(s)>5&&(e.style.webkitFilter=`brightness(${100+s}%)`,e.style.filter=`brightness(${100+s}%)`,n.innerText=`Яркость ${Math.round(100+s)}%`),console.log(`currentScale: ${a}, curDiff: ${p}, prevDiff: ${i} `),i>0&&(a+=p-i),a>200&&(a=200),a<50&&(a=50),e.style.backgroundSize=`${a}% ${a}% `,e.style.webkitBackgroundSize=`${a}% ${a}% `,t.innerText=`Приближение ${a}%`,i=p,c.push({x:o[0].clientX,y:o[0].clientY}),c.push({x:o[1].clientX,y:o[1].clientY})}1===o.length&&(e.style.backgroundPositionX=`${u}%`,e.style.webkitBackgroudPositionSize=`${u}%`,l.length>0&&(u+=l[0].x-d.clientX),u<0&&(u=0),u>200&&(u=200),r.style.left=`${.75*u+15}px`)}function p(e){console.log(e.type,e),y(e,o),o.length<2&&(i=-1,y(e,c),y(e,l))}function y(e,t){for(let n=0;n<t.length;n++)if(t[n].pointerId==e.pointerId){t.splice(n,1);break}}e.addEventListener("pointerdown",d),e.addEventListener("pointermove",s),e.addEventListener("pointerup",p),e.addEventListener("pointercancel",p),e.addEventListener("pointerout",p),e.addEventListener("pointerleave",p),r.style.left=`${.75*u+15}px`}())})(e.events))}});