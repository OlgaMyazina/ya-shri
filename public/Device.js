!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=64)}([function(t,e,r){"use strict";e.__esModule=!0,e.extend=s,e.indexOf=function(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!a.test(t))return t;return t.replace(n,o)},e.isEmpty=function(t){return!t&&0!==t||!(!d(t)||0!==t.length)},e.createFrame=function(t){var e=s({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},n=/[&<>"'`=]/g,a=/[&<>"'`=]/;function o(t){return i[t]}function s(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t}var l=Object.prototype.toString;e.toString=l;var u=function(t){return"function"==typeof t};u(/x/)&&(e.isFunction=u=function(t){return"function"==typeof t&&"[object Function]"===l.call(t)}),e.isFunction=u;var d=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===l.call(t)};e.isArray=d},function(t,e,r){"use strict";e.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];function n(t,e){var r=e&&e.loc,a=void 0,o=void 0;r&&(t+=" - "+(a=r.start.line)+":"+(o=r.start.column));for(var s=Error.prototype.constructor.call(this,t),l=0;l<i.length;l++)this[i[l]]=s[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{r&&(this.lineNumber=a,Object.defineProperty?Object.defineProperty(this,"column",{value:o,enumerable:!0}):this.column=o)}catch(t){}}n.prototype=new Error,e.default=n,t.exports=e.default},function(t,e,r){t.exports=r(10).default},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r=t[1]||"",i=t[3];if(!i)return r;if(e&&"function"==typeof btoa){var n=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(i),a=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[r].concat(a).concat([n]).join("\n")}return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},n=0;n<this.length;n++){var a=this[n][0];"number"==typeof a&&(i[a]=!0)}for(n=0;n<t.length;n++){var o=t[n];"number"==typeof o[0]&&i[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),e.push(o))}},e}},function(t,e,r){var i={},n=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),a=function(t){var e={};return function(t,r){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,r);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),o=null,s=0,l=[],u=r(9);function d(t,e){for(var r=0;r<t.length;r++){var n=t[r],a=i[n.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](n.parts[o]);for(;o<n.parts.length;o++)a.parts.push(v(n.parts[o],e))}else{var s=[];for(o=0;o<n.parts.length;o++)s.push(v(n.parts[o],e));i[n.id]={id:n.id,refs:1,parts:s}}}}function c(t,e){for(var r=[],i={},n=0;n<t.length;n++){var a=t[n],o=e.base?a[0]+e.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};i[o]?i[o].parts.push(s):r.push(i[o]={id:o,parts:[s]})}return r}function h(t,e){var r=a(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===t.insertAt)i?i.nextSibling?r.insertBefore(e,i.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),l.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=a(t.insertAt.before,r);r.insertBefore(e,n)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function p(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return r.nc}();i&&(t.attrs.nonce=i)}return g(e,t.attrs),h(t,e),e}function g(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function v(t,e){var r,i,n,a;if(e.transform&&t.css){if(!(a="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=a}if(e.singleton){var l=s++;r=o||(o=p(e)),i=y.bind(null,r,l,!1),n=y.bind(null,r,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),h(t,e),e}(e),i=function(t,e,r){var i=r.css,n=r.sourceMap,a=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||a)&&(i=u(i));n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,r,e),n=function(){f(r),r.href&&URL.revokeObjectURL(r.href)}):(r=p(e),i=function(t,e){var r=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),n=function(){f(r)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=n()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=c(t,e);return d(r,e),function(t){for(var n=[],a=0;a<r.length;a++){var o=r[a];(s=i[o.id]).refs--,n.push(s)}t&&d(c(t,e),e);for(a=0;a<n.length;a++){var s;if(0===(s=n[a]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var m=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}();function y(t,e,r,i){var n=r?"":i.css;if(t.styleSheet)t.styleSheet.cssText=m(e,n);else{var a=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}},function(t){t.exports={items:[{url:"index.html",title:"События"},{url:"#",title:"Сводка"},{url:"device.html",title:"Устройства"},{url:"#",title:"Сценарии"}]}},function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=u;var n=r(0),a=i(r(1)),o=r(11),s=r(19),l=i(r(21));e.VERSION="4.0.12";e.COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};function u(t,e,r){this.helpers=t||{},this.partials=e||{},this.decorators=r||{},o.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}u.prototype={constructor:u,logger:l.default,log:l.default.log,registerHelper:function(t,e){if("[object Object]"===n.toString.call(t)){if(e)throw new a.default("Arg not supported with multiple helpers");n.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===n.toString.call(t))n.extend(this.partials,t);else{if(void 0===e)throw new a.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===n.toString.call(t)){if(e)throw new a.default("Arg not supported with multiple decorators");n.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var d=l.default.log;e.log=d,e.createFrame=n.createFrame,e.logger=l.default},function(t,e,r){var i=r(2);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,n){var a,o=null!=e?e:t.nullContext||{},s=r.helperMissing,l="function",u=t.escapeExpression;return"<picture class="+u(typeof(a=null!=(a=r.class||(null!=e?e.class:e))?a:s)===l?a.call(o,{name:"class",hash:{},data:n}):a)+'>\n  <source srcset="'+u(typeof(a=null!=(a=r.sourceSrcset||(null!=e?e.sourceSrcset:e))?a:s)===l?a.call(o,{name:"sourceSrcset",hash:{},data:n}):a)+'" type="image/svg+xml" />\n  <img src="'+u(typeof(a=null!=(a=r.imgSrc||(null!=e?e.imgSrc:e))?a:s)===l?a.call(o,{name:"imgSrc",hash:{},data:n}):a)+'"" srcset="'+u(typeof(a=null!=(a=r.imgSrcset||(null!=e?e.imgSrcset:e))?a:s)===l?a.call(o,{name:"imgSrcset",hash:{},data:n}):a)+'"" alt='+u(typeof(a=null!=(a=r.imgAlt||(null!=e?e.imgAlt:e))?a:s)===l?a.call(o,{name:"imgAlt",hash:{},data:n}):a)+" />\n</picture>"},useData:!0})},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,i=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,a=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(n=0===a.indexOf("//")?a:0===a.indexOf("/")?r+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}e.__esModule=!0;var a=n(r(6)),o=i(r(22)),s=i(r(1)),l=n(r(0)),u=n(r(23)),d=i(r(24));function c(){var t=new a.HandlebarsEnvironment;return l.extend(t,a),t.SafeString=o.default,t.Exception=s.default,t.Utils=l,t.escapeExpression=l.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}var h=c();h.create=c,d.default(h),h.default=h,e.default=h,t.exports=e.default},function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){n.default(t),a.default(t),o.default(t),s.default(t),l.default(t),u.default(t),d.default(t)};var n=i(r(12)),a=i(r(13)),o=i(r(14)),s=i(r(15)),l=i(r(16)),u=i(r(17)),d=i(r(18))},function(t,e,r){"use strict";e.__esModule=!0;var i=r(0);e.default=function(t){t.registerHelper("blockHelperMissing",function(e,r){var n=r.inverse,a=r.fn;if(!0===e)return a(this);if(!1===e||null==e)return n(this);if(i.isArray(e))return e.length>0?(r.ids&&(r.ids=[r.name]),t.helpers.each(e,r)):n(this);if(r.data&&r.ids){var o=i.createFrame(r.data);o.contextPath=i.appendContextPath(r.data.contextPath,r.name),r={data:o}}return a(e,r)})},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var i=r(0),n=function(t){return t&&t.__esModule?t:{default:t}}(r(1));e.default=function(t){t.registerHelper("each",function(t,e){if(!e)throw new n.default("Must pass iterator to #each");var r=e.fn,a=e.inverse,o=0,s="",l=void 0,u=void 0;function d(e,n,a){l&&(l.key=e,l.index=n,l.first=0===n,l.last=!!a,u&&(l.contextPath=u+e)),s+=r(t[e],{data:l,blockParams:i.blockParams([t[e],e],[u+e,null])})}if(e.data&&e.ids&&(u=i.appendContextPath(e.data.contextPath,e.ids[0])+"."),i.isFunction(t)&&(t=t.call(this)),e.data&&(l=i.createFrame(e.data)),t&&"object"==typeof t)if(i.isArray(t))for(var c=t.length;o<c;o++)o in t&&d(o,o,o===t.length-1);else{var h=void 0;for(var f in t)t.hasOwnProperty(f)&&(void 0!==h&&d(h,o-1),h=f,o++);void 0!==h&&d(h,o-1,!0)}return 0===o&&(s=a(this)),s})},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(r(1));e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var i=r(0);e.default=function(t){t.registerHelper("if",function(t,e){return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,r){return t.helpers.if.call(this,e,{fn:r.inverse,inverse:r.fn,hash:r.hash})})},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],r=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)e.push(arguments[i]);var n=1;null!=r.hash.level?n=r.hash.level:r.data&&null!=r.data.level&&(n=r.data.level),e[0]=n,t.log.apply(t,e)})},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var i=r(0);e.default=function(t){t.registerHelper("with",function(t,e){i.isFunction(t)&&(t=t.call(this));var r=e.fn;if(i.isEmpty(t))return e.inverse(this);var n=e.data;return e.data&&e.ids&&((n=i.createFrame(e.data)).contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),r(t,{data:n,blockParams:i.blockParams([t],[n&&n.contextPath])})})},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){i.default(t)};var i=function(t){return t&&t.__esModule?t:{default:t}}(r(20))},function(t,e,r){"use strict";e.__esModule=!0;var i=r(0);e.default=function(t){t.registerDecorator("inline",function(t,e,r,n){var a=t;return e.partials||(e.partials={},a=function(n,a){var o=r.partials;r.partials=i.extend({},o,e.partials);var s=t(n,a);return r.partials=o,s}),e.partials[n.args[0]]=n.fn,a})},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var i=r(0),n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=i.indexOf(n.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=n.lookupLevel(t),"undefined"!=typeof console&&n.lookupLevel(n.level)<=t){var e=n.methodMap[t];console[e]||(e="log");for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];console[e].apply(console,i)}}};e.default=n,t.exports=e.default},function(t,e,r){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e.default=i,t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,r=a.COMPILER_REVISION;if(e!==r){if(e<r){var i=a.REVISION_CHANGES[r],o=a.REVISION_CHANGES[e];throw new n.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+o+").")}throw new n.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){if(!e)throw new n.default("No environment passed to template");if(!t||!t.main)throw new n.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new n.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var r=t.length,i=0;i<r;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:i.escapeExpression,invokePartial:function(r,a,o){o.hash&&(a=i.extend({},a,o.hash),o.ids&&(o.ids[0]=!0));r=e.VM.resolvePartial.call(this,r,a,o);var s=e.VM.invokePartial.call(this,r,a,o);null==s&&e.compile&&(o.partials[o.name]=e.compile(r,t.compilerOptions,e),s=o.partials[o.name](a,o));if(null!=s){if(o.indent){for(var l=s.split("\n"),u=0,d=l.length;u<d&&(l[u]||u+1!==d);u++)l[u]=o.indent+l[u];s=l.join("\n")}return s}throw new n.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var r=t[e];return r.decorator=t[e+"_d"],r},programs:[],program:function(t,e,r,i,n){var a=this.programs[t],s=this.fn(t);return e||n||i||r?a=o(this,t,s,e,r,i,n):a||(a=this.programs[t]=o(this,t,s)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var r=t||e;return t&&e&&t!==e&&(r=i.extend({},e,t)),r},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function s(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=i.data;s._setup(i),!i.partial&&t.useData&&(n=function(t,e){e&&"root"in e||((e=e?a.createFrame(e):{}).root=t);return e}(e,n));var o=void 0,u=t.useBlockParams?[]:void 0;function d(e){return""+t.main(r,e,r.helpers,r.partials,n,u,o)}return t.useDepths&&(o=i.depths?e!=i.depths[0]?[e].concat(i.depths):i.depths:[e]),(d=l(t.main,d,r,i.depths||[],n,u))(e,i)}return s.isTop=!0,s._setup=function(i){i.partial?(r.helpers=i.helpers,r.partials=i.partials,r.decorators=i.decorators):(r.helpers=r.merge(i.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=r.merge(i.decorators,e.decorators)))},s._child=function(e,i,a,s){if(t.useBlockParams&&!a)throw new n.default("must pass block params");if(t.useDepths&&!s)throw new n.default("must pass parent depths");return o(r,e,t[e],i,0,a,s)},s},e.wrapProgram=o,e.resolvePartial=function(t,e,r){t?t.call||r.name||(r.name=t,t=r.partials[t]):t="@partial-block"===r.name?r.data["partial-block"]:r.partials[r.name];return t},e.invokePartial=function(t,e,r){var o=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var l=void 0;r.fn&&r.fn!==s&&function(){r.data=a.createFrame(r.data);var t=r.fn;l=r.data["partial-block"]=function(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return r.data=a.createFrame(r.data),r.data["partial-block"]=o,t(e,r)},t.partials&&(r.partials=i.extend({},r.partials,t.partials))}();void 0===t&&l&&(t=l);if(void 0===t)throw new n.default("The partial "+r.name+" could not be found");if(t instanceof Function)return t(e,r)},e.noop=s;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(0)),n=function(t){return t&&t.__esModule?t:{default:t}}(r(1)),a=r(6);function o(t,e,r,i,n,a,o){function s(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=o;return!o||e==o[0]||e===t.nullContext&&null===o[0]||(s=[e].concat(o)),r(t,e,t.helpers,t.partials,n.data||i,a&&[n.blockParams].concat(a),s)}return(s=l(r,s,t,o,i,a)).program=e,s.depth=o?o.length:0,s.blockParams=n||0,s}function s(){return""}function l(t,e,r,n,a,o){if(t.decorator){var s={};e=t.decorator(e,s,r,n&&n[0],a,o,n),i.extend(e,s)}return e}},function(t,e,r){"use strict";(function(r){e.__esModule=!0,e.default=function(t){var e=void 0!==r?r:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e.default}).call(this,r(25))},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var i=r(27),n=r.n(i);r(38);e.a=n.a},function(t,e,r){var i=r(2);t.exports=(i.default||i).template({1:function(t,e,r,i,n){var a,o=null!=e?e:t.nullContext||{},s=r.helperMissing,l=t.escapeExpression;return'  <li>\n    <a href="'+l("function"==typeof(a=null!=(a=r.url||(null!=e?e.url:e))?a:s)?a.call(o,{name:"url",hash:{},data:n}):a)+'" class="foo-menu-a">\n      '+l("function"==typeof(a=null!=(a=r.title||(null!=e?e.title:e))?a:s)?a.call(o,{name:"title",hash:{},data:n}):a)+"\n    </a>\n  </li>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,r,i,n){var a;return null!=(a=r.each.call(null!=e?e:t.nullContext||{},null!=e?e.items:e,{name:"each",hash:{},fn:t.program(1,n,0),inverse:t.noop,data:n}))?a:""},useData:!0})},function(t,e,r){"use strict";var i=r(29),n=r.n(i);r(43);e.a=n.a},function(t,e,r){var i=r(2);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,a){var o;return'<header class="header">\n    <div class="header__logo header__logo_position"><a href="#" class="logo__logo-href">'+(null!=(o=t.invokePartial(r(7),null!=e?e.logo:e,{name:"../picture/picture",data:a,helpers:i,partials:n,decorators:t.decorators}))?o:"")+'</a></div>\n\n    <label class="header__menu-toggle" for="checkbox_toggle">\n'+(null!=(o=t.invokePartial(r(7),null!=e?e.icon:e,{name:"../picture/picture",data:a,indent:"      ",helpers:i,partials:n,decorators:t.decorators}))?o:"")+'    </label>\n\n    <input type="checkbox" id="checkbox_toggle" class="menu-toggle__checkbox">\n\n    <nav id="nav" class="header__nav">\n      <ul class="nav__nav-list">'+(null!=(o=t.invokePartial(r(42),e,{name:"../nav/nav",data:a,helpers:i,partials:n,decorators:t.decorators}))?o:"")+"</ul>\n    </nav>\n      \n  </header>\n"},usePartial:!0,useData:!0})},function(t){t.exports={items:[{url:"#",title:"Помощь"},{url:"#",title:"Обратная связь"},{url:"#",title:"Разработчикам"},{url:"files/license.pdf",title:"Условия использования"}]}},function(t,e,r){t.exports=r.p+"img/logo@1x.png"},function(t,e,r){t.exports=r.p+"img/logo@2x.png"},function(t,e,r){t.exports=r.p+"img/logo.svg"},function(t,e,r){t.exports=r.p+"img/icon_list_m.png"},function(t,e,r){t.exports=r.p+"img/icon_list_m@2x.png"},function(t,e,r){t.exports=r.p+"img/icon_list_m@1x.svg"},function(t,e,r){"undefined"!=typeof window&&function(e,r){t.exports=r()}(0,function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/dist/",r(r.s=11)}([function(t,e,r){"use strict";r.d(e,"a",function(){return d}),r.d(e,"b",function(){return c});var i=r(4),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function a(){}var o={trace:a,debug:a,log:a,warn:a,info:a,error:a},s=o;var l=Object(i.a)();function u(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];r.forEach(function(e){s[e]=t[e]?t[e].bind(t):function(t){var e=l.console[t];return e?function(){for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];i[0]&&(i[0]=function(t,e){return e="["+t+"] > "+e}(t,i[0])),e.apply(l.console,i)}:a}(e)})}var d=function(t){if(!0===t||"object"===(void 0===t?"undefined":n(t))){u(t,"debug","log","info","warn","error");try{s.log()}catch(t){s=o}}else s=o},c=s},function(t,e,r){"use strict";e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,r){"use strict";r.d(e,"b",function(){return i}),r.d(e,"a",function(){return n});var i={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},n={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var i=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)}},function(t,e,r){"use strict";e.a=function(){return"undefined"==typeof window?self:window}},function(t,e,r){!function(e){var r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/;?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var n=this.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");return n.path=o.normalizePath(n.path),o.buildURLFromParts(n)}var a=this.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):e;var s=this.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=i.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var d=s.path,c=d.substring(0,d.lastIndexOf("/")+1)+a.path;u.path=o.normalizePath(c)}else u.path=s.path,a.params||(u.params=s.params,a.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(u)},parseURL:function(t){var e=r.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(n,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=o}()},function(t,e,r){"use strict";r.d(e,"b",function(){return n});var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,r){for(var i=r,n=0;t.isHeader(e,r);){n+=10,n+=t._readSize(e,r+6),t.isFooter(e,r+10)&&(n+=10),r+=n}if(n>0)return e.subarray(i,i+n)},t._readSize=function(t,e){var r=0;return r=(127&t[e])<<21,r|=(127&t[e+1])<<14,r|=(127&t[e+2])<<7,r|=127&t[e+3]},t.getTimeStamp=function(e){for(var r=t.getID3Frames(e),i=0;i<r.length;i++){var n=r[i];if(t.isTimeStampFrame(n))return t._readTimeStamp(n)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var r=String.fromCharCode(e[0],e[1],e[2],e[3]),i=t._readSize(e,4);return{type:r,size:i,data:e.subarray(10,10+i)}},t.getID3Frames=function(e){for(var r=0,i=[];t.isHeader(e,r);){for(var n=t._readSize(e,r+6),a=(r+=10)+n;r+8<a;){var o=t._getFrameData(e.subarray(r)),s=t._decodeFrame(o);s&&i.push(s),r+=o.size+10}t.isFooter(e,r)&&(r+=10)}return i},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),r=1&e[3],i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,r&&(i+=47721858.84),Math.round(i)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var r=t._utf8ArrayToStr(e.data,!0),i=new Uint8Array(e.data.subarray(r.length+1));return{key:e.type,info:r,data:i.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var r=1,i=t._utf8ArrayToStr(e.data.subarray(r));r+=i.length+1;var n=t._utf8ArrayToStr(e.data.subarray(r));return{key:e.type,info:i,data:n}}var a=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:a}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var r=1,i=t._utf8ArrayToStr(e.data.subarray(r));r+=i.length+1;var n=t._utf8ArrayToStr(e.data.subarray(r));return{key:e.type,info:i,data:n}}var a=t._utf8ArrayToStr(e.data);return{key:e.type,data:a}},t._utf8ArrayToStr=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.length,i=void 0,n=void 0,a=void 0,o="",s=0;s<r;){if(0===(i=t[s++])&&e)return o;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:n=t[s++],o+=String.fromCharCode((31&i)<<6|63&n);break;case 14:n=t[s++],a=t[s++],o+=String.fromCharCode((15&i)<<12|(63&n)<<6|(63&a)<<0)}}return o},t}(),n=i._utf8ArrayToStr;e.a=i},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function n(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,o,s,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var d=new Error('Uncaught, unspecified "error" event. ('+e+")");throw d.context=e,d}if(a(r=this._events[t]))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(n(r))for(s=Array.prototype.slice.call(arguments,1),o=(u=r.slice()).length,l=0;l<o;l++)u[l].apply(this,s);return!0},r.prototype.addListener=function(t,e){var o;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?n(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,n(this._events[t])&&!this._events[t].warned&&(o=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var r,a,o,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(r=this._events[t]).length,a=-1,r===e||i(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(n(r)){for(s=o;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){a=s;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){"use strict";var i=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subtle=e,this.aesIV=r}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}();var n=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subtle=e,this.key=r}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}();var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),r=new Uint32Array(4),i=0;i<4;i++)r[i]=e.getUint32(4*i);return r},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,r=this.subMix,i=r[0],n=r[1],a=r[2],o=r[3],s=this.invSubMix,l=s[0],u=s[1],d=s[2],c=s[3],h=new Uint32Array(256),f=0,p=0,g=0;for(g=0;g<256;g++)h[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,t[f]=v,e[v]=f;var m=h[f],y=h[m],b=h[y],E=257*h[v]^16843008*v;i[f]=E<<24|E>>>8,n[f]=E<<16|E>>>16,a[f]=E<<8|E>>>24,o[f]=E,E=16843009*b^65537*y^257*m^16843008*f,l[v]=E<<24|E>>>8,u[v]=E<<16|E>>>16,d[v]=E<<8|E>>>24,c[v]=E,f?(f=m^h[h[h[b^m]]],p^=h[h[p]]):f=p=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),r=!0,i=0;i<e.length&&r;)r=e[i]===this.key[i],i++;if(!r){this.key=e;var n=this.keySize=e.length;if(4!==n&&6!==n&&8!==n)throw new Error("Invalid aes key size="+n);var a=this.ksRows=4*(n+6+1),o=void 0,s=void 0,l=this.keySchedule=new Uint32Array(a),u=this.invKeySchedule=new Uint32Array(a),d=this.sBox,c=this.rcon,h=this.invSubMix,f=h[0],p=h[1],g=h[2],v=h[3],m=void 0,y=void 0;for(o=0;o<a;o++)o<n?m=l[o]=e[o]:(y=m,o%n==0?(y=d[(y=y<<8|y>>>24)>>>24]<<24|d[y>>>16&255]<<16|d[y>>>8&255]<<8|d[255&y],y^=c[o/n|0]<<24):n>6&&o%n==4&&(y=d[y>>>24]<<24|d[y>>>16&255]<<16|d[y>>>8&255]<<8|d[255&y]),l[o]=m=(l[o-n]^y)>>>0);for(s=0;s<a;s++)o=a-s,y=3&s?l[o]:l[o-4],u[s]=s<4||o<=4?y:f[d[y>>>24]]^p[d[y>>>16&255]]^g[d[y>>>8&255]]^v[d[255&y]],u[s]=u[s]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,r,i){for(var n=this.keySize+6,a=this.invKeySchedule,o=this.invSBox,s=this.invSubMix,l=s[0],u=s[1],d=s[2],c=s[3],h=this.uint8ArrayToUint32Array_(r),f=h[0],p=h[1],g=h[2],v=h[3],m=new Int32Array(t),y=new Int32Array(m.length),b=void 0,E=void 0,T=void 0,S=void 0,_=void 0,A=void 0,R=void 0,w=void 0,L=void 0,D=void 0,k=void 0,I=void 0,O=void 0,x=void 0,C=this.networkToHostOrderSwap;e<m.length;){for(L=C(m[e]),D=C(m[e+1]),k=C(m[e+2]),I=C(m[e+3]),_=L^a[0],A=I^a[1],R=k^a[2],w=D^a[3],O=4,x=1;x<n;x++)b=l[_>>>24]^u[A>>16&255]^d[R>>8&255]^c[255&w]^a[O],E=l[A>>>24]^u[R>>16&255]^d[w>>8&255]^c[255&_]^a[O+1],T=l[R>>>24]^u[w>>16&255]^d[_>>8&255]^c[255&A]^a[O+2],S=l[w>>>24]^u[_>>16&255]^d[A>>8&255]^c[255&R]^a[O+3],_=b,A=E,R=T,w=S,O+=4;b=o[_>>>24]<<24^o[A>>16&255]<<16^o[R>>8&255]<<8^o[255&w]^a[O],E=o[A>>>24]<<24^o[R>>16&255]<<16^o[w>>8&255]<<8^o[255&_]^a[O+1],T=o[R>>>24]<<24^o[w>>16&255]<<16^o[_>>8&255]<<8^o[255&A]^a[O+2],S=o[w>>>24]<<24^o[_>>16&255]<<16^o[A>>8&255]<<8^o[255&R]^a[O+3],O+=3,y[e]=C(b^f),y[e+1]=C(S^p),y[e+2]=C(T^g),y[e+3]=C(E^v),f=L,p=D,g=k,v=I,e+=4}return i?function(t){var e=t.byteLength,r=e&&new DataView(t).getUint8(e-1);return r?t.slice(0,e-r):t}(y.buffer):y.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),o=r(2),s=r(0),l=r(1),u=r(4);var d=Object(u.a)(),c=function(){function t(e,r){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).removePKCS7Padding,n=void 0===i||i;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.logEnabled=!0,this.observer=e,this.config=r,this.removePKCS7Padding=n,n)try{var a=d.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(t){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,r,o){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.b.log("JS AES decrypt"),this.logEnabled=!1);var u=this.decryptor;u||(this.decryptor=u=new a),u.expandKey(e),o(u.decrypt(t,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(s.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var d=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new n(d,e)),this.fastAesKey.expandKey().then(function(n){new i(d,r).decrypt(t,n).catch(function(i){l.onWebCryptoError(i,t,e,r,o)}).then(function(t){o(t)})}).catch(function(i){l.onWebCryptoError(i,t,e,r,o)})}},t.prototype.onWebCryptoError=function(t,e,r,i,n){this.config.enableSoftwareAES?(s.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,r,i,n)):(s.b.error("decrypting error : "+t.message),this.observer.trigger(l.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.a=c},function(t,e,r){"use strict";var i=r(0),n=r(1);var a=Math.pow(2,32)-1,o=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.remuxer=r}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,r,i,a){if(e&&e.byteLength){var o=this.initData=t.parseInitSegment(e);null==r&&(r="mp4a.40.5"),null==i&&(i="avc1.42e01e");var s={};o.audio&&o.video?s.audiovideo={container:"video/mp4",codec:r+","+i,initSegment:a?e:null}:(o.audio&&(s.audio={container:"audio/mp4",codec:r,initSegment:a?e:null}),o.video&&(s.video={container:"video/mp4",codec:i,initSegment:a?e:null})),this.observer.trigger(n.a.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else r&&(this.audioCodec=r),i&&(this.videoCodec=i)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var r=t[e]<<8|t[e+1];return r<0?65536+r:r},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var r=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return r<0?4294967296+r:r},t.writeUint32=function(t,e,r){t.data&&(e+=t.start,t=t.data),t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r},t.findBox=function(e,r){var i=[],n=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,d=void 0;if(e.data?(u=e.start,s=e.end,e=e.data):(u=0,s=e.byteLength),!r.length)return null;for(n=u;n<s;)a=t.readUint32(e,n),o=t.bin2str(e.subarray(n+4,n+8)),d=a>1?n+a:s,o===r[0]&&(1===r.length?i.push({data:e,start:n+8,end:d}):(l=t.findBox({data:e,start:n+8,end:d},r.slice(1))).length&&(i=i.concat(l))),n=d;return i},t.parseSegmentIndex=function(e){var r=t.findBox(e,["moov"])[0],i=r?r.end:null,n=0,a=t.findBox(e,["sidx"]),o=void 0;if(!a||!a[0])return null;o=[];var s=(a=a[0]).data[0];n=0===s?8:16;var l=t.readUint32(a,n);n+=4;n+=0===s?8:16,n+=2;var u=a.end+0,d=t.readUint16(a,n);n+=2;for(var c=0;c<d;c++){var h=n,f=t.readUint32(a,h);h+=4;var p=2147483647&f;if(1===(2147483648&f)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=t.readUint32(a,h);h+=4,o.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/l,start:u,end:u+p-1}}),u+=p,n=h+=4}return{earliestPresentationTime:0,timescale:l,version:s,referencesCount:d,references:o,moovEndOffset:i}},t.parseInitSegment=function(e){var r=[];return t.findBox(e,["moov","trak"]).forEach(function(e){var n=t.findBox(e,["tkhd"])[0];if(n){var a=n.data[n.start],o=0===a?12:20,s=t.readUint32(n,o),l=t.findBox(e,["mdia","mdhd"])[0];if(l){o=0===(a=l.data[l.start])?12:20;var u=t.readUint32(l,o),d=t.findBox(e,["mdia","hdlr"])[0];if(d){var c={soun:"audio",vide:"video"}[t.bin2str(d.data.subarray(d.start+8,d.start+12))];if(c){var h=t.findBox(e,["mdia","minf","stbl","stsd"]);if(h.length){h=h[0];var f=t.bin2str(h.data.subarray(h.start+12,h.start+16));i.b.log("MP4Demuxer:"+c+":"+f+" found")}r[s]={timescale:u,type:c},r[c]={timescale:u,id:s}}}}}}),r},t.getStartDTS=function(e,r){var i,n,a=void 0;return a=t.findBox(r,["moof","traf"]),i=[].concat.apply([],a.map(function(r){return t.findBox(r,["tfhd"]).map(function(i){var n,a;return n=t.readUint32(i,4),a=e[n].timescale||9e4,t.findBox(r,["tfdt"]).map(function(e){var r,i=void 0;return r=e.data[e.start],i=t.readUint32(e,4),1===r&&(i*=Math.pow(2,32),i+=t.readUint32(e,8)),i})[0]/a})})),n=Math.min.apply(null,i),isFinite(n)?n:0},t.offsetStartDTS=function(e,r,i){t.findBox(r,["moof","traf"]).map(function(r){return t.findBox(r,["tfhd"]).map(function(n){var o=t.readUint32(n,4),s=e[o].timescale||9e4;t.findBox(r,["tfdt"]).map(function(e){var r=e.data[e.start],n=t.readUint32(e,4);if(0===r)t.writeUint32(e,4,n-i*s);else{n*=Math.pow(2,32),n+=t.readUint32(e,8),n-=i*s,n=Math.max(n,0);var o=Math.floor(n/(a+1)),l=Math.floor(n%(a+1));t.writeUint32(e,4,o),t.writeUint32(e,8,l)}})})})},t.prototype.append=function(e,r,i,a){var o=this.initData;o||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),o=this.initData);var s,l=this.initPTS;if(void 0===l){var u=t.getStartDTS(o,e);this.initPTS=l=u-r,this.observer.trigger(n.a.INIT_PTS_FOUND,{initPTS:l})}t.offsetStartDTS(o,e,l),s=t.getStartDTS(o,e),this.remuxer.remux(o.audio,o.video,null,null,s,i,a,e)},t.prototype.destroy=function(){},t}();e.a=o},function(t,e,r){"use strict";var i=r(1),n=r(2),a=r(8),o=r(3),s=r(0),l=r(4);function u(t,e){return 255===t[e]&&240==(246&t[e+1])}function d(t,e){return 1&t[e+1]?7:9}function c(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function h(t,e){return!!(e+1<t.length&&u(t,e))}function f(t,e){if(e+1<t.length&&u(t,e)){var r=d(t,e);e+5<t.length&&(r=c(t,e));var i=e+r;if(i===t.length||i+1<t.length&&u(t,i))return!0}return!1}function p(t,e,r,a,o){if(!t.samplerate){var l=function(t,e,r,a){var o,l=void 0,u=void 0,d=void 0,c=void 0,h=navigator.userAgent.toLowerCase(),f=a,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(l=1+((192&e[r+2])>>>6),!((o=(60&e[r+2])>>>2)>p.length-1))return d=(1&e[r+2])<<2,d|=(192&e[r+3])>>>6,s.b.log("manifest codec:"+a+",ADTS data:type:"+l+",sampleingIndex:"+o+"["+p[o]+"Hz],channelConfig:"+d),/firefox/i.test(h)?o>=6?(l=5,c=new Array(4),u=o-3):(l=2,c=new Array(2),u=o):-1!==h.indexOf("android")?(l=2,c=new Array(2),u=o):(l=5,c=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&o>=6?u=o-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(o>=6&&1===d||/vivaldi/i.test(h))||!a&&1===d)&&(l=2,c=new Array(2)),u=o)),c[0]=l<<3,c[0]|=(14&o)>>1,c[1]|=(1&o)<<7,c[1]|=d<<3,5===l&&(c[1]|=(14&u)>>1,c[2]=(1&u)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:p[o],channelCount:d,codec:"mp4a.40."+l,manifestCodec:f};t.trigger(i.a.ERROR,{type:n.b.MEDIA_ERROR,details:n.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+o})}(e,r,a,o);t.config=l.config,t.samplerate=l.samplerate,t.channelCount=l.channelCount,t.codec=l.codec,t.manifestCodec=l.manifestCodec,s.b.log("parsed codec:"+t.codec+",rate:"+l.samplerate+",nb channel:"+l.channelCount)}}function g(t){return 9216e4/t}function v(t,e,r,i,n){var a=function(t,e,r,i,n){var a,o=void 0,s=t.length;if(a=d(t,e),o=c(t,e),(o-=a)>0&&e+a+o<=s)return{headerLength:a,frameLength:o,stamp:r+i*n}}(e,r,i,n,g(t.samplerate));if(a){var o=a.stamp,s=a.headerLength,l=a.frameLength,u={unit:e.subarray(r+s,r+s+l),pts:o,dts:o};return t.samples.push(u),t.len+=l,{sample:u,length:l+s}}}var m=r(6);var y=function(){function t(e,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.config=i,this.remuxer=r}return t.prototype.resetInitSegment=function(t,e,r,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=(m.a.getID3Data(t,0)||[]).length,r=t.length;e<r;e++)if(f(t,e))return s.b.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,e,r,i){for(var n=this._audioTrack,a=m.a.getID3Data(t,0)||[],l=m.a.getTimeStamp(a),u=Object(o.a)(l)?90*l:9e4*e,d=0,c=u,f=t.length,g=a.length,y=[{pts:c,dts:c,data:a}];g<f-1;)if(h(t,g)&&g+5<f){p(n,this.observer,t,g,n.manifestCodec);var b=v(n,t,g,u,d);if(!b){s.b.log("Unable to parse AAC frame");break}g+=b.length,c=b.sample.pts,d++}else m.a.isHeader(t,g)?(a=m.a.getID3Data(t,g),y.push({pts:c,dts:c,data:a}),g+=a.length):g++;this.remuxer.remux(n,{samples:[]},{samples:y,inputTimeScale:9e4},{samples:[]},e,r,i)},t.prototype.destroy=function(){},t}(),b=r(9),E={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,r,i,n){if(!(r+24>e.length)){var a=this.parseHeader(e,r);if(a&&r+a.frameLength<=e.length){var o=i+n*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:e.subarray(r,r+a.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(s),t.len+=a.frameLength,{sample:s,length:a.frameLength}}}},parseHeader:function(t,e){var r=t[e+1]>>3&3,i=t[e+1]>>1&3,n=t[e+2]>>4&15,a=t[e+2]>>2&3,o=t[e+2]>>1&1;if(1!==r&&0!==n&&15!==n&&3!==a){var s=3===r?3-i:3===i?3:4,l=1e3*E.BitratesMap[14*s+n-1],u=3===r?0:2===r?1:2,d=E.SamplingRateMap[3*u+a],c=t[e+3]>>6==3?1:2,h=E.SamplesCoefficients[r][i],f=E.BytesInSlot[i],p=8*h*f;return{sampleRate:d,channelCount:c,frameLength:parseInt(h*l/d+o,10)*f,samplesPerFrame:p}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var r=this.parseHeader(t,e),i=4;r&&r.frameLength&&(i=r.frameLength);var n=e+i;if(n===t.length||n+1<t.length&&this.isHeaderPattern(t,n))return!0}return!1}},T=E;var S=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,r=t.byteLength-e,i=new Uint8Array(4),n=Math.min(4,e);if(0===n)throw new Error("no bytes available");i.set(t.subarray(r,r+n)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*n,this.bytesAvailable-=n},t.prototype.skipBits=function(t){var e=void 0;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),r=this.word>>>32-e;return t>32&&s.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?r<<e|this.readBits(e):r},t.prototype.skipLZ=function(){var t=void 0;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e=8,r=8,i=void 0;for(i=0;i<t;i++)0!==r&&(r=(e+this.readEG()+256)%256),e=0===r?e:r},t.prototype.readSPS=function(){var t,e,r,i,n=0,a=0,o=0,s=0,l=void 0,u=void 0,d=void 0,c=this.readUByte.bind(this),h=this.readBits.bind(this),f=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),m=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(c(),t=c(),h(5),g(3),c(),m(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=f();if(3===b&&g(1),m(),m(),g(1),p())for(u=3!==b?8:12,d=0;d<u;d++)p()&&y(d<6?16:64)}m();var E=f();if(0===E)f();else if(1===E)for(g(1),v(),v(),l=f(),d=0;d<l;d++)v();m(),g(1),e=f(),r=f(),0===(i=h(1))&&g(1),g(1),p()&&(n=f(),a=f(),o=f(),s=f());var T=[1,1];if(p()&&p())switch(c()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[c()<<8|c(),c()<<8|c()]}return{width:Math.ceil(16*(e+1)-2*n-2*a),height:(2-i)*(r+1)*16-(i?2:4)*(o+s),pixelRatio:T}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}();var _=function(){function t(e,r,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.decryptdata=i,this.discardEPB=n,this.decrypter=new a.a(e,r,{removePKCS7Padding:!1})}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,r,i){var n=t[e].unit,a=n.subarray(16,n.length-n.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,function(a){a=new Uint8Array(a),n.set(a,16),i||s.decryptAacSamples(t,e+1,r)})},t.prototype.decryptAacSamples=function(t,e,r){for(;;e++){if(e>=t.length)return void r();if(!(t[e].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(t,e,r,i),!i)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,r=new Int8Array(e),i=0,n=32;n<=t.length-16;n+=160,i+=16)r.set(t.subarray(n,n+16),i);return r},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var r=0,i=32;i<=t.length-16;i+=160,r+=16)t.set(e.subarray(r,r+16),i);return t},t.prototype.decryptAvcSample=function(t,e,r,i,n,a){var o=this.discardEPB(n.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,function(s){n.data=l.getAvcDecryptedUnit(o,s),a||l.decryptAvcSamples(t,e,r+1,i)})},t.prototype.decryptAvcSamples=function(t,e,r,i){for(;;e++,r=0){if(e>=t.length)return void i();for(var n=t[e].units;!(r>=n.length);r++){var a=n[r];if(!(a.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(t,e,r,i,a,o),!o)return}}}},t}();var A={video:1,audio:2,id3:3,text:4},R=function(){function t(e,r,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.config=i,this.typeSupported=n,this.remuxer=r,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new _(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var r=t._syncOffset(e);return!(r<0)&&(r&&s.b.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),!0)},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),r=0;r<e;){if(71===t[r]&&71===t[r+188]&&71===t[r+376])return r;r++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:A[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},t.prototype.resetInitSegment=function(e,r,i,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",n),this._audioTrack=t.createTrack("audio",n),this._id3Track=t.createTrack("id3",n),this._txtTrack=t.createTrack("text",n),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=i,this._duration=n},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(e,r,a,o){var l=void 0,u=e.length,d=void 0,c=void 0,h=void 0,f=void 0,p=!1;this.contiguous=a;var g=this.pmtParsed,v=this._avcTrack,m=this._audioTrack,y=this._id3Track,b=v.pid,E=m.pid,T=y.pid,S=this._pmtId,_=v.pesData,A=m.pesData,R=y.pesData,w=this._parsePAT,L=this._parsePMT,D=this._parsePES,k=this._parseAVCPES.bind(this),I=this._parseAACPES.bind(this),O=this._parseMPEGPES.bind(this),x=this._parseID3PES.bind(this),C=t._syncOffset(e);for(u-=(u+C)%188,l=C;l<u;l+=188)if(71===e[l]){if(d=!!(64&e[l+1]),c=((31&e[l+1])<<8)+e[l+2],(48&e[l+3])>>4>1){if((h=l+5+e[l+4])===l+188)continue}else h=l+4;switch(c){case b:d&&(_&&(f=D(_))&&void 0!==f.pts&&k(f,!1),_={data:[],size:0}),_&&(_.data.push(e.subarray(h,l+188)),_.size+=l+188-h);break;case E:d&&(A&&(f=D(A))&&void 0!==f.pts&&(m.isAAC?I(f):O(f)),A={data:[],size:0}),A&&(A.data.push(e.subarray(h,l+188)),A.size+=l+188-h);break;case T:d&&(R&&(f=D(R))&&void 0!==f.pts&&x(f),R={data:[],size:0}),R&&(R.data.push(e.subarray(h,l+188)),R.size+=l+188-h);break;case 0:d&&(h+=e[h]+1),S=this._pmtId=w(e,h);break;case S:d&&(h+=e[h]+1);var P=L(e,h,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=P.avc)>0&&(v.pid=b),(E=P.audio)>0&&(m.pid=E,m.isAAC=P.isAAC),(T=P.id3)>0&&(y.pid=T),p&&!g&&(s.b.log("reparse from beginning"),p=!1,l=C-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(i.a.ERROR,{type:n.b.MEDIA_ERROR,details:n.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});_&&(f=D(_))&&void 0!==f.pts?(k(f,!0),v.pesData=null):v.pesData=_,A&&(f=D(A))&&void 0!==f.pts?(m.isAAC?I(f):O(f),m.pesData=null):(A&&A.size&&s.b.log("last AAC PES packet truncated,might overlap between fragments"),m.pesData=A),R&&(f=D(R))&&void 0!==f.pts?(x(f),y.pesData=null):y.pesData=R,null==this.sampleAes?this.remuxer.remux(m,v,y,this._txtTrack,r,a,o):this.decryptAndRemux(m,v,y,this._txtTrack,r,a,o)},t.prototype.decryptAndRemux=function(t,e,r,i,n,a,o){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){s.decryptAndRemuxAvc(t,e,r,i,n,a,o)})}else this.decryptAndRemuxAvc(t,e,r,i,n,a,o)},t.prototype.decryptAndRemuxAvc=function(t,e,r,i,n,a,o){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){s.remuxer.remux(t,e,r,i,n,a,o)})}else this.remuxer.remux(t,e,r,i,n,a,o)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,r,i){var n,a=void 0,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(n=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<n;){switch(a=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!i){s.b.log("unkown stream type:"+t[e]);break}case 15:-1===o.audio&&(o.audio=a);break;case 21:-1===o.id3&&(o.id3=a);break;case 219:if(!i){s.b.log("unkown stream type:"+t[e]);break}case 27:-1===o.avc&&(o.avc=a);break;case 3:case 4:r?-1===o.audio&&(o.audio=a,o.isAAC=!1):s.b.log("MPEG audio found, not supported in this browser for now");break;case 36:s.b.warn("HEVC stream type found, not supported for now");break;default:s.b.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return o},t.prototype._parsePES=function(t){var e=0,r=void 0,i=void 0,n=void 0,a=void 0,o=void 0,l=void 0,u=void 0,d=void 0,c=t.data;if(!t||0===t.size)return null;for(;c[0].length<19&&c.length>1;){var h=new Uint8Array(c[0].length+c[1].length);h.set(c[0]),h.set(c[1],c[0].length),c[0]=h,c.splice(1,1)}if(1===((r=c[0])[0]<<16)+(r[1]<<8)+r[2]){if((n=(r[4]<<8)+r[5])&&n>t.size-6)return null;192&(i=r[7])&&((l=536870912*(14&r[9])+4194304*(255&r[10])+16384*(254&r[11])+128*(255&r[12])+(254&r[13])/2)>4294967295&&(l-=8589934592),64&i?((u=536870912*(14&r[14])+4194304*(255&r[15])+16384*(254&r[16])+128*(255&r[17])+(254&r[18])/2)>4294967295&&(u-=8589934592),l-u>54e5&&(s.b.warn(Math.round((l-u)/9e4)+"s delta between PTS and DTS, align them"),l=u)):u=l),d=(a=r[8])+9,t.size-=d,o=new Uint8Array(t.size);for(var f=0,p=c.length;f<p;f++){var g=(r=c[f]).byteLength;if(d){if(d>g){d-=g;continue}r=r.subarray(d),g-=d,d=0}o.set(r,e),e+=g}return n&&(n-=a+3),{data:o,pts:l,dts:u,len:n}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var r=e.samples,i=r.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(i||this.contiguous)?(t.id=i,r.push(t)):e.dropped++}t.debug.length&&s.b.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var r=this,i=this._avcTrack,n=this._parseAVCNALu(t.data),a=void 0,o=this.avcSample,s=void 0,l=!1,u=void 0,d=this.pushAccesUnit.bind(this),c=function(t,e,r,i){return{key:t,pts:e,dts:r,units:[],debug:i}};t.data=null,o&&n.length&&!i.audFound&&(d(o,i),o=this.avcSample=c(!1,t.pts,t.dts,"")),n.forEach(function(e){switch(e.type){case 1:s=!0,o||(o=r.avcSample=c(!0,t.pts,t.dts,"")),o.frame=!0;var n=e.data;if(l&&n.length>4){var h=new S(n).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(o.key=!0)}break;case 5:s=!0,o||(o=r.avcSample=c(!0,t.pts,t.dts,"")),o.key=!0,o.frame=!0;break;case 6:s=!0,(a=new S(r.discardEPB(e.data))).readUByte();for(var f=0,p=0,g=!1,v=0;!g&&a.bytesAvailable>1;){f=0;do{f+=v=a.readUByte()}while(255===v);p=0;do{p+=v=a.readUByte()}while(255===v);if(4===f&&0!==a.bytesAvailable){if(g=!0,181===a.readUByte())if(49===a.readUShort())if(1195456820===a.readUInt())if(3===a.readUByte()){var m=a.readUByte(),y=31&m,b=[m,a.readUByte()];for(u=0;u<y;u++)b.push(a.readUByte()),b.push(a.readUByte()),b.push(a.readUByte());r._insertSampleInOrder(r._txtTrack.samples,{type:3,pts:t.pts,bytes:b})}}else if(p<a.bytesAvailable)for(u=0;u<p;u++)a.readUByte()}break;case 7:if(s=!0,l=!0,!i.sps){var E=(a=new S(e.data)).readSPS();i.width=E.width,i.height=E.height,i.pixelRatio=E.pixelRatio,i.sps=[e.data],i.duration=r._duration;var T=e.data.subarray(1,4),_="avc1.";for(u=0;u<3;u++){var A=T[u].toString(16);A.length<2&&(A="0"+A),_+=A}i.codec=_}break;case 8:s=!0,i.pps||(i.pps=[e.data]);break;case 9:s=!1,i.audFound=!0,o&&d(o,i),o=r.avcSample=c(!1,t.pts,t.dts,"");break;case 12:s=!1;break;default:s=!1,o&&(o.debug+="unknown NAL "+e.type+" ")}o&&s&&o.units.push(e)}),e&&o&&(d(o,i),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var r=t.length;if(r>0){if(e.pts>=t[r-1].pts)t.push(e);else for(var i=r-1;i>=0;i--)if(e.pts<t[i].pts){t.splice(i,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t=this.avcSample,e=void 0;if(!t||0===t.units.length){var r=this._avcTrack.samples;t=r[r.length-1]}if(t){var i=t.units;e=i[i.length-1]}return e},t.prototype._parseAVCNALu=function(t){var e=0,r=t.byteLength,i=void 0,n=void 0,a=this._avcTrack,o=a.naluState||0,s=o,l=[],u=void 0,d=-1,c=void 0;for(-1===o&&(d=0,c=31&t[0],o=0,e=1);e<r;)if(i=t[e++],o)if(1!==o)if(i)if(1===i){if(d>=0)u={data:t.subarray(d,e-o-1),type:c},l.push(u);else{var h=this._getLastNalUnit();if(h&&(s&&e<=4-s&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-s)),(n=e-o-1)>0)){var f=new Uint8Array(h.data.byteLength+n);f.set(h.data,0),f.set(t.subarray(0,n),h.data.byteLength),h.data=f}}e<r?(d=e,c=31&t[e],o=0):o=-1}else o=0;else o=3;else o=i?0:2;else o=i?0:1;if(d>=0&&o>=0&&(u={data:t.subarray(d,r),type:c,state:o},l.push(u)),0===l.length){var p=this._getLastNalUnit();if(p){var g=new Uint8Array(p.data.byteLength+t.byteLength);g.set(p.data,0),g.set(t,p.data.byteLength),p.data=g}}return a.naluState=o,l},t.prototype.discardEPB=function(t){for(var e,r=t.byteLength,i=[],n=1,a=void 0;n<r-2;)0===t[n]&&0===t[n+1]&&3===t[n+2]?(i.push(n+2),n+=2):n++;if(0===i.length)return t;e=r-i.length,a=new Uint8Array(e);var o=0;for(n=0;n<e;o++,n++)o===i[0]&&(o++,i.shift()),a[n]=t[o];return a},t.prototype._parseAACPES=function(t){var e,r,a=this._audioTrack,o=t.data,l=t.pts,u=this.aacOverFlow,d=this.aacLastPTS,c=void 0,f=void 0,m=void 0;if(u){var y=new Uint8Array(u.byteLength+o.byteLength);y.set(u,0),y.set(o,u.byteLength),o=y}for(f=0,r=o.length;f<r-1&&!h(o,f);f++);if(f){var b=void 0,E=void 0;if(f<r-1?(b="AAC PES did not start with ADTS header,offset:"+f,E=!1):(b="no ADTS header found in AAC PES",E=!0),s.b.warn("parsing error:"+b),this.observer.trigger(i.a.ERROR,{type:n.b.MEDIA_ERROR,details:n.a.FRAG_PARSING_ERROR,fatal:E,reason:b}),E)return}if(p(a,this.observer,o,f,this.audioCodec),c=0,e=g(a.samplerate),u&&d){var T=d+e;Math.abs(T-l)>1&&(s.b.log("AAC: align PTS for overlapping frames by "+Math.round((T-l)/90)),l=T)}for(;f<r;)if(h(o,f)&&f+5<r){var S=v(a,o,f,l,c);if(!S)break;f+=S.length,m=S.sample.pts,c++}else f++;u=f<r?o.subarray(f,r):null,this.aacOverFlow=u,this.aacLastPTS=m},t.prototype._parseMPEGPES=function(t){for(var e=t.data,r=e.length,i=0,n=0,a=t.pts;n<r;)if(T.isHeader(e,n)){var o=T.appendFrame(this._audioTrack,e,n,a,i);if(!o)break;n+=o.length,i++}else n++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}();var w=function(){function t(e,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.config=i,this.remuxer=r}return t.prototype.resetInitSegment=function(t,e,r,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e=void 0,r=void 0,i=m.a.getID3Data(t,0);if(i&&void 0!==m.a.getTimeStamp(i))for(e=i.length,r=Math.min(t.length-1,e+100);e<r;e++)if(T.probe(t,e))return s.b.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,r,i){for(var n=m.a.getID3Data(t,0),a=m.a.getTimeStamp(n),o=a?90*a:9e4*e,s=n.length,l=t.length,u=0,d=0,c=this._audioTrack,h=[{pts:o,dts:o,data:n}];s<l;)if(T.isHeader(t,s)){var f=T.appendFrame(c,t,s,o,u);if(!f)break;s+=f.length,d=f.sample.pts,u++}else m.a.isHeader(t,s)?(n=m.a.getID3Data(t,s),h.push({pts:d,dts:d,data:n}),s+=n.length):s++;this.remuxer.remux(c,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},e,r,i)},t.prototype.destroy=function(){},t}();var L=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}();var D=Math.pow(2,32)-1,k=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.init=function(){t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var e=void 0;for(e in t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:r,audio:i};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=a,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,o,l,o,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,n))},t.box=function(t){for(var e=Array.prototype.slice.call(arguments,1),r=8,i=e.length,n=i,a=void 0;i--;)r+=e[i].byteLength;for((a=new Uint8Array(r))[0]=r>>24&255,a[1]=r>>16&255,a[2]=r>>8&255,a[3]=255&r,a.set(t,4),i=0,r=8;i<n;i++)a.set(e[i],r),r+=e[i].byteLength;return a},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,r){r*=e;var i=Math.floor(r/(D+1)),n=Math.floor(r%(D+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,r,i){return t.box(t.types.moof,t.mfhd(e),t.traf(i,r))},t.moov=function(e){for(var r=e.length,i=[];r--;)i[r]=t.trak(e[r]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(t.mvex(e)))},t.mvex=function(e){for(var r=e.length,i=[];r--;)i[r]=t.trex(e[r]);return t.box.apply(null,[t.types.mvex].concat(i))},t.mvhd=function(e,r){r*=e;var i=Math.floor(r/(D+1)),n=Math.floor(r%(D+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,n>>24,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var r=e.samples||[],i=new Uint8Array(4+r.length),n=void 0,a=void 0;for(a=0;a<r.length;a++)n=r[a].flags,i[a+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,i)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var r=[],i=[],n=void 0,a=void 0,o=void 0;for(n=0;n<e.sps.length;n++)o=(a=e.sps[n]).byteLength,r.push(o>>>8&255),r.push(255&o),r=r.concat(Array.prototype.slice.call(a));for(n=0;n<e.pps.length;n++)o=(a=e.pps[n]).byteLength,i.push(o>>>8&255),i.push(255&o),i=i.concat(Array.prototype.slice.call(a));var s=t.box(t.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|e.sps.length].concat(r).concat([e.pps.length]).concat(i))),l=e.width,u=e.height,d=e.pixelRatio[0],c=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,255&d,c>>24,c>>16&255,c>>8&255,255&c])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var r=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var r=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var r=e.id,i=e.duration*e.timescale,n=e.width,a=e.height,o=Math.floor(i/(D+1)),s=Math.floor(i%(D+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,255&n,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,r){var i=t.sdtp(e),n=e.id,a=Math.floor(r/(D+1)),o=Math.floor(r%(D+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var r=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,r){var i=e.samples||[],n=i.length,a=12+16*n,o=new Uint8Array(a),s=void 0,l=void 0,u=void 0,d=void 0,c=void 0,h=void 0;for(r+=8+a,o.set([0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),s=0;s<n;s++)u=(l=i[s]).duration,d=l.size,c=l.flags,h=l.cts,o.set([u>>>24&255,u>>>16&255,u>>>8&255,255&u,d>>>24&255,d>>>16&255,d>>>8&255,255&d,c.isLeading<<2|c.dependsOn,c.isDependedOn<<6|c.hasRedundancy<<4|c.paddingValue<<1|c.isNonSync,61440&c.degradPrio,15&c.degradPrio,h>>>24&255,h>>>16&255,h>>>8&255,255&h],12+16*s);return t.box(t.types.trun,o)},t.initSegment=function(e){t.types||t.init();var r=t.moov(e),i=void 0;return(i=new Uint8Array(t.FTYP.byteLength+r.byteLength)).set(t.FTYP),i.set(r,t.FTYP.byteLength),i},t}();var I=function(){function t(e,r,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.config=r,this.typeSupported=i;var a=navigator.userAgent;this.isSafari=n&&n.indexOf("Apple")>-1&&a&&!a.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,r,n,a,o,l){if(this.ISGenerated||this.generateIS(t,e,a),this.ISGenerated){var u=t.samples.length,d=e.samples.length,c=a,h=a;if(u&&d){var f=(t.samples[0].dts-e.samples[0].dts)/e.inputTimeScale;c+=Math.max(0,f),h+=Math.max(0,-f)}if(u){t.timescale||(s.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,a));var p=this.remuxAudio(t,c,o,l);if(d){var g=void 0;p&&(g=p.endPTS-p.startPTS),e.timescale||(s.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,a)),this.remuxVideo(e,h,o,g,l)}}else if(d){var v=this.remuxVideo(e,h,o,0,l);v&&t.codec&&this.remuxEmptyAudio(t,c,o,v)}}r.samples.length&&this.remuxID3(r,a),n.samples.length&&this.remuxText(n,a),this.observer.trigger(i.a.FRAG_PARSED)},t.prototype.generateIS=function(t,e,r){var a=this.observer,o=t.samples,l=e.samples,u=this.typeSupported,d="audio/mp4",c={},h={tracks:c},f=void 0===this._initPTS,p=void 0,g=void 0;if(f&&(p=g=1/0),t.config&&o.length&&(t.timescale=t.samplerate,s.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(u.mpeg?(d="audio/mpeg",t.codec=""):u.mp3&&(t.codec="mp3")),c.audio={container:d,codec:t.codec,initSegment:!t.isAAC&&u.mpeg?new Uint8Array:k.initSegment([t]),metadata:{channelCount:t.channelCount}},f&&(p=g=o[0].pts-t.inputTimeScale*r)),e.sps&&e.pps&&l.length){var v=e.inputTimeScale;e.timescale=v,c.video={container:"video/mp4",codec:e.codec,initSegment:k.initSegment([e]),metadata:{width:e.width,height:e.height}},f&&(p=Math.min(p,l[0].pts-v*r),g=Math.min(g,l[0].dts-v*r),this.observer.trigger(i.a.INIT_PTS_FOUND,{initPTS:p}))}Object.keys(c).length?(a.trigger(i.a.FRAG_PARSING_INIT_SEGMENT,h),this.ISGenerated=!0,f&&(this._initPTS=p,this._initDTS=g)):a.trigger(i.a.ERROR,{type:n.b.MEDIA_ERROR,details:n.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,r,a,o){var l,u,d,c=8,h=t.timescale,f=void 0,p=void 0,g=void 0,v=void 0,m=t.samples,y=[],b=m.length,E=this._PTSNormalize,T=this._initDTS,S=this.nextAvcDts,_=this.isSafari;if(0!==b){_&&(r|=m.length&&S&&(o&&Math.abs(e-S/h)<.1||Math.abs(m[0].pts-S-T)<h/5)),r||(S=e*h),m.forEach(function(t){t.pts=E(t.pts-T,S),t.dts=E(t.dts-T,S)}),m.sort(function(t,e){var r=t.dts-e.dts,i=t.pts-e.pts;return r||i||t.id-e.id});var A=m.reduce(function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)},0);if(A<0){s.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(A/90)+" ms to overcome this issue");for(var R=0;R<m.length;R++)m[R].dts+=A}var w=m[0];v=Math.max(w.dts,0),g=Math.max(w.pts,0);var L=Math.round((v-S)/90);r&&L&&(L>1?s.b.log("AVC:"+L+" ms hole between fragments detected,filling it"):L<-1&&s.b.log("AVC:"+-L+" ms overlapping between fragments detected"),v=S,m[0].dts=v,g=Math.max(g-L,S),m[0].pts=g,s.b.log("Video/PTS/DTS adjusted: "+Math.round(g/90)+"/"+Math.round(v/90)+",delta:"+L+" ms")),v,w=m[m.length-1],d=Math.max(w.dts,0),u=Math.max(w.pts,0,d),_&&(f=Math.round((d-v)/(m.length-1)));for(var D=0,I=0,O=0;O<b;O++){for(var x=m[O],C=x.units,P=C.length,F=0,M=0;M<P;M++)F+=C[M].data.length;I+=F,D+=P,x.length=F,x.dts=_?v+O*f:Math.max(x.dts,v),x.pts=Math.max(x.pts,x.dts)}var N=I+4*D+8;try{p=new Uint8Array(N)}catch(t){return void this.observer.trigger(i.a.ERROR,{type:n.b.MUX_ERROR,details:n.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var U=new DataView(p.buffer);U.setUint32(0,N),p.set(k.types.mdat,4);for(var B=0;B<b;B++){for(var G=m[B],j=G.units,K=0,H=void 0,V=0,Y=j.length;V<Y;V++){var W=j[V],q=W.data,z=W.data.byteLength;U.setUint32(c,z),c+=4,p.set(q,c),c+=z,K+=4+z}if(_)H=Math.max(0,f*Math.round((G.pts-G.dts)/f));else{if(B<b-1)f=m[B+1].dts-G.dts;else{var X=this.config,Q=G.dts-m[B>0?B-1:B].dts;if(X.stretchShortVideoTrack){var $=X.maxBufferHole,J=Math.floor($*h),Z=(a?g+a*h:this.nextAudioPts)-G.pts;Z>J?((f=Z-Q)<0&&(f=Q),s.b.log("It is approximately "+Z/90+" ms to the next segment; using duration "+f/90+" ms for the last video frame.")):f=Q}else f=Q}H=Math.round(G.pts-G.dts)}y.push({size:K,duration:f,cts:H,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:G.key?2:1,isNonSync:G.key?0:1}})}this.nextAvcDts=d+f;var tt=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,y.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var et=y[0].flags;et.dependsOn=2,et.isNonSync=0}t.samples=y,l=k.moof(t.sequenceNumber++,v,t),t.samples=[];var rt={data1:l,data2:p,startPTS:g/h,endPTS:(u+f)/h,startDTS:v/h,endDTS:this.nextAvcDts/h,type:"video",hasAudio:!1,hasVideo:!0,nb:y.length,dropped:tt};return this.observer.trigger(i.a.FRAG_PARSING_DATA,rt),rt}},t.prototype.remuxAudio=function(t,e,r,a){var o=t.inputTimeScale,l=t.timescale,u=o/l,d=(t.isAAC?1024:1152)*u,c=this._PTSNormalize,h=this._initDTS,f=!t.isAAC&&this.typeSupported.mpeg,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,b=void 0,E=void 0,T=t.samples,S=[],_=this.nextAudioPts;if(r|=T.length&&_&&(a&&Math.abs(e-_/o)<.1||Math.abs(T[0].pts-_-h)<20*d),T.forEach(function(t){t.pts=t.dts=c(t.pts-h,e*o)}),0!==(T=T.filter(function(t){return t.pts>=0})).length){if(r||(_=a?e*o:T[0].pts),t.isAAC)for(var A=this.config.maxAudioFramesDrift,R=0,w=_;R<T.length;){var D,I=T[R];D=I.pts-w;var O=Math.abs(1e3*D/o);if(D<=-A*d)s.b.warn("Dropping 1 audio frame @ "+(w/o).toFixed(3)+"s due to "+Math.round(O)+" ms overlap."),T.splice(R,1),t.len-=I.unit.length;else if(D>=A*d&&O<1e4&&w){var x=Math.round(D/d);s.b.warn("Injecting "+x+" audio frame @ "+(w/o).toFixed(3)+"s due to "+Math.round(1e3*D/o)+" ms gap.");for(var C=0;C<x;C++){var P=Math.max(w,0);(v=L.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),v=I.unit.subarray()),T.splice(R,0,{unit:v,pts:P,dts:P}),t.len+=v.length,w+=d,R++}I.pts=I.dts=w,w+=d,R++}else Math.abs(D),I.pts=I.dts=w,w+=d,R++}for(var F=0,M=T.length;F<M;F++){var N=T[F],U=N.unit,B=N.pts;if(void 0!==E)g.duration=Math.round((B-E)/u);else{var G=Math.round(1e3*(B-_)/o),j=0;if(r&&t.isAAC&&G){if(G>0&&G<1e4)j=Math.round((B-_)/d),s.b.log(G+" ms hole between AAC samples detected,filling it"),j>0&&((v=L.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(v=U.subarray()),t.len+=j*v.length);else if(G<-12){s.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(_/o).toFixed(3)+"s/"+(B/o).toFixed(3)+"s/"+-G+"ms"),t.len-=U.byteLength;continue}B=_}if(b=B,!(t.len>0))return;var K=f?t.len:t.len+8;p=f?0:8;try{m=new Uint8Array(K)}catch(t){return void this.observer.trigger(i.a.ERROR,{type:n.b.MUX_ERROR,details:n.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:K,reason:"fail allocating audio mdat "+K})}f||(new DataView(m.buffer).setUint32(0,K),m.set(k.types.mdat,4));for(var H=0;H<j;H++)(v=L.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),v=U.subarray()),m.set(v,p),p+=v.byteLength,g={size:v.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(g)}m.set(U,p);var V=U.byteLength;p+=V,g={size:V,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(g),E=B}var Y=0,W=S.length;if(W>=2&&(Y=S[W-2].duration,g.duration=Y),W){this.nextAudioPts=_=E+u*Y,t.len=0,t.samples=S,y=f?new Uint8Array:k.moof(t.sequenceNumber++,b/u,t),t.samples=[];var q=b/o,z=_/o,X={data1:y,data2:m,startPTS:q,endPTS:z,startDTS:q,endDTS:z,type:"audio",hasAudio:!0,hasVideo:!1,nb:W};return this.observer.trigger(i.a.FRAG_PARSING_DATA,X),X}return null}},t.prototype.remuxEmptyAudio=function(t,e,r,i){var n=t.inputTimeScale,a=n/(t.samplerate?t.samplerate:n),o=this.nextAudioPts,l=(void 0!==o?o:i.startDTS*n)+this._initDTS,u=i.endDTS*n+this._initDTS,d=1024*a,c=Math.ceil((u-l)/d),h=L.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s.b.warn("remux empty Audio"),h){for(var f=[],p=0;p<c;p++){var g=l+p*d;f.push({unit:h,pts:g,dts:g}),t.len+=h.length}t.samples=f,this.remuxAudio(t,e,r)}else s.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.prototype.remuxID3=function(t,e){var r=t.samples.length,n=void 0,a=t.inputTimeScale,o=this._initPTS,s=this._initDTS;if(r){for(var l=0;l<r;l++)(n=t.samples[l]).pts=(n.pts-o)/a,n.dts=(n.dts-s)/a;this.observer.trigger(i.a.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[],e=e},t.prototype.remuxText=function(t,e){t.samples.sort(function(t,e){return t.pts-e.pts});var r=t.samples.length,n=void 0,a=t.inputTimeScale,o=this._initPTS;if(r){for(var s=0;s<r;s++)(n=t.samples[s]).pts=(n.pts-o)/a;this.observer.trigger(i.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[],e=e},t.prototype._PTSNormalize=function(t,e){var r=void 0;if(void 0===e)return t;for(r=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=r;return t},t}();var O=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,r,n,a,o,s,l){var u=this.observer,d="";t&&(d+="audio"),e&&(d+="video"),u.trigger(i.a.FRAG_PARSING_DATA,{data1:l,startPTS:a,startDTS:a,type:d,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),u.trigger(i.a.FRAG_PARSED)},t}();var x=Object(l.a)().performance,C=function(){function t(e,r,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.typeSupported=r,this.config=i,this.vendor=n}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,r,n,o,s,l,u,d,c,h,f){if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var p=this.decrypter;null==p&&(p=this.decrypter=new a.a(this.observer,this.config));var g=this,v=void 0;try{v=x.now()}catch(t){v=Date.now()}p.decrypt(t,e.key.buffer,e.iv.buffer,function(t){var a=void 0;try{a=x.now()}catch(t){a=Date.now()}g.observer.trigger(i.a.FRAG_DECRYPTED,{stats:{tstart:v,tdecrypt:a}}),g.pushDecrypted(new Uint8Array(t),e,new Uint8Array(r),n,o,s,l,u,d,c,h,f)})}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(r),n,o,s,l,u,d,c,h,f)},t.prototype.pushDecrypted=function(t,e,r,a,o,s,l,u,d,c,h,f){var p=this.demuxer;if(!p||(l||u)&&!this.probe(t)){for(var g=this.observer,v=this.typeSupported,m=this.config,E=[{demux:R,remux:I},{demux:b.a,remux:O},{demux:y,remux:I},{demux:w,remux:I}],T=0,S=E.length;T<S;T++){var _=E[T],A=_.demux.probe;if(A(t)){var L=this.remuxer=new _.remux(g,m,v,this.vendor);p=new _.demux(g,L,m,v),this.probe=A;break}}if(!p)return void g.trigger(i.a.ERROR,{type:n.b.MEDIA_ERROR,details:n.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=p}var D=this.remuxer;(l||u)&&(p.resetInitSegment(r,a,o,c),D.resetInitSegment()),l&&(p.resetTimeStamp(f),D.resetTimeStamp(f)),"function"==typeof p.setDecryptData&&p.setDecryptData(e),p.append(t,s,d,h)},t}();e.a=C},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};r.d(i,"newCue",function(){return ee});var n=r(5),a=r.n(n),o=r(2),s=r(3),l=r(1),u=r(0),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var c=new Set(["hlsEventGeneric","hlsHandlerDestroying","hlsHandlerDestroyed"]),h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hls=e,this.onEvent=this.onEvent.bind(this);for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];this.handledEvents=i,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.prototype.onHandlerDestroying=function(){},t.prototype.onHandlerDestroyed=function(){},t.prototype.isEventHandler=function(){return"object"===d(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if(c.has(t))throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)},this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){try{(function(t,e){var r="on"+t.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,e)}).call(this,t,e).call()}catch(e){u.b.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.hls.trigger(l.a.ERROR,{type:o.b.OTHER_ERROR,details:o.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}(),f=r(9),p=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.method=null,this.key=null,this.iv=null,this._uri=null}return p(t,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=a.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),t}(),v=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();var m=function(){function t(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((e={})[t.ElementaryStreamTypes.AUDIO]=!1,e[t.ElementaryStreamTypes.VIDEO]=!1,e)}return t.prototype.addElementaryStream=function(t){this._elementaryStreams[t]=!0},t.prototype.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},t.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e},t.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var r=t;return t&&t.method&&t.uri&&!t.iv&&((r=new g).method=t.method,r.baseuri=t.baseuri,r.reluri=t.reluri,r.iv=this.createInitializationVector(e)),r},v(t,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=a.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"byteRange",get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var t=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var r=this.lastByteRangeEndOffset;t[0]=r||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0],this._byteRange=t}return t}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}},{key:"endProgramDateTime",get:function(){if(!Object(s.a)(this.programDateTime))return null;var t=Object(s.a)(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}],[{key:"ElementaryStreamTypes",get:function(){return{AUDIO:"audio",VIDEO:"video"}}}]),t}(),y=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();var b=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}return y(t,[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(s.a)(this.fragments[0].programDateTime))}}]),t}();var E=/^(\d+)x(\d+)$/,T=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,S=function(){function t(e){for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(r)&&(this[r]=e[r])}return t.prototype.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var r=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)r[i]=parseInt(e.slice(2*i,2*i+2),16);return r}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},t.prototype.enumeratedString=function(t){return this[t]},t.prototype.decimalResolution=function(t){var e=E.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e=void 0,r={};for(T.lastIndex=0;null!==(e=T.exec(t));){var i=e[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),r[e[1]]=i}return r},t}(),_={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function A(t,e){return window.MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var R=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,w=/#EXT-X-MEDIA:(.*)/g,L=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),D=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,k=/\.(mp4|m4s|m4v|m4a)$/i,I=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.findGroup=function(t,e){if(!t)return null;for(var r=null,i=0;i<t.length;i++){var n=t[i];n.id===e&&(r=n)}return r},t.convertAVC1ToAVCOTI=function(t){var e=void 0,r=t.split(".");return r.length>2?(e=r.shift()+".",e+=parseInt(r.shift()).toString(16),e+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):e=t,e},t.resolve=function(t,e){return a.a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,r){var i=[],n=void 0;function a(t,e){["video","audio"].forEach(function(r){var i=t.filter(function(t){return function(t,e){var r=_[e];return!!r&&!0===r[t.slice(0,4)]}(t,r)});if(i.length){var n=i.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});e[r+"Codec"]=n.length>0?n[0]:i[0],t=t.filter(function(t){return-1===i.indexOf(t)})}}),e.unknownCodecs=t}for(R.lastIndex=0;null!=(n=R.exec(e));){var o={},s=o.attrs=new S(n[1]);o.url=t.resolve(n[2],r);var l=s.decimalResolution("RESOLUTION");l&&(o.width=l.width,o.height=l.height),o.bitrate=s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),o.name=s.NAME,a([].concat((s.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=t.convertAVC1ToAVCOTI(o.videoCodec)),i.push(o)}return i},t.parseMasterPlaylistMedia=function(e,r,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=void 0,o=[],s=0;for(w.lastIndex=0;null!==(a=w.exec(e));){var l={},u=new S(a[1]);if(u.TYPE===i){if(l.groupId=u["GROUP-ID"],l.name=u.NAME,l.type=i,l.default="YES"===u.DEFAULT,l.autoselect="YES"===u.AUTOSELECT,l.forced="YES"===u.FORCED,u.URI&&(l.url=t.resolve(u.URI,r)),l.lang=u.LANGUAGE,l.name||(l.name=l.lang),n.length){var d=t.findGroup(n,l.groupId);l.audioCodec=d?d.codec:n[0].codec}l.id=s++,o.push(l)}}return o},t.parseLevelPlaylist=function(t,e,r,i,n){var a=0,o=0,l=new b(e),d=new g,c=0,h=null,f=new m,p=void 0,v=void 0,y=null;for(L.lastIndex=0;null!==(p=L.exec(t));){var E=p[1];if(E){f.duration=parseFloat(E);var T=(" "+p[2]).slice(1);f.title=T||null,f.tagList.push(T?["INF",E,T]:["INF",E])}else if(p[3]){if(Object(s.a)(f.duration)){var _=a++;f.type=i,f.start=o,f.levelkey=d,f.sn=_,f.level=r,f.cc=c,f.urlId=n,f.baseurl=e,f.relurl=(" "+p[3]).slice(1),O(f,h),l.fragments.push(f),h=f,o+=f.duration,f=new m}}else if(p[4]){if(f.rawByteRange=(" "+p[4]).slice(1),h){var A=h.byteRangeEndOffset;A&&(f.lastByteRangeEndOffset=A)}}else if(p[5])f.rawProgramDateTime=(" "+p[5]).slice(1),f.tagList.push(["PROGRAM-DATE-TIME",f.rawProgramDateTime]),null===y&&(y=l.fragments.length);else{for(p=p[0].match(D),v=1;v<p.length&&void 0===p[v];v++);var R=(" "+p[v+1]).slice(1),w=(" "+p[v+2]).slice(1);switch(p[v]){case"#":f.tagList.push(w?[R,w]:[R]);break;case"PLAYLIST-TYPE":l.type=R.toUpperCase();break;case"MEDIA-SEQUENCE":a=l.startSN=parseInt(R);break;case"TARGETDURATION":l.targetduration=parseFloat(R);break;case"VERSION":l.version=parseInt(R);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":c++,f.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":c=parseInt(R);break;case"KEY":var I=new S(R),x=I.enumeratedString("METHOD"),C=I.URI,P=I.hexadecimalInteger("IV");x&&(d=new g,C&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(x)>=0&&(d.method=x,d.baseuri=e,d.reluri=C,d.key=null,d.iv=P));break;case"START":var F=new S(R).decimalFloatingPoint("TIME-OFFSET");Object(s.a)(F)&&(l.startTimeOffset=F);break;case"MAP":var M=new S(R);f.relurl=M.URI,f.rawByteRange=M.BYTERANGE,f.baseurl=e,f.level=r,f.type=i,f.sn="initSegment",l.initSegment=f,(f=new m).rawProgramDateTime=l.initSegment.rawProgramDateTime;break;default:u.b.warn("line parsed but not handled: "+p)}}}return(f=h)&&!f.relurl&&(l.fragments.pop(),o-=f.duration),l.totalduration=o,l.averagetargetduration=o/l.fragments.length,l.endSN=a-1,l.startCC=l.fragments[0]?l.fragments[0].cc:0,l.endCC=c,!l.initSegment&&l.fragments.length&&l.fragments.every(function(t){return k.test(t.relurl)})&&(u.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(f=new m).relurl=l.fragments[0].relurl,f.baseurl=e,f.level=r,f.type=i,f.sn="initSegment",l.initSegment=f,l.needSidxRanges=!0),y&&function(t,e){for(var r=t[e],i=e-1;i>=0;i--){var n=t[i];n.programDateTime=r.programDateTime-1e3*n.duration,r=n}}(l.fragments,y),l},t}();function O(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),Object(s.a)(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}var x=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();var C=window.performance,P={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},F={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},M=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.MANIFEST_LOADING,l.a.LEVEL_LOADING,l.a.AUDIO_TRACK_LOADING,l.a.SUBTITLE_TRACK_LOADING));return i.loaders={},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.canHaveQualityLevels=function(t){return t!==P.AUDIO_TRACK&&t!==P.SUBTITLE_TRACK},e.mapContextToLevelType=function(t){switch(t.type){case P.AUDIO_TRACK:return F.AUDIO;case P.SUBTITLE_TRACK:return F.SUBTITLE;default:return F.MAIN}},e.getResponseUrl=function(t,e){var r=t.url;return void 0!==r&&0!==r.indexOf("data:")||(r=e.url),r},e.prototype.createInternalLoader=function(t){var e=this.hls.config,r=e.pLoader,i=e.loader,n=new(r||i)(e);return t.loader=n,this.loaders[t.type]=n,n},e.prototype.getInternalLoader=function(t){return this.loaders[t.type]},e.prototype.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},e.prototype.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},e.prototype.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},e.prototype.onManifestLoading=function(t){this.load(t.url,{type:P.MANIFEST,level:0,id:null})},e.prototype.onLevelLoading=function(t){this.load(t.url,{type:P.LEVEL,level:t.level,id:t.id})},e.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:P.AUDIO_TRACK,level:null,id:t.id})},e.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:P.SUBTITLE_TRACK,level:null,id:t.id})},e.prototype.load=function(t,e){var r=this.hls.config;u.b.debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id);var i=this.getInternalLoader(e);if(i){var n=i.context;if(n&&n.url===t)return u.b.trace("playlist request ongoing"),!1;u.b.warn("aborting previous loader for type: "+e.type),i.abort()}var a=void 0,o=void 0,s=void 0,l=void 0;switch(e.type){case P.MANIFEST:a=r.manifestLoadingMaxRetry,o=r.manifestLoadingTimeOut,s=r.manifestLoadingRetryDelay,l=r.manifestLoadingMaxRetryTimeout;break;case P.LEVEL:a=0,o=r.levelLoadingTimeOut;break;default:a=r.levelLoadingMaxRetry,o=r.levelLoadingTimeOut,s=r.levelLoadingRetryDelay,l=r.levelLoadingMaxRetryTimeout}i=this.createInternalLoader(e),e.url=t,e.responseType=e.responseType||"";var d={timeout:o,maxRetry:a,retryDelay:s,maxRetryDelay:l},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return u.b.debug("Calling internal loader delegate for URL: "+t),i.load(e,d,c),!0},e.prototype.loadsuccess=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(r.isSidxRequest)return this._handleSidxRequest(t,r),void this._handlePlaylistLoaded(t,e,r,i);this.resetInternalLoader(r.type);var n=t.data;e.tload=C.now(),0===n.indexOf("#EXTM3U")?n.indexOf("#EXTINF:")>0||n.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,r,i):this._handleMasterPlaylist(t,e,r,i):this._handleManifestParsingError(t,r,"no EXTM3U delimiter",i)},e.prototype.loaderror=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(e,r)},e.prototype.loadtimeout=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(e,r,!0)},e.prototype._handleMasterPlaylist=function(t,r,i,n){var a=this.hls,o=t.data,s=e.getResponseUrl(t,i),d=I.parseMasterPlaylist(o,s);if(d.length){var c=d.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),h=I.parseMasterPlaylistMedia(o,s,"AUDIO",c),f=I.parseMasterPlaylistMedia(o,s,"SUBTITLES");if(h.length){var p=!1;h.forEach(function(t){t.url||(p=!0)}),!1===p&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(u.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main"}))}a.trigger(l.a.MANIFEST_LOADED,{levels:d,audioTracks:h,subtitles:f,url:s,stats:r,networkDetails:n})}else this._handleManifestParsingError(t,i,"no level found in manifest",n)},e.prototype._handleTrackOrLevelPlaylist=function(t,r,i,n){var a=this.hls,o=i.id,u=i.level,d=i.type,c=e.getResponseUrl(t,i),h=Object(s.a)(o)?o:0,f=Object(s.a)(u)?u:h,p=e.mapContextToLevelType(i),g=I.parseLevelPlaylist(t.data,c,f,p,h);if(g.tload=r.tload,d===P.MANIFEST){var v={url:c,details:g};a.trigger(l.a.MANIFEST_LOADED,{levels:[v],audioTracks:[],url:c,stats:r,networkDetails:n})}if(r.tparsed=C.now(),g.needSidxRanges){var m=g.initSegment.url;this.load(m,{isSidxRequest:!0,type:d,level:u,levelDetails:g,id:o,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else i.levelDetails=g,this._handlePlaylistLoaded(t,r,i,n)},e.prototype._handleSidxRequest=function(t,e){var r=f.a.parseSegmentIndex(new Uint8Array(t.data));r.references.forEach(function(t,r){var i=t.info,n=e.levelDetails.fragments[r];0===n.byteRange.length&&(n.rawByteRange=String(1+i.end-i.start)+"@"+String(i.start))}),e.levelDetails.initSegment.rawByteRange=String(r.moovEndOffset)+"@0"},e.prototype._handleManifestParsingError=function(t,e,r,i){this.hls.trigger(l.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:r,networkDetails:i})},e.prototype._handleNetworkError=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u.b.info("A network error occured while loading a "+t.type+"-type playlist");var i=void 0,n=void 0,a=this.getInternalLoader(t);switch(t.type){case P.MANIFEST:i=r?o.a.MANIFEST_LOAD_TIMEOUT:o.a.MANIFEST_LOAD_ERROR,n=!0;break;case P.LEVEL:i=r?o.a.LEVEL_LOAD_TIMEOUT:o.a.LEVEL_LOAD_ERROR,n=!1;break;case P.AUDIO_TRACK:i=r?o.a.AUDIO_TRACK_LOAD_TIMEOUT:o.a.AUDIO_TRACK_LOAD_ERROR,n=!1;break;default:n=!1}a&&(a.abort(),this.resetInternalLoader(t.type)),this.hls.trigger(l.a.ERROR,{type:o.b.NETWORK_ERROR,details:i,fatal:n,url:a.url,loader:a,context:t,networkDetails:e})},e.prototype._handlePlaylistLoaded=function(t,r,i,n){var a=i.type,o=i.level,s=i.id,u=i.levelDetails;if(u.targetduration)if(e.canHaveQualityLevels(i.type))this.hls.trigger(l.a.LEVEL_LOADED,{details:u,level:o||0,id:s||0,stats:r,networkDetails:n});else switch(a){case P.AUDIO_TRACK:this.hls.trigger(l.a.AUDIO_TRACK_LOADED,{details:u,id:s,stats:r,networkDetails:n});break;case P.SUBTITLE_TRACK:this.hls.trigger(l.a.SUBTITLE_TRACK_LOADED,{details:u,id:s,stats:r,networkDetails:n})}else this._handleManifestParsingError(t,i,"invalid target duration",n)},x(e,null,[{key:"ContextType",get:function(){return P}},{key:"LevelType",get:function(){return F}}]),e}(h);var N=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.FRAG_LOADING));return i.loaders={},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){var e=this.loaders;for(var r in e){var i=e[r];i&&i.destroy()}this.loaders={},t.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag,r=e.type,i=this.loaders,n=this.hls.config,a=n.fLoader,o=n.loader;e.loaded=0;var l=i[r];l&&(u.b.warn("abort previous fragment loader for type: "+r),l.abort()),l=i[r]=e.loader=n.fLoader?new a(n):new o(n);var d,c,h=void 0;h={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var f=e.byteRangeStartOffset,p=e.byteRangeEndOffset;Object(s.a)(f)&&Object(s.a)(p)&&(h.rangeStart=f,h.rangeEnd=p),d={timeout:n.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:n.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},l.load(h,d,c)},e.prototype.loadsuccess=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=t.data,a=r.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(l.a.FRAG_LOADED,{payload:n,frag:a,stats:e,networkDetails:i})},e.prototype.loaderror=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.frag,n=i.loader;n&&n.abort(),this.loaders[i.type]=void 0,this.hls.trigger(l.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:r})},e.prototype.loadtimeout=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.frag,n=i.loader;n&&n.abort(),this.loaders[i.type]=void 0,this.hls.trigger(l.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:r})},e.prototype.loadprogress=function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=e.frag;n.loaded=t.loaded,this.hls.trigger(l.a.FRAG_LOAD_PROGRESS,{frag:n,stats:t,networkDetails:i})},e}(h);var U=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.KEY_LOADING));return i.loaders={},i.decryptkey=null,i.decrypturl=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},h.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,r=e.type,i=this.loaders[r],n=e.decryptdata,a=n.uri;if(a!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;i&&(u.b.warn("abort previous key loader for type:"+r),i.abort()),e.loader=this.loaders[r]=new o.loader(o),this.decrypturl=a,this.decryptkey=null;var s,d,c;s={url:a,frag:e,responseType:"arraybuffer"},d={timeout:o.fragLoadingTimeOut,maxRetry:o.fragLoadingMaxRetry,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(s,d,c)}else this.decryptkey&&(n.key=this.decryptkey,this.hls.trigger(l.a.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,r){var i=r.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(t.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(l.a.KEY_LOADED,{frag:i})},e.prototype.loaderror=function(t,e){var r=e.frag,i=r.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(l.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.KEY_LOAD_ERROR,fatal:!1,frag:r,response:t})},e.prototype.loadtimeout=function(t,e){var r=e.frag,i=r.loader;i&&i.abort(),this.loaders[e.type]=void 0,this.hls.trigger(l.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},e}(h);var B="NOT_LOADED",G="APPENDING",j="PARTIAL",K="OK",H=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.BUFFER_APPENDED,l.a.FRAG_BUFFERED,l.a.FRAG_LOADED));return i.bufferPadding=.2,i.fragments=Object.create(null),i.timeRanges=Object.create(null),i.config=r.config,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.fragments=null,this.timeRanges=null,this.config=null,h.prototype.destroy.call(this),t.prototype.destroy.call(this)},e.prototype.getBufferedFrag=function(t,e){var r=this.fragments,i=Object.keys(r).filter(function(i){var n=r[i];if(n.body.type!==e)return!1;if(!n.buffered)return!1;var a=n.body;return a.startPTS<=t&&t<=a.endPTS});if(0===i.length)return null;var n=i.pop();return r[n].body},e.prototype.detectEvictedFragments=function(t,e){var r=this,i=void 0,n=void 0;Object.keys(this.fragments).forEach(function(a){var o=r.fragments[a];if(!0===o.buffered){var s=o.range[t];if(s){i=s.time;for(var l=0;l<i.length;l++)if(n=i[l],!1===r.isTimeBuffered(n.startPTS,n.endPTS,e)){r.removeFragment(o.body);break}}}})},e.prototype.detectPartialFragments=function(t){var e=this,r=this.getFragmentKey(t),i=this.fragments[r];i&&(i.buffered=!0,Object.keys(this.timeRanges).forEach(function(r){if(t.hasElementaryStream(r)){var n=e.timeRanges[r];i.range[r]=e.getBufferedTimes(t.startPTS,t.endPTS,n)}}))},e.prototype.getBufferedTimes=function(t,e,r){for(var i=[],n=void 0,a=void 0,o=!1,s=0;s<r.length;s++){if(n=r.start(s)-this.bufferPadding,a=r.end(s)+this.bufferPadding,t>=n&&e<=a){i.push({startPTS:Math.max(t,r.start(s)),endPTS:Math.min(e,r.end(s))});break}if(t<a&&e>n)i.push({startPTS:Math.max(t,r.start(s)),endPTS:Math.min(e,r.end(s))}),o=!0;else if(e<=n)break}return{time:i,partial:o}},e.prototype.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},e.prototype.getPartialFragment=function(t){var e=this,r=void 0,i=void 0,n=void 0,a=null,o=0;return Object.keys(this.fragments).forEach(function(s){var l=e.fragments[s];e.isPartial(l)&&(i=l.body.startPTS-e.bufferPadding,n=l.body.endPTS+e.bufferPadding,t>=i&&t<=n&&(r=Math.min(t-i,n-t),o<=r&&(a=l.body,o=r)))}),a},e.prototype.getState=function(t){var e=this.getFragmentKey(t),r=this.fragments[e],i=B;return void 0!==r&&(i=r.buffered?!0===this.isPartial(r)?j:K:G),i},e.prototype.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},e.prototype.isTimeBuffered=function(t,e,r){for(var i=void 0,n=void 0,a=0;a<r.length;a++){if(i=r.start(a)-this.bufferPadding,n=r.end(a)+this.bufferPadding,t>=i&&e<=n)return!0;if(e<=i)return!1}return!1},e.prototype.onFragLoaded=function(t){var e=t.frag;Object(s.a)(e.sn)&&!e.bitrateTest&&(this.fragments[this.getFragmentKey(e)]={body:e,range:Object.create(null),buffered:!1})},e.prototype.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach(function(t){var r=e.timeRanges[t];e.detectEvictedFragments(t,r)})},e.prototype.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},e.prototype.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},e.prototype.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},e.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},e}(h),V={search:function(t,e){for(var r=0,i=t.length-1,n=null,a=null;r<=i;){var o=e(a=t[n=(r+i)/2|0]);if(o>0)r=n+1;else{if(!(o<0))return a;i=n-1}}return null}};var Y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.isBuffered=function(t,e){try{if(t)for(var r=t.buffered,i=0;i<r.length;i++)if(e>=r.start(i)&&e<=r.end(i))return!0}catch(t){}return!1},t.bufferInfo=function(t,e,r){try{if(t){var i=t.buffered,n=[],a=void 0;for(a=0;a<i.length;a++)n.push({start:i.start(a),end:i.end(a)});return this.bufferedInfo(n,e,r)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},t.bufferedInfo=function(t,e,r){var i=[],n=void 0,a=void 0,o=void 0,s=void 0,l=void 0;for(t.sort(function(t,e){var r=t.start-e.start;return r||e.end-t.end}),l=0;l<t.length;l++){var u=i.length;if(u){var d=i[u-1].end;t[l].start-d<r?t[l].end>d&&(i[u-1].end=t[l].end):i.push(t[l])}else i.push(t[l])}for(l=0,n=0,a=o=e;l<i.length;l++){var c=i[l].start,h=i[l].end;if(e+r>=c&&e<h)a=c,n=(o=h)-e;else if(e+r<c){s=c;break}}return{len:n,start:a,end:o,nextStart:s}},t}(),W=r(7),q=r.n(W),z=r(12),X=r.n(z),Q=r(10);function $(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}var J=r(4);var Z=Object(J.a)(),tt=$(),et=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hls=e,this.id=r;var i=this.observer=new q.a,n=e.config;i.trigger=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];i.emit.apply(i,[t,t].concat(r))},i.off=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];i.removeListener.apply(i,[t].concat(r))};var a=function(t,r){(r=r||{}).frag=this.frag,r.id=this.id,e.trigger(t,r)}.bind(this);i.on(l.a.FRAG_DECRYPTED,a),i.on(l.a.FRAG_PARSING_INIT_SEGMENT,a),i.on(l.a.FRAG_PARSING_DATA,a),i.on(l.a.FRAG_PARSED,a),i.on(l.a.ERROR,a),i.on(l.a.FRAG_PARSING_METADATA,a),i.on(l.a.FRAG_PARSING_USERDATA,a),i.on(l.a.INIT_PTS_FOUND,a);var s={mp4:tt.isTypeSupported("video/mp4"),mpeg:tt.isTypeSupported("audio/mpeg"),mp3:tt.isTypeSupported('audio/mp4; codecs="mp3"')},d=navigator.vendor;if(n.enableWorker&&"undefined"!=typeof Worker){u.b.log("demuxing in webworker");var c=void 0;try{c=this.w=X()(13),this.onwmsg=this.onWorkerMessage.bind(this),c.addEventListener("message",this.onwmsg),c.onerror=function(t){e.trigger(l.a.ERROR,{type:o.b.OTHER_ERROR,details:o.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},c.postMessage({cmd:"init",typeSupported:s,vendor:d,id:r,config:JSON.stringify(n)})}catch(t){u.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),c&&Z.URL.revokeObjectURL(c.objectURL),this.demuxer=new Q.a(i,s,n,d),this.w=void 0}}else this.demuxer=new Q.a(i,s,n,d)}return t.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,e,r,i,n,a,o,l){var d=this.w,c=Object(s.a)(n.startDTS)?n.startDTS:n.start,h=n.decryptdata,f=this.frag,p=!(f&&n.cc===f.cc),g=!(f&&n.level===f.level),v=f&&n.sn===f.sn+1,m=!g&&v;if(p&&u.b.log(this.id+":discontinuity detected"),g&&u.b.log(this.id+":switch detected"),this.frag=n,d)d.postMessage({cmd:"demux",data:t,decryptdata:h,initSegment:e,audioCodec:r,videoCodec:i,timeOffset:c,discontinuity:p,trackSwitch:g,contiguous:m,duration:a,accurateTimeOffset:o,defaultInitPTS:l},t instanceof ArrayBuffer?[t]:[]);else{var y=this.demuxer;y&&y.push(t,h,e,r,i,c,p,g,m,a,o,l)}},t.prototype.onWorkerMessage=function(t){var e=t.data,r=this.hls;switch(e.event){case"init":Z.URL.revokeObjectURL(this.w.objectURL);break;case l.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,r.trigger(e.event,e.data)}},t}();function rt(t,e,r){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(r);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(r)}}function it(t,e,r){var i=t[e],n=t[r],a=n.startPTS;Object(s.a)(a)?r>e?(i.duration=a-i.start,i.duration<0&&u.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(n.duration=i.start-a,n.duration<0&&u.b.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):n.start=r>e?i.start+i.duration:Math.max(i.start-n.duration,0)}function nt(t,e,r,i,n,a){var o=r;if(Object(s.a)(e.startPTS)){var l=Math.abs(e.startPTS-r);Object(s.a)(e.deltaPTS)?e.deltaPTS=Math.max(l,e.deltaPTS):e.deltaPTS=l,o=Math.max(r,e.startPTS),r=Math.min(r,e.startPTS),i=Math.max(i,e.endPTS),n=Math.min(n,e.startDTS),a=Math.max(a,e.endDTS)}var u=r-e.start;e.start=e.startPTS=r,e.maxStartPTS=o,e.endPTS=i,e.startDTS=n,e.endDTS=a,e.duration=i-r;var d=e.sn;if(!t||d<t.startSN||d>t.endSN)return 0;var c,h=void 0,f=void 0;for(c=d-t.startSN,(h=t.fragments)[c]=e,f=c;f>0;f--)it(h,f,f-1);for(f=c;f<h.length-1;f++)it(h,f,f+1);return t.PTSKnown=!0,u}function at(t,e){var r=Math.max(t.startSN,e.startSN)-e.startSN,i=Math.min(t.endSN,e.endSN)-e.startSN,n=e.startSN-t.startSN,a=t.fragments,o=e.fragments,l=0,d=void 0;if(e.initSegment&&t.initSegment&&(e.initSegment=t.initSegment),i<r)e.PTSKnown=!1;else{for(var c=r;c<=i;c++){var h=a[n+c],f=o[c];f&&h&&(l=h.cc-f.cc,Object(s.a)(h.startPTS)&&(f.start=f.startPTS=h.startPTS,f.endPTS=h.endPTS,f.duration=h.duration,f.backtracked=h.backtracked,f.dropped=h.dropped,d=f))}if(l)for(u.b.log("discontinuity sliding from playlist, take drift into account"),c=0;c<o.length;c++)o[c].cc+=l;if(d)nt(e,d,d.startPTS,d.endPTS,d.startDTS,d.endDTS);else if(n>=0&&n<a.length){var p=a[n].start;for(c=0;c<o.length;c++)o[c].start+=p}e.PTSKnown=t.PTSKnown}}var ot={toString:function(t){for(var e="",r=t.length,i=0;i<r;i++)e+="["+t.start(i).toFixed(3)+","+t.end(i).toFixed(3)+"]";return e}};function st(t,e){e.fragments.forEach(function(e){if(e){var r=e.start+t;e.start=e.startPTS=r,e.endPTS=r+e.duration}}),e.PTSKnown=!0}function lt(t,e,r){!function(t,e,r){if(function(t,e,r){var i=!1;return e&&e.details&&r&&(r.endCC>r.startCC||t&&t.cc<r.startCC)&&(i=!0),i}(t,r,e)){var i=function(t,e){var r=t.fragments,i=e.fragments;if(i.length&&r.length){var n=function(t,e){for(var r=null,i=0;i<t.length;i+=1){var n=t[i];if(n&&n.cc===e){r=n;break}}return r}(r,i[0].cc);if(n&&(!n||n.startPTS))return n;u.b.log("No frag in previous level to align on")}else u.b.log("No fragments to align")}(r.details,e);i&&(u.b.log("Adjusting PTS using last level due to CC increase within current level"),st(i.start,e))}}(t,r,e),!r.PTSKnown&&e&&function(t,e){if(e&&e.fragments.length){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;var r=e.fragments[0].programDateTime,i=t.fragments[0].programDateTime,n=(i-r)/1e3+e.fragments[0].start;Object(s.a)(n)&&(u.b.log("adjusting PTS using programDateTime delta, sliding:"+n.toFixed(3)),st(n,t))}}(r,e.details)}var ut=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,n=Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call.apply(t,[this,r].concat(n)));return o._tickInterval=null,o._tickTimer=null,o._tickCallCount=0,o._boundTick=o.tick.bind(o),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},e.prototype.hasInterval=function(){return!!this._tickInterval},e.prototype.hasNextTick=function(){return!!this._tickTimer},e.prototype.setInterval=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,t),!0)}),e.prototype.clearInterval=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)}),e.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},e.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},e.prototype.doTick=function(){},e}(h);function dt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments[2],i=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-i<=t?1:r.start-i>t&&r.start?-1:0}function ct(t,e,r){var i=1e3*Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.endProgramDateTime-i>t}var ht=function(){function t(e,r,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,this.media=r,this.fragmentTracker=i,this.hls=n,this.stallReported=!1}return t.prototype.poll=function(t,e){var r=this.config,i=this.media,n=i.currentTime,a=window.performance.now();if(n!==t)return this.stallReported&&(u.b.warn("playback not stuck anymore @"+n+", after "+Math.round(a-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(i.ended||!i.buffered.length||i.readyState>2||i.seeking&&Y.isBuffered(i,n))){var o=a-this.stalled,s=Y.bufferInfo(i,n,r.maxBufferHole);this.stalled?(o>=1e3&&this._reportStall(s.len),this._tryFixBufferStall(s,o)):this.stalled=a}},t.prototype._tryFixBufferStall=function(t,e){var r=this.config,i=this.fragmentTracker,n=this.media.currentTime,a=i.getPartialFragment(n);a&&this._trySkipBufferHole(a),t.len>.5&&e>1e3*r.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},t.prototype._reportStall=function(t){var e=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,u.b.warn("Playback stalling at @"+r.currentTime+" due to low buffer"),e.trigger(l.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},t.prototype._trySkipBufferHole=function(t){for(var e=this.hls,r=this.media,i=r.currentTime,n=0,a=0;a<r.buffered.length;a++){var s=r.buffered.start(a);if(i>=n&&i<s)return r.currentTime=Math.max(s,r.currentTime+.1),u.b.warn("skipping hole, adjusting currentTime from "+i+" to "+r.currentTime),this.stalled=null,void e.trigger(l.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+r.currentTime,frag:t});n=r.buffered.end(a)}},t.prototype._tryNudgeBuffer=function(){var t=this.config,e=this.hls,r=this.media,i=r.currentTime,n=(this.nudgeRetry||0)+1;if(this.nudgeRetry=n,n<t.nudgeMaxRetry){var a=i+n*t.nudgeOffset;u.b.log("adjust currentTime from "+i+" to "+a),r.currentTime=a,e.trigger(l.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else u.b.error("still stuck in high buffer @"+i+" after "+t.nudgeMaxRetry+", raise fatal error"),e.trigger(l.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_STALLED_ERROR,fatal:!0})},t}(),ft=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();var pt={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},gt=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.MEDIA_ATTACHED,l.a.MEDIA_DETACHING,l.a.MANIFEST_LOADING,l.a.MANIFEST_PARSED,l.a.LEVEL_LOADED,l.a.KEY_LOADED,l.a.FRAG_LOADED,l.a.FRAG_LOAD_EMERGENCY_ABORTED,l.a.FRAG_PARSING_INIT_SEGMENT,l.a.FRAG_PARSING_DATA,l.a.FRAG_PARSED,l.a.ERROR,l.a.AUDIO_TRACK_SWITCHING,l.a.AUDIO_TRACK_SWITCHED,l.a.BUFFER_CREATED,l.a.BUFFER_APPENDED,l.a.BUFFER_FLUSHED));return n.fragmentTracker=i,n.config=r.config,n.audioCodecSwap=!1,n._state=pt.STOPPED,n.stallReported=!1,n.gapController=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},e.prototype.onHandlerDestroyed=function(){this.state=pt.STOPPED,this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},e.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=r.startLevel;-1===i&&(i=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=i,this.loadedmetadata=!1}e>0&&-1===t&&(u.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=pt.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=pt.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.clearInterval(),this.state=pt.STOPPED,this.forceStartLoad=!1},e.prototype.doTick=function(){switch(this.state){case pt.BUFFER_FLUSHING:this.fragLoadError=0;break;case pt.IDLE:this._doTickIdle();break;case pt.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=pt.IDLE);break;case pt.FRAG_LOADING_WAITING_RETRY:var e=window.performance.now(),r=this.retryDate;(!r||e>=r||this.media&&this.media.seeking)&&(u.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=pt.IDLE);break;case pt.ERROR:case pt.STOPPED:case pt.FRAG_LOADING:case pt.PARSING:case pt.PARSED:case pt.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},e.prototype._doTickIdle=function(){var t=this.hls,e=t.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&e.startFragPrefetch)){var i=void 0;i=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var n=t.nextLoadLevel,a=this.levels[n];if(a){var o=a.bitrate,s=void 0;s=o?Math.max(8*e.maxBufferSize/o,e.maxBufferLength):e.maxBufferLength,s=Math.min(s,e.maxMaxBufferLength);var d=Y.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,i,e.maxBufferHole),c=d.len;if(!(c>=s)){u.b.trace("buffer length of "+c.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=n;var h=a.details;if(!h||h.live&&this.levelLastLoaded!==n)this.state=pt.WAITING_LEVEL;else{var f=this.fragPrevious;if(!h.live&&f&&!f.backtracked&&f.sn===h.endSN&&!d.nextStart)if(Math.min(r.duration,f.start+f.duration)-Math.max(d.end,f.start)<=Math.max(.2,f.duration)){var p={};return this.altAudio&&(p.type="video"),this.hls.trigger(l.a.BUFFER_EOS,p),void(this.state=pt.ENDED)}this._fetchPayloadOrEos(i,d,h)}}}}},e.prototype._fetchPayloadOrEos=function(t,e,r){var i=this.fragPrevious,n=this.level,a=r.fragments,o=a.length;if(0!==o){var s=a[0].start,l=a[o-1].start+a[o-1].duration,d=e.end,c=void 0;if(r.initSegment&&!r.initSegment.data)c=r.initSegment;else if(r.live){var h=this.config.initialLiveManifestSize;if(o<h)return void u.b.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+h);if(null===(c=this._ensureFragmentAtLivePoint(r,d,s,l,i,a,o)))return}else d<s&&(c=a[0]);c||(c=this._findFragment(s,i,o,a,d,l,r)),c&&(c.encrypted?(u.b.log("Loading key for "+c.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+n),this._loadKey(c)):(u.b.log("Loading "+c.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+n+", currentTime:"+t.toFixed(3)+",bufferEnd:"+d.toFixed(3)),this._loadFragment(c)))}},e.prototype._ensureFragmentAtLivePoint=function(t,e,r,i,n,a,o){var l=this.hls.config,d=this.media,c=void 0,h=void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(r-l.maxFragLookUpTolerance,i-h)){var f=this.liveSyncPosition=this.computeLivePosition(r,t);u.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),e=f,d&&d.readyState&&d.duration>f&&(d.currentTime=f),this.nextLoadPosition=f}if(t.PTSKnown&&e>i&&d&&d.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(n)if(t.hasProgramDateTime)u.b.log("live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),c=function(t,e,r){if(!Array.isArray(t)||!t.length||!Object(s.a)(e))return null;if(e<t[0].programDateTime)return null;if(e>=t[t.length-1].endProgramDateTime)return null;r=r||0;for(var i=0;i<t.length;++i){var n=t[i];if(ct(e,r,n))return n}return null}(a,n.endProgramDateTime,l.maxFragLookUpTolerance);else{var p=n.sn+1;if(p>=t.startSN&&p<=t.endSN){var g=a[p-t.startSN];n.cc===g.cc&&(c=g,u.b.log("live playlist, switching playlist, load frag with next SN: "+c.sn))}c||(c=V.search(a,function(t){return n.cc-t.cc}))&&u.b.log("live playlist, switching playlist, load frag with same CC: "+c.sn)}c||(c=a[Math.min(o-1,Math.round(o/2))],u.b.log("live playlist, switching playlist, unknown, load middle frag : "+c.sn))}return c},e.prototype._findFragment=function(t,e,r,i,n,a,o){var s=this.hls.config,l=void 0;n<a?l=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=t?e[t.sn-e[0].sn+1]:null;return n&&!dt(r,i,n)?n:V.search(e,dt.bind(null,r,i))}(e,i,n,n>a-s.maxFragLookUpTolerance?0:s.maxFragLookUpTolerance):l=i[r-1];if(l){var d=l.sn-o.startSN,c=e&&l.level===e.level,h=i[d-1],f=i[d+1];if(e&&l.sn===e.sn)if(c&&!l.backtracked)if(l.sn<o.endSN){var p=e.deltaPTS;p&&p>s.maxBufferHole&&e.dropped&&d?(l=h,u.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(l=f,u.b.log("SN just loaded, load next one: "+l.sn,l))}else l=null;else l.backtracked&&(f&&f.backtracked?(u.b.warn("Already backtracked from fragment "+f.sn+", will not backtrack to fragment "+l.sn+". Loading fragment "+f.sn),l=f):(u.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,h?(l=h).backtracked=!0:d&&(l=null)))}return l},e.prototype._loadKey=function(t){this.state=pt.KEY_LOADING,this.hls.trigger(l.a.KEY_LOADING,{frag:t})},e.prototype._loadFragment=function(t){var e=this.fragmentTracker.getState(t);this.fragCurrent=t,this.startFragRequested=!0,Object(s.a)(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||e===B||e===j?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(l.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new et(this.hls,"main")),this.state=pt.FRAG_LOADING):e===G&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},e.prototype.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,M.LevelType.MAIN)},e.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},e.prototype._checkFragmentChanged=function(){var t=void 0,e=void 0,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((e=r.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=e),Y.isBuffered(r,e)?t=this.getBufferedFrag(e):Y.isBuffered(r,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var i=t;if(i!==this.fragPlaying){this.hls.trigger(l.a.FRAG_CHANGED,{frag:i});var n=i.level;this.fragPlaying&&this.fragPlaying.level===n||this.hls.trigger(l.a.LEVEL_SWITCHED,{level:n}),this.fragPlaying=i}}},e.prototype.immediateLevelSwitch=function(){if(u.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,e=void 0;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},e.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,Y.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},e.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e,r=void 0,i=void 0;if((e=this.getBufferedFrag(t.currentTime))&&e.startPTS>1&&this.flushMainBuffer(0,e.startPTS-1),t.paused)r=0;else{var n=this.hls.nextLoadLevel,a=this.levels[n],o=this.fragLastKbps;r=o&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*o)+1:0}if((i=this.getBufferedFrag(t.currentTime+r))&&(i=this.followingBufferedFrag(i))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,Number.POSITIVE_INFINITY)}}},e.prototype.flushMainBuffer=function(t,e){this.state=pt.BUFFER_FLUSHING;var r={startOffset:t,endOffset:e};this.altAudio&&(r.type="video"),this.hls.trigger(l.a.BUFFER_FLUSHING,r)},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition),this.gapController=new ht(r,e,this.fragmentTracker,this.hls)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(u.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){var t=this.media,e=t?t.currentTime:void 0,r=this.config;Object(s.a)(e)&&u.b.log("media seeking to "+e.toFixed(3));var i=this.mediaBuffer?this.mediaBuffer:t,n=Y.bufferInfo(i,e,this.config.maxBufferHole);if(this.state===pt.FRAG_LOADING){var a=this.fragCurrent;if(0===n.len&&a){var o=r.maxFragLookUpTolerance,l=a.start-o,d=a.start+a.duration+o;e<l||e>d?(a.loader&&(u.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=pt.IDLE):u.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===pt.ENDED&&(0===n.len&&(this.fragPrevious=0),this.state=pt.IDLE);t&&(this.lastCurrentTime=e),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=e),this.tick()},e.prototype.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;Object(s.a)(e)&&u.b.log("media seeked to "+e.toFixed(3)),this.tick()},e.prototype.onMediaEnded=function(){u.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestLoading=function(){u.b.log("trigger BUFFER_RESET"),this.hls.trigger(l.a.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestParsed=function(t){var e=!1,r=!1,i=void 0;t.levels.forEach(function(t){(i=t.audioCodec)&&(-1!==i.indexOf("mp4a.40.2")&&(e=!0),-1!==i.indexOf("mp4a.40.5")&&(r=!0))}),this.audioCodecSwitch=e&&r,this.audioCodecSwitch&&u.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var n=this.config;(n.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(n.startPosition)},e.prototype.onLevelLoaded=function(t){var e=t.details,r=t.level,i=this.levels[this.levelLastLoaded],n=this.levels[r],a=e.totalduration,o=0;if(u.b.log("level "+r+" loaded ["+e.startSN+","+e.endSN+"],duration:"+a),e.live){var d=n.details;d&&e.fragments.length>0?(at(d,e),o=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,d),e.PTSKnown&&Object(s.a)(o)?u.b.log("live playlist sliding:"+o.toFixed(3)):(u.b.log("live playlist - outdated PTS, unknown sliding"),lt(this.fragPrevious,i,e))):(u.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,lt(this.fragPrevious,i,e))}else e.PTSKnown=!1;if(n.details=e,this.levelLastLoaded=r,this.hls.trigger(l.a.LEVEL_UPDATED,{details:e,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=e.startTimeOffset;Object(s.a)(c)?(c<0&&(u.b.log("negative start time offset "+c+", count from end of last fragment"),c=o+a+c),u.b.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c):e.live?(this.startPosition=this.computeLivePosition(o,e),u.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===pt.WAITING_LEVEL&&(this.state=pt.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===pt.KEY_LOADING&&(this.state=pt.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,r=this.hls,i=this.levels,n=this.media,a=t.frag;if(this.state===pt.FRAG_LOADING&&e&&"main"===a.type&&a.level===e.level&&a.sn===e.sn){var o=t.stats,s=i[e.level],d=s.details;if(this.bitrateTest=!1,this.stats=o,u.b.log("Loaded "+e.sn+" of ["+d.startSN+" ,"+d.endSN+"],level "+e.level),a.bitrateTest&&r.nextLoadLevel)this.state=pt.IDLE,this.startFragRequested=!1,o.tparsed=o.tbuffered=window.performance.now(),r.trigger(l.a.FRAG_BUFFERED,{stats:o,frag:e,id:"main"}),this.tick();else if("initSegment"===a.sn)this.state=pt.IDLE,o.tparsed=o.tbuffered=window.performance.now(),d.initSegment.data=t.payload,r.trigger(l.a.FRAG_BUFFERED,{stats:o,frag:e,id:"main"}),this.tick();else{u.b.log("Parsing "+e.sn+" of ["+d.startSN+" ,"+d.endSN+"],level "+e.level+", cc "+e.cc),this.state=pt.PARSING,this.pendingBuffering=!0,this.appended=!1,a.bitrateTest&&(a.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:a}));var c=!(n&&n.seeking)&&(d.PTSKnown||!d.live),h=d.initSegment?d.initSegment.data:[],f=this._getAudioCodec(s);(this.demuxer=this.demuxer||new et(this.hls,"main")).push(t.payload,h,f,s.videoCodec,e,d.totalduration,c)}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,r=t.frag;if(e&&"main"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===pt.PARSING){var i=t.tracks,n=void 0,a=void 0;if(i.audio&&this.altAudio&&delete i.audio,a=i.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(u.b.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==a.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==a.container&&(o="mp4a.40.2",u.b.log("Android: force audio codec to "+o)),a.levelCodec=o,a.id=t.id}for(n in(a=i.video)&&(a.levelCodec=this.levels[this.level].videoCodec,a.id=t.id),this.hls.trigger(l.a.BUFFER_CODECS,i),i){a=i[n],u.b.log("main track:"+n+",container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var d=a.initSegment;d&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.a.BUFFER_APPENDING,{type:n,data:d,parent:"main",content:"initSegment"}))}this.tick()}},e.prototype.onFragParsingData=function(t){var e=this,r=this.fragCurrent,i=t.frag;if(r&&"main"===t.id&&i.sn===r.sn&&i.level===r.level&&("audio"!==t.type||!this.altAudio)&&this.state===pt.PARSING){var n=this.levels[this.level],a=r;if(Object(s.a)(t.endPTS)||(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),!0===t.hasAudio&&a.addElementaryStream(m.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&a.addElementaryStream(m.ElementaryStreamTypes.VIDEO),u.b.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(a.dropped=t.dropped,a.dropped)if(a.backtracked)u.b.warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var o=n.details;if(!o||a.sn!==o.startSN)return u.b.warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=pt.IDLE,this.fragPrevious=a,void this.tick();u.b.warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var d=nt(n.details,a,t.startPTS,t.endPTS,t.startDTS,t.endDTS),c=this.hls;c.trigger(l.a.LEVEL_PTS_UPDATED,{details:n.details,level:this.level,drift:d,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(r){r&&r.length&&e.state===pt.PARSING&&(e.appended=!0,e.pendingBuffering=!0,c.trigger(l.a.BUFFER_APPENDING,{type:t.type,data:r,parent:"main",content:"data"}))}),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,r=t.frag;e&&"main"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===pt.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=pt.PARSED,this._checkAppendedParsed())},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url,r=t.id;if(!e){if(this.mediaBuffer!==this.media){u.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(u.b.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=pt.IDLE}var n=this.hls;n.trigger(l.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),n.trigger(l.a.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}},e.prototype.onAudioTrackSwitched=function(t){var e=t.id,r=!!this.hls.audioTracks[e].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(u.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},e.prototype.onBufferCreated=function(t){var e=t.tracks,r=void 0,i=void 0,n=!1;for(var a in e){var o=e[a];"main"===o.id?(i=a,r=o,"video"===a&&(this.videoBuffer=e[a].buffer)):n=!0}n&&r?(u.b.log("alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},e.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==pt.PARSING&&e!==pt.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==pt.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;u.b.log("main buffered : "+ot.toString(e.buffered)),this.fragPrevious=t;var r=this.stats;r.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(l.a.FRAG_BUFFERED,{stats:r,frag:t,id:"main"}),this.state=pt.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var r=!!this.media&&Y.isBuffered(this.media,this.media.currentTime)&&Y.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case o.a.FRAG_LOAD_ERROR:case o.a.FRAG_LOAD_TIMEOUT:case o.a.KEY_LOAD_ERROR:case o.a.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);u.b.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=window.performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=pt.FRAG_LOADING_WAITING_RETRY}else u.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=pt.ERROR;break;case o.a.LEVEL_LOAD_ERROR:case o.a.LEVEL_LOAD_TIMEOUT:this.state!==pt.ERROR&&(t.fatal?(this.state=pt.ERROR,u.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==pt.WAITING_LEVEL||(this.state=pt.IDLE));break;case o.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==pt.PARSING&&this.state!==pt.PARSED||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=pt.IDLE):(u.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},e.prototype._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,u.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},e.prototype._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,e)}},e.prototype.onFragLoadEmergencyAborted=function(){this.state=pt.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},e.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;t&&this.fragmentTracker.detectEvictedFragments(m.ElementaryStreamTypes.VIDEO,t.buffered),this.state=pt.IDLE,this.fragPrevious=null},e.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},e.prototype.computeLivePosition=function(t,e){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-r)},e.prototype._seekToStartPos=function(){var t=this.media,e=t.currentTime,r=t.seeking?e:this.startPosition;e!==r&&(u.b.log("target start position not buffered, seek to buffered.start(0) "+r+" from current time "+e+" "),t.currentTime=r)},e.prototype._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(u.b.log("swapping playlist audio codec"),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},ft(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,u.b.log("main stream:"+e+"->"+t),this.hls.trigger(l.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),e}(ut),vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();var yt=window.performance,bt=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.MANIFEST_LOADED,l.a.LEVEL_LOADED,l.a.AUDIO_TRACK_SWITCHED,l.a.FRAG_LOADED,l.a.ERROR));return i.canload=!1,i.currentLevelIndex=null,i.manualLevelIndex=-1,i.timer=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},e.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e=[],r=void 0,i={},n=null,a=!1,s=!1,d=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),c=[];if(t.levels.forEach(function(t){t.loadError=0,t.fragmentError=!1,a=a||!!t.videoCodec,s=s||!!t.audioCodec||!(!t.attrs||!t.attrs.AUDIO),d&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(n=i[t.bitrate])?n.url.push(t.url):(t.url=[t.url],t.urlId=0,i[t.bitrate]=t,e.push(t)),t.attrs&&t.attrs.AUDIO&&rt(n||t,"audio",t.attrs.AUDIO),t.attrs&&t.attrs.SUBTITLES&&rt(n||t,"text",t.attrs.SUBTITLES)}),a&&s&&(e=e.filter(function(t){return!!t.videoCodec})),e=e.filter(function(t){var e=t.audioCodec,r=t.videoCodec;return(!e||A(e))&&(!r||A(r))}),t.audioTracks&&(c=t.audioTracks.filter(function(t){return!t.audioCodec||A(t.audioCodec,"audio")})).forEach(function(t,e){t.id=e}),e.length>0){r=e[0].bitrate,e.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=e;for(var h=0;h<e.length;h++)if(e[h].bitrate===r){this._firstLevel=h,u.b.log("manifest loaded,"+e.length+" level(s) found, first bitrate:"+r);break}this.hls.trigger(l.a.MANIFEST_PARSED,{levels:e,audioTracks:c,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:a,altAudio:c.length>0&&a})}else this.hls.trigger(l.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},e.prototype.setLevelInternal=function(t){var e=this._levels,r=this.hls;if(t>=0&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){u.b.log("switching to level "+t),this.currentLevelIndex=t;var i=e[t];i.level=t,r.trigger(l.a.LEVEL_SWITCHING,i)}var n=e[t],a=n.details;if(!a||a.live){var s=n.urlId;r.trigger(l.a.LEVEL_LOADING,{url:n.url[s],level:t,id:s})}}else r.trigger(l.a.ERROR,{type:o.b.OTHER_ERROR,details:o.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},e.prototype.onError=function(t){if(t.fatal)t.type===o.b.NETWORK_ERROR&&this.clearTimer();else{var e=!1,r=!1,i=void 0;switch(t.details){case o.a.FRAG_LOAD_ERROR:case o.a.FRAG_LOAD_TIMEOUT:case o.a.KEY_LOAD_ERROR:case o.a.KEY_LOAD_TIMEOUT:i=t.frag.level,r=!0;break;case o.a.LEVEL_LOAD_ERROR:case o.a.LEVEL_LOAD_TIMEOUT:i=t.context.level,e=!0;break;case o.a.REMUX_ALLOC_ERROR:i=t.level,e=!0}void 0!==i&&this.recoverLevel(t,i,e,r)}},e.prototype.recoverLevel=function(t,e,r,i){var n=this,a=this.hls.config,o=t.details,s=this._levels[e],l=void 0,d=void 0,c=void 0;if(s.loadError++,s.fragmentError=i,r){if(!(this.levelRetryCount+1<=a.levelLoadingMaxRetry))return u.b.error("level controller, cannot recover from "+o+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);d=Math.min(Math.pow(2,this.levelRetryCount)*a.levelLoadingRetryDelay,a.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return n.loadLevel()},d),t.levelRetry=!0,this.levelRetryCount++,u.b.warn("level controller, "+o+", retry in "+d+" ms, current retry count is "+this.levelRetryCount)}(r||i)&&((l=s.url.length)>1&&s.loadError<l?(s.urlId=(s.urlId+1)%l,s.details=void 0,u.b.warn("level controller, "+o+" for level "+e+": switching to redundant URL-id "+s.urlId)):-1===this.manualLevelIndex?(c=0===e?this._levels.length-1:e-1,u.b.warn("level controller, "+o+": switch to "+c),this.hls.nextAutoLevel=this.currentLevelIndex=c):i&&(u.b.warn("level controller, "+o+": reload a fragment"),this.currentLevelIndex=null))},e.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var r=this._levels[e.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},e.prototype.onLevelLoaded=function(t){var e=this,r=t.level;if(r===this.currentLevelIndex){var i=this._levels[r];i.fragmentError||(i.loadError=0,this.levelRetryCount=0);var n=t.details;if(n.live){var a=1e3*(n.averagetargetduration?n.averagetargetduration:n.targetduration),o=a,s=i.details;s&&n.endSN===s.endSN&&(o/=2,u.b.log("same live playlist, reload twice faster")),o-=yt.now()-t.stats.trequest,o=Math.max(a/2,Math.round(o)),u.b.log("live playlist, reload in "+Math.round(o)+" ms"),this.timer=setTimeout(function(){return e.loadLevel()},o)}else this.clearTimer()}},e.prototype.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){var i=r.audioGroupIds.findIndex(function(t){return t===e});i!==r.urlId&&(r.urlId=i,this.startLoad())}},e.prototype.loadLevel=function(){if(u.b.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"===(void 0===t?"undefined":vt(t))&&t.url.length>0){var e=this.currentLevelIndex,r=t.urlId,i=t.url[r];u.b.log("Attempt loading level index "+e+" with URL-id "+r),this.hls.trigger(l.a.LEVEL_LOADING,{url:i,level:e,id:r})}}},mt(e,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),e}(h),Et=r(6);function Tt(t,e){var r=null;try{r=new window.Event("addtrack")}catch(t){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)}function St(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}var _t=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.MEDIA_ATTACHED,l.a.MEDIA_DETACHING,l.a.FRAG_PARSING_METADATA));return i.id3Track=void 0,i.media=void 0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){h.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media},e.prototype.onMediaDetaching=function(){St(this.id3Track),this.id3Track=void 0,this.media=void 0},e.prototype.getID3Track=function(t){for(var e=0;e<t.length;e++){var r=t[e];if("metadata"===r.kind&&"id3"===r.label)return Tt(r,this.media),r}return this.media.addTextTrack("metadata","id3")},e.prototype.onFragParsingMetadata=function(t){var e=t.frag,r=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,n=0;n<r.length;n++){var a=Et.a.getID3Frames(r[n].data);if(a){var o=r[n].pts,s=n<r.length-1?r[n+1].pts:e.endPTS;o===s&&(s+=1e-4);for(var l=0;l<a.length;l++){var u=a[l];if(!Et.a.isTimeStampFrame(u)){var d=new i(o,s,"");d.value=u,this.id3Track.addCue(d)}}}}},e}(h);var At=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var r=Math.pow(this.alpha_,t);this.estimate_=e*(1-r)+r*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}();var Rt=function(){function t(e,r,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hls=e,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new At(r),this.fast_=new At(i)}return t.prototype.sample=function(t,e){var r=8e3*e/(t=Math.max(t,this.minDelayMs_)),i=t/1e3;this.fast_.sample(i,r),this.slow_.sample(i,r)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}(),wt=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();var Lt=window.performance,Dt=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.FRAG_LOADING,l.a.FRAG_LOADED,l.a.FRAG_BUFFERED,l.a.ERROR));return i.lastLoadedFragLevel=0,i._nextAutoLevel=-1,i.hls=r,i.timer=null,i._bwEstimator=null,i.onCheck=i._abandonRulesCheck.bind(i),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.clearTimer(),h.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var r=this.hls,i=r.config,n=e.level,a=void 0,o=void 0;r.levels[n].details.live?(a=i.abrEwmaFastLive,o=i.abrEwmaSlowLive):(a=i.abrEwmaFastVoD,o=i.abrEwmaSlowVoD),this._bwEstimator=new Rt(r,o,a,i.abrEwmaDefaultEstimate)}},e.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,r=this.fragCurrent;if(r){var i=r.loader,n=t.minAutoLevel;if(!i||i.stats&&i.stats.aborted)return u.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var a=i.stats;if(e&&a&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&r.autoLevel&&r.level){var o=Lt.now()-a.trequest,s=Math.abs(e.playbackRate);if(o>500*r.duration/s){var d=t.levels,c=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/o),h=d[r.level],f=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,p=a.total?a.total:Math.max(a.loaded,Math.round(r.duration*f/8)),g=e.currentTime,v=(p-a.loaded)/c,m=(Y.bufferInfo(e,g,t.config.maxBufferHole).end-g)/s;if(m<2*r.duration/s&&v>m){var y=void 0,b=void 0;for(b=r.level-1;b>n;b--){var E=d[b].realBitrate?Math.max(d[b].realBitrate,d[b].bitrate):d[b].bitrate;if((y=r.duration*E/(6.4*c))<m)break}y<v&&(u.b.warn("loading too slow, abort fragment loading and switch to level "+b+":fragLoadedDelay["+b+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+y.toFixed(1)+"<"+v.toFixed(1)+":"+m.toFixed(1)),t.nextLoadLevel=b,this._bwEstimator.sample(o,a.loaded),i.abort(),this.clearTimer(),t.trigger(l.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:a}))}}}}},e.prototype.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&Object(s.a)(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[e.level],i=(r.loaded?r.loaded.bytes:0)+t.stats.loaded,n=(r.loaded?r.loaded.duration:0)+t.frag.duration;r.loaded={bytes:i,duration:n},r.realBitrate=Math.round(8*i/n)}if(t.frag.bitrateTest){var a=t.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(t)}}},e.prototype.onFragBuffered=function(t){var e=t.stats,r=t.frag;if(!0!==e.aborted&&"main"===r.type&&Object(s.a)(r.sn)&&(!r.bitrateTest||e.tload===e.tbuffered)){var i=e.tparsed-e.trequest;u.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(i,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},e.prototype.onError=function(t){switch(t.details){case o.a.FRAG_LOAD_ERROR:case o.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},e.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},e.prototype._findBestLevel=function(t,e,r,i,n,a,o,s,l){for(var d=n;d>=i;d--){var c=l[d];if(c){var h=c.details,f=h?h.totalduration/h.fragments.length:e,p=!!h&&h.live,g=void 0;g=d<=t?o*r:s*r;var v=l[d].realBitrate?Math.max(l[d].realBitrate,l[d].bitrate):l[d].bitrate,m=v*f/g;if(u.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+d+"/"+Math.round(g)+"/"+v+"/"+f+"/"+a+"/"+m),g>v&&(!m||p&&!this.bitrateTestDelay||m<a))return d}}return-1},wt(e,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var r=this._nextABRAutoLevel;return-1!==t&&(r=Math.min(t,r)),r},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,r=t.levels,i=t.config,n=t.minAutoLevel,a=t.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=a?a.currentTime:0,d=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,c=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(Y.bufferInfo(a,l,i.maxBufferHole).end-l)/d,f=this._findBestLevel(o,s,c,n,e,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor,r);if(f>=0)return f;u.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,g=i.abrBandWidthFactor,v=i.abrBandWidthUpFactor;if(0===h){var m=this.bitrateTestDelay;if(m)p=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-m,u.b.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),g=v=1}return f=this._findBestLevel(o,s,c,n,e,h+p,g,v,r),Math.max(f,0)}}]),e}(h);var kt=$(),It=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.MEDIA_ATTACHING,l.a.MEDIA_DETACHING,l.a.MANIFEST_PARSED,l.a.BUFFER_RESET,l.a.BUFFER_APPENDING,l.a.BUFFER_CODECS,l.a.BUFFER_EOS,l.a.BUFFER_FLUSHING,l.a.LEVEL_PTS_UPDATED,l.a.LEVEL_UPDATED));return i._msDuration=null,i._levelDuration=null,i._live=null,i._objectUrl=null,i.onsbue=i.onSBUpdateEnd.bind(i),i.onsbe=i.onSBUpdateError.bind(i),i.pendingTracks={},i.tracks={},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){h.prototype.destroy.call(this)},e.prototype.onLevelPtsUpdated=function(t){var e=t.type,r=this.tracks.audio;if("audio"===e&&r&&"audio/mpeg"===r.container){var i=this.sourceBuffer.audio;if(Math.abs(i.timestampOffset-t.start)>.1){var n=i.updating;try{i.abort()}catch(t){n=!0,u.b.warn("can not abort audio buffer: "+t)}n?this.audioTimestampOffset=t.start:(u.b.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+t.start),i.timestampOffset=t.start)}}},e.prototype.onManifestParsed=function(t){var e=t.audio,r=t.video||t.levels.length&&t.altAudio,i=0;t.altAudio&&(e||r)&&(i=(e?1:0)+(r?1:0),u.b.log(i+" sourceBuffer(s) expected")),this.sourceBufferNb=i},e.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var r=this.mediaSource=new kt;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),e.src=window.URL.createObjectURL(r),this._objectUrl=e.src}},e.prototype.onMediaDetaching=function(){u.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){u.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):u.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(l.a.MEDIA_DETACHED)},e.prototype.onMediaSourceOpen=function(){u.b.log("media source opened"),this.hls.trigger(l.a.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},e.prototype.checkPendingTracks=function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},e.prototype.onMediaSourceClose=function(){u.b.log("media source closed")},e.prototype.onMediaSourceEnded=function(){u.b.log("media source ended")},e.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;u.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,r=this.segments.reduce(function(t,r){return r.parent===e?t+1:t},0),i={},n=this.sourceBuffer;for(var a in n)i[a]=n[a].buffered;this.hls.trigger(l.a.BUFFER_APPENDED,{parent:e,pending:r,timeRanges:i}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},e.prototype.onSBUpdateError=function(t){u.b.error("sourceBuffer error:",t),this.hls.trigger(l.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var r=t[e];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},e.prototype.onBufferCodecs=function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var r=this.mediaSource;r&&"open"===r.readyState&&this.checkPendingTracks()}},e.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,r=this.mediaSource;for(var i in t)if(!e[i]){var n=t[i],a=n.levelCodec||n.codec,s=n.container+";codecs="+a;u.b.log("creating sourceBuffer("+s+")");try{var d=e[i]=r.addSourceBuffer(s);d.addEventListener("updateend",this.onsbue),d.addEventListener("error",this.onsbe),this.tracks[i]={codec:a,container:n.container},n.buffer=d}catch(t){u.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(l.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:s})}}this.hls.trigger(l.a.BUFFER_CREATED,{tracks:t})},e.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},e.prototype.onBufferAppendFail=function(t){u.b.error("sourceBuffer error:",t.event),this.hls.trigger(l.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferEos=function(t){var e=this.sourceBuffer,r=t.type;for(var i in e)r&&i!==r||e[i].ended||(e[i].ended=!0,u.b.log(i+" sourceBuffer now EOS"));this.checkEos()},e.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var r in t){var i=t[r];if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}u.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){u.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},e.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},e.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._live=e.live,this.updateMediaElementDuration())},e.prototype.updateMediaElementDuration=function(){var t,e=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer)if(!0===this.sourceBuffer[r].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(u.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!Object(s.a)(t))&&(u.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},e.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,r=this.sourceBuffer;try{for(var i in r)e+=r[i].buffered.length}catch(t){u.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(l.a.BUFFER_FLUSHED)}},e.prototype.doAppending=function(){var t=this.hls,e=this.sourceBuffer,r=this.segments;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void u.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(r&&r.length){var i=r.shift();try{var n=e[i.type];n?n.updating?r.unshift(i):(n.ended=!1,this.parent=i.parent,n.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){u.b.error("error while trying to append buffer:"+e.message),r.unshift(i);var a={type:o.b.MEDIA_ERROR,parent:i.parent};22!==e.code?(this.appendError?this.appendError++:this.appendError=1,a.details=o.a.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry?(u.b.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),r=[],a.fatal=!0,t.trigger(l.a.ERROR,a)):(a.fatal=!1,t.trigger(l.a.ERROR,a))):(this.segments=[],a.details=o.a.BUFFER_FULL_ERROR,a.fatal=!1,t.trigger(l.a.ERROR,a))}}}},e.prototype.flushBuffer=function(t,e,r){var i=void 0,n=void 0,a=void 0,o=void 0,s=void 0,l=void 0,d=this.sourceBuffer;if(Object.keys(d).length){if(u.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var c in d)if(!r||c===r){if((i=d[c]).ended=!1,i.updating)return u.b.warn("cannot flush, sb updating in progress"),!1;try{for(n=0;n<i.buffered.length;n++)if(a=i.buffered.start(n),o=i.buffered.end(n),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(s=t,l=e):(s=Math.max(a,t),l=Math.min(o,e)),Math.min(l,o)-s>.5)return this.flushBufferCounter++,u.b.log("flush "+c+" ["+s+","+l+"], of ["+a+","+o+"], pos:"+this.media.currentTime),i.remove(s,l),!1}catch(t){u.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else u.b.warn("abort flushing too many retries");u.b.log("buffer flushed")}return!0},e}(h),Ot=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();var xt=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.FPS_DROP_LEVEL_CAPPING,l.a.MEDIA_ATTACHING,l.a.MANIFEST_PARSED,l.a.BUFFER_CODECS,l.a.MEDIA_DETACHING));return i.autoLevelCapping=Number.POSITIVE_INFINITY,i.firstLevel=null,i.levels=[],i.media=null,i.restrictedLevels=[],i.timer=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},e.prototype.onFpsDropLevelCapping=function(t){e.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},e.prototype.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},e.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&(t.video||t.levels.length&&t.altAudio)&&this._startCapping()},e.prototype.onBufferCodecs=function(t){this.hls.config.capLevelToPlayerSize&&t.video&&this._startCapping()},e.prototype.onLevelsUpdated=function(t){this.levels=t.levels},e.prototype.onMediaDetaching=function(){this._stopCapping()},e.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},e.prototype.getMaxLevel=function(t){var r=this;if(!this.levels)return-1;var i=this.levels.filter(function(i,n){return e.isLevelAllowed(n,r.restrictedLevels)&&n<=t});return e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},e.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},e.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},e.isLevelAllowed=function(t){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(t)},e.getMaxLevelByMediaSize=function(t,e,r){if(!t||t&&!t.length)return-1;for(var i=function(t,e){return!e||(t.width!==e.width||t.height!==e.height)},n=t.length-1,a=0;a<t.length;a+=1){var o=t[a];if((o.width>=e||o.height>=r)&&i(o,t[a+1])){n=a;break}}return n},Ot(e,[{key:"mediaWidth",get:function(){var t=void 0,r=this.media;return r&&(t=r.width||r.clientWidth||r.offsetWidth,t*=e.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,r=this.media;return r&&(t=r.height||r.clientHeight||r.offsetHeight,t*=e.contentScaleFactor),t}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}]),e}(h);var Ct=window.performance,Pt=function(t){function e(r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.MEDIA_ATTACHING))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof window.HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},e.prototype.checkFPS=function(t,e,r){var i=Ct.now();if(e){if(this.lastTime){var n=i-this.lastTime,a=r-this.lastDroppedFrames,o=e-this.lastDecodedFrames,s=1e3*a/n,d=this.hls;if(d.trigger(l.a.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:r}),s>0&&a>d.config.fpsDroppedMonitoringThreshold*o){var c=d.currentLevel;u.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(-1===d.autoLevelCapping||d.autoLevelCapping>=c)&&(c-=1,d.trigger(l.a.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:d.currentLevel}),d.autoLevelCapping=c,d.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(h);var Ft=window,Mt=Ft.performance,Nt=Ft.XMLHttpRequest,Ut=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,r){this.context=t,this.config=e,this.callbacks=r,this.stats={trequest:Mt.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t=void 0,e=this.context;t=this.loader=new Nt;var r=this.stats;r.tfirst=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(t,e.url)}catch(r){t.open("GET",e.url,!0),i(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(r){return void this.callbacks.onError({code:t.status,text:r.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,r=e.readyState,i=this.stats,n=this.context,a=this.config;if(!i.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(Mt.now(),i.trequest)),4===r){var o=e.status;if(o>=200&&o<300){i.tload=Math.max(i.tfirst,Mt.now());var s=void 0,l=void 0;l="arraybuffer"===n.responseType?(s=e.response).byteLength:(s=e.responseText).length,i.loaded=i.total=l;var d={url:e.responseURL,data:s};this.callbacks.onSuccess(d,i,n,e)}else i.retry>=a.maxRetry||o>=400&&o<499?(u.b.error(o+" while loading "+n.url),this.callbacks.onError({code:o,text:e.statusText},n,e)):(u.b.warn(o+" while loading "+n.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},t.prototype.loadtimeout=function(){u.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,r=this.stats;r.loaded=t.loaded,t.lengthComputable&&(r.total=t.total);var i=this.callbacks.onProgress;i&&i(r,this.context,null,e)},t}(),Bt=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();var Gt=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.MANIFEST_LOADING,l.a.MANIFEST_PARSED,l.a.AUDIO_TRACK_LOADED,l.a.AUDIO_TRACK_SWITCHED,l.a.LEVEL_LOADED,l.a.ERROR));return i._trackId=-1,i._selectDefaultTrack=!0,i.tracks=[],i.trackIdBlacklist=Object.create(null),i.audioGroupId=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},e.prototype.onManifestParsed=function(t){var e=this.tracks=t.audioTracks||[];this.hls.trigger(l.a.AUDIO_TRACKS_UPDATED,{audioTracks:e})},e.prototype.onAudioTrackLoaded=function(t){if(t.id>=this.tracks.length)u.b.warn("Invalid audio track id:",t.id);else{if(u.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.hasInterval()){var e=1e3*t.details.targetduration;this.setInterval(e)}!t.details.live&&this.hasInterval()&&this.clearInterval()}},e.prototype.onAudioTrackSwitched=function(t){var e=this.tracks[t.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},e.prototype.onLevelLoaded=function(t){var e=this.hls.levels[t.level];if(e.audioGroupIds){var r=e.audioGroupIds[e.urlId];this.audioGroupId!==r&&(this.audioGroupId=r,this._selectInitialAudioTrack())}},e.prototype.onError=function(t){t.type===o.b.NETWORK_ERROR&&(t.fatal&&this.clearInterval(),t.details===o.a.AUDIO_TRACK_LOAD_ERROR&&(u.b.warn("Network failure on audio-track id:",t.context.id),this._handleLoadError()))},e.prototype._setAudioTrack=function(t){if(this._trackId===t&&this.tracks[this._trackId].details)u.b.debug("Same id as current audio-track passed, and track details available -> no-op");else if(t<0||t>=this.tracks.length)u.b.warn("Invalid id passed to audio-track controller");else{var e=this.tracks[t];u.b.log("Now switching to audio-track index "+t),this.clearInterval(),this._trackId=t;var r=e.url,i=e.type,n=e.id;this.hls.trigger(l.a.AUDIO_TRACK_SWITCHING,{id:n,type:i,url:r}),this._loadTrackDetailsIfNeeded(e)}},e.prototype.doTick=function(){this._updateTrack(this._trackId)},e.prototype._selectInitialAudioTrack=function(){var t=this,e=this.tracks;if(e.length){var r=this.tracks[this._trackId],i=null;if(r&&(i=r.name),this._selectDefaultTrack){var n=e.filter(function(t){return t.default});n.length?e=n:u.b.warn("No default audio tracks defined")}var a=!1,s=function(){e.forEach(function(e){a||t.audioGroupId&&e.groupId!==t.audioGroupId||i&&i!==e.name||(t._setAudioTrack(e.id),a=!0)})};s(),a||(i=null,s()),a||(u.b.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(l.a.ERROR,{type:o.b.MEDIA_ERROR,details:o.a.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},e.prototype._needsTrackLoading=function(t){var e=t.details;return!e||(!!e.live||void 0)},e.prototype._loadTrackDetailsIfNeeded=function(t){if(this._needsTrackLoading(t)){var e=t.url,r=t.id;u.b.log("loading audio-track playlist for id: "+r),this.hls.trigger(l.a.AUDIO_TRACK_LOADING,{url:e,id:r})}},e.prototype._updateTrack=function(t){if(!(t<0||t>=this.tracks.length)){this.clearInterval(),this._trackId=t,u.b.log("trying to update audio-track "+t);var e=this.tracks[t];this._loadTrackDetailsIfNeeded(e)}},e.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var t=this._trackId,e=this.tracks[t],r=e.name,i=e.language,n=e.groupId;u.b.warn("Loading failed on audio track id: "+t+", group-id: "+n+', name/language: "'+r+'" / "'+i+'"');for(var a=t,o=0;o<this.tracks.length;o++){if(!this.trackIdBlacklist[o])if(this.tracks[o].name===r){a=o;break}}a!==t?(u.b.log("Attempting audio-track fallback id:",a,"group-id:",this.tracks[a].groupId),this._setAudioTrack(a)):u.b.warn('No fallback audio-track found for name/language: "'+r+'" / "'+i+'"')},Bt(e,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(t){this._setAudioTrack(t),this._selectDefaultTrack=!1}}]),e}(ut),jt=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();var Kt=window.performance,Ht={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},Vt=function(t){function e(r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.MEDIA_ATTACHED,l.a.MEDIA_DETACHING,l.a.AUDIO_TRACKS_UPDATED,l.a.AUDIO_TRACK_SWITCHING,l.a.AUDIO_TRACK_LOADED,l.a.KEY_LOADED,l.a.FRAG_LOADED,l.a.FRAG_PARSING_INIT_SEGMENT,l.a.FRAG_PARSING_DATA,l.a.FRAG_PARSED,l.a.ERROR,l.a.BUFFER_RESET,l.a.BUFFER_CREATED,l.a.BUFFER_APPENDED,l.a.BUFFER_FLUSHED,l.a.INIT_PTS_FOUND));return n.fragmentTracker=i,n.config=r.config,n.audioCodecSwap=!1,n._state=Ht.STOPPED,n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},e.prototype.onHandlerDestroyed=function(){this.state=Ht.STOPPED,this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},e.prototype.onInitPtsFound=function(t){var e=t.id,r=t.frag.cc,i=t.initPTS;"main"===e&&(this.initPTS[r]=i,this.videoTrackCC=r,u.b.log("InitPTS for cc: "+r+" found from video track: "+i),this.state===Ht.WAITING_INIT_PTS&&this.tick())},e.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(u.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=Ht.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=Ht.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=Ht.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Ht.STOPPED},e.prototype.doTick=function(){var t=void 0,e=void 0,r=void 0,i=this.hls,n=i.config;switch(this.state){case Ht.ERROR:case Ht.PAUSED:case Ht.BUFFER_FLUSHING:break;case Ht.STARTING:this.state=Ht.WAITING_TRACK,this.loadedmetadata=!1;break;case Ht.IDLE:var a=this.tracks;if(!a)break;if(!this.media&&(this.startFragRequested||!n.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var o=this.mediaBuffer?this.mediaBuffer:this.media,d=this.videoBuffer?this.videoBuffer:this.media,c=Y.bufferInfo(o,t,n.maxBufferHole),h=Y.bufferInfo(d,t,n.maxBufferHole),f=c.len,p=c.end,g=this.fragPrevious,v=Math.min(n.maxBufferLength,n.maxMaxBufferLength),m=Math.max(v,h.len),y=this.audioSwitch,b=this.trackId;if((f<m||y)&&b<a.length){if(void 0===(r=a[b].details)){this.state=Ht.WAITING_TRACK;break}if(!y&&!r.live&&g&&g.sn===r.endSN&&!c.nextStart&&(!this.media.seeking||this.media.duration-p<g.duration/2)){this.hls.trigger(l.a.BUFFER_EOS,{type:"audio"}),this.state=Ht.ENDED;break}var E=r.fragments,T=E.length,S=E[0].start,_=E[T-1].start+E[T-1].duration,A=void 0;if(y)if(r.live&&!r.PTSKnown)u.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),p=0;else if(p=t,r.PTSKnown&&t<S){if(!(c.end>S||c.nextStart))return;u.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=S+.05}if(r.initSegment&&!r.initSegment.data)A=r.initSegment;else if(p<=S){if(A=E[0],null!==this.videoTrackCC&&A.cc!==this.videoTrackCC&&(A=function(t,e){return V.search(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}(E,this.videoTrackCC)),r.live&&A.loadIdx&&A.loadIdx===this.fragLoadIdx){var R=c.nextStart?c.nextStart:S;return u.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(R+.05)),void(this.media.currentTime=R+.05)}}else{var w=void 0,L=n.maxFragLookUpTolerance,D=g?E[g.sn-E[0].sn+1]:void 0,k=function(t){var e=Math.min(L,t.duration);return t.start+t.duration-e<=p?1:t.start-e>p&&t.start?-1:0};p<_?(p>_-L&&(L=0),w=D&&!k(D)?D:V.search(E,k)):w=E[T-1],w&&(A=w,S=w.start,g&&A.level===g.level&&A.sn===g.sn&&(A.sn<r.endSN?(A=E[A.sn+1-r.startSN],u.b.log("SN just loaded, load next one: "+A.sn)):A=null))}A&&(A.encrypted?(u.b.log("Loading key for "+A.sn+" of ["+r.startSN+" ,"+r.endSN+"],track "+b),this.state=Ht.KEY_LOADING,i.trigger(l.a.KEY_LOADING,{frag:A})):(u.b.log("Loading "+A.sn+", cc: "+A.cc+" of ["+r.startSN+" ,"+r.endSN+"],track "+b+", currentTime:"+t+",bufferEnd:"+p.toFixed(3)),(y||this.fragmentTracker.getState(A)===B)&&(this.fragCurrent=A,this.startFragRequested=!0,Object(s.a)(A.sn)&&(this.nextLoadPosition=A.start+A.duration),i.trigger(l.a.FRAG_LOADING,{frag:A}),this.state=Ht.FRAG_LOADING)))}break;case Ht.WAITING_TRACK:(e=this.tracks[this.trackId])&&e.details&&(this.state=Ht.IDLE);break;case Ht.FRAG_LOADING_WAITING_RETRY:var I=Kt.now(),O=this.retryDate,x=(o=this.media)&&o.seeking;(!O||I>=O||x)&&(u.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Ht.IDLE);break;case Ht.WAITING_INIT_PTS:var C=this.videoTrackCC;if(void 0===this.initPTS[C])break;var P=this.waitingFragment;if(P){var F=P.frag.cc;C!==F?(e=this.tracks[this.trackId]).details&&e.details.live&&(u.b.warn("Waiting fragment CC ("+F+") does not match video track CC ("+C+")"),this.waitingFragment=null,this.state=Ht.IDLE):(this.state=Ht.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=Ht.IDLE;break;case Ht.STOPPED:case Ht.FRAG_LOADING:case Ht.PARSING:case Ht.PARSED:case Ht.ENDED:}},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(u.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){this.state===Ht.ENDED&&(this.state=Ht.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),this.tick()},e.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},e.prototype.onAudioTracksUpdated=function(t){u.b.log("audio tracks updated"),this.tracks=t.audioTracks},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=Ht.PAUSED,this.waitingFragment=null,e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=Ht.IDLE),this.tick()},e.prototype.onAudioTrackLoaded=function(t){var e=t.details,r=t.id,i=this.tracks[r],n=e.totalduration,a=0;if(u.b.log("track "+r+" loaded ["+e.startSN+","+e.endSN+"],duration:"+n),e.live){var o=i.details;o&&e.fragments.length>0?(at(o,e),a=e.fragments[0].start,e.PTSKnown?u.b.log("live audio playlist sliding:"+a.toFixed(3)):u.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,u.b.log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(i.details=e,!this.startFragRequested){if(-1===this.startPosition){var l=e.startTimeOffset;Object(s.a)(l)?(u.b.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===Ht.WAITING_TRACK&&(this.state=Ht.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===Ht.KEY_LOADING&&(this.state=Ht.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,r=t.frag;if(this.state===Ht.FRAG_LOADING&&e&&"audio"===r.type&&r.level===e.level&&r.sn===e.sn){var i=this.tracks[this.trackId],n=i.details,a=n.totalduration,o=e.level,s=e.sn,d=e.cc,c=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",h=this.stats=t.stats;if("initSegment"===s)this.state=Ht.IDLE,h.tparsed=h.tbuffered=Kt.now(),n.initSegment.data=t.payload,this.hls.trigger(l.a.FRAG_BUFFERED,{stats:h,frag:e,id:"audio"}),this.tick();else{this.state=Ht.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new et(this.hls,"audio"));var f=this.initPTS[d],p=n.initSegment?n.initSegment.data:[];if(n.initSegment||void 0!==f){this.pendingBuffering=!0,u.b.log("Demuxing "+s+" of ["+n.startSN+" ,"+n.endSN+"],track "+o);this.demuxer.push(t.payload,p,c,null,e,a,!1,f)}else u.b.log("unknown video PTS for continuity counter "+d+", waiting for video PTS before demuxing audio frag "+s+" of ["+n.startSN+" ,"+n.endSN+"],track "+o),this.waitingFragment=t,this.state=Ht.WAITING_INIT_PTS}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,r=t.frag;if(e&&"audio"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===Ht.PARSING){var i=t.tracks,n=void 0;if(i.video&&delete i.video,n=i.audio){n.levelCodec=n.codec,n.id=t.id,this.hls.trigger(l.a.BUFFER_CODECS,i),u.b.log("audio track:audio,container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var a=n.initSegment;if(a){var o={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.a.BUFFER_APPENDING,o))}this.tick()}}},e.prototype.onFragParsingData=function(t){var e=this,r=this.fragCurrent,i=t.frag;if(r&&"audio"===t.id&&"audio"===t.type&&i.sn===r.sn&&i.level===r.level&&this.state===Ht.PARSING){var n=this.trackId,a=this.tracks[n],d=this.hls;Object(s.a)(t.endPTS)||(t.endPTS=t.startPTS+r.duration,t.endDTS=t.startDTS+r.duration),r.addElementaryStream(m.ElementaryStreamTypes.AUDIO),u.b.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),nt(a.details,r,t.startPTS,t.endPTS);var c=this.audioSwitch,h=this.media,f=!1;if(c&&h)if(h.readyState){var p=h.currentTime;u.b.log("switching audio track : currentTime:"+p),p>=t.startPTS&&(u.b.log("switching audio track : flushing all audio"),this.state=Ht.BUFFER_FLUSHING,d.trigger(l.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),f=!0,this.audioSwitch=!1,d.trigger(l.a.AUDIO_TRACK_SWITCHED,{id:n}))}else this.audioSwitch=!1,d.trigger(l.a.AUDIO_TRACK_SWITCHED,{id:n});var g=this.pendingData;if(!g)return u.b.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void d.trigger(l.a.ERROR,{type:o.b.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&g.push({type:t.type,data:e,parent:"audio",content:"data"})}),!f&&g.length&&(g.forEach(function(t){e.state===Ht.PARSING&&(e.pendingBuffering=!0,e.hls.trigger(l.a.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,r=t.frag;e&&"audio"===t.id&&r.sn===e.sn&&r.level===e.level&&this.state===Ht.PARSING&&(this.stats.tparsed=Kt.now(),this.state=Ht.PARSED,this._checkAppendedParsed())},e.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},e.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},e.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==Ht.PARSING&&e!==Ht.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==Ht.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,r=this.hls;if(t){this.fragPrevious=t,e.tbuffered=Kt.now(),r.trigger(l.a.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;u.b.log("audio buffered : "+ot.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(l.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Ht.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case o.a.FRAG_LOAD_ERROR:case o.a.FRAG_LOAD_TIMEOUT:var r=t.frag;if(r&&"audio"!==r.type)break;if(!t.fatal){var i=this.fragLoadError;i?i++:i=1;var n=this.config;if(i<=n.fragLoadingMaxRetry){this.fragLoadError=i;var a=Math.min(Math.pow(2,i-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);u.b.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=Kt.now()+a,this.state=Ht.FRAG_LOADING_WAITING_RETRY}else u.b.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=Ht.ERROR}break;case o.a.AUDIO_TRACK_LOAD_ERROR:case o.a.AUDIO_TRACK_LOAD_TIMEOUT:case o.a.KEY_LOAD_ERROR:case o.a.KEY_LOAD_TIMEOUT:this.state!==Ht.ERROR&&(this.state=t.fatal?Ht.ERROR:Ht.IDLE,u.b.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case o.a.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===Ht.PARSING||this.state===Ht.PARSED)){var s=this.mediaBuffer,d=this.media.currentTime;if(s&&Y.isBuffered(s,d)&&Y.isBuffered(s,d+.5)){var c=this.config;c.maxMaxBufferLength>=c.maxBufferLength&&(c.maxMaxBufferLength/=2,u.b.warn("AudioStreamController: reduce max buffer length to "+c.maxMaxBufferLength+"s")),this.state=Ht.IDLE}else u.b.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Ht.BUFFER_FLUSHING,this.hls.trigger(l.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},e.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(u.b.log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach(function(e){t.hls.trigger(l.a.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=Ht.PARSED):(this.state=Ht.IDLE,this.fragPrevious=null,this.tick())},jt(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,u.b.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),e}(ut),Yt=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var t="auto",e={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function i(t){return"string"==typeof t&&(!!r[t.toLowerCase()]&&t.toLowerCase())}function n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)t[i]=r[i]}return t}function a(r,a,o){var s=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var d="",c=!1,h=r,f=a,p=o,g=null,v="",m=!0,y="auto",b="start",E=50,T="middle",S=50,_="middle";if(Object.defineProperty(s,"id",n({},u,{get:function(){return d},set:function(t){d=""+t}})),Object.defineProperty(s,"pauseOnExit",n({},u,{get:function(){return c},set:function(t){c=!!t}})),Object.defineProperty(s,"startTime",n({},u,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",n({},u,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",n({},u,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",n({},u,{get:function(){return g},set:function(t){g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",n({},u,{get:function(){return v},set:function(t){var r=function(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");v=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",n({},u,{get:function(){return m},set:function(t){m=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",n({},u,{get:function(){return y},set:function(e){if("number"!=typeof e&&e!==t)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",n({},u,{get:function(){return b},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",n({},u,{get:function(){return E},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",n({},u,{get:function(){return T},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",n({},u,{get:function(){return S},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");S=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",n({},u,{get:function(){return _},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}return a.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},a}(),Wt=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};function qt(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Wt,this.regionList=[]}function zt(){this.values=Object.create(null)}function Xt(t,e,r,i){var n=i?t.split(i):[t];for(var a in n)if("string"==typeof n[a]){var o=n[a].split(r);if(2===o.length)e(o[0],o[1])}}zt.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var i=0;i<r.length;++i)if(e===r[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var Qt=new Yt(0,0,0),$t="middle"===Qt.align?"middle":"center";function Jt(t,e,r){var i=t;function n(){var e=function(t){function e(t,e,r,i){return 3600*(0|t)+60*(0|e)+(0|r)+(0|i)/1e3}var r=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=n(),a(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),a(),e.endTime=n(),a(),function(t,e){var i=new zt;Xt(t,function(t,e){switch(t){case"region":for(var n=r.length-1;n>=0;n--)if(r[n].id===e){i.set(t,r[n].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var a=e.split(","),o=a[0];i.integer(t,o),i.percent(t,o)&&i.set("snapToLines",!1),i.alt(t,o,["auto"]),2===a.length&&i.alt("lineAlign",a[1],["start",$t,"end"]);break;case"position":a=e.split(","),i.percent(t,a[0]),2===a.length&&i.alt("positionAlign",a[1],["start",$t,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",$t,"end","left","right"])}},/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");var n=i.get("line","auto");"auto"===n&&-1===Qt.line&&(n=-1),e.line=n,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",$t);var a=i.get("position","auto");"auto"===a&&50===Qt.position&&(a="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=a}(t,e)}function Zt(t){return t.replace(/<br(?: \/)?>/gi,"\n")}qt.prototype={parse:function(t){var e=this;function r(){var t=e.buffer,r=0;for(t=Zt(t);r<t.length&&"\r"!==t[r]&&"\n"!==t[r];)++r;var i=t.substr(0,r);return"\r"===t[r]&&++r,"\n"===t[r]&&++r,e.buffer=t.substr(r),i}function i(t){Xt(t,function(t,e){t},/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var n=void 0;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var a=(n=r()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var o=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(o?o=!1:n=r(),e.state){case"HEADER":/:/.test(n)?i(n):n||(e.state="ID");continue;case"NOTE":n||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){e.state="NOTE";break}if(!n)continue;if(e.cue=new Yt(0,0,""),e.state="CUE",-1===n.indexOf("--\x3e")){e.cue.id=n;continue}case"CUE":try{Jt(n,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var s=-1!==n.indexOf("--\x3e");if(!n||s&&(o=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=n;continue;case"BADCUE":n||(e.state="ID");continue}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}};var te=qt;function ee(t,e,r,i){for(var n=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=window.VTTCue||window.TextTrackCue,d=0;d<i.rows.length;d++)if(o=!0,s=0,l="",!(n=i.rows[d]).isEmpty()){for(var c=0;c<n.chars.length;c++)n.chars[c].uchar.match(/\s/)&&o?s++:(l+=n.chars[c].uchar,o=!1);n.cueStartTime=e,e===r&&(r+=1e-4),a=new u(e,r,Zt(l.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?a.line=d+1:a.line=d>7?d-2:d+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(a)}}function re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ie={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},ne=function(t){var e=t;return ie.hasOwnProperty(t)&&(e=ie[t]),String.fromCharCode(e)},ae=15,oe=100,se={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},le={17:2,18:4,21:6,22:8,23:10,19:13,20:15},ue={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},de={25:2,26:4,29:6,30:8,31:10,27:13,28:15},ce=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],he={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){this.verboseFilter[t];this.verboseLevel}},fe=function(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].toString(16));return e},pe=function(){function t(e,r,i,n,a){re(this,t),this.foreground=e||"white",this.underline=r||!1,this.italics=i||!1,this.background=n||"black",this.flash=a||!1}return t.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(this[i]=t[i])}},t.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},t.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},t.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),ge=function(){function t(e,r,i,n,a,o){re(this,t),this.uchar=e||" ",this.penState=new pe(r,i,n,a,o)}return t.prototype.reset=function(){this.uchar=" ",this.penState.reset()},t.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},t.prototype.setPenState=function(t){this.penState.copy(t)},t.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},t.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},t.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),ve=function(){function t(){re(this,t),this.chars=[];for(var e=0;e<oe;e++)this.chars.push(new ge);this.pos=0,this.currPenState=new pe}return t.prototype.equals=function(t){for(var e=!0,r=0;r<oe;r++)if(!this.chars[r].equals(t.chars[r])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<oe;e++)this.chars[e].copy(t.chars[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<oe;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},t.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(he.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>oe&&(he.log("ERROR","Too large cursor position "+this.pos),this.pos=oe)},t.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var r=this.pos+1;r<e+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(e)},t.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=ne(t);this.pos>=oe?he.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},t.prototype.clearFromPos=function(t){var e=void 0;for(e=t;e<oe;e++)this.chars[e].reset()},t.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.prototype.getTextString=function(){for(var t=[],e=!0,r=0;r<oe;r++){var i=this.chars[r].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")},t.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),me=function(){function t(){re(this,t),this.rows=[];for(var e=0;e<ae;e++)this.rows.push(new ve);this.currRow=ae-1,this.nrRollUpRows=null,this.reset()}return t.prototype.reset=function(){for(var t=0;t<ae;t++)this.rows[t].clear();this.currRow=ae-1},t.prototype.equals=function(t){for(var e=!0,r=0;r<ae;r++)if(!this.rows[r].equals(t.rows[r])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<ae;e++)this.rows[e].copy(t.rows[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<ae;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},t.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},t.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},t.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},t.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},t.prototype.setCursor=function(t){he.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},t.prototype.setPAC=function(t){he.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var r=0;r<ae;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){var a=n.rows[i].cueStartTime;if(a&&a<he.time)for(var o=0;o<this.nrRollUpRows;o++)this.rows[e-this.nrRollUpRows+o+1].copy(n.rows[i+o])}}this.currRow=e;var s=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,u=Math.max(l-1,0);s.setCursor(t.indent),t.color=s.chars[u].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(d)},t.prototype.setBkgData=function(t){he.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},t.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},t.prototype.rollUp=function(){if(null!==this.nrRollUpRows){he.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),he.log("INFO","Rolling up")}else he.log("DEBUG","roll_up but nrRollUpRows not set yet")},t.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],r="",i=-1,n=0;n<ae;n++){var a=this.rows[n].getTextString();a&&(i=n+1,t?e.push("Row "+i+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(r=t?"["+e.join(" | ")+"]":e.join("\n")),r},t.prototype.getTextAndFormat=function(){return this.rows},t}(),ye=function(){function t(e,r){re(this,t),this.chNr=e,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new me,this.nonDisplayedMemory=new me,this.lastOutputScreen=new me,this.currRollUpRow=this.displayedMemory.rows[ae-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return t.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[ae-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},t.prototype.getHandler=function(){return this.outputFilter},t.prototype.setHandler=function(t){this.outputFilter=t},t.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},t.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},t.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,he.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},t.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";he.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(he.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.prototype.ccRCL=function(){he.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.prototype.ccBS=function(){he.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.prototype.ccAOF=function(){},t.prototype.ccAON=function(){},t.prototype.ccDER=function(){he.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.prototype.ccRU=function(t){he.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},t.prototype.ccFON=function(){he.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.prototype.ccRDC=function(){he.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.prototype.ccTR=function(){he.log("INFO","TR"),this.setMode("MODE_TEXT")},t.prototype.ccRTD=function(){he.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.prototype.ccEDM=function(){he.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.prototype.ccCR=function(){he.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.prototype.ccENM=function(){he.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.prototype.ccEOC=function(){if(he.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,he.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.prototype.ccTO=function(t){he.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},t.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var r=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}he.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},t.prototype.outputDataUpdate=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=he.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},t.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),be=function(){function t(e,r,i){re(this,t),this.field=e||1,this.outputs=[r,i],this.channels=[new ye(1,r),new ye(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return t.prototype.getHandler=function(t){return this.channels[t].getHandler()},t.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},t.prototype.addData=function(t,e){var r=void 0,i=void 0,n=void 0,a=!1;this.lastTime=t,he.setTime(t);for(var o=0;o<e.length;o+=2)if(i=127&e[o],n=127&e[o+1],0!==i||0!==n){if(he.log("DATA","["+fe([e[o],e[o+1]])+"] -> ("+fe([i,n])+")"),(r=this.parseCmd(i,n))||(r=this.parseMidrow(i,n)),r||(r=this.parsePAC(i,n)),r||(r=this.parseBackgroundAttributes(i,n)),!r)if(a=this.parseChars(i,n))if(this.currChNr&&this.currChNr>=0)this.channels[this.currChNr-1].insertChars(a);else he.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,he.log("WARNING","Couldn't parse cleaned data "+fe([i,n])+" orig: "+fe([e[o],e[o+1]])))}else this.dataCounters.padding+=2},t.prototype.parseCmd=function(t,e){var r=null;if(!((20===t||28===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,he.log("DEBUG","Repeated command ("+fe([t,e])+") is dropped"),!0;r=20===t||23===t?1:2;var i=this.channels[r-1];return 20===t||28===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=r,!0},t.prototype.parseMidrow=function(t,e){var r=null;return(17===t||25===t)&&e>=32&&e<=47&&((r=17===t?1:2)!==this.currChNr?(he.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[r-1].ccMIDROW(e),he.log("DEBUG","MIDROW ("+fe([t,e])+")"),!0))},t.prototype.parsePAC=function(t,e){var r,i=null;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=t<=23?1:2,i=e>=64&&e<=95?1===r?se[t]:ue[t]:1===r?le[t]:de[t];var n=this.interpretPAC(i,e);return this.channels[r-1].setPAC(n),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=r,!0},t.prototype.interpretPAC=function(t,e){var r=e,i={color:null,italics:!1,indent:null,underline:!1,row:t};return r=e>95?e-96:e-64,i.underline=1==(1&r),r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((r-16)/2),i},t.prototype.parseChars=function(t,e){var r=null,i=null,n=null;if(t>=25?(r=2,n=t-8):(r=1,n=t),n>=17&&n<=19){var a=e;a=17===n?e+80:18===n?e+112:e+144,he.log("INFO","Special char '"+ne(a)+"' in channel "+r),i=[a]}else t>=32&&t<=127&&(i=0===e?[t]:[t,e]);if(i){var o=fe(i);he.log("DEBUG","Char codes =  "+o.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},t.prototype.parseBackgroundAttributes=function(t,e){var r,i=void 0,n=void 0;return((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47)&&(i={},16===t||24===t?(n=Math.floor((e-32)/2),i.background=ce[n],e%2==1&&(i.background=i.background+"_semi")):45===e?i.background="transparent":(i.foreground="black",47===e&&(i.underline=!0)),r=t<24?1:2,this.channels[r-1].setBkgData(i),this.lastCmdA=null,this.lastCmdB=null,!0)},t.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},t.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}();var Ee=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.timelineController=e,this.trackName=r,this.startTime=null,this.endTime=null,this.screen=null}return t.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},t.prototype.newCue=function(t,e,r){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},t}(),Te=function(t,e,r){return t.substr(r||0,e.length)===e},Se=function(t){for(var e=5381,r=t.length;r;)e=33*e^t.charCodeAt(--r);return(e>>>0).toString()},_e={parse:function(t,e,r,i,n,a){var o=Object(Et.b)(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),l="00:00.000",u=0,d=0,c=0,h=[],f=void 0,p=!0,g=new te;g.oncue=function(t){var e=r[i],n=r.ccOffset;e&&e.new&&(void 0!==d?n=r.ccOffset=e.start:function(t,e,r){var i=t[e],n=t[i.prevCC];if(!n||!n.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);for(;n&&n.new;)t.ccOffset+=i.start-n.start,i.new=!1,n=t[(i=n).prevCC];t.presentationOffset=r}(r,i,c)),c&&(n=c+r.ccOffset-r.presentationOffset),t.startTime+=n-d,t.endTime+=n-d,t.id=Se(t.startTime.toString())+Se(t.endTime.toString())+Se(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&h.push(t)},g.onparsingerror=function(t){f=t},g.onflush=function(){f&&a?a(f):n(h)},o.forEach(function(t){if(p){if(Te(t,"X-TIMESTAMP-MAP=")){p=!1,t.substr(16).split(",").forEach(function(t){Te(t,"LOCAL:")?l=t.substr(6):Te(t,"MPEGTS:")&&(u=parseInt(t.substr(7)))});try{u-=e=e<0?e+8589934592:e,d=function(t){var e=parseInt(t.substr(-3)),r=parseInt(t.substr(-6,2)),i=parseInt(t.substr(-9,2)),n=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;return Object(s.a)(e)&&Object(s.a)(r)&&Object(s.a)(i)&&Object(s.a)(n)?(e+=1e3*r,e+=6e4*i,e+=36e5*n):-1}(l)/1e3,c=u/9e4,-1===d&&(f=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){f=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(p=!1)}g.parse(t+"\n")}),g.flush()}};function Ae(t,e,r,i){return Math.min(e,i)-Math.max(t,r)}var Re=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.MEDIA_ATTACHING,l.a.MEDIA_DETACHING,l.a.FRAG_PARSING_USERDATA,l.a.FRAG_DECRYPTED,l.a.MANIFEST_LOADING,l.a.MANIFEST_LOADED,l.a.FRAG_LOADED,l.a.LEVEL_SWITCHING,l.a.INIT_PTS_FOUND));if(i.hls=r,i.config=r.config,i.enabled=!0,i.Cues=r.config.cueHandler,i.textTracks=[],i.tracks=[],i.unparsedVttFrags=[],i.initPTS=void 0,i.cueRanges=[],i.captionsTracks={},i.captionsProperties={textTrack1:{label:i.config.captionsTextTrack1Label,languageCode:i.config.captionsTextTrack1LanguageCode},textTrack2:{label:i.config.captionsTextTrack2Label,languageCode:i.config.captionsTextTrack2LanguageCode}},i.config.enableCEA708Captions){var n=new Ee(i,"textTrack1"),a=new Ee(i,"textTrack2");i.cea608Parser=new be(0,n,a)}return i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.addCues=function(t,e,r,i){for(var n=this.cueRanges,a=!1,o=n.length;o--;){var s=n[o],l=Ae(s[0],s[1],e,r);if(l>=0&&(s[0]=Math.min(s[0],e),s[1]=Math.max(s[1],r),a=!0,l/(r-e)>.5))return}a||n.push([e,r]),this.Cues.newCue(this.captionsTracks[t],e,r,i)},e.prototype.onInitPtsFound=function(t){var e=this;void 0===this.initPTS&&(this.initPTS=t.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(t){e.onFragLoaded(t)}),this.unparsedVttFrags=[])},e.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var r=0;r<e.textTracks.length;r++){var i=e.textTracks[r];if(i[t])return i}return null},e.prototype.createCaptionsTrack=function(t){var e=this.captionsProperties[t],r=e.label,i=e.languageCode,n=this.captionsTracks;if(!n[t]){var a=this.getExistingTrack(t);if(a)n[t]=a,St(n[t]),Tt(n[t],this.media);else{var o=this.createTextTrack("captions",r,i);o&&(o[t]=!0,n[t]=o)}}},e.prototype.createTextTrack=function(t,e,r){var i=this.media;if(i)return i.addTextTrack(t,e,r)},e.prototype.destroy=function(){h.prototype.destroy.call(this)},e.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},e.prototype.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach(function(e){St(t[e]),delete t[e]})},e.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},e.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var r=0;r<e.length;r++)St(e[r])}},e.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var r=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,i){var n=void 0;if(i<r.length){var a=r[i];(function(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)})(a,t)&&(n=a)}n||(n=e.createTextTrack("subtitles",t.name,t.lang)),t.default?n.mode=e.hls.subtitleDisplay?"showing":"hidden":n.mode="disabled",e.textTracks.push(n)})}},e.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},e.prototype.onFragLoaded=function(t){var e=t.frag,r=t.payload;if("main"===e.type){var i=e.sn;if(i!==this.lastSn+1){var n=this.cea608Parser;n&&n.reset()}this.lastSn=i}else if("subtitle"===e.type)if(r.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);var a=e.decryptdata;null!=a&&null!=a.key&&"AES-128"===a.method||this._parseVTTs(e,r)}else this.hls.trigger(l.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},e.prototype._parseVTTs=function(t,e){var r=this.vttCCs;r[t.cc]||(r[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var i=this.textTracks,n=this.hls;_e.parse(e,this.initPTS,r,t.cc,function(e){var r=i[t.trackId];"disabled"!==r.mode?(e.forEach(function(t){if(!r.cues.getCueById(t.id))try{r.addCue(t)}catch(i){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,r.addCue(e)}}),n.trigger(l.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})):n.trigger(l.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},function(e){u.b.log("Failed to parse VTT cue: "+e),n.trigger(l.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},e.prototype.onFragDecrypted=function(t){var e=t.payload,r=t.frag;if("subtitle"===r.type){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);this._parseVTTs(r,e)}},e.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var r=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,r)}},e.prototype.extractCea608Data=function(t){for(var e=31&t[0],r=2,i=void 0,n=void 0,a=void 0,o=[],s=0;s<e;s++)i=t[r++],n=127&t[r++],a=127&t[r++],0===n&&0===a||0!=(4&i)&&0===(3&i)&&(o.push(n),o.push(a));return o},e}(h),we=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function Le(t){for(var e=[],r=0;r<t.length;r++)"subtitles"===t[r].kind&&e.push(t[r]);return e}var De=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.MEDIA_ATTACHED,l.a.MEDIA_DETACHING,l.a.MANIFEST_LOADING,l.a.MANIFEST_LOADED,l.a.SUBTITLE_TRACK_LOADED));return i.tracks=[],i.trackId=-1,i.media=null,i.subtitleDisplay=!0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=Le(this.media.textTracks),r=0;r<e.length;r++)if("hidden"===e[r].mode)t=r;else if("showing"===e[r].mode){t=r;break}this.subtitleTrack=t}},e.prototype.destroy=function(){h.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},e.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestLoaded=function(t){var e=this,r=t.subtitles||[];this.tracks=r,this.trackId=-1,this.hls.trigger(l.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},e.prototype.onTick=function(){var t=this.trackId,e=this.tracks[t];if(e){var r=e.details;r&&!r.live||(u.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(l.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))}},e.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(u.b.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(function(){e.onTick()},1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&this._stopTimer())},e.prototype.setSubtitleTrackInternal=function(t){var e=this.hls,r=this.tracks;if(!("number"!=typeof t||t<-1||t>=r.length)&&(this._stopTimer(),this.trackId=t,u.b.log("switching to subtitle track "+t),e.trigger(l.a.SUBTITLE_TRACK_SWITCH,{id:t}),-1!==t)){var i=r[t],n=i.details;n&&!n.live||(u.b.log("(re)loading playlist for subtitle track "+t),e.trigger(l.a.SUBTITLE_TRACK_LOADING,{url:i.url,id:t}))}},e.prototype._stopTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},e.prototype._toggleTrackModes=function(t){var e=this.media,r=this.subtitleDisplay,i=this.trackId;if(e){var n=Le(e.textTracks);if(-1===t)[].slice.call(n).forEach(function(t){t.mode="disabled"});else{var a=n[i];a&&(a.mode="disabled")}var o=n[t];o&&(o.mode=r?"showing":"hidden")}},we(e,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&(this._toggleTrackModes(t),this.setSubtitleTrackInternal(t))}}]),e}(h),ke=r(8);var Ie=window.performance,Oe={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING"},xe=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.MEDIA_ATTACHED,l.a.ERROR,l.a.KEY_LOADED,l.a.FRAG_LOADED,l.a.SUBTITLE_TRACKS_UPDATED,l.a.SUBTITLE_TRACK_SWITCH,l.a.SUBTITLE_TRACK_LOADED,l.a.SUBTITLE_FRAG_PROCESSED));return i.config=r.config,i.vttFragSNsProcessed={},i.vttFragQueues=void 0,i.currentlyProcessing=null,i.state=Oe.STOPPED,i.currentTrackId=-1,i.decrypter=new ke.a(r.observer,r.config),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroyed=function(){this.state=Oe.STOPPED},e.prototype.clearVttFragQueues=function(){var t=this;this.vttFragQueues={},this.tracks.forEach(function(e){t.vttFragQueues[e.id]=[]})},e.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=t,this.hls.trigger(l.a.FRAG_LOADING,{frag:t}),this.state=Oe.FRAG_LOADING}},e.prototype.onSubtitleFragProcessed=function(t){t.success&&this.vttFragSNsProcessed[t.frag.trackId].push(t.frag.sn),this.currentlyProcessing=null,this.state=Oe.IDLE,this.nextFrag()},e.prototype.onMediaAttached=function(){this.state=Oe.IDLE},e.prototype.onError=function(t){var e=t.frag;e&&"subtitle"!==e.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},e.prototype.doTick=function(){var t=this;switch(this.state){case Oe.IDLE:var e,r=this.tracks,i=this.currentTrackId,n=this.vttFragSNsProcessed[i],a=this.vttFragQueues[i],o=this.currentlyProcessing?this.currentlyProcessing.sn:-1;if(!r)break;if(i<r.length&&(e=r[i].details),void 0===e)break;e.fragments.forEach(function(e){(function(t){return n.indexOf(t.sn)>-1})(e)||e.sn===o||function(t){return a.some(function(e){return e.sn===t.sn})}(e)||(e.encrypted?(u.b.log("Loading key for "+e.sn),t.state=Oe.KEY_LOADING,t.hls.trigger(l.a.KEY_LOADING,{frag:e})):(e.trackId=i,a.push(e),t.nextFrag()))})}},e.prototype.onSubtitleTracksUpdated=function(t){var e=this;u.b.log("subtitle tracks updated"),this.tracks=t.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(t){e.vttFragSNsProcessed[t.id]=[]})},e.prototype.onSubtitleTrackSwitch=function(t){if(this.currentTrackId=t.id,this.tracks&&-1!==this.currentTrackId){var e=this.tracks[this.currentTrackId];e&&e.details&&this.tick()}},e.prototype.onSubtitleTrackLoaded=function(){this.tick()},e.prototype.onKeyLoaded=function(){this.state===Oe.KEY_LOADING&&(this.state=Oe.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,r=t.frag.decryptdata,i=t.frag,n=this.hls;if(this.state===Oe.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&null!=r&&null!=r.key&&"AES-128"===r.method){var a=void 0;try{a=Ie.now()}catch(t){a=Date.now()}this.decrypter.decrypt(t.payload,r.key.buffer,r.iv.buffer,function(t){var e=void 0;try{e=Ie.now()}catch(t){e=Date.now()}n.trigger(l.a.FRAG_DECRYPTED,{frag:i,payload:t,stats:{tstart:a,tdecrypt:e}})})}},e}(ut),Ce=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();var Pe=window.XMLHttpRequest,Fe="com.widevine.alpha",Me="com.microsoft.playready",Ne=function(t){function e(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,r,l.a.MEDIA_ATTACHED,l.a.MANIFEST_PARSED));return i._widevineLicenseUrl=r.config.widevineLicenseUrl,i._licenseXhrSetup=r.config.licenseXhrSetup,i._emeEnabled=r.config.emeEnabled,i._requestMediaKeySystemAccess=r.config.requestMediaKeySystemAccessFunc,i._mediaKeysList=[],i._media=null,i._hasSetMediaKeys=!1,i._isMediaEncrypted=!1,i._requestLicenseFailureCount=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getLicenseServerUrl=function(t){var e=void 0;switch(t){case Fe:e=this._widevineLicenseUrl;break;default:e=null}return e||(u.b.error('No license server URL configured for key-system "'+t+'"'),this.hls.trigger(l.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),e},e.prototype._attemptKeySystemAccess=function(t,e,r){var i=this,n=function(t,e,r){switch(t){case Fe:return function(t,e,r){var i={videoCapabilities:[]};return e.forEach(function(t){i.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"'})}),[i]}(0,r);default:throw Error("Unknown key-system: "+t)}}(t,0,r);n?(u.b.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(t,n).then(function(e){i._onMediaKeySystemAccessObtained(t,e)}).catch(function(e){u.b.error('Failed to obtain key-system "'+t+'" access:',e)})):u.b.warn("Can not create config for key-system (maybe because platform is not supported):",t)},e.prototype._onMediaKeySystemAccessObtained=function(t,e){var r=this;u.b.log('Access for key-system "'+t+'" obtained');var i={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(i),e.createMediaKeys().then(function(e){i.mediaKeys=e,u.b.log('Media-keys created for key-system "'+t+'"'),r._onMediaKeysCreated()}).catch(function(t){u.b.error("Failed to create media-keys:",t)})},e.prototype._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach(function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))})},e.prototype._onNewMediaKeySession=function(t){var e=this;u.b.log("New key-system session "+t.sessionId),t.addEventListener("message",function(r){e._onKeySessionMessage(t,r.message)},!1)},e.prototype._onKeySessionMessage=function(t,e){u.b.log("Got EME message event, creating license request"),this._requestLicense(e,function(e){u.b.log("Received license data, updating key-session"),t.update(e)})},e.prototype._onMediaEncrypted=function(t,e){u.b.log('Media is encrypted using "'+t+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=t,this._mediaEncryptionInitData=e,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},e.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return u.b.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(l.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_KEYS,fatal:!0});u.b.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},e.prototype._generateRequestWithPreferredKeySession=function(){var t=this,e=this._mediaKeysList[0];if(!e)return u.b.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(l.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(e.mediaKeysSessionInitialized)u.b.warn("Key-Session already initialized but requested again");else{var r=e.mediaKeysSession;r||(u.b.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(l.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_SESSION,fatal:!0}));var i=this._mediaEncryptionInitDataType,n=this._mediaEncryptionInitData;u.b.log('Generating key-session request for "'+i+'" init data type'),e.mediaKeysSessionInitialized=!0,r.generateRequest(i,n).then(function(){u.b.debug("Key-session generation succeeded")}).catch(function(e){u.b.error("Error generating key-session request:",e),t.hls.trigger(l.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},e.prototype._createLicenseXhr=function(t,e,r){var i=new Pe,n=this._licenseXhrSetup;try{if(n)try{n(i,t)}catch(e){i.open("POST",t,!0),n(i,t)}i.readyState||i.open("POST",t,!0)}catch(t){return u.b.error("Error setting up key-system license XHR",t),void this.hls.trigger(l.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return i.responseType="arraybuffer",i.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,i,t,e,r),i},e.prototype._onLicenseRequestReadyStageChange=function(t,e,r,i){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,u.b.log("License request succeeded"),i(t.response);else{if(u.b.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var n=3-this._requestLicenseFailureCount+1;return u.b.warn("Retrying license request, "+n+" attempts left"),void this._requestLicense(r,i)}this.hls.trigger(l.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},e.prototype._generateLicenseRequestChallenge=function(t,e){var r=void 0;return t.mediaKeySystemDomain===Me?u.b.error("PlayReady is not supported (yet)"):t.mediaKeySystemDomain===Fe?r=e:u.b.error("Unsupported key-system:",t.mediaKeySystemDomain),r},e.prototype._requestLicense=function(t,e){u.b.log("Requesting content license for key-system");var r=this._mediaKeysList[0];if(!r)return u.b.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(l.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});var i=this.getLicenseServerUrl(r.mediaKeySystemDomain),n=this._createLicenseXhr(i,t,e);u.b.log("Sending license request to URL: "+i),n.send(this._generateLicenseRequestChallenge(r,t))},e.prototype.onMediaAttached=function(t){var e=this;if(this._emeEnabled){var r=t.media;this._media=r,r.addEventListener("encrypted",function(t){e._onMediaEncrypted(t.initDataType,t.initData)})}},e.prototype.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map(function(t){return t.audioCodec}),r=t.levels.map(function(t){return t.videoCodec});this._attemptKeySystemAccess(Fe,e,r)}},Ce(e,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),e}(h),Ue={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Ut,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:Dt,bufferController:It,capLevelController:xt,fpsController:Pt,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:"undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null};Ue.subtitleStreamController=xe,Ue.subtitleTrackController=De,Ue.timelineController=Re,Ue.cueHandler=i,Ue.enableCEA708Captions=!0,Ue.enableWebVTT=!0,Ue.captionsTextTrack1Label="English",Ue.captionsTextTrack1LanguageCode="en",Ue.captionsTextTrack2Label="Spanish",Ue.captionsTextTrack2LanguageCode="es",Ue.audioStreamController=Vt,Ue.audioTrackController=Gt,Ue.emeController=Ne;var Be=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();r(14);var Ge=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=t.DefaultConfig;if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var n in i)n in r||(r[n]=i[n]);if(void 0!==r.liveMaxLatencyDurationCount&&r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(r.liveMaxLatencyDuration<=r.liveSyncDuration||void 0===r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(u.a)(r.debug),this.config=r,this._autoLevelCapping=-1;var a=this.observer=new q.a;a.trigger=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];a.emit.apply(a,[t,t].concat(r))},a.off=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];a.removeListener.apply(a,[t].concat(r))},this.on=a.on.bind(a),this.off=a.off.bind(a),this.once=a.once.bind(a),this.trigger=a.trigger.bind(a);var o=this.abrController=new r.abrController(this),s=new r.bufferController(this),l=new r.capLevelController(this),d=new r.fpsController(this),c=new M(this),h=new N(this),f=new U(this),p=new _t(this),g=this.levelController=new bt(this),v=new H(this),m=[g,this.streamController=new gt(this,v)],y=r.audioStreamController;y&&m.push(new y(this,v)),this.networkControllers=m;var b=[c,h,f,o,s,l,d,p,v];if(y=r.audioTrackController){var E=new y(this);this.audioTrackController=E,b.push(E)}if(y=r.subtitleTrackController){var T=new y(this);this.subtitleTrackController=T,b.push(T)}if(y=r.emeController){var S=new y(this);this.emeController=S,b.push(S)}[r.subtitleStreamController,r.timelineController].forEach(function(t){t&&b.push(new t(e))}),this.coreComponents=b}return t.isSupported=function(){return function(){var t=$(),e=window.SourceBuffer||window.WebKitSourceBuffer,r=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!r&&!!i}()},Be(t,null,[{key:"version",get:function(){return"0.11.0"}},{key:"Events",get:function(){return l.a}},{key:"ErrorTypes",get:function(){return o.b}},{key:"ErrorDetails",get:function(){return o.a}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:Ue},set:function(e){t.defaultConfig=e}}]),t.prototype.destroy=function(){u.b.log("destroy"),this.trigger(l.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(t){u.b.log("attachMedia"),this.media=t,this.trigger(l.a.MEDIA_ATTACHING,{media:t})},t.prototype.detachMedia=function(){u.b.log("detachMedia"),this.trigger(l.a.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(t){t=a.a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),u.b.log("loadSource:"+t),this.url=t,this.trigger(l.a.MANIFEST_LOADING,{url:t})},t.prototype.startLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;u.b.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},t.prototype.stopLoad=function(){u.b.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},t.prototype.swapAudioCodec=function(){u.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){u.b.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},Be(t,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){u.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){u.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){u.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){u.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){u.b.log("set startLevel:"+t);-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){u.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,r=t?t.length:0,i=0;i<r;i++){if((t[i].realBitrate?Math.max(t[i].realBitrate,t[i].bitrate):t[i].bitrate)>e)return i}return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),t}();e.default=Ge},function(t,e,r){function i(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.i=function(t){return t},r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var i=r(r.s=ENTRY_MODULE);return i.default||i}var n="[\\.|\\-|\\+|\\w|/|@]+",a="\\((/\\*.*?\\*/)?s?.*?("+n+").*?\\)";function o(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(t,e,i){var s={};s[i]=[];var l=e.toString(),u=l.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!u)return s;for(var d,c=u[1],h=new RegExp("(\\\\n|\\W)"+o(c)+a,"g");d=h.exec(l);)"dll-reference"!==d[3]&&s[i].push(d[3]);for(h=new RegExp("\\("+o(c)+'\\("(dll-reference\\s('+n+'))"\\)\\)'+a,"g");d=h.exec(l);)t[d[2]]||(s[i].push(d[1]),t[d[2]]=r(d[1]).m),s[d[2]]=s[d[2]]||[],s[d[2]].push(d[4]);return s}function l(t){return Object.keys(t).reduce(function(e,r){return e||t[r].length>0},!1)}t.exports=function(t,e){e=e||{};var n={main:r.m},a=e.all?{main:Object.keys(n)}:function(t,e){for(var r={main:[e]},i={main:[]},n={main:{}};l(r);)for(var a=Object.keys(r),o=0;o<a.length;o++){var u=a[o],d=r[u].pop();if(n[u]=n[u]||{},!n[u][d]&&t[u][d]){n[u][d]=!0,i[u]=i[u]||[],i[u].push(d);for(var c=s(t,t[u][d],u),h=Object.keys(c),f=0;f<h.length;f++)r[h[f]]=r[h[f]]||[],r[h[f]]=r[h[f]].concat(c[h[f]])}}return i}(n,t),o="";Object.keys(a).filter(function(t){return"main"!==t}).forEach(function(t){for(var e=0;a[t][e];)e++;a[t].push(e),n[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+t+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+a[t].map(function(e){return JSON.stringify(e)+": "+n[t][e].toString()}).join(",")+"});\n"}),o=o+"("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+a.main.map(function(t){return JSON.stringify(t)+": "+n.main[t].toString()}).join(",")+"})(self);";var u=new window.Blob([o],{type:"text/javascript"});if(e.bare)return u;var d=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),c=new window.Worker(d);return c.objectURL=d,c}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(10),n=r(1),a=r(0),o=r(7),s=r.n(o);e.default=function(t){var e=new s.a;e.trigger=function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];e.emit.apply(e,[t,t].concat(i))},e.off=function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];e.removeListener.apply(e,[t].concat(i))};var r=function(e,r){t.postMessage({event:e,data:r})};t.addEventListener("message",function(n){var o=n.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);t.demuxer=new i.a(e,o.typeSupported,s,o.vendor);try{Object(a.a)(!0===s.debug)}catch(t){console.warn("demuxerWorker: unable to enable logs")}r("init",null);break;case"demux":t.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),e.on(n.a.FRAG_DECRYPTED,r),e.on(n.a.FRAG_PARSING_INIT_SEGMENT,r),e.on(n.a.FRAG_PARSED,r),e.on(n.a.ERROR,r),e.on(n.a.FRAG_PARSING_METADATA,r),e.on(n.a.FRAG_PARSING_USERDATA,r),e.on(n.a.INIT_PTS_FOUND,r),e.on(n.a.FRAG_PARSING_DATA,function(e,r){var i=[],n={event:e,data:r};r.data1&&(n.data1=r.data1.buffer,i.push(r.data1.buffer),delete r.data1),r.data2&&(n.data2=r.data2.buffer,i.push(r.data2.buffer),delete r.data2),t.postMessage(n,i)})}},function(t,e){
/*! http://mths.be/endswith v0.2.0 by @mathias */
String.prototype.endsWith||function(){"use strict";var t=function(){try{var t={},e=Object.defineProperty,r=e(t,t,t)&&e}catch(t){}return r}(),e={}.toString,r=function(t){if(null==this)throw TypeError();var r=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var i=r.length,n=String(t),a=n.length,o=i;if(arguments.length>1){var s=arguments[1];void 0!==s&&(o=s?Number(s):0)!=o&&(o=0)}var l=Math.min(Math.max(o,0),i)-a;if(l<0)return!1;for(var u=-1;++u<a;)if(r.charCodeAt(l+u)!=n.charCodeAt(u))return!1;return!0};t?t(String.prototype,"endsWith",{value:r,configurable:!0,writable:!0}):String.prototype.endsWith=r}()}]).default})},function(t,e,r){var i=r(39);"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(4)(i,n);i.locals&&(t.exports=i.locals)},function(t,e,r){var i=r(8);(t.exports=r(3)(!1)).push([t.i,"footer {\n  height : 4rem;\n  width : 100%;\n  grid-area : footer;\n  display : -ms-grid;\n  display :     grid;\n  grid-template-columns : [col1] auto [col3] 1fr;\n  grid-template-areas : 'menu copy';\n  border-top : 1px solid #f0f0f0;\n}\n/*TODO: перенести шрифты*/\n.foo-menu-a,\n.foo-copy-p {\n  text-decoration : none;\n  font-family : ArialMT;\n  font-size : 0.75rem;\n  color : #858585;\n  letter-spacing : 0.01px;\n  text-align : left;\n}\n.foo-menu {\n  padding-top : 1.4rem;\n  padding-left : 2.5rem;\n  list-style : none;\n  grid-area : menu;\n  display : -ms-grid;\n  display :     grid;\n  grid-template-columns : repeat(4, auto);\n  grid-gap : 1rem;\n}\n\n.foo-copy {\n  grid-area : copy;\n  padding-top : 1.4rem;\n  padding-right : 2.5rem;\n}\n.foo-copy-p {\n  text-align : right;\n}\n\n/*footer исчезает при мобильных*/\n@media only screen and (max-width: 599px) {\n  footer {\n    display : none;\n  }\n}\n@media only screen and (min-width: 600px) {\n  .nav-item:hover {\n    opacity : 1;\n  }\n  .tilehover:hover:before {\n    content : '';\n    position : absolute;\n    background : url("+i(r(40))+") no-repeat;\n    width : 1rem;\n    height : 1rem;\n    top : 1rem;\n    right : 1rem;\n  }\n  .tilehover:hover:after {\n    content : '';\n    position : absolute;\n    background : url("+i(r(41))+") no-repeat;\n    width : 0.7rem;\n    height : 1rem;\n    bottom : 1rem;\n    right : 1rem;\n  }\n  .tilehover:hover {\n    background : #f3f3f3;\n    -webkit-box-shadow : 0 2px 6px 0 rgba(197, 186, 186, 0.5);\n            box-shadow : 0 2px 6px 0 rgba(197, 186, 186, 0.5);\n  }\n  .tilehover:hover .info-tile {\n    background : #f3f3f3;\n  }\n\n  .foo-menu-a:hover {\n    color : #333333;\n  }\n}\n",""])},function(t,e,r){t.exports=r.p+"img/cross.svg"},function(t,e,r){t.exports=r.p+"img/Next.svg"},function(t,e,r){var i=r(2);t.exports=(i.default||i).template({1:function(t,e,r,i,n){var a,o=null!=e?e:t.nullContext||{},s=r.helperMissing,l=t.escapeExpression;return'  <li>\n    <a href="'+l("function"==typeof(a=null!=(a=r.url||(null!=e?e.url:e))?a:s)?a.call(o,{name:"url",hash:{},data:n}):a)+'" class="font-arial-bold nav__item">\n      '+l("function"==typeof(a=null!=(a=r.title||(null!=e?e.title:e))?a:s)?a.call(o,{name:"title",hash:{},data:n}):a)+"\n    </a>\n  </li>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,r,i,n){var a;return null!=(a=r.each.call(null!=e?e:t.nullContext||{},null!=e?e.items:e,{name:"each",hash:{},fn:t.program(1,n,0),inverse:t.noop,data:n}))?a:""},useData:!0})},function(t,e,r){var i=r(44);"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(4)(i,n);i.locals&&(t.exports=i.locals)},function(t,e,r){(t.exports=r(3)(!1)).push([t.i,".header {\n  position : fixed;\n  left : 0;\n  top : 0;\n  height : 6rem;\n  width : 100%;\n  grid-area : header;\n  display : -ms-grid;\n  display :     grid;\n  grid-template : 'logo nav' 'icon icon';\n  grid-auto-columns : min-content;\n  grid-template-rows : auto 1px;\n  -webkit-box-align : center;\n  align-items : center;\n  border-bottom : 1px solid #f0f0f0;\n  background : white;\n  z-index : 1;\n}\n\n.header__logo {\n  grid-area : logo;\n}\n\n.header__logo_position {\n  padding-left : 2.6rem;\n}\n/*ссылка <a href=...> делаем inline-block, нельзя добавлять изображение в строчный элемент*/\n.logo__logo-href {\n  display : inline-block;\n  grid-area : logo;\n  min-width : 7rem;\n}\n\n.header__nav {\n  grid-area : nav;\n  justify-self : left;\n  position : relative;\n}\n\n.nav__nav-list {\n  list-style : none;\n  display : -ms-inline-grid;\n  display :     inline-grid;\n  grid-auto-flow : column;\n}\n\n.nav__item {\n  text-decoration : none;\n  opacity : 0.6;\n  font-family : Arial-BoldMT;\n  font-size : 16px;\n  color : #333333;\n  line-height : 20px;\n  padding-left : 1.5rem;\n}\n.nav__item:hover {\n  opacity : 1;\n}\n\n.header__menu-toggle {\n  opacity : 0;\n  grid-area : icon;\n  cursor : pointer;\n}\n/*\ninput[type='checkbox'] {\n  display : none;\n}*/\n\n.menu-toggle__checkbox {\n  display : none;\n}\n\n.menu-toggle__picture {\n  padding-right : 1.25rem;\n}\n\n@media only screen and (max-width: 599px) {\n  .header {\n    height : 4.5rem;\n    border : initial;\n    grid-template : 'logo icon'\n    'nav nav';\n    grid-auto-columns : auto;\n    grid-template-rows : auto 1px;\n  }\n  .header__logo_position {\n    padding-left : 1.25rem;\n  }\n  .header__nav {\n    opacity : 0;\n    justify-self : center;\n    top : 4.5rem;\n    position : relative;\n    left : 0;\n    right : 0;\n    bottom : 0;\n    background : white;\n    width : 100%;\n  }\n\n  .nav__nav-list {\n    display : block;\n  }\n\n  .nav__item {\n    padding-bottom : 1rem;\n    display : inline-block;\n  }\n\n  .header__menu-toggle {\n    opacity : 1;\n    justify-self : end;\n    width : 3rem;\n  }\n  .menu-icon {\n    padding-right : 3.5rem;\n  }\n  .menu-toggle__checkbox:checked ~ .header__nav {\n    opacity : 1;\n  }\n}\n",""])},,,,,,function(t,e,r){var i=r(2);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,n){var a,o=null!=e?e:t.nullContext||{},s=r.helperMissing,l=t.escapeExpression;return'<div class="device-wrap">\n  <div class="tile v">\n    <div class="title-tile-v">\n      <p>\n        '+l("function"==typeof(a=null!=(a=r.title||(null!=e?e.title:e))?a:s)?a.call(o,{name:"title",hash:{},data:n}):a)+'\n      </p>\n    </div>\n    <video class="'+l("function"==typeof(a=null!=(a=r.class||(null!=e?e.class:e))?a:s)?a.call(o,{name:"class",hash:{},data:n}):a)+' video" muted="" autoplay="" preload=""></video>\n    <div class="open">\n      <label class="label-brightness">\n        Яркость\n        <input\n          type="range"\n          class="brightness"\n          min="0"\n          max="2"\n          step="0.2"\n          value="1"\n         />\n\n      </label>\n      <label class="label-contrast">\n        Контрастность\n        <input\n          type="range"\n          class="contrast"\n          min="0"\n          max="3"\n          step="0.2"\n          value="1"\n         />\n\n      </label>\n      <div class="volume-container">\n        <div class="volume"></div>\n        <svg class="chart" width="40" height="40" role="img">\n          <rect width="0" height="8" class="bar-1"></rect>\n          <rect width="0" height="8" y="10" class="bar-2"></rect>\n          <rect width="0" height="8" y="20" class="bar-3"></rect>\n          <rect width="0" height="8" y="30" class="bar-4"></rect>\n        </svg>\n      </div>\n      <div class="close close-button close-button-hover">\n        <p class="close close-title">\n          Все камеры\n        </p>\n      </div>\n    </div>\n  </div>\n</div>'},useData:!0})},function(t){t.exports=[{title:"Камера 1",class:"video-1",url:"http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2Fsosed%2Fmaster.m3u8"},{title:"Камера 2",class:"video-2",url:"http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2Fcat%2Fmaster.m3u8"},{title:"Камера 3",class:"video-3",url:"http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2Fdog%2Fmaster.m3u8"},{title:"Камера 4",class:"video-4",url:"http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2Fhall%2Fmaster.m3u8"}]},,,,,,,,function(t,e,r){var i=r(60);"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(4)(i,n);i.locals&&(t.exports=i.locals)},function(t,e,r){var i=r(8);(t.exports=r(3)(!1)).push([t.i,".container {\n  max-width: 65rem;\n  margin: 2rem auto 0;\n\n  text-align: left;\n\n  color: #000000;\n\n  font-family: ArialMT;\n  font-size: 1.125rem;\n}\n.font-h1 {\n  text-align: left;\n\n  color: #333333;\n\n  font-family: Arial-BoldMT;\n  font-size: 2.25rem;\n}\n.tile {\n  position: relative;\n\n  border-radius: 1.25rem;\n  background: #fafafa;\n\n  grid-auto-rows: -webkit-min-content;\n  grid-auto-rows: min-content;\n}\n\n.title-tile {\n  display: -webkit-box;\n  overflow: hidden;\n  -webkit-box-orient: vertical;\n\n  height: 3.6rem;\n\n  text-align: center;\n  text-overflow: ellipsis;\n\n  color: #333333;\n\n  font-family: Arial-BoldMT;\n  font-size: 1.5rem;\n\n  -o-text-overflow: ellipsis;\n  -webkit-line-clamp: 2;\n}\n\n.content-device {\n  display: grid;\n\n  padding-top: 2rem;\n\n  grid-template-columns: repeat(2, 1fr);\n  grid-template-rows: 1fr 1fr;\n  grid-gap: 1.2rem;\n}\n\n.video {\n  width: 100%;\n  height: 80%;\n\n  border-radius: 1.25rem;\n}\n\n.title-tile-v {\n  display: -webkit-box;\n  overflow: hidden;\n  -webkit-box-orient: vertical;\n\n  height: 3.6rem;\n\n  text-align: center;\n  text-overflow: ellipsis;\n\n  color: #333333;\n\n  font-family: Arial-BoldMT;\n  font-size: 1.5rem;\n\n  -o-text-overflow: ellipsis;\n  -webkit-line-clamp: 2;\n}\n\n.v {\n  height: 20rem;\n  padding: 0.5rem;\n\n  transition: width, height, top, left 10s;\n  /*transition : offset-position 5s;*/\n}\n.opened.v {\n  position: absolute;\n  z-index: 1;\n  top: 50%;\n  left: 50%;\n\n  width: 90%;\n  max-width: 100%;\n  height: 90%;\n  max-height: 80%;\n\n  transition: width, height, top, left 10s;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n\n.close-button {\n  z-index: 1;\n  z-index: 2;\n  right: 1rem;\n  bottom: 1rem;\n\n  display: flex;\n  /* align-content: space-between; */\n  align-items: center;\n  justify-content: center;\n  /*width: 7rem;*/\n\n  height: 3rem;\n  /*padding: 0.5rem;\n  text-align: center;*/\n\n  border-radius: 0.75rem;\n  background-color: #e5e5e5;\n}\n\n.close-button-hover:hover {\n  background-color: #ffd93e;\n}\n\n.open {\n  display: none;\n  justify-content: space-between;\n}\n\n.label-brightness,\n.label-contrast,\n.volume-container,\n.close-button {\n  align-self: center;\n\n  width: 70%;\n}\n\n.opened .open {\n  display: flex;\n\n  padding-top: 1rem;\n}\n\n.volume-container {\n  display: flex;\n  justify-content: center;\n\n  padding-right: 1rem;\n  padding-left: 1rem;\n}\n\n@media only screen and (max-width: 800px) {\n  .content-device {\n    grid-template-columns: 1fr;\n  }\n  .opened.v {\n    position: relative;\n\n    height: auto;\n  }\n  .open {\n    flex-wrap: wrap;\n  }\n}\n\n.volume {\n  width: 2rem;\n  height: 2rem;\n  margin-right: 1rem;\n\n  background-image: url("+i(r(61))+");\n  background-repeat: no-repeat;\n  background-size: contain;\n}\n.volume.up {\n  background-image: url("+i(r(62))+");\n  background-repeat: no-repeat;\n  background-size: contain;\n}\n.chart {\n  margin-left: 1rem;\n}\n",""])},function(t,e,r){t.exports=r.p+"img/voiceoff.png"},function(t,e,r){t.exports=r.p+"img/voiceon.png"},,function(t,e,r){"use strict";r.r(e);var i=r(37),n=r(50);r(59);var a=r(26),o=r(28),s=r(5),l=r(51),u=r(30),d=r(31),c=r.n(d),h=r(32),f=r.n(h),p=r(33),g=r.n(p),v=r(34),m=r.n(v),y=r(35),b=r.n(y),E=r(36),T=r.n(E);const S={class:"logo__picture",sourceSrcset:g.a,imgSrc:c.a,imgSrcset:`${f.a} 2x`,imgAlt:"Яндекс дом"},_={class:"menu-toggle__picture",sourceSrcset:T.a,imgSrc:m.a,imgSrcset:`${b.a} 2x`,imgAlt:"menu"};s.logo=S,s.icon=_;const A=Object(o.a)(s);document.querySelector(".header-wrap").innerHTML=A;let R={};function w(t){I.dispatch(t)}const L=[];l.forEach(t=>{const e=document.querySelector(".content-device");if(e){const r=new class{constructor(t,e,r,i){this.brightness="1",this.contrast="1";const a=n(t);this.onChange=i,this.appendToContainer(a,e),this.tile=e.querySelector(".device-wrap:last-child  .tile"),this.video=this.tile.querySelector("video"),this.initVideoStream(this.video,r),this.addEventToVideo(),this.addEventToBtns(),this.addEventToBrightness(),this.addEventToContrast(),this.addEventToVolume()}initVideoStream(t,e){if(i.isSupported()){const r=new i;r.loadSource(e),r.attachMedia(t),r.on(i.Events.MANIFEST_PARSED,function(){t.play()})}else t.canPlayType("application/vnd.apple.mpegurl")&&(t.src="https://video-dev.github.io/streams/x36xhzz/x36xhzz.m3u8",t.addEventListener("loadedmetadata",function(){t.play()}))}appendToContainer(t,e){const r=document.createElement("template");r.innerHTML=t,e.appendChild(r.content)}addEventToVideo(){this.video&&this.video.addEventListener("click",()=>{this.tile.classList.add("opened"),this.initAudioContext()})}addEventToBrightness(){const t=this.tile.querySelector(".brightness");t&&t.addEventListener("input",t=>{this.onChange({type:"brightnessChange",brightness:`${t.target.value}`,videoId:this.video.classList[0]})})}setBrightness(t){this.brightness=t,this.applyFilter()}addEventToContrast(){const t=this.tile.querySelector(".contrast");null!==t&&t.addEventListener("input",t=>{this.onChange({type:"contrastChange",contrast:`${t.target.value}`,videoId:this.video.classList[0]})})}setContrast(t){this.contrast=t,this.applyFilter()}applyFilter(){this.video.style.filter=`brightness(${this.brightness}) contrast(${this.contrast})`}addEventToBtns(){this.tile.querySelector(".close").addEventListener("click",()=>{this.tile.classList.remove("opened");const t=this.tile.querySelector(".volume");t&&t.classList.contains("up")&&this.onVolumeMute()})}addEventToVolume(){const t=this.tile.querySelector(".volume");t&&t.addEventListener("click",e=>{t.classList.contains("up")?this.onVolumeMute():this.onVolumeUnMute()})}onVolumeUnMute(){this.tile.querySelector(".volume").classList.add("up"),this.video.muted=!1,this.analiser(this.tile.querySelector(".chart"),"running")}onVolumeMute(){this.tile.querySelector(".volume").classList.remove("up"),this.video.muted=!0,this.analiser(this.tile.querySelector(".chart"),"closed")}initAudioContext(){void 0===this.ctx&&(this.ctx=new AudioContext,this.source=this.ctx.createMediaElementSource(this.video),this.analyser=this.ctx.createAnalyser(),this.processor=this.ctx.createScriptProcessor(256,1,1))}analiser(t,e){if(void 0!==this.ctx&&void 0!==this.source&&void 0!==this.analyser&&void 0!==this.processor)if(this.source.connect(this.analyser),this.source.connect(this.processor),"running"==e){this.ctx.resume(),this.analyser.connect(this.ctx.destination),this.processor.connect(this.ctx.destination),this.analyser.fftSize=32;const e=new Uint8Array(this.analyser.frequencyBinCount);this.processor.onaudioprocess=(()=>{if(void 0!==this.analyser){this.analyser.getByteFrequencyData(e);const r=25,i=t.querySelector(".bar-4"),n=t.querySelector(".bar-2"),a=t.querySelector(".bar-3"),o=t.querySelector(".bar-1");let s=0,l=0,u=0,d=0;for(let t=0;t<4;t++)s+=e[t]/r;for(let t=4;t<8;t++)l+=e[t]/r;for(let t=8;t<12;t++)u+=e[t]/r;for(let t=12;t<16;t++)d+=e[t]/r;i.setAttribute("width",s),n.setAttribute("width",l),a.setAttribute("width",u),o.setAttribute("width",d)}})}else this.processor.onaudioprocess=null,this.source.disconnect(this.analyser),this.source.disconnect(this.processor),this.ctx.suspend()}}(t,e,t.url,w);R[t.class]={brightness:"1",contrast:"1"},L.push(r)}});const D=Object(a.a)(u),k=document.querySelector(".foo-menu");k&&(k.innerHTML=D);let I=new class{constructor(t,e){this.reducer=t,this.state=e,this.listener=(()=>{})}getState(){return this.state}dispatch(t){return this.state=this.reducer(this.state,t),this.listener(),t}subscribe(t){this.listener=t}}(function(t=R,e){return"brightnessChange"==e.type&&(t[e.videoId].brightness=e.brightness),"contrastChange"==e.type&&(t[e.videoId].contrast=e.contrast),t});I.subscribe(()=>{L.forEach(t=>{const e=I.getState();t.setContrast(e[t.video.classList[0]].contrast),t.setBrightness(e[t.video.classList[0]].brightness)})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3BpY3R1cmUvcGljdHVyZS5oYnMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL3VybC9lc2NhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzLnJ1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9oZWxwZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaGVscGVycy9ibG9jay1oZWxwZXItbWlzc2luZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2hlbHBlcnMvaGVscGVyLW1pc3NpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9oZWxwZXJzL2lmLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvaGVscGVycy9sb2cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9oZWxwZXJzL2xvb2t1cC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2hlbHBlcnMvd2l0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2RlY29yYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvZGlzdC9janMvaGFuZGxlYmFycy9kZWNvcmF0b3JzL2lubGluZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL2xvZ2dlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL2Rpc3QvY2pzL2hhbmRsZWJhcnMvcnVudGltZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9kaXN0L2Nqcy9oYW5kbGViYXJzL25vLWNvbmZsaWN0LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZm9vdGVyL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Zvb3Rlci9mb290ZXIuaGFuZGxlYmFycyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9oZWFkZXIvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5oYnMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9sb2dvQDF4LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2xvZ29AMngucG5nIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvbG9nby5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9pY29uX2xpc3RfbS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9pY29uX2xpc3RfbUAyeC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9pY29uX2xpc3RfbUAxeC5zdmciLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hscy5qcy9kaXN0L2hscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9mb290ZXIvZm9vdGVyLmNzcz84ZTBjIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2Zvb3Rlci9mb290ZXIuY3NzIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvY3Jvc3Muc3ZnIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvTmV4dC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbmF2L25hdi5oYW5kbGViYXJzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2hlYWRlci9oZWFkZXIuY3NzP2UxN2QiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RldmljZS9jb21wb25lbnRzL3ZpZGVvVGlsZS92aWRlb1RpbGUuaGFuZGxlYmFycyIsIndlYnBhY2s6Ly8vLi9zcmMvZGV2aWNlL2NvbXBvbmVudHMvdmlkZW9UaWxlL3ZpZGVvVGlsZS5jc3M/ZmRkNiIsIndlYnBhY2s6Ly8vLi9zcmMvZGV2aWNlL2NvbXBvbmVudHMvdmlkZW9UaWxlL3ZpZGVvVGlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy92b2ljZW9mZi5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy92b2ljZW9uLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZGV2aWNlL2RldmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGV2aWNlL2NvbXBvbmVudHMvdmlkZW9UaWxlL2luZGV4LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iaWtlZmx1eC9idWlsZC9zdG9yZS9zdG9yZS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImV4dGVuZCIsImluZGV4T2YiLCJhcnJheSIsImxlbiIsImxlbmd0aCIsImVzY2FwZUV4cHJlc3Npb24iLCJzdHJpbmciLCJ0b0hUTUwiLCJwb3NzaWJsZSIsInRlc3QiLCJyZXBsYWNlIiwiYmFkQ2hhcnMiLCJlc2NhcGVDaGFyIiwiaXNFbXB0eSIsImlzQXJyYXkiLCJjcmVhdGVGcmFtZSIsImZyYW1lIiwiX3BhcmVudCIsImJsb2NrUGFyYW1zIiwicGFyYW1zIiwiaWRzIiwicGF0aCIsImFwcGVuZENvbnRleHRQYXRoIiwiY29udGV4dFBhdGgiLCJpZCIsImVzY2FwZSIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsImAiLCI9IiwiY2hyIiwib2JqIiwiYXJndW1lbnRzIiwidG9TdHJpbmciLCJpc0Z1bmN0aW9uIiwiQXJyYXkiLCJlcnJvclByb3BzIiwiRXhjZXB0aW9uIiwibWVzc2FnZSIsIm5vZGUiLCJsb2MiLCJsaW5lIiwidW5kZWZpbmVkIiwiY29sdW1uIiwic3RhcnQiLCJ0bXAiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwidGhpcyIsImlkeCIsImNhcHR1cmVTdGFja1RyYWNlIiwibGluZU51bWJlciIsIm5vcCIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsInRvQ29tbWVudCIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNvbmNhdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJwdXNoIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiZm4iLCJtZW1vIiwiYXBwbHkiLCJtZW1vaXplIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0RWxlbWVudCIsInRhcmdldCIsInBhcmVudCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsIm9wdGlvbnMiLCJkb21TdHlsZSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImluc2VydEludG8iLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXR0cnMiLCJ0eXBlIiwibm9uY2UiLCJuYyIsImdldE5vbmNlIiwiYWRkQXR0cnMiLCJlbCIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwidXBkYXRlIiwicmVtb3ZlIiwicmVzdWx0IiwidHJhbnNmb3JtIiwiZGVmYXVsdCIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwicmVwbGFjZVRleHQiLCJ0ZXh0U3RvcmUiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIkhhbmRsZWJhcnNFbnZpcm9ubWVudCIsIl91dGlscyIsIl9leGNlcHRpb24yIiwiX2hlbHBlcnMiLCJfZGVjb3JhdG9ycyIsIl9sb2dnZXIyIiwiVkVSU0lPTiIsIkNPTVBJTEVSX1JFVklTSU9OIiwiUkVWSVNJT05fQ0hBTkdFUyIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCJoZWxwZXJzIiwicGFydGlhbHMiLCJkZWNvcmF0b3JzIiwicmVnaXN0ZXJEZWZhdWx0SGVscGVycyIsInJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnMiLCJsb2dnZXIiLCJsb2ciLCJyZWdpc3RlckhlbHBlciIsInVucmVnaXN0ZXJIZWxwZXIiLCJyZWdpc3RlclBhcnRpYWwiLCJwYXJ0aWFsIiwidW5yZWdpc3RlclBhcnRpYWwiLCJyZWdpc3RlckRlY29yYXRvciIsInVucmVnaXN0ZXJEZWNvcmF0b3IiLCJIYW5kbGViYXJzIiwidGVtcGxhdGUiLCJjb21waWxlciIsIm1haW4iLCJjb250YWluZXIiLCJkZXB0aDAiLCJkYXRhIiwiaGVscGVyIiwiYWxpYXMxIiwibnVsbENvbnRleHQiLCJhbGlhczIiLCJoZWxwZXJNaXNzaW5nIiwiYWxpYXMzIiwiYWxpYXM0IiwiaGFzaCIsInNvdXJjZVNyY3NldCIsImltZ1NyYyIsImltZ1NyY3NldCIsImltZ0FsdCIsInVzZURhdGEiLCJ1cmwiLCJzbGljZSIsImxvY2F0aW9uIiwiYmFzZVVybCIsInByb3RvY29sIiwiaG9zdCIsImN1cnJlbnREaXIiLCJwYXRobmFtZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9oYW5kbGViYXJzU2FmZVN0cmluZzIiLCJfaGFuZGxlYmFyc0V4Y2VwdGlvbjIiLCJVdGlscyIsInJ1bnRpbWUiLCJfaGFuZGxlYmFyc05vQ29uZmxpY3QyIiwiaGIiLCJTYWZlU3RyaW5nIiwiVk0iLCJzcGVjIiwiaW5zdCIsImluc3RhbmNlIiwiX2hlbHBlcnNCbG9ja0hlbHBlck1pc3NpbmcyIiwiX2hlbHBlcnNFYWNoMiIsIl9oZWxwZXJzSGVscGVyTWlzc2luZzIiLCJfaGVscGVyc0lmMiIsIl9oZWxwZXJzTG9nMiIsIl9oZWxwZXJzTG9va3VwMiIsIl9oZWxwZXJzV2l0aDIiLCJjb250ZXh0IiwiaW52ZXJzZSIsImVhY2giLCJyZXQiLCJleGVjSXRlcmF0aW9uIiwiZmllbGQiLCJsYXN0IiwiZmlyc3QiLCJwcmlvcktleSIsImNvbmRpdGlvbmFsIiwiaW5jbHVkZVplcm8iLCJhcmdzIiwibGV2ZWwiLCJfZGVjb3JhdG9yc0lubGluZTIiLCJwcm9wcyIsIm9yaWdpbmFsIiwibWV0aG9kTWFwIiwibG9va3VwTGV2ZWwiLCJsZXZlbE1hcCIsInRvTG93ZXJDYXNlIiwicGFyc2VJbnQiLCJjb25zb2xlIiwibWV0aG9kIiwiX2xlbiIsIl9rZXkiLCJjaGVja1JldmlzaW9uIiwiY29tcGlsZXJJbmZvIiwiY29tcGlsZXJSZXZpc2lvbiIsImN1cnJlbnRSZXZpc2lvbiIsIl9iYXNlIiwicnVudGltZVZlcnNpb25zIiwiY29tcGlsZXJWZXJzaW9ucyIsInRlbXBsYXRlU3BlYyIsImVudiIsImRlY29yYXRvciIsIm1haW5fZCIsInN0cmljdCIsImxvb2t1cCIsImRlcHRocyIsImxhbWJkYSIsImN1cnJlbnQiLCJpbnZva2VQYXJ0aWFsIiwicmVzb2x2ZVBhcnRpYWwiLCJjb21waWxlIiwiY29tcGlsZXJPcHRpb25zIiwiaW5kZW50IiwibGluZXMiLCJzcGxpdCIsInByb2dyYW1zIiwicHJvZ3JhbSIsImRlY2xhcmVkQmxvY2tQYXJhbXMiLCJwcm9ncmFtV3JhcHBlciIsIndyYXBQcm9ncmFtIiwiZGVwdGgiLCJtZXJnZSIsInBhcmFtIiwiY29tbW9uIiwic2VhbCIsIm5vb3AiLCJfc2V0dXAiLCJyb290IiwiaW5pdERhdGEiLCJ1c2VCbG9ja1BhcmFtcyIsInVzZURlcHRocyIsImV4ZWN1dGVEZWNvcmF0b3JzIiwiaXNUb3AiLCJ1c2VQYXJ0aWFsIiwidXNlRGVjb3JhdG9ycyIsIl9jaGlsZCIsImN1cnJlbnRQYXJ0aWFsQmxvY2siLCJwYXJ0aWFsQmxvY2siLCJGdW5jdGlvbiIsInByb2ciLCJjdXJyZW50RGVwdGhzIiwiZ2xvYmFsIiwiJEhhbmRsZWJhcnMiLCJub0NvbmZsaWN0IiwiZyIsImV2YWwiLCJfZm9vdGVyX2hhbmRsZWJhcnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9mb290ZXJfaGFuZGxlYmFyc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwidGl0bGUiLCJzdGFjazEiLCJpdGVtcyIsIl9oZWFkZXJfaGJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfaGVhZGVyX2hic19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQiLCJsb2dvIiwiaWNvbiIsImZhY3RvcnkiLCJjb25maWd1cmFibGUiLCJlbmFibGVMb2dzIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19nZXRfc2VsZl9zY29wZV9fIiwiX3R5cGVvZiIsIml0ZXJhdG9yIiwiZmFrZUxvZ2dlciIsInRyYWNlIiwiZGVidWciLCJ3YXJuIiwiaW5mbyIsImVycm9yIiwiZXhwb3J0ZWRMb2dnZXIiLCJleHBvcnRMb2dnZXJGdW5jdGlvbnMiLCJkZWJ1Z0NvbmZpZyIsIl9sZW4yIiwiZnVuY3Rpb25zIiwiX2tleTIiLCJmdW5jIiwibXNnIiwiZm9ybWF0TXNnIiwiY29uc29sZVByaW50Rm4iLCJNRURJQV9BVFRBQ0hJTkciLCJNRURJQV9BVFRBQ0hFRCIsIk1FRElBX0RFVEFDSElORyIsIk1FRElBX0RFVEFDSEVEIiwiQlVGRkVSX1JFU0VUIiwiQlVGRkVSX0NPREVDUyIsIkJVRkZFUl9DUkVBVEVEIiwiQlVGRkVSX0FQUEVORElORyIsIkJVRkZFUl9BUFBFTkRFRCIsIkJVRkZFUl9FT1MiLCJCVUZGRVJfRkxVU0hJTkciLCJCVUZGRVJfRkxVU0hFRCIsIk1BTklGRVNUX0xPQURJTkciLCJNQU5JRkVTVF9MT0FERUQiLCJNQU5JRkVTVF9QQVJTRUQiLCJMRVZFTF9TV0lUQ0hJTkciLCJMRVZFTF9TV0lUQ0hFRCIsIkxFVkVMX0xPQURJTkciLCJMRVZFTF9MT0FERUQiLCJMRVZFTF9VUERBVEVEIiwiTEVWRUxfUFRTX1VQREFURUQiLCJBVURJT19UUkFDS1NfVVBEQVRFRCIsIkFVRElPX1RSQUNLX1NXSVRDSElORyIsIkFVRElPX1RSQUNLX1NXSVRDSEVEIiwiQVVESU9fVFJBQ0tfTE9BRElORyIsIkFVRElPX1RSQUNLX0xPQURFRCIsIlNVQlRJVExFX1RSQUNLU19VUERBVEVEIiwiU1VCVElUTEVfVFJBQ0tfU1dJVENIIiwiU1VCVElUTEVfVFJBQ0tfTE9BRElORyIsIlNVQlRJVExFX1RSQUNLX0xPQURFRCIsIlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VEIiwiSU5JVF9QVFNfRk9VTkQiLCJGUkFHX0xPQURJTkciLCJGUkFHX0xPQURfUFJPR1JFU1MiLCJGUkFHX0xPQURfRU1FUkdFTkNZX0FCT1JURUQiLCJGUkFHX0xPQURFRCIsIkZSQUdfREVDUllQVEVEIiwiRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVCIsIkZSQUdfUEFSU0lOR19VU0VSREFUQSIsIkZSQUdfUEFSU0lOR19NRVRBREFUQSIsIkZSQUdfUEFSU0lOR19EQVRBIiwiRlJBR19QQVJTRUQiLCJGUkFHX0JVRkZFUkVEIiwiRlJBR19DSEFOR0VEIiwiRlBTX0RST1AiLCJGUFNfRFJPUF9MRVZFTF9DQVBQSU5HIiwiRVJST1IiLCJERVNUUk9ZSU5HIiwiS0VZX0xPQURJTkciLCJLRVlfTE9BREVEIiwiU1RSRUFNX1NUQVRFX1RSQU5TSVRJT04iLCJFcnJvclR5cGVzIiwiRXJyb3JEZXRhaWxzIiwiTkVUV09SS19FUlJPUiIsIk1FRElBX0VSUk9SIiwiS0VZX1NZU1RFTV9FUlJPUiIsIk1VWF9FUlJPUiIsIk9USEVSX0VSUk9SIiwiS0VZX1NZU1RFTV9OT19LRVlTIiwiS0VZX1NZU1RFTV9OT19BQ0NFU1MiLCJLRVlfU1lTVEVNX05PX1NFU1NJT04iLCJLRVlfU1lTVEVNX0xJQ0VOU0VfUkVRVUVTVF9GQUlMRUQiLCJNQU5JRkVTVF9MT0FEX0VSUk9SIiwiTUFOSUZFU1RfTE9BRF9USU1FT1VUIiwiTUFOSUZFU1RfUEFSU0lOR19FUlJPUiIsIk1BTklGRVNUX0lOQ09NUEFUSUJMRV9DT0RFQ1NfRVJST1IiLCJMRVZFTF9MT0FEX0VSUk9SIiwiTEVWRUxfTE9BRF9USU1FT1VUIiwiTEVWRUxfU1dJVENIX0VSUk9SIiwiQVVESU9fVFJBQ0tfTE9BRF9FUlJPUiIsIkFVRElPX1RSQUNLX0xPQURfVElNRU9VVCIsIkZSQUdfTE9BRF9FUlJPUiIsIkZSQUdfTE9BRF9USU1FT1VUIiwiRlJBR19ERUNSWVBUX0VSUk9SIiwiRlJBR19QQVJTSU5HX0VSUk9SIiwiUkVNVVhfQUxMT0NfRVJST1IiLCJLRVlfTE9BRF9FUlJPUiIsIktFWV9MT0FEX1RJTUVPVVQiLCJCVUZGRVJfQUREX0NPREVDX0VSUk9SIiwiQlVGRkVSX0FQUEVORF9FUlJPUiIsIkJVRkZFUl9BUFBFTkRJTkdfRVJST1IiLCJCVUZGRVJfU1RBTExFRF9FUlJPUiIsIkJVRkZFUl9GVUxMX0VSUk9SIiwiQlVGRkVSX1NFRUtfT1ZFUl9IT0xFIiwiQlVGRkVSX05VREdFX09OX1NUQUxMIiwiSU5URVJOQUxfRVhDRVBUSU9OIiwiaXNGaW5pdGVOdW1iZXIiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsInNlbGYiLCJVUkxfUkVHRVgiLCJGSVJTVF9TRUdNRU5UX1JFR0VYIiwiU0xBU0hfRE9UX1JFR0VYIiwiU0xBU0hfRE9UX0RPVF9SRUdFWCIsIlVSTFRvb2xraXQiLCJidWlsZEFic29sdXRlVVJMIiwiYmFzZVVSTCIsInJlbGF0aXZlVVJMIiwib3B0cyIsImFsd2F5c05vcm1hbGl6ZSIsImJhc2VQYXJ0c0Zvck5vcm1hbGlzZSIsInBhcnNlVVJMIiwiYmFzZVBhcnRzIiwibm9ybWFsaXplUGF0aCIsImJ1aWxkVVJMRnJvbVBhcnRzIiwicmVsYXRpdmVQYXJ0cyIsInNjaGVtZSIsIm5ldExvYyIsInBhdGhQYXJ0cyIsImV4ZWMiLCJidWlsdFBhcnRzIiwicXVlcnkiLCJmcmFnbWVudCIsImJhc2VVUkxQYXRoIiwibmV3UGF0aCIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwicmV2ZXJzZSIsInV0ZjhBcnJheVRvU3RyIiwiSUQzIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJpc0hlYWRlciIsIm9mZnNldCIsImlzRm9vdGVyIiwiZ2V0SUQzRGF0YSIsImZyb250IiwiX3JlYWRTaXplIiwic3ViYXJyYXkiLCJzaXplIiwiZ2V0VGltZVN0YW1wIiwiZnJhbWVzIiwiZ2V0SUQzRnJhbWVzIiwiaXNUaW1lU3RhbXBGcmFtZSIsIl9yZWFkVGltZVN0YW1wIiwiX2dldEZyYW1lRGF0YSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImlkM0RhdGEiLCJlbmQiLCJmcmFtZURhdGEiLCJfZGVjb2RlRnJhbWUiLCJfZGVjb2RlUHJpdkZyYW1lIiwiX2RlY29kZVRleHRGcmFtZSIsIl9kZWNvZGVVUkxGcmFtZSIsInRpbWVTdGFtcEZyYW1lIiwiYnl0ZUxlbmd0aCIsIlVpbnQ4QXJyYXkiLCJwdHMzM0JpdCIsInRpbWVzdGFtcCIsIk1hdGgiLCJyb3VuZCIsIm93bmVyIiwiX3V0ZjhBcnJheVRvU3RyIiwicHJpdmF0ZURhdGEiLCJidWZmZXIiLCJkZXNjcmlwdGlvbiIsInRleHQiLCJleGl0T25OdWxsIiwiY2hhcjIiLCJjaGFyMyIsIm91dCIsIkV2ZW50RW1pdHRlciIsIl9ldmVudHMiLCJfbWF4TGlzdGVuZXJzIiwiYXJnIiwiaXNPYmplY3QiLCJpc1VuZGVmaW5lZCIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJzZXRNYXhMaXN0ZW5lcnMiLCJpc051bWJlciIsImlzTmFOIiwiZW1pdCIsImVyIiwiaGFuZGxlciIsImxpc3RlbmVycyIsImVyciIsImFkZExpc3RlbmVyIiwibGlzdGVuZXIiLCJuZXdMaXN0ZW5lciIsIndhcm5lZCIsIm9uIiwib25jZSIsImZpcmVkIiwicmVtb3ZlTGlzdGVuZXIiLCJwb3NpdGlvbiIsInJlbW92ZUFsbExpc3RlbmVycyIsImxpc3RlbmVyQ291bnQiLCJldmxpc3RlbmVyIiwiZW1pdHRlciIsImFlc19jcnlwdG8iLCJBRVNDcnlwdG8iLCJzdWJ0bGUiLCJpdiIsImFlc0lWIiwiZGVjcnlwdCIsImZhc3RfYWVzX2tleSIsIkZhc3RBRVNLZXkiLCJmYXN0X2Flc19rZXlfX2NsYXNzQ2FsbENoZWNrIiwiZXhwYW5kS2V5IiwiaW1wb3J0S2V5IiwiYWVzX2RlY3J5cHRvciIsIkFFU0RlY3J5cHRvciIsImFlc19kZWNyeXB0b3JfX2NsYXNzQ2FsbENoZWNrIiwicmNvbiIsInN1Yk1peCIsIlVpbnQzMkFycmF5IiwiaW52U3ViTWl4Iiwic0JveCIsImludlNCb3giLCJpbml0VGFibGUiLCJ1aW50OEFycmF5VG9VaW50MzJBcnJheV8iLCJhcnJheUJ1ZmZlciIsInZpZXciLCJEYXRhVmlldyIsIm5ld0FycmF5IiwiZ2V0VWludDMyIiwic3ViTWl4MCIsInN1Yk1peDEiLCJzdWJNaXgyIiwic3ViTWl4MyIsImludlN1Yk1peDAiLCJpbnZTdWJNaXgxIiwiaW52U3ViTWl4MiIsImludlN1Yk1peDMiLCJ4IiwieGkiLCJzeCIsIngyIiwieDQiLCJ4OCIsImtleUJ1ZmZlciIsInNhbWVLZXkiLCJrZXlTaXplIiwia3NSb3dzIiwia3NSb3ciLCJpbnZLc1JvdyIsImtleVNjaGVkdWxlIiwiaW52S2V5U2NoZWR1bGUiLCJzYm94IiwicHJldiIsIm5ldHdvcmtUb0hvc3RPcmRlclN3YXAiLCJ3b3JkIiwiaW5wdXRBcnJheUJ1ZmZlciIsInJlbW92ZVBLQ1M3UGFkZGluZyIsIm5Sb3VuZHMiLCJpbnZTQk9YIiwiaW5pdFZlY3RvciIsImluaXRWZWN0b3IwIiwiaW5pdFZlY3RvcjEiLCJpbml0VmVjdG9yMiIsImluaXRWZWN0b3IzIiwiaW5wdXRJbnQzMiIsIkludDMyQXJyYXkiLCJvdXRwdXRJbnQzMiIsInQwIiwidDEiLCJ0MiIsInQzIiwiczAiLCJzMSIsInMyIiwiczMiLCJpbnB1dFdvcmRzMCIsImlucHV0V29yZHMxIiwiaW5wdXRXb3JkczIiLCJpbnB1dFdvcmRzMyIsInN3YXBXb3JkIiwib3V0cHV0Qnl0ZXMiLCJwYWRkaW5nQnl0ZXMiLCJnZXRVaW50OCIsInJlbW92ZVBhZGRpbmciLCJkZXN0cm95IiwiZXJyb3JzIiwiZXZlbnRzIiwiZ2V0X3NlbGZfc2NvcGUiLCJkZWNyeXB0ZXJfRGVjcnlwdGVyIiwiRGVjcnlwdGVyIiwib2JzZXJ2ZXIiLCJjb25maWciLCJfcmVmJHJlbW92ZVBLQ1M3UGFkZGkiLCJkZWNyeXB0ZXJfX2NsYXNzQ2FsbENoZWNrIiwibG9nRW5hYmxlZCIsImJyb3dzZXJDcnlwdG8iLCJjcnlwdG8iLCJ3ZWJraXRTdWJ0bGUiLCJkaXNhYmxlV2ViQ3J5cHRvIiwiaXNTeW5jIiwiZW5hYmxlU29mdHdhcmVBRVMiLCJjYWxsYmFjayIsIl90aGlzIiwiZGVjcnlwdG9yIiwiZmFzdEFlc0tleSIsInRoZW4iLCJhZXNLZXkiLCJjYXRjaCIsIm9uV2ViQ3J5cHRvRXJyb3IiLCJ0cmlnZ2VyIiwiZGV0YWlscyIsImZhdGFsIiwicmVhc29uIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19sb2dnZXJfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXZlbnRzX18iLCJVSU5UMzJfTUFYIiwicG93IiwiTVA0RGVtdXhlciIsInJlbXV4ZXIiLCJyZXNldFRpbWVTdGFtcCIsImluaXRQVFMiLCJyZXNldEluaXRTZWdtZW50IiwiaW5pdFNlZ21lbnQiLCJhdWRpb0NvZGVjIiwidmlkZW9Db2RlYyIsImR1cmF0aW9uIiwicGFyc2VJbml0U2VnbWVudCIsInRyYWNrcyIsImF1ZGlvIiwidmlkZW8iLCJhdWRpb3ZpZGVvIiwiY29kZWMiLCJwcm9iZSIsImZpbmRCb3giLCJtaW4iLCJiaW4yc3RyIiwicmVhZFVpbnQxNiIsInZhbCIsInJlYWRVaW50MzIiLCJ3cml0ZVVpbnQzMiIsInJlc3VsdHMiLCJzdWJyZXN1bHRzIiwiZW5kYm94IiwicGFyc2VTZWdtZW50SW5kZXgiLCJtb292IiwibW9vdkVuZE9mZnNldCIsInNpZHgiLCJyZWZlcmVuY2VzIiwidmVyc2lvbiIsInRpbWVzY2FsZSIsInN0YXJ0Qnl0ZSIsInJlZmVyZW5jZXNDb3VudCIsInJlZmVyZW5jZUluZGV4IiwicmVmZXJlbmNlSW5mbyIsInJlZmVyZW5jZVNpemUiLCJzdWJzZWdtZW50RHVyYXRpb24iLCJlYXJsaWVzdFByZXNlbnRhdGlvblRpbWUiLCJ0cmFrIiwidGtoZCIsInRyYWNrSWQiLCJtZGhkIiwiaGRsciIsInNvdW4iLCJ2aWRlIiwiY29kZWNCb3giLCJjb2RlY1R5cGUiLCJnZXRTdGFydERUUyIsImJhc2VUaW1lcyIsInRyYWZzIiwidHJhZiIsInRmaGQiLCJzY2FsZSIsInRmZHQiLCJvZmZzZXRTdGFydERUUyIsInRpbWVPZmZzZXQiLCJiYXNlTWVkaWFEZWNvZGVUaW1lIiwibWF4IiwidXBwZXIiLCJmbG9vciIsImxvd2VyIiwiYXBwZW5kIiwiY29udGlndW91cyIsImFjY3VyYXRlVGltZU9mZnNldCIsInN0YXJ0RFRTIiwiX3N0YXJ0RFRTIiwicmVtdXgiLCJjcnlwdF9kZWNyeXB0ZXIiLCJudW1iZXJfaXNGaW5pdGUiLCJpc0hlYWRlclBhdHRlcm4iLCJnZXRIZWFkZXJMZW5ndGgiLCJnZXRGdWxsRnJhbWVMZW5ndGgiLCJhZHRzX3Byb2JlIiwiZnJhbWVMZW5ndGgiLCJuZXdPZmZzZXQiLCJpbml0VHJhY2tDb25maWciLCJ0cmFjayIsInNhbXBsZXJhdGUiLCJhZHRzU2FtcGxlaW5nSW5kZXgiLCJhZHRzT2JqZWN0VHlwZSIsImFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCIsImFkdHNDaGFuZWxDb25maWciLCJ1c2VyQWdlbnQiLCJuYXZpZ2F0b3IiLCJtYW5pZmVzdENvZGVjIiwiYWR0c1NhbXBsZWluZ1JhdGVzIiwiY2hhbm5lbENvdW50IiwiZ2V0QXVkaW9Db25maWciLCJnZXRGcmFtZUR1cmF0aW9uIiwiYXBwZW5kRnJhbWUiLCJwdHMiLCJmcmFtZUluZGV4IiwiaGVhZGVyIiwiZnJhbWVEdXJhdGlvbiIsImhlYWRlckxlbmd0aCIsInN0YW1wIiwicGFyc2VGcmFtZUhlYWRlciIsImFhY1NhbXBsZSIsInVuaXQiLCJkdHMiLCJzYW1wbGVzIiwic2FtcGxlIiwiaWQzIiwiYWFjZGVtdXhlciIsIkFBQ0RlbXV4ZXIiLCJfYXVkaW9UcmFjayIsInNlcXVlbmNlTnVtYmVyIiwiaXNBQUMiLCJpbnB1dFRpbWVTY2FsZSIsImlkM1NhbXBsZXMiLCJtcDRkZW11eGVyIiwiTXBlZ0F1ZGlvIiwiQml0cmF0ZXNNYXAiLCJTYW1wbGluZ1JhdGVNYXAiLCJTYW1wbGVzQ29lZmZpY2llbnRzIiwiQnl0ZXNJblNsb3QiLCJwYXJzZUhlYWRlciIsInNhbXBsZXNQZXJGcmFtZSIsInNhbXBsZVJhdGUiLCJoZWFkZXJCIiwiaGVhZGVyQyIsImhlYWRlckUiLCJoZWFkZXJGIiwiaGVhZGVyRyIsImNvbHVtbkluQml0cmF0ZXMiLCJiaXRSYXRlIiwiY29sdW1uSW5TYW1wbGVSYXRlcyIsInNhbXBsZUNvZWZmaWNpZW50IiwiYnl0ZXNJblNsb3QiLCJtcGVnYXVkaW8iLCJleHBfZ29sb21iIiwiRXhwR29sb21iIiwiZXhwX2dvbG9tYl9fY2xhc3NDYWxsQ2hlY2siLCJieXRlc0F2YWlsYWJsZSIsImJpdHNBdmFpbGFibGUiLCJsb2FkV29yZCIsIndvcmtpbmdCeXRlcyIsImF2YWlsYWJsZUJ5dGVzIiwic2V0Iiwic2tpcEJpdHMiLCJjb3VudCIsInNraXBCeXRlcyIsInJlYWRCaXRzIiwiYml0cyIsInZhbHUiLCJza2lwTFoiLCJsZWFkaW5nWmVyb0NvdW50Iiwic2tpcFVFRyIsInNraXBFRyIsInJlYWRVRUciLCJjbHoiLCJyZWFkRUciLCJyZWFkQm9vbGVhbiIsInJlYWRVQnl0ZSIsInJlYWRVU2hvcnQiLCJyZWFkVUludCIsInNraXBTY2FsaW5nTGlzdCIsImxhc3RTY2FsZSIsIm5leHRTY2FsZSIsInJlYWRTUFMiLCJwcm9maWxlSWRjIiwicGljV2lkdGhJbk1ic01pbnVzMSIsInBpY0hlaWdodEluTWFwVW5pdHNNaW51czEiLCJmcmFtZU1ic09ubHlGbGFnIiwiZnJhbWVDcm9wTGVmdE9mZnNldCIsImZyYW1lQ3JvcFJpZ2h0T2Zmc2V0IiwiZnJhbWVDcm9wVG9wT2Zmc2V0IiwiZnJhbWVDcm9wQm90dG9tT2Zmc2V0IiwibnVtUmVmRnJhbWVzSW5QaWNPcmRlckNudEN5Y2xlIiwic2NhbGluZ0xpc3RDb3VudCIsImNocm9tYUZvcm1hdElkYyIsInBpY09yZGVyQ250VHlwZSIsInBpeGVsUmF0aW8iLCJ3aWR0aCIsImNlaWwiLCJoZWlnaHQiLCJyZWFkU2xpY2VUeXBlIiwic2FtcGxlX2FlcyIsIlNhbXBsZUFlc0RlY3J5cHRlciIsImRlY3J5cHRkYXRhIiwiZGlzY2FyZEVQQiIsInNhbXBsZV9hZXNfX2NsYXNzQ2FsbENoZWNrIiwiZGVjcnlwdGVyIiwiZGVjcnlwdEJ1ZmZlciIsImVuY3J5cHRlZERhdGEiLCJkZWNyeXB0QWFjU2FtcGxlIiwic2FtcGxlSW5kZXgiLCJzeW5jIiwiY3VyVW5pdCIsImVuY3J5cHRlZEJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJsb2NhbHRoaXMiLCJkZWNyeXB0ZWREYXRhIiwiZGVjcnlwdEFhY1NhbXBsZXMiLCJnZXRBdmNFbmNyeXB0ZWREYXRhIiwiZGVjb2RlZERhdGEiLCJlbmNyeXB0ZWREYXRhTGVuIiwiSW50OEFycmF5Iiwib3V0cHV0UG9zIiwiaW5wdXRQb3MiLCJnZXRBdmNEZWNyeXB0ZWRVbml0IiwiZGVjcnlwdEF2Y1NhbXBsZSIsInVuaXRJbmRleCIsImRlY3J5cHRBdmNTYW1wbGVzIiwiY3VyVW5pdHMiLCJ1bml0cyIsIlJlbXV4ZXJUcmFja0lkQ29uZmlnIiwidHNkZW11eGVyIiwiVFNEZW11eGVyIiwidHlwZVN1cHBvcnRlZCIsInRzZGVtdXhlcl9fY2xhc3NDYWxsQ2hlY2siLCJzYW1wbGVBZXMiLCJzZXREZWNyeXB0RGF0YSIsInN5bmNPZmZzZXQiLCJfc3luY09mZnNldCIsInNjYW53aW5kb3ciLCJjcmVhdGVUcmFjayIsInBpZCIsImRyb3BwZWQiLCJwbXRQYXJzZWQiLCJfcG10SWQiLCJfYXZjVHJhY2siLCJfaWQzVHJhY2siLCJfdHh0VHJhY2siLCJhYWNPdmVyRmxvdyIsImFhY0xhc3RQVFMiLCJhdmNTYW1wbGUiLCJfZHVyYXRpb24iLCJzdHQiLCJwZXMiLCJ1bmtub3duUElEcyIsImF2Y1RyYWNrIiwiYXVkaW9UcmFjayIsImlkM1RyYWNrIiwiYXZjSWQiLCJhdWRpb0lkIiwiaWQzSWQiLCJwbXRJZCIsImF2Y0RhdGEiLCJwZXNEYXRhIiwiYXVkaW9EYXRhIiwicGFyc2VQQVQiLCJfcGFyc2VQQVQiLCJwYXJzZVBNVCIsIl9wYXJzZVBNVCIsInBhcnNlUEVTIiwiX3BhcnNlUEVTIiwicGFyc2VBVkNQRVMiLCJfcGFyc2VBVkNQRVMiLCJwYXJzZUFBQ1BFUyIsIl9wYXJzZUFBQ1BFUyIsInBhcnNlTVBFR1BFUyIsIl9wYXJzZU1QRUdQRVMiLCJwYXJzZUlEM1BFUyIsIl9wYXJzZUlEM1BFUyIsInBhcnNlZFBJRHMiLCJtcGVnIiwibXAzIiwiYXZjIiwiZGVjcnlwdEFuZFJlbXV4IiwidmlkZW9UcmFjayIsInRleHRUcmFjayIsImRlY3J5cHRBbmRSZW11eEF2YyIsIl9pbml0UFRTIiwiX2luaXREVFMiLCJtcGVnU3VwcG9ydGVkIiwiaXNTYW1wbGVBZXMiLCJ0YWJsZUVuZCIsInN0cmVhbSIsImZyYWciLCJwZXNGbGFncyIsInBlc0xlbiIsInBlc0hkckxlbiIsInBlc1B0cyIsInBlc0R0cyIsInBheWxvYWRTdGFydE9mZnNldCIsIm5ld0RhdGEiLCJkYXRhTGVuIiwicHVzaEFjY2VzVW5pdCIsIm5iU2FtcGxlcyIsImZvcmNlS2V5RnJhbWVPbkRpc2NvbnRpbnVpdHkiLCJzcHMiLCJfcGFyc2VBVkNOQUx1IiwiZXhwR29sb21iRGVjb2RlciIsInNwc2ZvdW5kIiwiY3JlYXRlQVZDU2FtcGxlIiwiYXVkRm91bmQiLCJzbGljZVR5cGUiLCJwYXlsb2FkVHlwZSIsInBheWxvYWRTaXplIiwiZW5kT2ZDYXB0aW9ucyIsImIiLCJmaXJzdEJ5dGUiLCJ0b3RhbENDcyIsImJ5dGVBcnJheSIsIl9pbnNlcnRTYW1wbGVJbk9yZGVyIiwiYnl0ZXMiLCJjb2RlY2FycmF5IiwiY29kZWNzdHJpbmciLCJoIiwicHBzIiwiYXJyIiwicG9zIiwiX2dldExhc3ROYWxVbml0IiwibGFzdFVuaXQiLCJvdmVyZmxvdyIsInN0YXRlIiwibmFsdVN0YXRlIiwibGFzdFN0YXRlIiwibGFzdFVuaXRTdGFydCIsImxhc3RVbml0VHlwZSIsIl9sYXN0VW5pdCIsIl90bXAiLCJuZXdMZW5ndGgiLCJFUEJQb3NpdGlvbnMiLCJzb3VyY2VJbmRleCIsInNoaWZ0IiwibmV3UFRTIiwiYWJzIiwibXAzZGVtdXhlciIsIk1QM0RlbXV4ZXIiLCJtcDNkZW11eGVyX19jbGFzc0NhbGxDaGVjayIsImFhY19oZWxwZXIiLCJBQUMiLCJhYWNfaGVscGVyX19jbGFzc0NhbGxDaGVjayIsImdldFNpbGVudEZyYW1lIiwibXA0X2dlbmVyYXRvciIsIk1QNCIsIm1wNF9nZW5lcmF0b3JfX2NsYXNzQ2FsbENoZWNrIiwiaW5pdCIsInR5cGVzIiwiYXZjMSIsImF2Y0MiLCJidHJ0IiwiZGluZiIsImRyZWYiLCJlc2RzIiwiZnR5cCIsIm1kYXQiLCJtZGlhIiwibWZoZCIsIm1pbmYiLCJtb29mIiwibXA0YSIsIi5tcDMiLCJtdmV4IiwibXZoZCIsInBhc3AiLCJzZHRwIiwic3RibCIsInN0Y28iLCJzdHNjIiwic3RzZCIsInN0c3oiLCJzdHRzIiwidHJ1biIsInRyZXgiLCJ2bWhkIiwic21oZCIsImNoYXJDb2RlQXQiLCJ2aWRlb0hkbHIiLCJhdWRpb0hkbHIiLCJIRExSX1RZUEVTIiwiU1RUUyIsIlNUU0MiLCJTVENPIiwiU1RTWiIsIlZNSEQiLCJTTUhEIiwiU1RTRCIsIm1ham9yQnJhbmQiLCJhdmMxQnJhbmQiLCJtaW5vclZlcnNpb24iLCJGVFlQIiwiYm94IiwiRElORiIsInBheWxvYWQiLCJ1cHBlcldvcmREdXJhdGlvbiIsImxvd2VyV29yZER1cmF0aW9uIiwic24iLCJib3hlcyIsImZsYWdzIiwiZGVwZW5kc09uIiwiaXNEZXBlbmRlZE9uIiwiaGFzUmVkdW5kYW5jeSIsImF2Y2MiLCJoU3BhY2luZyIsInZTcGFjaW5nIiwiY29uZmlnbGVuIiwic2FtcGxlRGVwZW5kZW5jeVRhYmxlIiwidXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSIsImxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUiLCJhcnJheWxlbiIsImN0cyIsImlzTGVhZGluZyIsInBhZGRpbmdWYWx1ZSIsImlzTm9uU3luYyIsImRlZ3JhZFByaW8iLCJtb3ZpZSIsIm1wNF9yZW11eGVyIiwiTVA0UmVtdXhlciIsInZlbmRvciIsIm1wNF9yZW11eGVyX19jbGFzc0NhbGxDaGVjayIsImlzU2FmYXJpIiwibWF0Y2giLCJJU0dlbmVyYXRlZCIsImRlZmF1bHRUaW1lU3RhbXAiLCJnZW5lcmF0ZUlTIiwibmJBdWRpb1NhbXBsZXMiLCJuYlZpZGVvU2FtcGxlcyIsImF1ZGlvVGltZU9mZnNldCIsInZpZGVvVGltZU9mZnNldCIsImF1ZGlvdmlkZW9EZWx0YUR0cyIsInJlbXV4QXVkaW8iLCJhdWRpb1RyYWNrTGVuZ3RoIiwiZW5kUFRTIiwic3RhcnRQVFMiLCJyZW11eFZpZGVvIiwidmlkZW9EYXRhIiwicmVtdXhFbXB0eUF1ZGlvIiwicmVtdXhJRDMiLCJyZW11eFRleHQiLCJhdWRpb1NhbXBsZXMiLCJ2aWRlb1NhbXBsZXMiLCJjb21wdXRlUFRTRFRTIiwiaW5pdERUUyIsIkluZmluaXR5IiwibWV0YWRhdGEiLCJsYXN0UFRTIiwibGFzdERUUyIsInRpbWVTY2FsZSIsIm1wNFNhbXBsZUR1cmF0aW9uIiwiZmlyc3RQVFMiLCJmaXJzdERUUyIsImlucHV0U2FtcGxlcyIsIm91dHB1dFNhbXBsZXMiLCJwdHNOb3JtYWxpemUiLCJfUFRTTm9ybWFsaXplIiwibmV4dEF2Y0R0cyIsInNvcnQiLCJhIiwiZGVsdGFkdHMiLCJkZWx0YXB0cyIsIlBUU0RUU3NoaWZ0IiwicmVkdWNlIiwiY3VyciIsImRlbHRhIiwibmJOYWx1IiwibmFsdUxlbiIsIl9pIiwiX3NhbXBsZSIsIm5iVW5pdHMiLCJzYW1wbGVMZW4iLCJtZGF0U2l6ZSIsInNldFVpbnQzMiIsIl9pMiIsImF2Y1NhbXBsZVVuaXRzIiwibXA0U2FtcGxlTGVuZ3RoIiwiY29tcG9zaXRpb25UaW1lT2Zmc2V0IiwiX2oiLCJfbmJVbml0cyIsInVuaXREYXRhIiwidW5pdERhdGFMZW4iLCJsYXN0RnJhbWVEdXJhdGlvbiIsInN0cmV0Y2hTaG9ydFZpZGVvVHJhY2siLCJtYXhCdWZmZXJIb2xlIiwiZ2FwVG9sZXJhbmNlIiwiZGVsdGFUb0ZyYW1lRW5kIiwibmV4dEF1ZGlvUHRzIiwiZGF0YTEiLCJkYXRhMiIsImVuZERUUyIsImhhc0F1ZGlvIiwiaGFzVmlkZW8iLCJuYiIsIm1wNHRpbWVTY2FsZSIsInNjYWxlRmFjdG9yIiwiaW5wdXRTYW1wbGVEdXJhdGlvbiIsInJhd01QRUciLCJtcDRTYW1wbGUiLCJmaWxsRnJhbWUiLCJtYXhBdWRpb0ZyYW1lc0RyaWZ0IiwibmV4dFB0cyIsInRvRml4ZWQiLCJtaXNzaW5nIiwibmV3U3RhbXAiLCJfajIiLCJfbmJTYW1wbGVzIiwiYXVkaW9TYW1wbGUiLCJfcHRzIiwiX2RlbHRhIiwibnVtTWlzc2luZ0ZyYW1lcyIsIl9pMyIsInVuaXRMZW4iLCJsYXN0U2FtcGxlRHVyYXRpb24iLCJzaWxlbnRGcmFtZSIsInJlZmVyZW5jZSIsInBhc3N0aHJvdWdoX3JlbXV4ZXIiLCJQYXNzVGhyb3VnaFJlbXV4ZXIiLCJwYXNzdGhyb3VnaF9yZW11eGVyX19jbGFzc0NhbGxDaGVjayIsInJhd0RhdGEiLCJzdHJlYW1UeXBlIiwicGVyZm9ybWFuY2UiLCJkZW11eGVyX2lubGluZV9EZW11eGVySW5saW5lIiwiRGVtdXhlcklubGluZSIsImRlbXV4ZXJfaW5saW5lX19jbGFzc0NhbGxDaGVjayIsImRlbXV4ZXIiLCJkaXNjb250aW51aXR5IiwidHJhY2tTd2l0Y2giLCJkZWZhdWx0SW5pdFBUUyIsInN0YXJ0VGltZSIsIm5vdyIsIkRhdGUiLCJlbmRUaW1lIiwic3RhdHMiLCJ0c3RhcnQiLCJ0ZGVjcnlwdCIsInB1c2hEZWNyeXB0ZWQiLCJtdXhDb25maWciLCJkZW11eCIsIm11eCIsIl9yZW11eGVyIiwiY3Vlc19uYW1lc3BhY2VPYmplY3QiLCJuZXdDdWUiLCJ1cmxfdG9vbGtpdCIsInVybF90b29sa2l0X2RlZmF1bHQiLCJGT1JCSURERU5fRVZFTlRfTkFNRVMiLCJTZXQiLCJldmVudF9oYW5kbGVyIiwiRXZlbnRIYW5kbGVyIiwiaGxzIiwib25FdmVudCIsImhhbmRsZWRFdmVudHMiLCJ1c2VHZW5lcmljSGFuZGxlciIsInJlZ2lzdGVyTGlzdGVuZXJzIiwib25IYW5kbGVyRGVzdHJveWluZyIsInVucmVnaXN0ZXJMaXN0ZW5lcnMiLCJvbkhhbmRsZXJEZXN0cm95ZWQiLCJpc0V2ZW50SGFuZGxlciIsImV2ZW50IiwiaGFzIiwib2ZmIiwib25FdmVudEdlbmVyaWMiLCJmdW5jTmFtZSIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwid3JpdGFibGUiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJsZXZlbF9rZXkiLCJMZXZlbEtleSIsImxldmVsX2tleV9fY2xhc3NDYWxsQ2hlY2siLCJfdXJpIiwicmVsdXJpIiwiYmFzZXVyaSIsImZyYWdtZW50X19jcmVhdGVDbGFzcyIsImxvYWRlcl9mcmFnbWVudCIsIkZyYWdtZW50IiwiX2VsZW1lbnRhcnlTdHJlYW1zIiwiZnJhZ21lbnRfX2NsYXNzQ2FsbENoZWNrIiwiX3VybCIsIl9ieXRlUmFuZ2UiLCJfZGVjcnlwdGRhdGEiLCJ0YWdMaXN0IiwicHJvZ3JhbURhdGVUaW1lIiwicmF3UHJvZ3JhbURhdGVUaW1lIiwiRWxlbWVudGFyeVN0cmVhbVR5cGVzIiwiQVVESU8iLCJWSURFTyIsImFkZEVsZW1lbnRhcnlTdHJlYW0iLCJoYXNFbGVtZW50YXJ5U3RyZWFtIiwiY3JlYXRlSW5pdGlhbGl6YXRpb25WZWN0b3IiLCJzZWdtZW50TnVtYmVyIiwidWludDhWaWV3IiwiZnJhZ21lbnREZWNyeXB0ZGF0YUZyb21MZXZlbGtleSIsImxldmVsa2V5IiwidXJpIiwicmVsdXJsIiwiYmFzZXVybCIsInJhd0J5dGVSYW5nZSIsImJ5dGVSYW5nZSIsImxhc3RCeXRlUmFuZ2VFbmRPZmZzZXQiLCJsZXZlbF9fY3JlYXRlQ2xhc3MiLCJsb2FkZXJfbGV2ZWwiLCJMZXZlbCIsImxldmVsX19jbGFzc0NhbGxDaGVjayIsImVuZENDIiwiZW5kU04iLCJmcmFnbWVudHMiLCJsaXZlIiwibmVlZFNpZHhSYW5nZXMiLCJzdGFydENDIiwic3RhcnRTTiIsInN0YXJ0VGltZU9mZnNldCIsInRhcmdldGR1cmF0aW9uIiwidG90YWxkdXJhdGlvbiIsIkRFQ0lNQUxfUkVTT0xVVElPTl9SRUdFWCIsIkFUVFJfTElTVF9SRUdFWCIsImF0dHJfbGlzdCIsIkF0dHJMaXN0IiwiYXR0ciIsImF0dHJfbGlzdF9fY2xhc3NDYWxsQ2hlY2siLCJwYXJzZUF0dHJMaXN0IiwiZGVjaW1hbEludGVnZXIiLCJhdHRyTmFtZSIsImludFZhbHVlIiwiTUFYX1NBRkVfSU5URUdFUiIsImhleGFkZWNpbWFsSW50ZWdlciIsInN0cmluZ1ZhbHVlIiwiaGV4YWRlY2ltYWxJbnRlZ2VyQXNOdW1iZXIiLCJkZWNpbWFsRmxvYXRpbmdQb2ludCIsInBhcnNlRmxvYXQiLCJlbnVtZXJhdGVkU3RyaW5nIiwiZGVjaW1hbFJlc29sdXRpb24iLCJyZXMiLCJpbnB1dCIsImxhc3RJbmRleCIsInNhbXBsZUVudHJ5Q29kZXNJU08iLCJhM2RzIiwiYWMtMyIsImFjLTQiLCJhbGFjIiwiYWxhdyIsImRyYTEiLCJkdHMrIiwiZHRzLSIsImR0c2MiLCJkdHNlIiwiZHRzaCIsImVjLTMiLCJlbmNhIiwiZzcxOSIsImc3MjYiLCJtNGFlIiwibWhhMSIsIm1oYTIiLCJtaG0xIiwibWhtMiIsIm1scGEiLCJyYXcgIiwiT3B1cyIsInNhbXIiLCJzYXdiIiwic2F3cCIsInNldmMiLCJzcWNwIiwic3NtdiIsInR3b3MiLCJ1bGF3IiwiYXZjMiIsImF2YzMiLCJhdmM0IiwiYXZjcCIsImRyYWMiLCJkdmF2IiwiZHZoZSIsImVuY3YiLCJoZXYxIiwiaHZjMSIsIm1qcDIiLCJtcDR2IiwibXZjMSIsIm12YzIiLCJtdmMzIiwibXZjNCIsInJlc3YiLCJydjYwIiwiczI2MyIsInN2YzEiLCJzdmMyIiwidmMtMSIsInZwMDgiLCJ2cDA5IiwiaXNDb2RlY1N1cHBvcnRlZEluTXA0IiwiTWVkaWFTb3VyY2UiLCJpc1R5cGVTdXBwb3J0ZWQiLCJNQVNURVJfUExBWUxJU1RfUkVHRVgiLCJNQVNURVJfUExBWUxJU1RfTUVESUFfUkVHRVgiLCJMRVZFTF9QTEFZTElTVF9SRUdFWF9GQVNUIiwiUmVnRXhwIiwiTEVWRUxfUExBWUxJU1RfUkVHRVhfU0xPVyIsIk1QNF9SRUdFWF9TVUZGSVgiLCJtM3U4X3BhcnNlciIsIk0zVThQYXJzZXIiLCJtM3U4X3BhcnNlcl9fY2xhc3NDYWxsQ2hlY2siLCJmaW5kR3JvdXAiLCJncm91cHMiLCJtZWRpYUdyb3VwSWQiLCJtYXRjaGluZ0dyb3VwIiwiZ3JvdXAiLCJjb252ZXJ0QVZDMVRvQVZDT1RJIiwiYXZjZGF0YSIsInN1YnN0ciIsInJlc29sdmUiLCJwYXJzZU1hc3RlclBsYXlsaXN0IiwibGV2ZWxzIiwic2V0Q29kZWNzIiwiY29kZWNzIiwiZmlsdGVyZWQiLCJ0eXBlQ29kZXMiLCJpc0NvZGVjVHlwZSIsInByZWZlcnJlZCIsInVua25vd25Db2RlY3MiLCJyZXNvbHV0aW9uIiwiYml0cmF0ZSIsIk5BTUUiLCJDT0RFQ1MiLCJwYXJzZU1hc3RlclBsYXlsaXN0TWVkaWEiLCJhdWRpb0dyb3VwcyIsIm1lZGlhcyIsIlRZUEUiLCJncm91cElkIiwiREVGQVVMVCIsImF1dG9zZWxlY3QiLCJBVVRPU0VMRUNUIiwiZm9yY2VkIiwiRk9SQ0VEIiwiVVJJIiwibGFuZyIsIkxBTkdVQUdFIiwiZ3JvdXBDb2RlYyIsInBhcnNlTGV2ZWxQbGF5bGlzdCIsImxldmVsVXJsSWQiLCJjdXJyZW50U04iLCJjYyIsInByZXZGcmFnIiwiZmlyc3RQZHRJbmRleCIsInVybElkIiwiYXNzaWduUHJvZ3JhbURhdGVUaW1lIiwiYnl0ZVJhbmdlRW5kT2Zmc2V0IiwidmFsdWUxIiwidmFsdWUyIiwidG9VcHBlckNhc2UiLCJrZXlBdHRycyIsImRlY3J5cHRtZXRob2QiLCJkZWNyeXB0dXJpIiwiZGVjcnlwdGl2IiwibWFwQXR0cnMiLCJCWVRFUkFOR0UiLCJwb3AiLCJhdmVyYWdldGFyZ2V0ZHVyYXRpb24iLCJldmVyeSIsInN0YXJ0SW5kZXgiLCJmcmFnUHJldiIsImJhY2tmaWxsUHJvZ3JhbURhdGVUaW1lcyIsInBhcnNlIiwiZW5kUHJvZ3JhbURhdGVUaW1lIiwicGxheWxpc3RfbG9hZGVyX19jcmVhdGVDbGFzcyIsIkNvbnRleHRUeXBlIiwiTUFOSUZFU1QiLCJMRVZFTCIsIkFVRElPX1RSQUNLIiwiU1VCVElUTEVfVFJBQ0siLCJMZXZlbFR5cGUiLCJNQUlOIiwiU1VCVElUTEUiLCJwbGF5bGlzdF9sb2FkZXIiLCJfRXZlbnRIYW5kbGVyIiwiUGxheWxpc3RMb2FkZXIiLCJwbGF5bGlzdF9sb2FkZXJfX2NsYXNzQ2FsbENoZWNrIiwiUmVmZXJlbmNlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsImxvYWRlcnMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9pbmhlcml0cyIsImNhbkhhdmVRdWFsaXR5TGV2ZWxzIiwibWFwQ29udGV4dFRvTGV2ZWxUeXBlIiwiZ2V0UmVzcG9uc2VVcmwiLCJyZXNwb25zZSIsImNyZWF0ZUludGVybmFsTG9hZGVyIiwiUExvYWRlciIsInBMb2FkZXIiLCJMb2FkZXIiLCJsb2FkZXIiLCJnZXRJbnRlcm5hbExvYWRlciIsInJlc2V0SW50ZXJuYWxMb2FkZXIiLCJjb250ZXh0VHlwZSIsImRlc3Ryb3lJbnRlcm5hbExvYWRlcnMiLCJvbk1hbmlmZXN0TG9hZGluZyIsImxvYWQiLCJvbkxldmVsTG9hZGluZyIsIm9uQXVkaW9UcmFja0xvYWRpbmciLCJvblN1YnRpdGxlVHJhY2tMb2FkaW5nIiwibG9hZGVyQ29udGV4dCIsImFib3J0IiwibWF4UmV0cnkiLCJ0aW1lb3V0IiwicmV0cnlEZWxheSIsIm1heFJldHJ5RGVsYXkiLCJtYW5pZmVzdExvYWRpbmdNYXhSZXRyeSIsIm1hbmlmZXN0TG9hZGluZ1RpbWVPdXQiLCJtYW5pZmVzdExvYWRpbmdSZXRyeURlbGF5IiwibWFuaWZlc3RMb2FkaW5nTWF4UmV0cnlUaW1lb3V0IiwibGV2ZWxMb2FkaW5nVGltZU91dCIsImxldmVsTG9hZGluZ01heFJldHJ5IiwibGV2ZWxMb2FkaW5nUmV0cnlEZWxheSIsImxldmVsTG9hZGluZ01heFJldHJ5VGltZW91dCIsInJlc3BvbnNlVHlwZSIsImxvYWRlckNvbmZpZyIsImxvYWRlckNhbGxiYWNrcyIsIm9uU3VjY2VzcyIsImxvYWRzdWNjZXNzIiwib25FcnJvciIsImxvYWRlcnJvciIsIm9uVGltZW91dCIsImxvYWR0aW1lb3V0IiwibmV0d29ya0RldGFpbHMiLCJpc1NpZHhSZXF1ZXN0IiwiX2hhbmRsZVNpZHhSZXF1ZXN0IiwiX2hhbmRsZVBsYXlsaXN0TG9hZGVkIiwidGxvYWQiLCJfaGFuZGxlVHJhY2tPckxldmVsUGxheWxpc3QiLCJfaGFuZGxlTWFzdGVyUGxheWxpc3QiLCJfaGFuZGxlTWFuaWZlc3RQYXJzaW5nRXJyb3IiLCJfaGFuZGxlTmV0d29ya0Vycm9yIiwiYXVkaW9UcmFja3MiLCJzdWJ0aXRsZXMiLCJlbWJlZGRlZEF1ZGlvRm91bmQiLCJ1bnNoaWZ0IiwibGV2ZWxJZCIsImxldmVsVHlwZSIsImxldmVsRGV0YWlscyIsInNpbmdsZUxldmVsIiwidHBhcnNlZCIsInNpZHhVcmwiLCJyYW5nZVN0YXJ0IiwicmFuZ2VFbmQiLCJzaWR4SW5mbyIsInNlZ21lbnRSZWYiLCJzZWdSZWZJbmZvIiwiZnJhZ21lbnRfbG9hZGVyIiwiRnJhZ21lbnRMb2FkZXIiLCJmcmFnbWVudF9sb2FkZXJfX2NsYXNzQ2FsbENoZWNrIiwiZnJhZ21lbnRfbG9hZGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiZnJhZ21lbnRfbG9hZGVyX19pbmhlcml0cyIsImxvYWRlck5hbWUiLCJvbkZyYWdMb2FkaW5nIiwiRnJhZ21lbnRJTG9hZGVyIiwiZkxvYWRlciIsIkRlZmF1bHRJTG9hZGVyIiwibG9hZGVkIiwicHJvZ3Jlc3NEYXRhIiwiYnl0ZVJhbmdlU3RhcnRPZmZzZXQiLCJmcmFnTG9hZGluZ1RpbWVPdXQiLCJmcmFnTG9hZGluZ01heFJldHJ5VGltZW91dCIsIm9uUHJvZ3Jlc3MiLCJsb2FkcHJvZ3Jlc3MiLCJrZXlfbG9hZGVyIiwiS2V5TG9hZGVyIiwia2V5X2xvYWRlcl9fY2xhc3NDYWxsQ2hlY2siLCJrZXlfbG9hZGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiZGVjcnlwdGtleSIsImRlY3J5cHR1cmwiLCJrZXlfbG9hZGVyX19pbmhlcml0cyIsIm9uS2V5TG9hZGluZyIsImZyYWdMb2FkaW5nTWF4UmV0cnkiLCJmcmFnTG9hZGluZ1JldHJ5RGVsYXkiLCJGcmFnbWVudFN0YXRlIiwiZnJhZ21lbnRfdHJhY2tlcl9GcmFnbWVudFRyYWNrZXIiLCJGcmFnbWVudFRyYWNrZXIiLCJmcmFnbWVudF90cmFja2VyX19jbGFzc0NhbGxDaGVjayIsImZyYWdtZW50X3RyYWNrZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJidWZmZXJQYWRkaW5nIiwidGltZVJhbmdlcyIsImZyYWdtZW50X3RyYWNrZXJfX2luaGVyaXRzIiwiZ2V0QnVmZmVyZWRGcmFnIiwiYnVmZmVyZWRGcmFncyIsImZyYWdtZW50RW50aXR5IiwiYm9keSIsImJ1ZmZlcmVkIiwiYnVmZmVyZWRGcmFnS2V5IiwiZGV0ZWN0RXZpY3RlZEZyYWdtZW50cyIsImVsZW1lbnRhcnlTdHJlYW0iLCJ0aW1lUmFuZ2UiLCJfdGhpczIiLCJmcmFnbWVudFRpbWVzIiwidGltZSIsImVzRGF0YSIsInJhbmdlIiwiaXNUaW1lQnVmZmVyZWQiLCJyZW1vdmVGcmFnbWVudCIsImRldGVjdFBhcnRpYWxGcmFnbWVudHMiLCJfdGhpczMiLCJmcmFnS2V5IiwiZ2V0RnJhZ21lbnRLZXkiLCJnZXRCdWZmZXJlZFRpbWVzIiwiZnJhZ21lbnRQYXJ0aWFsIiwiZ2V0UGFydGlhbEZyYWdtZW50IiwiX3RoaXM0IiwidGltZVBhZGRpbmciLCJiZXN0RnJhZ21lbnQiLCJiZXN0T3ZlcmxhcCIsImlzUGFydGlhbCIsImdldFN0YXRlIiwib25GcmFnTG9hZGVkIiwiYml0cmF0ZVRlc3QiLCJvbkJ1ZmZlckFwcGVuZGVkIiwiX3RoaXM1Iiwib25GcmFnQnVmZmVyZWQiLCJoYXNGcmFnbWVudCIsInJlbW92ZUFsbEZyYWdtZW50cyIsImJpbmFyeV9zZWFyY2giLCJzZWFyY2giLCJjb21wYXJpc29uRnVuY3Rpb24iLCJtaW5JbmRleCIsIm1heEluZGV4IiwiY3VycmVudEluZGV4IiwiY3VycmVudEVsZW1lbnQiLCJjb21wYXJpc29uUmVzdWx0IiwiQnVmZmVySGVscGVyIiwiYnVmZmVyX2hlbHBlcl9fY2xhc3NDYWxsQ2hlY2siLCJpc0J1ZmZlcmVkIiwiYnVmZmVySW5mbyIsIm1heEhvbGVEdXJhdGlvbiIsInZidWZmZXJlZCIsImJ1ZmZlcmVkSW5mbyIsIm5leHRTdGFydCIsImJ1ZmZlcmVkMiIsImJ1ZmZlckxlbiIsImJ1ZmZlclN0YXJ0IiwiYnVmZmVyRW5kIiwiYnVmZmVyU3RhcnROZXh0IiwiZGlmZiIsImJ1ZjJsZW4iLCJidWYyZW5kIiwiZXZlbnRzX2V2ZW50cyIsImV2ZW50c19kZWZhdWx0Iiwid2Vid29ya2lmeV93ZWJwYWNrIiwid2Vid29ya2lmeV93ZWJwYWNrX2RlZmF1bHQiLCJkZW11eGVyX2lubGluZSIsImdldE1lZGlhU291cmNlIiwiV2ViS2l0TWVkaWFTb3VyY2UiLCJkZW11eF9kZW11eGVyIiwiRGVtdXhlciIsImRlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrIiwiZm9yd2FyZE1lc3NhZ2UiLCJldiIsIm1wNCIsImVuYWJsZVdvcmtlciIsIldvcmtlciIsInciLCJvbndtc2ciLCJvbldvcmtlck1lc3NhZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwib25lcnJvciIsImZpbGVuYW1lIiwibGluZW5vIiwicG9zdE1lc3NhZ2UiLCJjbWQiLCJvYmplY3RVUkwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGVybWluYXRlIiwibGFzdEZyYWciLCJuZXh0U04iLCJBcnJheUJ1ZmZlciIsImFkZEdyb3VwSWQiLCJhdWRpb0dyb3VwSWRzIiwidGV4dEdyb3VwSWRzIiwidXBkYXRlUFRTIiwiZnJvbUlkeCIsInRvSWR4IiwiZnJhZ0Zyb20iLCJmcmFnVG8iLCJmcmFnVG9QVFMiLCJ1cGRhdGVGcmFnUFRTRFRTIiwibWF4U3RhcnRQVFMiLCJkZWx0YVBUUyIsImRyaWZ0IiwiZnJhZ0lkeCIsIlBUU0tub3duIiwibWVyZ2VEZXRhaWxzIiwib2xkRGV0YWlscyIsIm5ld0RldGFpbHMiLCJvbGRmcmFnbWVudHMiLCJuZXdmcmFnbWVudHMiLCJjY09mZnNldCIsIlBUU0ZyYWciLCJvbGRGcmFnIiwibmV3RnJhZyIsImJhY2t0cmFja2VkIiwic2xpZGluZyIsInRpbWVfcmFuZ2VzIiwiYWRqdXN0UHRzIiwiYWxpZ25TdHJlYW0iLCJsYXN0TGV2ZWwiLCJzaG91bGRBbGlnbiIsInNob3VsZEFsaWduT25EaXNjb250aW51aXRpZXMiLCJyZWZlcmVuY2VGcmFnIiwicHJldkRldGFpbHMiLCJjdXJEZXRhaWxzIiwicHJldkZyYWdzIiwiY3VyRnJhZ3MiLCJwcmV2U3RhcnRGcmFnIiwiZmlyc3RGcmFnIiwiY3VycmVudEZyYWciLCJmaW5kRmlyc3RGcmFnV2l0aENDIiwiZmluZERpc2NvbnRpbnVvdXNSZWZlcmVuY2VGcmFnIiwiYWxpZ25EaXNjb250aW51aXRpZXMiLCJsYXN0RGV0YWlscyIsImhhc1Byb2dyYW1EYXRlVGltZSIsImxhc3RQRFQiLCJuZXdQRFQiLCJhbGlnblBEVCIsInRhc2tfbG9vcCIsIlRhc2tMb29wIiwidGFza19sb29wX19jbGFzc0NhbGxDaGVjayIsInRhc2tfbG9vcF9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl90aWNrSW50ZXJ2YWwiLCJfdGlja1RpbWVyIiwiX3RpY2tDYWxsQ291bnQiLCJfYm91bmRUaWNrIiwidGljayIsInRhc2tfbG9vcF9faW5oZXJpdHMiLCJjbGVhck5leHRUaWNrIiwiY2xlYXJJbnRlcnZhbCIsImhhc0ludGVydmFsIiwiaGFzTmV4dFRpY2siLCJzZXRJbnRlcnZhbCIsIl9zZXRJbnRlcnZhbCIsIl94IiwibWlsbGlzIiwiX2NsZWFySW50ZXJ2YWwiLCJjbGVhclRpbWVvdXQiLCJkb1RpY2siLCJzZXRUaW1lb3V0IiwiZnJhZ21lbnRfZmluZGVyc19mcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QiLCJtYXhGcmFnTG9va1VwVG9sZXJhbmNlIiwiY2FuZGlkYXRlIiwiY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlIiwicGR0V2l0aGluVG9sZXJhbmNlVGVzdCIsInBkdEJ1ZmZlckVuZCIsImdhcF9jb250cm9sbGVyIiwiR2FwQ29udHJvbGxlciIsImZyYWdtZW50VHJhY2tlciIsImdhcF9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayIsInN0YWxsUmVwb3J0ZWQiLCJwb2xsIiwibGFzdEN1cnJlbnRUaW1lIiwiY3VycmVudFRpbWUiLCJ0bm93Iiwic3RhbGxlZCIsIm51ZGdlUmV0cnkiLCJlbmRlZCIsInJlYWR5U3RhdGUiLCJzZWVraW5nIiwic3RhbGxlZER1cmF0aW9uIiwiX3JlcG9ydFN0YWxsIiwiX3RyeUZpeEJ1ZmZlclN0YWxsIiwiX3RyeVNraXBCdWZmZXJIb2xlIiwiaGlnaEJ1ZmZlcldhdGNoZG9nUGVyaW9kIiwiX3RyeU51ZGdlQnVmZmVyIiwibGFzdEVuZFRpbWUiLCJudWRnZU1heFJldHJ5IiwidGFyZ2V0VGltZSIsIm51ZGdlT2Zmc2V0Iiwic3RyZWFtX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzIiwiU3RhdGUiLCJTVE9QUEVEIiwiSURMRSIsIkZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZIiwiV0FJVElOR19MRVZFTCIsIlBBUlNJTkciLCJQQVJTRUQiLCJFTkRFRCIsInN0cmVhbV9jb250cm9sbGVyIiwiX1Rhc2tMb29wIiwiU3RyZWFtQ29udHJvbGxlciIsInN0cmVhbV9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayIsInN0cmVhbV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiYXVkaW9Db2RlY1N3YXAiLCJfc3RhdGUiLCJnYXBDb250cm9sbGVyIiwic3RyZWFtX2NvbnRyb2xsZXJfX2luaGVyaXRzIiwic3RvcExvYWQiLCJzdGFydExvYWQiLCJzdGFydFBvc2l0aW9uIiwiZnJhZ0xvYWRFcnJvciIsInN0YXJ0RnJhZ1JlcXVlc3RlZCIsInN0YXJ0TGV2ZWwiLCJuZXh0TG9hZExldmVsIiwibG9hZGVkbWV0YWRhdGEiLCJuZXh0TG9hZFBvc2l0aW9uIiwiZm9yY2VTdGFydExvYWQiLCJmcmFnQ3VycmVudCIsImZyYWdQcmV2aW91cyIsIl9kb1RpY2tJZGxlIiwicmV0cnlEYXRlIiwiX2NoZWNrQnVmZmVyIiwiX2NoZWNrRnJhZ21lbnRDaGFuZ2VkIiwibGV2ZWxMYXN0TG9hZGVkIiwic3RhcnRGcmFnUHJlZmV0Y2giLCJsZXZlbEluZm8iLCJsZXZlbEJpdHJhdGUiLCJtYXhCdWZMZW4iLCJtYXhCdWZmZXJTaXplIiwibWF4QnVmZmVyTGVuZ3RoIiwibWF4TWF4QnVmZmVyTGVuZ3RoIiwibWVkaWFCdWZmZXIiLCJhbHRBdWRpbyIsIl9mZXRjaFBheWxvYWRPckVvcyIsImZyYWdMZW4iLCJpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZSIsIl9lbnN1cmVGcmFnbWVudEF0TGl2ZVBvaW50IiwiX2ZpbmRGcmFnbWVudCIsImVuY3J5cHRlZCIsIl9sb2FkS2V5IiwiX2xvYWRGcmFnbWVudCIsIm1heExhdGVuY3kiLCJsaXZlTWF4TGF0ZW5jeUR1cmF0aW9uIiwibGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50IiwibGl2ZVN5bmNQb3NpdGlvbiIsImNvbXB1dGVMaXZlUG9zaXRpb24iLCJQRFRWYWx1ZSIsInNlZyIsImZpbmRGcmFnbWVudEJ5UERUIiwidGFyZ2V0U04iLCJmcmFnTmV4dCIsImZpbmRGcmFnbWVudEJ5UFRTIiwiY3VyU05JZHgiLCJzYW1lTGV2ZWwiLCJuZXh0RnJhZyIsImZyYWdTdGF0ZSIsImF1dG9MZXZlbCIsImF1dG9MZXZlbEVuYWJsZWQiLCJfcmVkdWNlTWF4QnVmZmVyTGVuZ3RoIiwiZm9sbG93aW5nQnVmZmVyZWRGcmFnIiwiZnJhZ1BsYXlpbmdDdXJyZW50IiwiZnJhZ1BsYXlpbmciLCJmcmFnUGxheWluZ0xldmVsIiwiaW1tZWRpYXRlTGV2ZWxTd2l0Y2giLCJpbW1lZGlhdGVTd2l0Y2giLCJwcmV2aW91c2x5UGF1c2VkIiwicGF1c2VkIiwicGF1c2UiLCJmbHVzaE1haW5CdWZmZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsImltbWVkaWF0ZUxldmVsU3dpdGNoRW5kIiwicGxheSIsIm5leHRMZXZlbFN3aXRjaCIsImZldGNoZGVsYXkiLCJuZXh0QnVmZmVyZWRGcmFnIiwibmV4dExldmVsSWQiLCJuZXh0TGV2ZWwiLCJmcmFnTGFzdEticHMiLCJzdGFydE9mZnNldCIsImVuZE9mZnNldCIsImZsdXNoU2NvcGUiLCJvbk1lZGlhQXR0YWNoZWQiLCJvbnZzZWVraW5nIiwib25NZWRpYVNlZWtpbmciLCJvbnZzZWVrZWQiLCJvbk1lZGlhU2Vla2VkIiwib252ZW5kZWQiLCJvbk1lZGlhRW5kZWQiLCJhdXRvU3RhcnRMb2FkIiwib25NZWRpYURldGFjaGluZyIsInRvbGVyYW5jZSIsImZyYWdTdGFydE9mZnNldCIsImZyYWdFbmRPZmZzZXQiLCJvbk1hbmlmZXN0UGFyc2VkIiwiYWFjIiwiaGVhYWMiLCJhdWRpb0NvZGVjU3dpdGNoIiwib25MZXZlbExvYWRlZCIsIm5ld0xldmVsSWQiLCJjdXJMZXZlbCIsIm9uS2V5TG9hZGVkIiwiZnJhZ0xvYWRlZCIsImN1cnJlbnRMZXZlbCIsInRidWZmZXJlZCIsInBlbmRpbmdCdWZmZXJpbmciLCJhcHBlbmRlZCIsImluaXRTZWdtZW50RGF0YSIsIl9nZXRBdWRpb0NvZGVjIiwib25GcmFnUGFyc2luZ0luaXRTZWdtZW50IiwiZnJhZ05ldyIsInRyYWNrTmFtZSIsInVhIiwibGV2ZWxDb2RlYyIsIm9uRnJhZ1BhcnNpbmdEYXRhIiwib25GcmFnUGFyc2VkIiwiX2NoZWNrQXBwZW5kZWRQYXJzZWQiLCJvbkF1ZGlvVHJhY2tTd2l0Y2hpbmciLCJvbkF1ZGlvVHJhY2tTd2l0Y2hlZCIsInZpZGVvQnVmZmVyIiwib25CdWZmZXJDcmVhdGVkIiwibWVkaWFUcmFjayIsImFsdGVybmF0ZSIsInBlbmRpbmciLCJ0b3RhbCIsInRmaXJzdCIsIm1lZGlhQnVmZmVyZWQiLCJkZWxheSIsImxldmVsUmV0cnkiLCJtaW5MZW5ndGgiLCJfc2Vla1RvU3RhcnRQb3MiLCJvbkZyYWdMb2FkRW1lcmdlbmN5QWJvcnRlZCIsIm9uQnVmZmVyRmx1c2hlZCIsInN3YXBBdWRpb0NvZGVjIiwidGFyZ2V0TGF0ZW5jeSIsImxpdmVTeW5jRHVyYXRpb24iLCJsaXZlU3luY0R1cmF0aW9uQ291bnQiLCJkZWZhdWx0QXVkaW9Db2RlYyIsIm5leHRTdGF0ZSIsInByZXZpb3VzU3RhdGUiLCJfbGl2ZVN5bmNQb3NpdGlvbiIsImxldmVsX2NvbnRyb2xsZXJfX3R5cGVvZiIsImxldmVsX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzIiwibGV2ZWxfY29udHJvbGxlcl9wZXJmb3JtYW5jZSIsImxldmVsX2NvbnRyb2xsZXIiLCJMZXZlbENvbnRyb2xsZXIiLCJsZXZlbF9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayIsImxldmVsX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJjYW5sb2FkIiwiY3VycmVudExldmVsSW5kZXgiLCJtYW51YWxMZXZlbEluZGV4IiwidGltZXIiLCJsZXZlbF9jb250cm9sbGVyX19pbmhlcml0cyIsImNsZWFyVGltZXIiLCJfbGV2ZWxzIiwibGV2ZWxSZXRyeUNvdW50IiwibG9hZEVycm9yIiwibG9hZExldmVsIiwib25NYW5pZmVzdExvYWRlZCIsImJpdHJhdGVTdGFydCIsImxldmVsU2V0IiwibGV2ZWxGcm9tU2V0IiwidmlkZW9Db2RlY0ZvdW5kIiwiYXVkaW9Db2RlY0ZvdW5kIiwiY2hyb21lT3JGaXJlZm94IiwiZnJhZ21lbnRFcnJvciIsIlNVQlRJVExFUyIsIl9yZWYiLCJfcmVmMiIsIl9maXJzdExldmVsIiwiZmlyc3RMZXZlbCIsInNldExldmVsSW50ZXJuYWwiLCJuZXdMZXZlbCIsImxldmVsUHJvcGVydGllcyIsImxldmVsRXJyb3IiLCJsZXZlbEluZGV4IiwicmVjb3ZlckxldmVsIiwiZXJyb3JFdmVudCIsImVycm9yRGV0YWlscyIsInJlZHVuZGFudExldmVscyIsIm5leHRBdXRvTGV2ZWwiLCJfcmVmMyIsInRhcmdldGR1cmF0aW9uTXMiLCJyZWxvYWRJbnRlcnZhbCIsInRyZXF1ZXN0IiwiYXVkaW9Hcm91cElkIiwiZmluZEluZGV4IiwibGV2ZWxPYmplY3QiLCJfc3RhcnRMZXZlbCIsImNvbmZpZ1N0YXJ0TGV2ZWwiLCJzZW5kQWRkVHJhY2tFdmVudCIsInZpZGVvRWwiLCJFdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsImNsZWFyQ3VycmVudEN1ZXMiLCJjdWVzIiwicmVtb3ZlQ3VlIiwiaWQzX3RyYWNrX2NvbnRyb2xsZXIiLCJJRDNUcmFja0NvbnRyb2xsZXIiLCJpZDNfdHJhY2tfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2siLCJpZDNfdHJhY2tfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsImlkM190cmFja19jb250cm9sbGVyX19pbmhlcml0cyIsImdldElEM1RyYWNrIiwidGV4dFRyYWNrcyIsImtpbmQiLCJsYWJlbCIsImFkZFRleHRUcmFjayIsIm9uRnJhZ1BhcnNpbmdNZXRhZGF0YSIsIkN1ZSIsIldlYktpdERhdGFDdWUiLCJWVFRDdWUiLCJUZXh0VHJhY2tDdWUiLCJjdWUiLCJhZGRDdWUiLCJld21hIiwiRVdNQSIsImhhbGZMaWZlIiwiZXdtYV9fY2xhc3NDYWxsQ2hlY2siLCJhbHBoYV8iLCJleHAiLCJlc3RpbWF0ZV8iLCJ0b3RhbFdlaWdodF8iLCJ3ZWlnaHQiLCJhZGpBbHBoYSIsImdldFRvdGFsV2VpZ2h0IiwiZ2V0RXN0aW1hdGUiLCJ6ZXJvRmFjdG9yIiwiZXdtYV9iYW5kd2lkdGhfZXN0aW1hdG9yIiwiRXdtYUJhbmRXaWR0aEVzdGltYXRvciIsInNsb3ciLCJmYXN0IiwiZGVmYXVsdEVzdGltYXRlIiwiZXdtYV9iYW5kd2lkdGhfZXN0aW1hdG9yX19jbGFzc0NhbGxDaGVjayIsImRlZmF1bHRFc3RpbWF0ZV8iLCJtaW5XZWlnaHRfIiwibWluRGVsYXlNc18iLCJzbG93XyIsImZhc3RfIiwiZHVyYXRpb25NcyIsIm51bUJ5dGVzIiwiYmFuZHdpZHRoIiwiY2FuRXN0aW1hdGUiLCJhYnJfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MiLCJhYnJfY29udHJvbGxlcl9wZXJmb3JtYW5jZSIsImFicl9jb250cm9sbGVyIiwiQWJyQ29udHJvbGxlciIsImFicl9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayIsImFicl9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwibGFzdExvYWRlZEZyYWdMZXZlbCIsIl9uZXh0QXV0b0xldmVsIiwiX2J3RXN0aW1hdG9yIiwib25DaGVjayIsIl9hYmFuZG9uUnVsZXNDaGVjayIsImFicl9jb250cm9sbGVyX19pbmhlcml0cyIsImV3bWFGYXN0IiwiZXdtYVNsb3ciLCJhYnJFd21hRmFzdExpdmUiLCJhYnJFd21hU2xvd0xpdmUiLCJhYnJFd21hRmFzdFZvRCIsImFickV3bWFTbG93Vm9EIiwiYWJyRXdtYURlZmF1bHRFc3RpbWF0ZSIsIm1pbkF1dG9MZXZlbCIsImFib3J0ZWQiLCJwbGF5YmFja1JhdGUiLCJyZXF1ZXN0RGVsYXkiLCJsb2FkUmF0ZSIsImJ3IiwicmVhbEJpdHJhdGUiLCJleHBlY3RlZExlbiIsImZyYWdMb2FkZWREZWxheSIsImJ1ZmZlclN0YXJ2YXRpb25EZWxheSIsImZyYWdMZXZlbE5leHRMb2FkZWREZWxheSIsImxldmVsTmV4dEJpdHJhdGUiLCJhYnJNYXhXaXRoUmVhbEJpdHJhdGUiLCJsb2FkZWRCeXRlcyIsImxvYWRlZER1cmF0aW9uIiwiZnJhZ0xvYWRpbmdQcm9jZXNzaW5nTXMiLCJid0VzdGltYXRlIiwiYml0cmF0ZVRlc3REZWxheSIsIl9maW5kQmVzdExldmVsIiwiY3VycmVudEZyYWdEdXJhdGlvbiIsImN1cnJlbnRCdyIsIm1heEF1dG9MZXZlbCIsIm1heEZldGNoRHVyYXRpb24iLCJid0ZhY3RvciIsImJ3VXBGYWN0b3IiLCJhdmdEdXJhdGlvbiIsImFkanVzdGVkYnciLCJmZXRjaER1cmF0aW9uIiwiZm9yY2VkQXV0b0xldmVsIiwiYndFc3RpbWF0b3IiLCJuZXh0QUJSQXV0b0xldmVsIiwiX25leHRBQlJBdXRvTGV2ZWwiLCJhdmdidyIsImJlc3RMZXZlbCIsImFickJhbmRXaWR0aEZhY3RvciIsImFickJhbmRXaWR0aFVwRmFjdG9yIiwibWF4U3RhcnZhdGlvbkRlbGF5IiwibWF4TG9hZGluZ0RlbGF5IiwiYnVmZmVyX2NvbnRyb2xsZXJfTWVkaWFTb3VyY2UiLCJidWZmZXJfY29udHJvbGxlciIsIkJ1ZmZlckNvbnRyb2xsZXIiLCJidWZmZXJfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2siLCJidWZmZXJfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9tc0R1cmF0aW9uIiwiX2xldmVsRHVyYXRpb24iLCJfbGl2ZSIsIl9vYmplY3RVcmwiLCJvbnNidWUiLCJvblNCVXBkYXRlRW5kIiwib25zYmUiLCJvblNCVXBkYXRlRXJyb3IiLCJwZW5kaW5nVHJhY2tzIiwiYnVmZmVyX2NvbnRyb2xsZXJfX2luaGVyaXRzIiwib25MZXZlbFB0c1VwZGF0ZWQiLCJhdWRpb0J1ZmZlciIsInNvdXJjZUJ1ZmZlciIsInRpbWVzdGFtcE9mZnNldCIsInVwZGF0aW5nIiwiYXVkaW9UaW1lc3RhbXBPZmZzZXQiLCJhdWRpb0V4cGVjdGVkIiwidmlkZW9FeHBlY3RlZCIsInNvdXJjZUJ1ZmZlck5iIiwib25NZWRpYUF0dGFjaGluZyIsIm1zIiwibWVkaWFTb3VyY2UiLCJvbm1zbyIsIm9uTWVkaWFTb3VyY2VPcGVuIiwib25tc2UiLCJvbk1lZGlhU291cmNlRW5kZWQiLCJvbm1zYyIsIm9uTWVkaWFTb3VyY2VDbG9zZSIsInNyYyIsImVuZE9mU3RyZWFtIiwicmVtb3ZlQXR0cmlidXRlIiwiZmx1c2hSYW5nZSIsInNlZ21lbnRzIiwiY2hlY2tQZW5kaW5nVHJhY2tzIiwicGVuZGluZ1RyYWNrc05iIiwiY3JlYXRlU291cmNlQnVmZmVycyIsImRvQXBwZW5kaW5nIiwiX25lZWRzRmx1c2giLCJkb0ZsdXNoIiwiX25lZWRzRW9zIiwiY2hlY2tFb3MiLCJhcHBlbmRpbmciLCJjb3VudGVyIiwic2VnbWVudCIsInVwZGF0ZU1lZGlhRWxlbWVudER1cmF0aW9uIiwib25CdWZmZXJSZXNldCIsInNiIiwicmVtb3ZlU291cmNlQnVmZmVyIiwib25CdWZmZXJDb2RlY3MiLCJtaW1lVHlwZSIsImFkZFNvdXJjZUJ1ZmZlciIsIm9uQnVmZmVyQXBwZW5kaW5nIiwib25CdWZmZXJBcHBlbmRGYWlsIiwib25CdWZmZXJFb3MiLCJkYXRhVHlwZSIsInNib2JqIiwib25CdWZmZXJGbHVzaGluZyIsImZsdXNoQnVmZmVyQ291bnRlciIsIm9uTGV2ZWxVcGRhdGVkIiwibGl2ZUR1cmF0aW9uSW5maW5pdHkiLCJmbHVzaEJ1ZmZlciIsImFwcGVuZEJ1ZmZlciIsImFwcGVuZEVycm9yIiwiY29kZSIsImFwcGVuZEVycm9yTWF4UmV0cnkiLCJ0eXBlSW4iLCJidWZTdGFydCIsImJ1ZkVuZCIsImZsdXNoU3RhcnQiLCJmbHVzaEVuZCIsImNhcF9sZXZlbF9jb250cm9sbGVyX19jcmVhdGVDbGFzcyIsImNhcF9sZXZlbF9jb250cm9sbGVyIiwiQ2FwTGV2ZWxDb250cm9sbGVyIiwiY2FwX2xldmVsX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrIiwiY2FwX2xldmVsX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJhdXRvTGV2ZWxDYXBwaW5nIiwicmVzdHJpY3RlZExldmVscyIsImNhcF9sZXZlbF9jb250cm9sbGVyX19pbmhlcml0cyIsImNhcExldmVsVG9QbGF5ZXJTaXplIiwiX3N0b3BDYXBwaW5nIiwib25GcHNEcm9wTGV2ZWxDYXBwaW5nIiwiaXNMZXZlbEFsbG93ZWQiLCJkcm9wcGVkTGV2ZWwiLCJIVE1MVmlkZW9FbGVtZW50IiwiX3N0YXJ0Q2FwcGluZyIsIm9uTGV2ZWxzVXBkYXRlZCIsImRldGVjdFBsYXllclNpemUiLCJsZXZlbHNMZW5ndGgiLCJnZXRNYXhMZXZlbCIsInN0cmVhbUNvbnRyb2xsZXIiLCJjYXBMZXZlbEluZGV4IiwidmFsaWRMZXZlbHMiLCJnZXRNYXhMZXZlbEJ5TWVkaWFTaXplIiwibWVkaWFXaWR0aCIsIm1lZGlhSGVpZ2h0IiwiYXRHcmVhdGVzdEJhbmRpd2R0aCIsIm1heExldmVsSW5kZXgiLCJjbGllbnRXaWR0aCIsIm9mZnNldFdpZHRoIiwiY29udGVudFNjYWxlRmFjdG9yIiwiY2xpZW50SGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImZwc19jb250cm9sbGVyX3BlcmZvcm1hbmNlIiwiZnBzX2NvbnRyb2xsZXIiLCJGUFNDb250cm9sbGVyIiwiZnBzX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrIiwiZnBzX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJmcHNfY29udHJvbGxlcl9faW5oZXJpdHMiLCJpc1ZpZGVvUGxheWJhY2tRdWFsaXR5QXZhaWxhYmxlIiwiY2FwTGV2ZWxPbkZQU0Ryb3AiLCJnZXRWaWRlb1BsYXliYWNrUXVhbGl0eSIsImNoZWNrRlBTSW50ZXJ2YWwiLCJmcHNEcm9wcGVkTW9uaXRvcmluZ1BlcmlvZCIsImNoZWNrRlBTIiwiZGVjb2RlZEZyYW1lcyIsImRyb3BwZWRGcmFtZXMiLCJsYXN0VGltZSIsImN1cnJlbnRQZXJpb2QiLCJjdXJyZW50RHJvcHBlZCIsImxhc3REcm9wcGVkRnJhbWVzIiwiY3VycmVudERlY29kZWQiLCJsYXN0RGVjb2RlZEZyYW1lcyIsImRyb3BwZWRGUFMiLCJ0b3RhbERyb3BwZWRGcmFtZXMiLCJmcHNEcm9wcGVkTW9uaXRvcmluZ1RocmVzaG9sZCIsInZpZGVvUGxheWJhY2tRdWFsaXR5IiwidG90YWxWaWRlb0ZyYW1lcyIsImRyb3BwZWRWaWRlb0ZyYW1lcyIsIndlYmtpdERlY29kZWRGcmFtZUNvdW50Iiwid2Via2l0RHJvcHBlZEZyYW1lQ291bnQiLCJ4aHJfbG9hZGVyX193aW5kb3ciLCJ4aHJfbG9hZGVyX3BlcmZvcm1hbmNlIiwiWE1MSHR0cFJlcXVlc3QiLCJ4aHJfbG9hZGVyIiwiWGhyTG9hZGVyIiwieGhyX2xvYWRlcl9fY2xhc3NDYWxsQ2hlY2siLCJ4aHJTZXR1cCIsInJlcXVlc3RUaW1lb3V0IiwicmV0cnlUaW1lb3V0IiwiY2FsbGJhY2tzIiwicmV0cnkiLCJsb2FkSW50ZXJuYWwiLCJ4aHIiLCJvcGVuIiwic3RhdHVzIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5c3RhdGVjaGFuZ2UiLCJvbnByb2dyZXNzIiwic2VuZCIsImN1cnJlbnRUYXJnZXQiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZVVSTCIsInN0YXR1c1RleHQiLCJsZW5ndGhDb21wdXRhYmxlIiwiYXVkaW9fdHJhY2tfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MiLCJhdWRpb190cmFja19jb250cm9sbGVyIiwiQXVkaW9UcmFja0NvbnRyb2xsZXIiLCJhdWRpb190cmFja19jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayIsImF1ZGlvX3RyYWNrX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfdHJhY2tJZCIsIl9zZWxlY3REZWZhdWx0VHJhY2siLCJ0cmFja0lkQmxhY2tsaXN0IiwiYXVkaW9fdHJhY2tfY29udHJvbGxlcl9faW5oZXJpdHMiLCJvbkF1ZGlvVHJhY2tMb2FkZWQiLCJ1cGRhdGVQZXJpb2RNcyIsIl9zZWxlY3RJbml0aWFsQXVkaW9UcmFjayIsIl9oYW5kbGVMb2FkRXJyb3IiLCJfc2V0QXVkaW9UcmFjayIsIm5ld0lkIiwiX2xvYWRUcmFja0RldGFpbHNJZk5lZWRlZCIsIl91cGRhdGVUcmFjayIsImN1cnJlbnRBdWRpb1RyYWNrIiwiZGVmYXVsdFRyYWNrcyIsInRyYWNrRm91bmQiLCJ0cmF2ZXJzZVRyYWNrcyIsIl9uZWVkc1RyYWNrTG9hZGluZyIsInByZXZpb3VzSWQiLCJfdHJhY2tzJHByZXZpb3VzSWQiLCJsYW5ndWFnZSIsImF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX19jcmVhdGVDbGFzcyIsImF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX3BlcmZvcm1hbmNlIiwiYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUiLCJTVEFSVElORyIsIlBBVVNFRCIsIldBSVRJTkdfVFJBQ0siLCJXQUlUSU5HX0lOSVRfUFRTIiwiYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXIiLCJBdWRpb1N0cmVhbUNvbnRyb2xsZXIiLCJhdWRpb19zdHJlYW1fY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2siLCJhdWRpb19zdHJlYW1fY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIndhaXRpbmdGcmFnbWVudCIsInZpZGVvVHJhY2tDQyIsImF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX19pbmhlcml0cyIsIm9uSW5pdFB0c0ZvdW5kIiwiZGVtdXhlcklkIiwidHJhY2tEZXRhaWxzIiwibWFpbkJ1ZmZlckluZm8iLCJtYXhDb25maWdCdWZmZXIiLCJhdWRpb1N3aXRjaCIsIkNDIiwiZmluZEZyYWdXaXRoQ0MiLCJsb2FkSWR4IiwiZnJhZ0xvYWRJZHgiLCJuZXh0QnVmZmVyZWQiLCJmb3VuZEZyYWciLCJmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QiLCJpc1NlZWtpbmciLCJ3YWl0aW5nRnJhZyIsIndhaXRpbmdGcmFnQ0MiLCJvbkF1ZGlvVHJhY2tzVXBkYXRlZCIsImFwcGVuZE9iaiIsInBlbmRpbmdEYXRhIiwiYXBwZW5kT25CdWZmZXJGbHVzaCIsIl9mcmFnIiwiX2NvbmZpZyIsInZ0dGN1ZSIsImF1dG9LZXl3b3JkIiwiZGlyZWN0aW9uU2V0dGluZyIsIiIsImxyIiwicmwiLCJhbGlnblNldHRpbmciLCJtaWRkbGUiLCJsZWZ0IiwicmlnaHQiLCJmaW5kQWxpZ25TZXR0aW5nIiwiY29iaiIsImlzSUU4IiwiYmFzZU9iaiIsImhhc0JlZW5SZXNldCIsIl9pZCIsIl9wYXVzZU9uRXhpdCIsIl9zdGFydFRpbWUiLCJfZW5kVGltZSIsIl90ZXh0IiwiX3JlZ2lvbiIsIl92ZXJ0aWNhbCIsIl9zbmFwVG9MaW5lcyIsIl9saW5lIiwiX2xpbmVBbGlnbiIsIl9wb3NpdGlvbiIsIl9wb3NpdGlvbkFsaWduIiwiX3NpemUiLCJfYWxpZ24iLCJzZXR0aW5nIiwiZmluZERpcmVjdGlvblNldHRpbmciLCJTeW50YXhFcnJvciIsImRpc3BsYXlTdGF0ZSIsImdldEN1ZUFzSFRNTCIsIldlYlZUVCIsImNvbnZlcnRDdWVUb0RPTVRyZWUiLCJTdHJpbmdEZWNvZGVyIiwiZGVjb2RlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiVlRUUGFyc2VyIiwiZGVjb2RlciIsInJlZ2lvbkxpc3QiLCJTZXR0aW5ncyIsInZhbHVlcyIsInBhcnNlT3B0aW9ucyIsImtleVZhbHVlRGVsaW0iLCJncm91cERlbGltIiwia3YiLCJrIiwidiIsImRmbHQiLCJkZWZhdWx0S2V5IiwiYWx0IiwiaW50ZWdlciIsInBlcmNlbnQiLCJkZWZhdWx0cyIsImNlbnRlciIsImFsaWduIiwicGFyc2VDdWUiLCJvSW5wdXQiLCJjb25zdW1lVGltZVN0YW1wIiwidHMiLCJjb21wdXRlU2Vjb25kcyIsImYiLCJwYXJzZVRpbWVTdGFtcCIsInNraXBXaGl0ZXNwYWNlIiwic2V0dGluZ3MiLCJyZWdpb24iLCJ2YWxzIiwidmFsczAiLCJ2ZXJ0aWNhbCIsImxpbmVBbGlnbiIsInNuYXBUb0xpbmVzIiwiY29uc3VtZUN1ZVNldHRpbmdzIiwiZml4TGluZUJyZWFrcyIsImNvbGxlY3ROZXh0TGluZSIsImFscmVhZHlDb2xsZWN0ZWRMaW5lIiwiaGFzU3Vic3RyaW5nIiwib25jdWUiLCJmbHVzaCIsIm9uZmx1c2giLCJ2dHRwYXJzZXIiLCJjYXB0aW9uU2NyZWVuIiwicm93IiwiaW5kZW50aW5nIiwicm93cyIsImNoYXJzIiwidWNoYXIiLCJjdWVTdGFydFRpbWUiLCJjZWFfNjA4X3BhcnNlcl9fY2xhc3NDYWxsQ2hlY2siLCJzcGVjaWFsQ2VhNjA4Q2hhcnNDb2RlcyIsIjQyIiwiOTIiLCI5NCIsIjk1IiwiOTYiLCIxMjMiLCIxMjQiLCIxMjUiLCIxMjYiLCIxMjciLCIxMjgiLCIxMjkiLCIxMzAiLCIxMzEiLCIxMzIiLCIxMzMiLCIxMzQiLCIxMzUiLCIxMzYiLCIxMzciLCIxMzgiLCIxMzkiLCIxNDAiLCIxNDEiLCIxNDIiLCIxNDMiLCIxNDQiLCIxNDUiLCIxNDYiLCIxNDciLCIxNDgiLCIxNDkiLCIxNTAiLCIxNTEiLCIxNTIiLCIxNTMiLCIxNTQiLCIxNTUiLCIxNTYiLCIxNTciLCIxNTgiLCIxNTkiLCIxNjAiLCIxNjEiLCIxNjIiLCIxNjMiLCIxNjQiLCIxNjUiLCIxNjYiLCIxNjciLCIxNjgiLCIxNjkiLCIxNzAiLCIxNzEiLCIxNzIiLCIxNzMiLCIxNzQiLCIxNzUiLCIxNzYiLCIxNzciLCIxNzgiLCIxNzkiLCIxODAiLCIxODEiLCIxODIiLCIxODMiLCIxODQiLCIxODUiLCIxODYiLCIxODciLCIxODgiLCIxODkiLCIxOTAiLCIxOTEiLCIxOTIiLCIxOTMiLCIxOTQiLCIxOTUiLCIxOTYiLCIxOTciLCIxOTgiLCIxOTkiLCIyMDAiLCIyMDEiLCIyMDIiLCIyMDMiLCIyMDQiLCIyMDUiLCIyMDYiLCIyMDciLCJnZXRDaGFyRm9yQnl0ZSIsImJ5dGUiLCJjaGFyQ29kZSIsIk5SX1JPV1MiLCJOUl9DT0xTIiwicm93c0xvd0NoMSIsIjE3IiwiMTgiLCIyMSIsIjIyIiwiMjMiLCIxNiIsIjE5IiwiMjAiLCJyb3dzSGlnaENoMSIsInJvd3NMb3dDaDIiLCIyNSIsIjI2IiwiMjkiLCIzMCIsIjMxIiwiMjQiLCIyNyIsIjI4Iiwicm93c0hpZ2hDaDIiLCJiYWNrZ3JvdW5kQ29sb3JzIiwiY2VhXzYwOF9wYXJzZXJfbG9nZ2VyIiwidmVyYm9zZUZpbHRlciIsIkRBVEEiLCJJTkZPIiwiV0FSTklORyIsIlRFWFQiLCJ2ZXJib3NlTGV2ZWwiLCJzZXRUaW1lIiwibmV3VGltZSIsInNldmVyaXR5IiwibnVtQXJyYXlUb0hleEFycmF5IiwibnVtQXJyYXkiLCJoZXhBcnJheSIsIlBlblN0YXRlIiwiZm9yZWdyb3VuZCIsInVuZGVybGluZSIsIml0YWxpY3MiLCJiYWNrZ3JvdW5kIiwiZmxhc2giLCJyZXNldCIsInNldFN0eWxlcyIsImF0dHJpYnMiLCJpc0RlZmF1bHQiLCJlcXVhbHMiLCJvdGhlciIsImNvcHkiLCJuZXdQZW5TdGF0ZSIsIlN0eWxlZFVuaWNvZGVDaGFyIiwicGVuU3RhdGUiLCJzZXRDaGFyIiwic2V0UGVuU3RhdGUiLCJuZXdDaGFyIiwiUm93IiwiY3VyclBlblN0YXRlIiwiZXF1YWwiLCJlbXB0eSIsInNldEN1cnNvciIsImFic1BvcyIsIm1vdmVDdXJzb3IiLCJyZWxQb3MiLCJuZXdQb3MiLCJiYWNrU3BhY2UiLCJpbnNlcnRDaGFyIiwiY2hhciIsImNsZWFyRnJvbVBvcyIsInN0YXJ0UG9zIiwiY2xlYXIiLCJjbGVhclRvRW5kT2ZSb3ciLCJnZXRUZXh0U3RyaW5nIiwic2V0UGVuU3R5bGVzIiwiQ2FwdGlvblNjcmVlbiIsImN1cnJSb3ciLCJuclJvbGxVcFJvd3MiLCJzZXRQZW4iLCJzZXRQQUMiLCJwYWNEYXRhIiwibmV3Um93IiwidG9wUm93SW5kZXgiLCJsYXN0T3V0cHV0U2NyZWVuIiwicHJldkxpbmVUaW1lIiwicHJldlBvcyIsImNvbG9yIiwic2V0QmtnRGF0YSIsImJrZ0RhdGEiLCJzZXRSb2xsVXBSb3dzIiwibnJSb3dzIiwicm9sbFVwIiwiZ2V0RGlzcGxheVRleHQiLCJ0b3BSb3ciLCJhc09uZVJvdyIsImRpc3BsYXlUZXh0Iiwicm93TnIiLCJyb3dUZXh0IiwiZ2V0VGV4dEFuZEZvcm1hdCIsIkNlYTYwOENoYW5uZWwiLCJjaGFubmVsTnVtYmVyIiwib3V0cHV0RmlsdGVyIiwiY2hOciIsInZlcmJvc2UiLCJkaXNwbGF5ZWRNZW1vcnkiLCJub25EaXNwbGF5ZWRNZW1vcnkiLCJjdXJyUm9sbFVwUm93Iiwid3JpdGVTY3JlZW4iLCJsYXN0Q3VlRW5kVGltZSIsImdldEhhbmRsZXIiLCJzZXRIYW5kbGVyIiwibmV3SGFuZGxlciIsInNldE1vZGUiLCJuZXdNb2RlIiwiaW5zZXJ0Q2hhcnMiLCJzY3JlZW4iLCJvdXRwdXREYXRhVXBkYXRlIiwiY2NSQ0wiLCJjY0JTIiwiY2NBT0YiLCJjY0FPTiIsImNjREVSIiwiY2NSVSIsImNjRk9OIiwiY2NSREMiLCJjY1RSIiwiY2NSVEQiLCJjY0VETSIsImNjQ1IiLCJjY0VOTSIsImNjRU9DIiwiY2NUTyIsIm5yQ29scyIsImNjTUlEUk9XIiwic2Vjb25kQnl0ZSIsImNvbG9ySW5kZXgiLCJkaXNwYXRjaCIsImRpc3BhdGNoQ3VlIiwiY3VlU3BsaXRBdFRpbWUiLCJjZWFfNjA4X3BhcnNlciIsIkNlYTYwOFBhcnNlciIsIm91dDEiLCJvdXQyIiwib3V0cHV0cyIsImNoYW5uZWxzIiwiY3VyckNoTnIiLCJsYXN0Q21kQSIsImxhc3RDbWRCIiwiYnVmZmVyZWREYXRhIiwiZGF0YUNvdW50ZXJzIiwicGFkZGluZyIsImFkZERhdGEiLCJieXRlTGlzdCIsImNtZEZvdW5kIiwiY2hhcnNGb3VuZCIsInBhcnNlQ21kIiwicGFyc2VNaWRyb3ciLCJwYXJzZVBBQyIsInBhcnNlQmFja2dyb3VuZEF0dHJpYnV0ZXMiLCJwYXJzZUNoYXJzIiwiY2hhbm5lbCIsImludGVycHJldFBBQyIsInBhY0luZGV4IiwiY2hhbm5lbE5yIiwiY2hhckNvZGVzIiwiY2hhckNvZGUxIiwib25lQ29kZSIsImhleENvZGVzIiwib3V0cHV0X2ZpbHRlciIsIk91dHB1dEZpbHRlciIsInRpbWVsaW5lQ29udHJvbGxlciIsIm91dHB1dF9maWx0ZXJfX2NsYXNzQ2FsbENoZWNrIiwiYWRkQ3VlcyIsImNyZWF0ZUNhcHRpb25zVHJhY2siLCJzdGFydHNXaXRoIiwiaW5wdXRTdHJpbmciLCJzZWFyY2hTdHJpbmciLCJ3ZWJ2dHRfcGFyc2VyIiwidnR0Qnl0ZUFycmF5Iiwic3luY1BUUyIsInZ0dENDcyIsImNhbGxCYWNrIiwiZXJyb3JDYWxsQmFjayIsInZ0dExpbmVzIiwiY3VlVGltZSIsIm1wZWdUcyIsImxvY2FsVGltZSIsInByZXNlbnRhdGlvblRpbWUiLCJwYXJzaW5nRXJyb3IiLCJpbkhlYWRlciIsInBhcnNlciIsImN1cnJDQyIsImN1ZU9mZnNldCIsIm5ldyIsInByZXZDQyIsInByZXNlbnRhdGlvbk9mZnNldCIsImNhbGN1bGF0ZU9mZnNldCIsIm9ucGFyc2luZ2Vycm9yIiwidGltZVN0cmluZyIsInNlY3MiLCJtaW5zIiwiaG91cnMiLCJ3ZWJ2dHRfcGFyc2VyX2N1ZVN0cmluZzJtaWxsaXMiLCJpbnRlcnNlY3Rpb24iLCJ4MSIsInkxIiwieTIiLCJ0aW1lbGluZV9jb250cm9sbGVyIiwiVGltZWxpbmVDb250cm9sbGVyIiwidGltZWxpbmVfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2siLCJ0aW1lbGluZV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiZW5hYmxlZCIsIkN1ZXMiLCJjdWVIYW5kbGVyIiwidW5wYXJzZWRWdHRGcmFncyIsImN1ZVJhbmdlcyIsImNhcHRpb25zVHJhY2tzIiwiY2FwdGlvbnNQcm9wZXJ0aWVzIiwidGV4dFRyYWNrMSIsImNhcHRpb25zVGV4dFRyYWNrMUxhYmVsIiwibGFuZ3VhZ2VDb2RlIiwiY2FwdGlvbnNUZXh0VHJhY2sxTGFuZ3VhZ2VDb2RlIiwidGV4dFRyYWNrMiIsImNhcHRpb25zVGV4dFRyYWNrMkxhYmVsIiwiY2FwdGlvbnNUZXh0VHJhY2syTGFuZ3VhZ2VDb2RlIiwiZW5hYmxlQ0VBNzA4Q2FwdGlvbnMiLCJjaGFubmVsMSIsImNoYW5uZWwyIiwiY2VhNjA4UGFyc2VyIiwidGltZWxpbmVfY29udHJvbGxlcl9faW5oZXJpdHMiLCJyYW5nZXMiLCJtZXJnZWQiLCJjdWVSYW5nZSIsIm92ZXJsYXAiLCJnZXRFeGlzdGluZ1RyYWNrIiwiX2NhcHRpb25zUHJvcGVydGllcyR0IiwiZXhpc3RpbmdUcmFjayIsImNyZWF0ZVRleHRUcmFjayIsIl9jbGVhblRyYWNrcyIsImxhc3RTbiIsImVuYWJsZVdlYlZUVCIsImluVXNlVHJhY2tzIiwiaW5Vc2VUcmFjayIsIm1hbmlmZXN0VHJhY2siLCJyZXVzZVZ0dFRleHRUcmFjayIsInN1YnRpdGxlRGlzcGxheSIsIm9uTGV2ZWxTd2l0Y2hpbmciLCJjbG9zZWRDYXB0aW9ucyIsImRlY3J5cHREYXRhIiwiX3BhcnNlVlRUcyIsInN1Y2Nlc3MiLCJjdXJyZW50VHJhY2siLCJnZXRDdWVCeUlkIiwidGV4dFRyYWNrQ3VlIiwib25GcmFnRGVjcnlwdGVkIiwib25GcmFnUGFyc2luZ1VzZXJkYXRhIiwiY2NkYXRhcyIsImV4dHJhY3RDZWE2MDhEYXRhIiwidG1wQnl0ZSIsImNjYnl0ZTEiLCJjY2J5dGUyIiwiYWN0dWFsQ0NCeXRlcyIsInN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzIiwiZmlsdGVyU3VidGl0bGVUcmFja3MiLCJ0ZXh0VHJhY2tMaXN0Iiwic3VidGl0bGVfdHJhY2tfY29udHJvbGxlciIsIlN1YnRpdGxlVHJhY2tDb250cm9sbGVyIiwic3VidGl0bGVfdHJhY2tfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2siLCJzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic3VidGl0bGVfdHJhY2tfY29udHJvbGxlcl9faW5oZXJpdHMiLCJfb25UZXh0VHJhY2tzQ2hhbmdlZCIsInN1YnRpdGxlVHJhY2siLCJxdWV1ZWREZWZhdWx0VHJhY2siLCJ0cmFja0NoYW5nZUxpc3RlbmVyIiwidXNlVGV4dFRyYWNrUG9sbGluZyIsInN1YnRpdGxlUG9sbGluZ0ludGVydmFsIiwic3VidGl0bGVUcmFja3MiLCJvblRpY2siLCJvblN1YnRpdGxlVHJhY2tMb2FkZWQiLCJfc3RvcFRpbWVyIiwic2V0U3VidGl0bGVUcmFja0ludGVybmFsIiwiX3RvZ2dsZVRyYWNrTW9kZXMiLCJvbGRUcmFjayIsIm5leHRUcmFjayIsInN1YnRpdGxlVHJhY2tJZCIsInN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX3BlcmZvcm1hbmNlIiwic3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUiLCJzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlciIsIlN1YnRpdGxlU3RyZWFtQ29udHJvbGxlciIsInN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayIsInN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwidnR0RnJhZ1NOc1Byb2Nlc3NlZCIsInZ0dEZyYWdRdWV1ZXMiLCJjdXJyZW50bHlQcm9jZXNzaW5nIiwiY3VycmVudFRyYWNrSWQiLCJzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9faW5oZXJpdHMiLCJjbGVhclZ0dEZyYWdRdWV1ZXMiLCJvblN1YnRpdGxlRnJhZ1Byb2Nlc3NlZCIsInByb2Nlc3NlZEZyYWdTTnMiLCJmcmFnUXVldWUiLCJjdXJyZW50RnJhZ1NOIiwiYWxyZWFkeVByb2Nlc3NlZCIsInNvbWUiLCJmcmFnSW5RdWV1ZSIsImFscmVhZHlJblF1ZXVlIiwib25TdWJ0aXRsZVRyYWNrc1VwZGF0ZWQiLCJvblN1YnRpdGxlVHJhY2tTd2l0Y2giLCJlbWVfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MiLCJlbWVfY29udHJvbGxlcl9YTUxIdHRwUmVxdWVzdCIsIktleVN5c3RlbXMiLCJlbWVfY29udHJvbGxlciIsIkVNRUNvbnRyb2xsZXIiLCJlbWVfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2siLCJlbWVfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl93aWRldmluZUxpY2Vuc2VVcmwiLCJ3aWRldmluZUxpY2Vuc2VVcmwiLCJfbGljZW5zZVhoclNldHVwIiwibGljZW5zZVhoclNldHVwIiwiX2VtZUVuYWJsZWQiLCJlbWVFbmFibGVkIiwiX3JlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyIsInJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzc0Z1bmMiLCJfbWVkaWFLZXlzTGlzdCIsIl9tZWRpYSIsIl9oYXNTZXRNZWRpYUtleXMiLCJfaXNNZWRpYUVuY3J5cHRlZCIsIl9yZXF1ZXN0TGljZW5zZUZhaWx1cmVDb3VudCIsImVtZV9jb250cm9sbGVyX19pbmhlcml0cyIsImdldExpY2Vuc2VTZXJ2ZXJVcmwiLCJrZXlTeXN0ZW0iLCJfYXR0ZW1wdEtleVN5c3RlbUFjY2VzcyIsImF1ZGlvQ29kZWNzIiwidmlkZW9Db2RlY3MiLCJtZWRpYUtleVN5c3RlbUNvbmZpZ3MiLCJkcm1TeXN0ZW1PcHRpb25zIiwiYmFzZUNvbmZpZyIsInZpZGVvQ2FwYWJpbGl0aWVzIiwiY29udGVudFR5cGUiLCJjcmVhdGVXaWRldmluZU1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbnMiLCJnZXRTdXBwb3J0ZWRNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25zIiwicmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzIiwibWVkaWFLZXlTeXN0ZW1BY2Nlc3MiLCJfb25NZWRpYUtleVN5c3RlbUFjY2Vzc09idGFpbmVkIiwibWVkaWFLZXlzTGlzdEl0ZW0iLCJtZWRpYUtleXMiLCJtZWRpYUtleXNTZXNzaW9uIiwibWVkaWFLZXlzU2Vzc2lvbkluaXRpYWxpemVkIiwibWVkaWFLZXlTeXN0ZW1Eb21haW4iLCJjcmVhdGVNZWRpYUtleXMiLCJfb25NZWRpYUtleXNDcmVhdGVkIiwiY3JlYXRlU2Vzc2lvbiIsIl9vbk5ld01lZGlhS2V5U2Vzc2lvbiIsImtleVNlc3Npb24iLCJzZXNzaW9uSWQiLCJfb25LZXlTZXNzaW9uTWVzc2FnZSIsIl9yZXF1ZXN0TGljZW5zZSIsIl9vbk1lZGlhRW5jcnlwdGVkIiwiaW5pdERhdGFUeXBlIiwiX21lZGlhRW5jcnlwdGlvbkluaXREYXRhVHlwZSIsIl9tZWRpYUVuY3J5cHRpb25Jbml0RGF0YSIsIl9hdHRlbXB0U2V0TWVkaWFLZXlzIiwiX2dlbmVyYXRlUmVxdWVzdFdpdGhQcmVmZXJyZWRLZXlTZXNzaW9uIiwia2V5c0xpc3RJdGVtIiwic2V0TWVkaWFLZXlzIiwiX3RoaXM2IiwiZ2VuZXJhdGVSZXF1ZXN0IiwiX2NyZWF0ZUxpY2Vuc2VYaHIiLCJrZXlNZXNzYWdlIiwiX29uTGljZW5zZVJlcXVlc3RSZWFkeVN0YWdlQ2hhbmdlIiwiYXR0ZW1wdHNMZWZ0IiwiX2dlbmVyYXRlTGljZW5zZVJlcXVlc3RDaGFsbGVuZ2UiLCJjaGFsbGVuZ2UiLCJfdGhpczciLCJobHNEZWZhdWx0Q29uZmlnIiwibG93QnVmZmVyV2F0Y2hkb2dQZXJpb2QiLCJhYnJDb250cm9sbGVyIiwiYnVmZmVyQ29udHJvbGxlciIsImNhcExldmVsQ29udHJvbGxlciIsImZwc0NvbnRyb2xsZXIiLCJtaW5BdXRvQml0cmF0ZSIsInN1YnRpdGxlU3RyZWFtQ29udHJvbGxlciIsInN1YnRpdGxlVHJhY2tDb250cm9sbGVyIiwiYXVkaW9TdHJlYW1Db250cm9sbGVyIiwiYXVkaW9UcmFja0NvbnRyb2xsZXIiLCJlbWVDb250cm9sbGVyIiwiaGxzX19jcmVhdGVDbGFzcyIsImhsc19IbHMiLCJIbHMiLCJobHNfX2NsYXNzQ2FsbENoZWNrIiwiZGVmYXVsdENvbmZpZyIsIkRlZmF1bHRDb25maWciLCJwcm9wIiwiX2F1dG9MZXZlbENhcHBpbmciLCJwbGF5TGlzdExvYWRlciIsImZyYWdtZW50TG9hZGVyIiwia2V5TG9hZGVyIiwiaWQzVHJhY2tDb250cm9sbGVyIiwibGV2ZWxDb250cm9sbGVyIiwibmV0d29ya0NvbnRyb2xsZXJzIiwiQ29udHJvbGxlciIsImNvcmVDb21wb25lbnRzIiwiaXNTdXBwb3J0ZWQiLCJTb3VyY2VCdWZmZXIiLCJXZWJLaXRTb3VyY2VCdWZmZXIiLCJzb3VyY2VCdWZmZXJWYWxpZEFQSSIsImlzX3N1cHBvcnRlZF9pc1N1cHBvcnRlZCIsImRldGFjaE1lZGlhIiwiY29tcG9uZW50IiwiYXR0YWNoTWVkaWEiLCJsb2FkU291cmNlIiwiY29udHJvbGxlciIsInJlY292ZXJNZWRpYUVycm9yIiwibWFudWFsTGV2ZWwiLCJhdWRpb1RyYWNrSWQiLCJ3ZWJwYWNrQm9vdHN0cmFwRnVuYyIsIm9lIiwiRU5UUllfTU9EVUxFIiwibW9kdWxlTmFtZVJlcUV4cCIsImRlcGVuZGVuY3lSZWdFeHAiLCJxdW90ZVJlZ0V4cCIsInN0ciIsImdldE1vZHVsZURlcGVuZGVuY2llcyIsInF1ZXVlTmFtZSIsInJldHZhbCIsImZuU3RyaW5nIiwid3JhcHBlclNpZ25hdHVyZSIsIndlYnBhY2tSZXF1aXJlTmFtZSIsInJlIiwiaGFzVmFsdWVzSW5RdWV1ZXMiLCJxdWV1ZXMiLCJoYXNWYWx1ZXMiLCJyZXF1aXJlZE1vZHVsZXMiLCJtb2R1bGVzUXVldWUiLCJzZWVuTW9kdWxlcyIsIm1vZHVsZVRvQ2hlY2siLCJuZXdNb2R1bGVzIiwibmV3TW9kdWxlc0tleXMiLCJnZXRSZXF1aXJlZE1vZHVsZXMiLCJlbnRyeU1vZHVsZSIsImJhcmUiLCJ3b3JrZXJVcmwiLCJ3ZWJraXRVUkwiLCJtb3pVUkwiLCJtc1VSTCIsIndvcmtlciIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZGVtdXhfZGVtdXhlcl9pbmxpbmVfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fdXRpbHNfbG9nZ2VyX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfZXZlbnRzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfZXZlbnRzX19fZGVmYXVsdCIsInRyYW5zZmVyYWJsZSIsImVuZHNXaXRoIiwiJGRlZmluZVByb3BlcnR5Iiwic3RyaW5nTGVuZ3RoIiwic2VhcmNoTGVuZ3RoIiwiaG1yIiwibG9jYWxzIiwiaW1hZ2VMb2dvIiwiY2xhc3MiLCJsb2dvX2RlZmF1bHQiLCJsb2dvXzF4X2RlZmF1bHQiLCJsb2dvXzJ4X2RlZmF1bHQiLCJpbWFnZUljb24iLCJpY29uX2xpc3RfbV8xeF9kZWZhdWx0IiwiaWNvbl9saXN0X21fZGVmYXVsdCIsImljb25fbGlzdF9tXzJ4X2RlZmF1bHQiLCJkYXRhX2hlYWRlciIsImRhdGFIZWFkZXIiLCJpbm5lckhUTUwiLCJpbml0aWFsU3RhdGUiLCJkZXZpY2Vfb25DaGFuZ2UiLCJhY3Rpb24iLCJzdG9yZSIsInZpZGVvcyIsImRhdGFfdmlkZW8iLCJkYXRhVmlkZW8iLCJ2aWRlb3NDb250YWluZXIiLCJ0aWxlIiwiW29iamVjdCBPYmplY3RdIiwib25DaGFuZ2UiLCJicmlnaHRuZXNzIiwiY29udHJhc3QiLCJodG1sIiwidmlkZW9UaWxlX2hhbmRsZWJhcnMiLCJhcHBlbmRUb0NvbnRhaW5lciIsImluaXRWaWRlb1N0cmVhbSIsImFkZEV2ZW50VG9WaWRlbyIsImFkZEV2ZW50VG9CdG5zIiwiYWRkRXZlbnRUb0JyaWdodG5lc3MiLCJhZGRFdmVudFRvQ29udHJhc3QiLCJhZGRFdmVudFRvVm9sdW1lIiwiZGlzdF9obHMiLCJjYW5QbGF5VHlwZSIsIm5ld0h0bWxFbGVtIiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5pdEF1ZGlvQ29udGV4dCIsImlucHV0QnJpZ2h0bmVzcyIsInZpZGVvSWQiLCJicmlnaHRuZXNzVmFsdWUiLCJhcHBseUZpbHRlciIsImlucHV0Q29udHJhc3QiLCJjb250cmFzdFZhbHVlIiwidm9sdW1lIiwiY29udGFpbnMiLCJvblZvbHVtZU11dGUiLCJvblZvbHVtZVVuTXV0ZSIsIm11dGVkIiwiYW5hbGlzZXIiLCJjdHgiLCJBdWRpb0NvbnRleHQiLCJjcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UiLCJhbmFseXNlciIsImNyZWF0ZUFuYWx5c2VyIiwicHJvY2Vzc29yIiwiY3JlYXRlU2NyaXB0UHJvY2Vzc29yIiwiY2hhcnQiLCJuZXdTdGF0ZSIsImNvbm5lY3QiLCJyZXN1bWUiLCJkZXN0aW5hdGlvbiIsImZmdFNpemUiLCJmcmVxdWVuY3lCaW5Db3VudCIsIm9uYXVkaW9wcm9jZXNzIiwiZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEiLCJrRGF0YSIsImJhcjQiLCJiYXIzIiwiYmFyMiIsImJhcjEiLCJiYXI0Vm9sdW1lIiwiYmFyM1ZvbHVtZSIsImJhcjJWb2x1bWUiLCJiYXIxVm9sdW1lIiwiZGlzY29ubmVjdCIsInN1c3BlbmQiLCJkYXRhRm9vIiwiZm9vdGVyIiwiZGF0YV9mb290ZXIiLCJmb29IdG1sIiwicmVkdWNlciIsInN1YnNjcmliZSIsImN1cnJlbnRTdG9yZSIsInNldENvbnRyYXN0Iiwic2V0QnJpZ2h0bmVzcyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FB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QUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLEtBSUFDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxLQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxLQUNBQyxJQUFBLElBQ0FDLElBQUEsR0FDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFHQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxLQUNBQyxJQUFBLElBQ0FDLElBQUEsR0FDQUMsSUFBQSxLQUNBQyxJQUFBLEtBQ0FDLElBQUEsSUFDQUMsSUFBQSxLQUNBQyxJQUFBLEtBQ0FDLElBQUEsS0FDQUMsSUFBQSxLQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBR0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLEdBQ0FDLElBQUEsR0FDQUMsSUFBQSxHQUNBQyxJQUFBLElBQ0FDLElBQUEsS0FDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLEtBQ0FDLElBQUEsSUFDQUMsSUFBQSxJQUNBQyxJQUFBLElBQ0FDLElBQUEsSUFDQUMsSUFBQSxLQUNBQyxJQUFBLEtBQ0FDLElBQUEsS0FDQUMs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dUYsT0FBMEJvMUIsRUFBTWs1RCxFQUFPMkIsU0FBU2pCLFNBQVdWLEVBQU9VLFVBQ3RFNTVELElBeUJUbTVELEVBQU1xRSxVQUFVLEtBQ2RwRSxFQUFPanVGLFFBQVFxaUIsSUFDYixNQUFNaXdFLEVBQXdCdEUsRUFBTXAwQyxXQUNwQ3YzQixFQUFNa3dFLFlBQVlELEVBQWFqd0UsRUFBTUEsTUFBTWl0RSxVQUFVLElBQUliLFVBQ3pEcHNFLEVBQU1td0UsY0FBY0YsRUFBYWp3RSxFQUFNQSxNQUFNaXRFLFVBQVUsSUFBSWQiLCJmaWxlIjoiZGV2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDY0KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZXh0ZW5kID0gZXh0ZW5kO1xuZXhwb3J0cy5pbmRleE9mID0gaW5kZXhPZjtcbmV4cG9ydHMuZXNjYXBlRXhwcmVzc2lvbiA9IGVzY2FwZUV4cHJlc3Npb247XG5leHBvcnRzLmlzRW1wdHkgPSBpc0VtcHR5O1xuZXhwb3J0cy5jcmVhdGVGcmFtZSA9IGNyZWF0ZUZyYW1lO1xuZXhwb3J0cy5ibG9ja1BhcmFtcyA9IGJsb2NrUGFyYW1zO1xuZXhwb3J0cy5hcHBlbmRDb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoO1xudmFyIGVzY2FwZSA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjeDI3OycsXG4gICdgJzogJyYjeDYwOycsXG4gICc9JzogJyYjeDNEOydcbn07XG5cbnZhciBiYWRDaGFycyA9IC9bJjw+XCInYD1dL2csXG4gICAgcG9zc2libGUgPSAvWyY8PlwiJ2A9XS87XG5cbmZ1bmN0aW9uIGVzY2FwZUNoYXIoY2hyKSB7XG4gIHJldHVybiBlc2NhcGVbY2hyXTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKG9iaiAvKiAsIC4uLnNvdXJjZSAqLykge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGZvciAodmFyIGtleSBpbiBhcmd1bWVudHNbaV0pIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXJndW1lbnRzW2ldLCBrZXkpKSB7XG4gICAgICAgIG9ialtrZXldID0gYXJndW1lbnRzW2ldW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuZXhwb3J0cy50b1N0cmluZyA9IHRvU3RyaW5nO1xuLy8gU291cmNlZCBmcm9tIGxvZGFzaFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2xvZGFzaC9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuLyogZXNsaW50LWRpc2FibGUgZnVuYy1zdHlsZSAqL1xudmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59O1xuLy8gZmFsbGJhY2sgZm9yIG9sZGVyIHZlcnNpb25zIG9mIENocm9tZSBhbmQgU2FmYXJpXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuaWYgKGlzRnVuY3Rpb24oL3gvKSkge1xuICBleHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgfTtcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbi8qIGVzbGludC1lbmFibGUgZnVuYy1zdHlsZSAqL1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyA/IHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nIDogZmFsc2U7XG59O1xuXG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuLy8gT2xkZXIgSUUgdmVyc2lvbnMgZG8gbm90IGRpcmVjdGx5IHN1cHBvcnQgaW5kZXhPZiBzbyB3ZSBtdXN0IGltcGxlbWVudCBvdXIgb3duLCBzYWRseS5cblxuZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGFycmF5W2ldID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlRXhwcmVzc2lvbihzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgZXNjYXBlIFNhZmVTdHJpbmdzLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgc2FmZVxuICAgIGlmIChzdHJpbmcgJiYgc3RyaW5nLnRvSFRNTCkge1xuICAgICAgcmV0dXJuIHN0cmluZy50b0hUTUwoKTtcbiAgICB9IGVsc2UgaWYgKHN0cmluZyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSBlbHNlIGlmICghc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nICsgJyc7XG4gICAgfVxuXG4gICAgLy8gRm9yY2UgYSBzdHJpbmcgY29udmVyc2lvbiBhcyB0aGlzIHdpbGwgYmUgZG9uZSBieSB0aGUgYXBwZW5kIHJlZ2FyZGxlc3MgYW5kXG4gICAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG4gICAgLy8gYW4gb2JqZWN0J3MgdG8gc3RyaW5nIGhhcyBlc2NhcGVkIGNoYXJhY3RlcnMgaW4gaXQuXG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmc7XG4gIH1cblxuICBpZiAoIXBvc3NpYmxlLnRlc3Qoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmc7XG4gIH1cbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKGJhZENoYXJzLCBlc2NhcGVDaGFyKTtcbn1cblxuZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICBpZiAoIXZhbHVlICYmIHZhbHVlICE9PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZyYW1lKG9iamVjdCkge1xuICB2YXIgZnJhbWUgPSBleHRlbmQoe30sIG9iamVjdCk7XG4gIGZyYW1lLl9wYXJlbnQgPSBvYmplY3Q7XG4gIHJldHVybiBmcmFtZTtcbn1cblxuZnVuY3Rpb24gYmxvY2tQYXJhbXMocGFyYW1zLCBpZHMpIHtcbiAgcGFyYW1zLnBhdGggPSBpZHM7XG4gIHJldHVybiBwYXJhbXM7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZENvbnRleHRQYXRoKGNvbnRleHRQYXRoLCBpZCkge1xuICByZXR1cm4gKGNvbnRleHRQYXRoID8gY29udGV4dFBhdGggKyAnLicgOiAnJykgKyBpZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUwyeHBZaTlvWVc1a2JHVmlZWEp6TDNWMGFXeHpMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3T3pzN096czdPenM3UVVGQlFTeEpRVUZOTEUxQlFVMHNSMEZCUnp0QlFVTmlMRXRCUVVjc1JVRkJSU3hQUVVGUE8wRkJRMW9zUzBGQlJ5eEZRVUZGTEUxQlFVMDdRVUZEV0N4TFFVRkhMRVZCUVVVc1RVRkJUVHRCUVVOWUxFdEJRVWNzUlVGQlJTeFJRVUZSTzBGQlEySXNTMEZCUnl4RlFVRkZMRkZCUVZFN1FVRkRZaXhMUVVGSExFVkJRVVVzVVVGQlVUdEJRVU5pTEV0QlFVY3NSVUZCUlN4UlFVRlJPME5CUTJRc1EwRkJRenM3UVVGRlJpeEpRVUZOTEZGQlFWRXNSMEZCUnl4WlFVRlpPMGxCUTNaQ0xGRkJRVkVzUjBGQlJ5eFhRVUZYTEVOQlFVTTdPMEZCUlRkQ0xGTkJRVk1zVlVGQlZTeERRVUZETEVkQlFVY3NSVUZCUlR0QlFVTjJRaXhUUVVGUExFMUJRVTBzUTBGQlF5eEhRVUZITEVOQlFVTXNRMEZCUXp0RFFVTndRanM3UVVGRlRTeFRRVUZUTEUxQlFVMHNRMEZCUXl4SFFVRkhMRzlDUVVGdFFqdEJRVU16UXl4UFFVRkxMRWxCUVVrc1EwRkJReXhIUVVGSExFTkJRVU1zUlVGQlJTeERRVUZETEVkQlFVY3NVMEZCVXl4RFFVRkRMRTFCUVUwc1JVRkJSU3hEUVVGRExFVkJRVVVzUlVGQlJUdEJRVU42UXl4VFFVRkxMRWxCUVVrc1IwRkJSeXhKUVVGSkxGTkJRVk1zUTBGQlF5eERRVUZETEVOQlFVTXNSVUZCUlR0QlFVTTFRaXhWUVVGSkxFMUJRVTBzUTBGQlF5eFRRVUZUTEVOQlFVTXNZMEZCWXl4RFFVRkRMRWxCUVVrc1EwRkJReXhUUVVGVExFTkJRVU1zUTBGQlF5eERRVUZETEVWQlFVVXNSMEZCUnl4RFFVRkRMRVZCUVVVN1FVRkRNMFFzVjBGQlJ5eERRVUZETEVkQlFVY3NRMEZCUXl4SFFVRkhMRk5CUVZNc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF5eEhRVUZITEVOQlFVTXNRMEZCUXp0UFFVTTVRanRMUVVOR08wZEJRMFk3TzBGQlJVUXNVMEZCVHl4SFFVRkhMRU5CUVVNN1EwRkRXanM3UVVGRlRTeEpRVUZKTEZGQlFWRXNSMEZCUnl4TlFVRk5MRU5CUVVNc1UwRkJVeXhEUVVGRExGRkJRVkVzUTBGQlF6czdPenM3TzBGQlMyaEVMRWxCUVVrc1ZVRkJWU3hIUVVGSExHOUNRVUZUTEV0QlFVc3NSVUZCUlR0QlFVTXZRaXhUUVVGUExFOUJRVThzUzBGQlN5eExRVUZMTEZWQlFWVXNRMEZCUXp0RFFVTndReXhEUVVGRE96czdRVUZIUml4SlFVRkpMRlZCUVZVc1EwRkJReXhIUVVGSExFTkJRVU1zUlVGQlJUdEJRVU51UWl4VlFVbE5MRlZCUVZVc1IwRkthRUlzVlVGQlZTeEhRVUZITEZWQlFWTXNTMEZCU3l4RlFVRkZPMEZCUXpOQ0xGZEJRVThzVDBGQlR5eExRVUZMTEV0QlFVc3NWVUZCVlN4SlFVRkpMRkZCUVZFc1EwRkJReXhKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEV0QlFVc3NiVUpCUVcxQ0xFTkJRVU03UjBGRGNFWXNRMEZCUXp0RFFVTklPMUZCUTA4c1ZVRkJWU3hIUVVGV0xGVkJRVlU3T3pzN08wRkJTVmdzU1VGQlRTeFBRVUZQTEVkQlFVY3NTMEZCU3l4RFFVRkRMRTlCUVU4c1NVRkJTU3hWUVVGVExFdEJRVXNzUlVGQlJUdEJRVU4wUkN4VFFVRlBMRUZCUVVNc1MwRkJTeXhKUVVGSkxFOUJRVThzUzBGQlN5eExRVUZMTEZGQlFWRXNSMEZCU1N4UlFVRlJMRU5CUVVNc1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eExRVUZMTEdkQ1FVRm5RaXhIUVVGSExFdEJRVXNzUTBGQlF6dERRVU5xUnl4RFFVRkRPenM3T3p0QlFVZExMRk5CUVZNc1QwRkJUeXhEUVVGRExFdEJRVXNzUlVGQlJTeExRVUZMTEVWQlFVVTdRVUZEY0VNc1QwRkJTeXhKUVVGSkxFTkJRVU1zUjBGQlJ5eERRVUZETEVWQlFVVXNSMEZCUnl4SFFVRkhMRXRCUVVzc1EwRkJReXhOUVVGTkxFVkJRVVVzUTBGQlF5eEhRVUZITEVkQlFVY3NSVUZCUlN4RFFVRkRMRVZCUVVVc1JVRkJSVHRCUVVOb1JDeFJRVUZKTEV0QlFVc3NRMEZCUXl4RFFVRkRMRU5CUVVNc1MwRkJTeXhMUVVGTExFVkJRVVU3UVVGRGRFSXNZVUZCVHl4RFFVRkRMRU5CUVVNN1MwRkRWanRIUVVOR08wRkJRMFFzVTBGQlR5eERRVUZETEVOQlFVTXNRMEZCUXp0RFFVTllPenRCUVVkTkxGTkJRVk1zWjBKQlFXZENMRU5CUVVNc1RVRkJUU3hGUVVGRk8wRkJRM1pETEUxQlFVa3NUMEZCVHl4TlFVRk5MRXRCUVVzc1VVRkJVU3hGUVVGRk96dEJRVVU1UWl4UlFVRkpMRTFCUVUwc1NVRkJTU3hOUVVGTkxFTkJRVU1zVFVGQlRTeEZRVUZGTzBGQlF6TkNMR0ZCUVU4c1RVRkJUU3hEUVVGRExFMUJRVTBzUlVGQlJTeERRVUZETzB0QlEzaENMRTFCUVUwc1NVRkJTU3hOUVVGTkxFbEJRVWtzU1VGQlNTeEZRVUZGTzBGQlEzcENMR0ZCUVU4c1JVRkJSU3hEUVVGRE8wdEJRMWdzVFVGQlRTeEpRVUZKTEVOQlFVTXNUVUZCVFN4RlFVRkZPMEZCUTJ4Q0xHRkJRVThzVFVGQlRTeEhRVUZITEVWQlFVVXNRMEZCUXp0TFFVTndRanM3T3pzN1FVRkxSQ3hWUVVGTkxFZEJRVWNzUlVGQlJTeEhRVUZITEUxQlFVMHNRMEZCUXp0SFFVTjBRanM3UVVGRlJDeE5RVUZKTEVOQlFVTXNVVUZCVVN4RFFVRkRMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zUlVGQlJUdEJRVUZGTEZkQlFVOHNUVUZCVFN4RFFVRkRPMGRCUVVVN1FVRkRPVU1zVTBGQlR5eE5RVUZOTEVOQlFVTXNUMEZCVHl4RFFVRkRMRkZCUVZFc1JVRkJSU3hWUVVGVkxFTkJRVU1zUTBGQlF6dERRVU0zUXpzN1FVRkZUU3hUUVVGVExFOUJRVThzUTBGQlF5eExRVUZMTEVWQlFVVTdRVUZETjBJc1RVRkJTU3hEUVVGRExFdEJRVXNzU1VGQlNTeExRVUZMTEV0QlFVc3NRMEZCUXl4RlFVRkZPMEZCUTNwQ0xGZEJRVThzU1VGQlNTeERRVUZETzBkQlEySXNUVUZCVFN4SlFVRkpMRTlCUVU4c1EwRkJReXhMUVVGTExFTkJRVU1zU1VGQlNTeExRVUZMTEVOQlFVTXNUVUZCVFN4TFFVRkxMRU5CUVVNc1JVRkJSVHRCUVVNdlF5eFhRVUZQTEVsQlFVa3NRMEZCUXp0SFFVTmlMRTFCUVUwN1FVRkRUQ3hYUVVGUExFdEJRVXNzUTBGQlF6dEhRVU5rTzBOQlEwWTdPMEZCUlUwc1UwRkJVeXhYUVVGWExFTkJRVU1zVFVGQlRTeEZRVUZGTzBGQlEyeERMRTFCUVVrc1MwRkJTeXhIUVVGSExFMUJRVTBzUTBGQlF5eEZRVUZGTEVWQlFVVXNUVUZCVFN4RFFVRkRMRU5CUVVNN1FVRkRMMElzVDBGQlN5eERRVUZETEU5QlFVOHNSMEZCUnl4TlFVRk5MRU5CUVVNN1FVRkRka0lzVTBGQlR5eExRVUZMTEVOQlFVTTdRMEZEWkRzN1FVRkZUU3hUUVVGVExGZEJRVmNzUTBGQlF5eE5RVUZOTEVWQlFVVXNSMEZCUnl4RlFVRkZPMEZCUTNaRExGRkJRVTBzUTBGQlF5eEpRVUZKTEVkQlFVY3NSMEZCUnl4RFFVRkRPMEZCUTJ4Q0xGTkJRVThzVFVGQlRTeERRVUZETzBOQlEyWTdPMEZCUlUwc1UwRkJVeXhwUWtGQmFVSXNRMEZCUXl4WFFVRlhMRVZCUVVVc1JVRkJSU3hGUVVGRk8wRkJRMnBFTEZOQlFVOHNRMEZCUXl4WFFVRlhMRWRCUVVjc1YwRkJWeXhIUVVGSExFZEJRVWNzUjBGQlJ5eEZRVUZGTEVOQlFVRXNSMEZCU1N4RlFVRkZMRU5CUVVNN1EwRkRjRVFpTENKbWFXeGxJam9pZFhScGJITXVhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKamIyNXpkQ0JsYzJOaGNHVWdQU0I3WEc0Z0lDY21Kem9nSnlaaGJYQTdKeXhjYmlBZ0p6d25PaUFuSm14ME95Y3NYRzRnSUNjK0p6b2dKeVpuZERzbkxGeHVJQ0FuWENJbk9pQW5KbkYxYjNRN0p5eGNiaUFnWENJblhDSTZJQ2NtSTNneU56c25MRnh1SUNBbllDYzZJQ2NtSTNnMk1Ec25MRnh1SUNBblBTYzZJQ2NtSTNnelJEc25YRzU5TzF4dVhHNWpiMjV6ZENCaVlXUkRhR0Z5Y3lBOUlDOWJKancrWENJbllEMWRMMmNzWEc0Z0lDQWdJQ0J3YjNOemFXSnNaU0E5SUM5YkpqdytYQ0luWUQxZEx6dGNibHh1Wm5WdVkzUnBiMjRnWlhOallYQmxRMmhoY2loamFISXBJSHRjYmlBZ2NtVjBkWEp1SUdWelkyRndaVnRqYUhKZE8xeHVmVnh1WEc1bGVIQnZjblFnWm5WdVkzUnBiMjRnWlhoMFpXNWtLRzlpYWk4cUlDd2dMaTR1YzI5MWNtTmxJQ292S1NCN1hHNGdJR1p2Y2lBb2JHVjBJR2tnUFNBeE95QnBJRHdnWVhKbmRXMWxiblJ6TG14bGJtZDBhRHNnYVNzcktTQjdYRzRnSUNBZ1ptOXlJQ2hzWlhRZ2EyVjVJR2x1SUdGeVozVnRaVzUwYzF0cFhTa2dlMXh1SUNBZ0lDQWdhV1lnS0U5aWFtVmpkQzV3Y205MGIzUjVjR1V1YUdGelQzZHVVSEp2Y0dWeWRIa3VZMkZzYkNoaGNtZDFiV1Z1ZEhOYmFWMHNJR3RsZVNrcElIdGNiaUFnSUNBZ0lDQWdiMkpxVzJ0bGVWMGdQU0JoY21kMWJXVnVkSE5iYVYxYmEyVjVYVHRjYmlBZ0lDQWdJSDFjYmlBZ0lDQjlYRzRnSUgxY2JseHVJQ0J5WlhSMWNtNGdiMkpxTzF4dWZWeHVYRzVsZUhCdmNuUWdiR1YwSUhSdlUzUnlhVzVuSUQwZ1QySnFaV04wTG5CeWIzUnZkSGx3WlM1MGIxTjBjbWx1Wnp0Y2JseHVMeThnVTI5MWNtTmxaQ0JtY205dElHeHZaR0Z6YUZ4dUx5OGdhSFIwY0hNNkx5OW5hWFJvZFdJdVkyOXRMMkpsYzNScFpXcHpMMnh2WkdGemFDOWliRzlpTDIxaGMzUmxjaTlNU1VORlRsTkZMblI0ZEZ4dUx5b2daWE5zYVc1MExXUnBjMkZpYkdVZ1puVnVZeTF6ZEhsc1pTQXFMMXh1YkdWMElHbHpSblZ1WTNScGIyNGdQU0JtZFc1amRHbHZiaWgyWVd4MVpTa2dlMXh1SUNCeVpYUjFjbTRnZEhsd1pXOW1JSFpoYkhWbElEMDlQU0FuWm5WdVkzUnBiMjRuTzF4dWZUdGNiaTh2SUdaaGJHeGlZV05ySUdadmNpQnZiR1JsY2lCMlpYSnphVzl1Y3lCdlppQkRhSEp2YldVZ1lXNWtJRk5oWm1GeWFWeHVMeW9nYVhOMFlXNWlkV3dnYVdkdWIzSmxJRzVsZUhRZ0tpOWNibWxtSUNocGMwWjFibU4wYVc5dUtDOTRMeWtwSUh0Y2JpQWdhWE5HZFc1amRHbHZiaUE5SUdaMWJtTjBhVzl1S0haaGJIVmxLU0I3WEc0Z0lDQWdjbVYwZFhKdUlIUjVjR1Z2WmlCMllXeDFaU0E5UFQwZ0oyWjFibU4wYVc5dUp5QW1KaUIwYjFOMGNtbHVaeTVqWVd4c0tIWmhiSFZsS1NBOVBUMGdKMXR2WW1wbFkzUWdSblZ1WTNScGIyNWRKenRjYmlBZ2ZUdGNibjFjYm1WNGNHOXlkQ0I3YVhOR2RXNWpkR2x2Ym4wN1hHNHZLaUJsYzJ4cGJuUXRaVzVoWW14bElHWjFibU10YzNSNWJHVWdLaTljYmx4dUx5b2dhWE4wWVc1aWRXd2dhV2R1YjNKbElHNWxlSFFnS2k5Y2JtVjRjRzl5ZENCamIyNXpkQ0JwYzBGeWNtRjVJRDBnUVhKeVlYa3VhWE5CY25KaGVTQjhmQ0JtZFc1amRHbHZiaWgyWVd4MVpTa2dlMXh1SUNCeVpYUjFjbTRnS0haaGJIVmxJQ1ltSUhSNWNHVnZaaUIyWVd4MVpTQTlQVDBnSjI5aWFtVmpkQ2NwSUQ4Z2RHOVRkSEpwYm1jdVkyRnNiQ2gyWVd4MVpTa2dQVDA5SUNkYmIySnFaV04wSUVGeWNtRjVYU2NnT2lCbVlXeHpaVHRjYm4wN1hHNWNiaTh2SUU5c1pHVnlJRWxGSUhabGNuTnBiMjV6SUdSdklHNXZkQ0JrYVhKbFkzUnNlU0J6ZFhCd2IzSjBJR2x1WkdWNFQyWWdjMjhnZDJVZ2JYVnpkQ0JwYlhCc1pXMWxiblFnYjNWeUlHOTNiaXdnYzJGa2JIa3VYRzVsZUhCdmNuUWdablZ1WTNScGIyNGdhVzVrWlhoUFppaGhjbkpoZVN3Z2RtRnNkV1VwSUh0Y2JpQWdabTl5SUNoc1pYUWdhU0E5SURBc0lHeGxiaUE5SUdGeWNtRjVMbXhsYm1kMGFEc2dhU0E4SUd4bGJqc2dhU3NyS1NCN1hHNGdJQ0FnYVdZZ0tHRnljbUY1VzJsZElEMDlQU0IyWVd4MVpTa2dlMXh1SUNBZ0lDQWdjbVYwZFhKdUlHazdYRzRnSUNBZ2ZWeHVJQ0I5WEc0Z0lISmxkSFZ5YmlBdE1UdGNibjFjYmx4dVhHNWxlSEJ2Y25RZ1puVnVZM1JwYjI0Z1pYTmpZWEJsUlhod2NtVnpjMmx2YmloemRISnBibWNwSUh0Y2JpQWdhV1lnS0hSNWNHVnZaaUJ6ZEhKcGJtY2dJVDA5SUNkemRISnBibWNuS1NCN1hHNGdJQ0FnTHk4Z1pHOXVKM1FnWlhOallYQmxJRk5oWm1WVGRISnBibWR6TENCemFXNWpaU0IwYUdWNUozSmxJR0ZzY21WaFpIa2djMkZtWlZ4dUlDQWdJR2xtSUNoemRISnBibWNnSmlZZ2MzUnlhVzVuTG5SdlNGUk5UQ2tnZTF4dUlDQWdJQ0FnY21WMGRYSnVJSE4wY21sdVp5NTBiMGhVVFV3b0tUdGNiaUFnSUNCOUlHVnNjMlVnYVdZZ0tITjBjbWx1WnlBOVBTQnVkV3hzS1NCN1hHNGdJQ0FnSUNCeVpYUjFjbTRnSnljN1hHNGdJQ0FnZlNCbGJITmxJR2xtSUNnaGMzUnlhVzVuS1NCN1hHNGdJQ0FnSUNCeVpYUjFjbTRnYzNSeWFXNW5JQ3NnSnljN1hHNGdJQ0FnZlZ4dVhHNGdJQ0FnTHk4Z1JtOXlZMlVnWVNCemRISnBibWNnWTI5dWRtVnljMmx2YmlCaGN5QjBhR2x6SUhkcGJHd2dZbVVnWkc5dVpTQmllU0IwYUdVZ1lYQndaVzVrSUhKbFoyRnlaR3hsYzNNZ1lXNWtYRzRnSUNBZ0x5OGdkR2hsSUhKbFoyVjRJSFJsYzNRZ2QybHNiQ0JrYnlCMGFHbHpJSFJ5WVc1emNHRnlaVzUwYkhrZ1ltVm9hVzVrSUhSb1pTQnpZMlZ1WlhNc0lHTmhkWE5wYm1jZ2FYTnpkV1Z6SUdsbVhHNGdJQ0FnTHk4Z1lXNGdiMkpxWldOMEozTWdkRzhnYzNSeWFXNW5JR2hoY3lCbGMyTmhjR1ZrSUdOb1lYSmhZM1JsY25NZ2FXNGdhWFF1WEc0Z0lDQWdjM1J5YVc1bklEMGdKeWNnS3lCemRISnBibWM3WEc0Z0lIMWNibHh1SUNCcFppQW9JWEJ2YzNOcFlteGxMblJsYzNRb2MzUnlhVzVuS1NrZ2V5QnlaWFIxY200Z2MzUnlhVzVuT3lCOVhHNGdJSEpsZEhWeWJpQnpkSEpwYm1jdWNtVndiR0ZqWlNoaVlXUkRhR0Z5Y3l3Z1pYTmpZWEJsUTJoaGNpazdYRzU5WEc1Y2JtVjRjRzl5ZENCbWRXNWpkR2x2YmlCcGMwVnRjSFI1S0haaGJIVmxLU0I3WEc0Z0lHbG1JQ2doZG1Gc2RXVWdKaVlnZG1Gc2RXVWdJVDA5SURBcElIdGNiaUFnSUNCeVpYUjFjbTRnZEhKMVpUdGNiaUFnZlNCbGJITmxJR2xtSUNocGMwRnljbUY1S0haaGJIVmxLU0FtSmlCMllXeDFaUzVzWlc1bmRHZ2dQVDA5SURBcElIdGNiaUFnSUNCeVpYUjFjbTRnZEhKMVpUdGNiaUFnZlNCbGJITmxJSHRjYmlBZ0lDQnlaWFIxY200Z1ptRnNjMlU3WEc0Z0lIMWNibjFjYmx4dVpYaHdiM0owSUdaMWJtTjBhVzl1SUdOeVpXRjBaVVp5WVcxbEtHOWlhbVZqZENrZ2UxeHVJQ0JzWlhRZ1puSmhiV1VnUFNCbGVIUmxibVFvZTMwc0lHOWlhbVZqZENrN1hHNGdJR1p5WVcxbExsOXdZWEpsYm5RZ1BTQnZZbXBsWTNRN1hHNGdJSEpsZEhWeWJpQm1jbUZ0WlR0Y2JuMWNibHh1Wlhod2IzSjBJR1oxYm1OMGFXOXVJR0pzYjJOclVHRnlZVzF6S0hCaGNtRnRjeXdnYVdSektTQjdYRzRnSUhCaGNtRnRjeTV3WVhSb0lEMGdhV1J6TzF4dUlDQnlaWFIxY200Z2NHRnlZVzF6TzF4dWZWeHVYRzVsZUhCdmNuUWdablZ1WTNScGIyNGdZWEJ3Wlc1a1EyOXVkR1Y0ZEZCaGRHZ29ZMjl1ZEdWNGRGQmhkR2dzSUdsa0tTQjdYRzRnSUhKbGRIVnliaUFvWTI5dWRHVjRkRkJoZEdnZ1B5QmpiMjUwWlhoMFVHRjBhQ0FySUNjdUp5QTZJQ2NuS1NBcklHbGtPMXh1ZlZ4dUlsMTlcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIGVycm9yUHJvcHMgPSBbJ2Rlc2NyaXB0aW9uJywgJ2ZpbGVOYW1lJywgJ2xpbmVOdW1iZXInLCAnbWVzc2FnZScsICduYW1lJywgJ251bWJlcicsICdzdGFjayddO1xuXG5mdW5jdGlvbiBFeGNlcHRpb24obWVzc2FnZSwgbm9kZSkge1xuICB2YXIgbG9jID0gbm9kZSAmJiBub2RlLmxvYyxcbiAgICAgIGxpbmUgPSB1bmRlZmluZWQsXG4gICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7XG4gIGlmIChsb2MpIHtcbiAgICBsaW5lID0gbG9jLnN0YXJ0LmxpbmU7XG4gICAgY29sdW1uID0gbG9jLnN0YXJ0LmNvbHVtbjtcblxuICAgIG1lc3NhZ2UgKz0gJyAtICcgKyBsaW5lICsgJzonICsgY29sdW1uO1xuICB9XG5cbiAgdmFyIHRtcCA9IEVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG1lc3NhZ2UpO1xuXG4gIC8vIFVuZm9ydHVuYXRlbHkgZXJyb3JzIGFyZSBub3QgZW51bWVyYWJsZSBpbiBDaHJvbWUgKGF0IGxlYXN0KSwgc28gYGZvciBwcm9wIGluIHRtcGAgZG9lc24ndCB3b3JrLlxuICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBlcnJvclByb3BzLmxlbmd0aDsgaWR4KyspIHtcbiAgICB0aGlzW2Vycm9yUHJvcHNbaWR4XV0gPSB0bXBbZXJyb3JQcm9wc1tpZHhdXTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEV4Y2VwdGlvbik7XG4gIH1cblxuICB0cnkge1xuICAgIGlmIChsb2MpIHtcbiAgICAgIHRoaXMubGluZU51bWJlciA9IGxpbmU7XG5cbiAgICAgIC8vIFdvcmsgYXJvdW5kIGlzc3VlIHVuZGVyIHNhZmFyaSB3aGVyZSB3ZSBjYW4ndCBkaXJlY3RseSBzZXQgdGhlIGNvbHVtbiB2YWx1ZVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjb2x1bW4nLCB7XG4gICAgICAgICAgdmFsdWU6IGNvbHVtbixcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChub3ApIHtcbiAgICAvKiBJZ25vcmUgaWYgdGhlIGJyb3dzZXIgaXMgdmVyeSBwYXJ0aWN1bGFyICovXG4gIH1cbn1cblxuRXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBFeGNlcHRpb247XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUwyeHBZaTlvWVc1a2JHVmlZWEp6TDJWNFkyVndkR2x2Ymk1cWN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU96czdPMEZCUTBFc1NVRkJUU3hWUVVGVkxFZEJRVWNzUTBGQlF5eGhRVUZoTEVWQlFVVXNWVUZCVlN4RlFVRkZMRmxCUVZrc1JVRkJSU3hUUVVGVExFVkJRVVVzVFVGQlRTeEZRVUZGTEZGQlFWRXNSVUZCUlN4UFFVRlBMRU5CUVVNc1EwRkJRenM3UVVGRmJrY3NVMEZCVXl4VFFVRlRMRU5CUVVNc1QwRkJUeXhGUVVGRkxFbEJRVWtzUlVGQlJUdEJRVU5vUXl4TlFVRkpMRWRCUVVjc1IwRkJSeXhKUVVGSkxFbEJRVWtzU1VGQlNTeERRVUZETEVkQlFVYzdUVUZEZEVJc1NVRkJTU3haUVVGQk8wMUJRMG9zVFVGQlRTeFpRVUZCTEVOQlFVTTdRVUZEV0N4TlFVRkpMRWRCUVVjc1JVRkJSVHRCUVVOUUxGRkJRVWtzUjBGQlJ5eEhRVUZITEVOQlFVTXNTMEZCU3l4RFFVRkRMRWxCUVVrc1EwRkJRenRCUVVOMFFpeFZRVUZOTEVkQlFVY3NSMEZCUnl4RFFVRkRMRXRCUVVzc1EwRkJReXhOUVVGTkxFTkJRVU03TzBGQlJURkNMRmRCUVU4c1NVRkJTU3hMUVVGTExFZEJRVWNzU1VGQlNTeEhRVUZITEVkQlFVY3NSMEZCUnl4TlFVRk5MRU5CUVVNN1IwRkRlRU03TzBGQlJVUXNUVUZCU1N4SFFVRkhMRWRCUVVjc1MwRkJTeXhEUVVGRExGTkJRVk1zUTBGQlF5eFhRVUZYTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWxCUVVrc1JVRkJSU3hQUVVGUExFTkJRVU1zUTBGQlF6czdPMEZCUnpGRUxFOUJRVXNzU1VGQlNTeEhRVUZITEVkQlFVY3NRMEZCUXl4RlFVRkZMRWRCUVVjc1IwRkJSeXhWUVVGVkxFTkJRVU1zVFVGQlRTeEZRVUZGTEVkQlFVY3NSVUZCUlN4RlFVRkZPMEZCUTJoRUxGRkJRVWtzUTBGQlF5eFZRVUZWTEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNc1IwRkJSeXhIUVVGSExFTkJRVU1zVlVGQlZTeERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRMRU5CUVVNN1IwRkRPVU03T3p0QlFVZEVMRTFCUVVrc1MwRkJTeXhEUVVGRExHbENRVUZwUWl4RlFVRkZPMEZCUXpOQ0xGTkJRVXNzUTBGQlF5eHBRa0ZCYVVJc1EwRkJReXhKUVVGSkxFVkJRVVVzVTBGQlV5eERRVUZETEVOQlFVTTdSMEZETVVNN08wRkJSVVFzVFVGQlNUdEJRVU5HTEZGQlFVa3NSMEZCUnl4RlFVRkZPMEZCUTFBc1ZVRkJTU3hEUVVGRExGVkJRVlVzUjBGQlJ5eEpRVUZKTEVOQlFVTTdPenM3UVVGSmRrSXNWVUZCU1N4TlFVRk5MRU5CUVVNc1kwRkJZeXhGUVVGRk8wRkJRM3BDTEdOQlFVMHNRMEZCUXl4alFVRmpMRU5CUVVNc1NVRkJTU3hGUVVGRkxGRkJRVkVzUlVGQlJUdEJRVU53UXl4bFFVRkxMRVZCUVVVc1RVRkJUVHRCUVVOaUxHOUNRVUZWTEVWQlFVVXNTVUZCU1R0VFFVTnFRaXhEUVVGRExFTkJRVU03VDBGRFNpeE5RVUZOTzBGQlEwd3NXVUZCU1N4RFFVRkRMRTFCUVUwc1IwRkJSeXhOUVVGTkxFTkJRVU03VDBGRGRFSTdTMEZEUmp0SFFVTkdMRU5CUVVNc1QwRkJUeXhIUVVGSExFVkJRVVU3TzBkQlJXSTdRMEZEUmpzN1FVRkZSQ3hUUVVGVExFTkJRVU1zVTBGQlV5eEhRVUZITEVsQlFVa3NTMEZCU3l4RlFVRkZMRU5CUVVNN08zRkNRVVZ1UWl4VFFVRlRJaXdpWm1sc1pTSTZJbVY0WTJWd2RHbHZiaTVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklseHVZMjl1YzNRZ1pYSnliM0pRY205d2N5QTlJRnNuWkdWelkzSnBjSFJwYjI0bkxDQW5abWxzWlU1aGJXVW5MQ0FuYkdsdVpVNTFiV0psY2ljc0lDZHRaWE56WVdkbEp5d2dKMjVoYldVbkxDQW5iblZ0WW1WeUp5d2dKM04wWVdOckoxMDdYRzVjYm1aMWJtTjBhVzl1SUVWNFkyVndkR2x2YmlodFpYTnpZV2RsTENCdWIyUmxLU0I3WEc0Z0lHeGxkQ0JzYjJNZ1BTQnViMlJsSUNZbUlHNXZaR1V1Ykc5akxGeHVJQ0FnSUNBZ2JHbHVaU3hjYmlBZ0lDQWdJR052YkhWdGJqdGNiaUFnYVdZZ0tHeHZZeWtnZTF4dUlDQWdJR3hwYm1VZ1BTQnNiMk11YzNSaGNuUXViR2x1WlR0Y2JpQWdJQ0JqYjJ4MWJXNGdQU0JzYjJNdWMzUmhjblF1WTI5c2RXMXVPMXh1WEc0Z0lDQWdiV1Z6YzJGblpTQXJQU0FuSUMwZ0p5QXJJR3hwYm1VZ0t5QW5PaWNnS3lCamIyeDFiVzQ3WEc0Z0lIMWNibHh1SUNCc1pYUWdkRzF3SUQwZ1JYSnliM0l1Y0hKdmRHOTBlWEJsTG1OdmJuTjBjblZqZEc5eUxtTmhiR3dvZEdocGN5d2diV1Z6YzJGblpTazdYRzVjYmlBZ0x5OGdWVzVtYjNKMGRXNWhkR1ZzZVNCbGNuSnZjbk1nWVhKbElHNXZkQ0JsYm5WdFpYSmhZbXhsSUdsdUlFTm9jbTl0WlNBb1lYUWdiR1ZoYzNRcExDQnpieUJnWm05eUlIQnliM0FnYVc0Z2RHMXdZQ0JrYjJWemJpZDBJSGR2Y21zdVhHNGdJR1p2Y2lBb2JHVjBJR2xrZUNBOUlEQTdJR2xrZUNBOElHVnljbTl5VUhKdmNITXViR1Z1WjNSb095QnBaSGdyS3lrZ2UxeHVJQ0FnSUhSb2FYTmJaWEp5YjNKUWNtOXdjMXRwWkhoZFhTQTlJSFJ0Y0Z0bGNuSnZjbEJ5YjNCelcybGtlRjFkTzF4dUlDQjlYRzVjYmlBZ0x5b2dhWE4wWVc1aWRXd2dhV2R1YjNKbElHVnNjMlVnS2k5Y2JpQWdhV1lnS0VWeWNtOXlMbU5oY0hSMWNtVlRkR0ZqYTFSeVlXTmxLU0I3WEc0Z0lDQWdSWEp5YjNJdVkyRndkSFZ5WlZOMFlXTnJWSEpoWTJVb2RHaHBjeXdnUlhoalpYQjBhVzl1S1R0Y2JpQWdmVnh1WEc0Z0lIUnllU0I3WEc0Z0lDQWdhV1lnS0d4dll5a2dlMXh1SUNBZ0lDQWdkR2hwY3k1c2FXNWxUblZ0WW1WeUlEMGdiR2x1WlR0Y2JseHVJQ0FnSUNBZ0x5OGdWMjl5YXlCaGNtOTFibVFnYVhOemRXVWdkVzVrWlhJZ2MyRm1ZWEpwSUhkb1pYSmxJSGRsSUdOaGJpZDBJR1JwY21WamRHeDVJSE5sZENCMGFHVWdZMjlzZFcxdUlIWmhiSFZsWEc0Z0lDQWdJQ0F2S2lCcGMzUmhibUoxYkNCcFoyNXZjbVVnYm1WNGRDQXFMMXh1SUNBZ0lDQWdhV1lnS0U5aWFtVmpkQzVrWldacGJtVlFjbTl3WlhKMGVTa2dlMXh1SUNBZ0lDQWdJQ0JQWW1wbFkzUXVaR1ZtYVc1bFVISnZjR1Z5ZEhrb2RHaHBjeXdnSjJOdmJIVnRiaWNzSUh0Y2JpQWdJQ0FnSUNBZ0lDQjJZV3gxWlRvZ1kyOXNkVzF1TEZ4dUlDQWdJQ0FnSUNBZ0lHVnVkVzFsY21GaWJHVTZJSFJ5ZFdWY2JpQWdJQ0FnSUNBZ2ZTazdYRzRnSUNBZ0lDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUNBZ0lDQjBhR2x6TG1OdmJIVnRiaUE5SUdOdmJIVnRianRjYmlBZ0lDQWdJSDFjYmlBZ0lDQjlYRzRnSUgwZ1kyRjBZMmdnS0c1dmNDa2dlMXh1SUNBZ0lDOHFJRWxuYm05eVpTQnBaaUIwYUdVZ1luSnZkM05sY2lCcGN5QjJaWEo1SUhCaGNuUnBZM1ZzWVhJZ0tpOWNiaUFnZlZ4dWZWeHVYRzVGZUdObGNIUnBiMjR1Y0hKdmRHOTBlWEJsSUQwZ2JtVjNJRVZ5Y205eUtDazdYRzVjYm1WNGNHOXlkQ0JrWldaaGRXeDBJRVY0WTJWd2RHbHZianRjYmlKZGZRPT1cbiIsIi8vIENyZWF0ZSBhIHNpbXBsZSBwYXRoIGFsaWFzIHRvIGFsbG93IGJyb3dzZXJpZnkgdG8gcmVzb2x2ZVxuLy8gdGhlIHJ1bnRpbWUgb24gYSBzdXBwb3J0ZWQgcGF0aC5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0L2Nqcy9oYW5kbGViYXJzLnJ1bnRpbWUnKVsnZGVmYXVsdCddO1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuSGFuZGxlYmFyc0Vudmlyb25tZW50ID0gSGFuZGxlYmFyc0Vudmlyb25tZW50O1xuLy8gaXN0YW5idWwgaWdub3JlIG5leHRcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgX2V4Y2VwdGlvbiA9IHJlcXVpcmUoJy4vZXhjZXB0aW9uJyk7XG5cbnZhciBfZXhjZXB0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4Y2VwdGlvbik7XG5cbnZhciBfaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG52YXIgX2RlY29yYXRvcnMgPSByZXF1aXJlKCcuL2RlY29yYXRvcnMnKTtcblxudmFyIF9sb2dnZXIgPSByZXF1aXJlKCcuL2xvZ2dlcicpO1xuXG52YXIgX2xvZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2dnZXIpO1xuXG52YXIgVkVSU0lPTiA9ICc0LjAuMTInO1xuZXhwb3J0cy5WRVJTSU9OID0gVkVSU0lPTjtcbnZhciBDT01QSUxFUl9SRVZJU0lPTiA9IDc7XG5cbmV4cG9ydHMuQ09NUElMRVJfUkVWSVNJT04gPSBDT01QSUxFUl9SRVZJU0lPTjtcbnZhciBSRVZJU0lPTl9DSEFOR0VTID0ge1xuICAxOiAnPD0gMS4wLnJjLjInLCAvLyAxLjAucmMuMiBpcyBhY3R1YWxseSByZXYyIGJ1dCBkb2Vzbid0IHJlcG9ydCBpdFxuICAyOiAnPT0gMS4wLjAtcmMuMycsXG4gIDM6ICc9PSAxLjAuMC1yYy40JyxcbiAgNDogJz09IDEueC54JyxcbiAgNTogJz09IDIuMC4wLWFscGhhLngnLFxuICA2OiAnPj0gMi4wLjAtYmV0YS4xJyxcbiAgNzogJz49IDQuMC4wJ1xufTtcblxuZXhwb3J0cy5SRVZJU0lPTl9DSEFOR0VTID0gUkVWSVNJT05fQ0hBTkdFUztcbnZhciBvYmplY3RUeXBlID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbmZ1bmN0aW9uIEhhbmRsZWJhcnNFbnZpcm9ubWVudChoZWxwZXJzLCBwYXJ0aWFscywgZGVjb3JhdG9ycykge1xuICB0aGlzLmhlbHBlcnMgPSBoZWxwZXJzIHx8IHt9O1xuICB0aGlzLnBhcnRpYWxzID0gcGFydGlhbHMgfHwge307XG4gIHRoaXMuZGVjb3JhdG9ycyA9IGRlY29yYXRvcnMgfHwge307XG5cbiAgX2hlbHBlcnMucmVnaXN0ZXJEZWZhdWx0SGVscGVycyh0aGlzKTtcbiAgX2RlY29yYXRvcnMucmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyh0aGlzKTtcbn1cblxuSGFuZGxlYmFyc0Vudmlyb25tZW50LnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IEhhbmRsZWJhcnNFbnZpcm9ubWVudCxcblxuICBsb2dnZXI6IF9sb2dnZXIyWydkZWZhdWx0J10sXG4gIGxvZzogX2xvZ2dlcjJbJ2RlZmF1bHQnXS5sb2csXG5cbiAgcmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uIHJlZ2lzdGVySGVscGVyKG5hbWUsIGZuKSB7XG4gICAgaWYgKF91dGlscy50b1N0cmluZy5jYWxsKG5hbWUpID09PSBvYmplY3RUeXBlKSB7XG4gICAgICBpZiAoZm4pIHtcbiAgICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgaGVscGVycycpO1xuICAgICAgfVxuICAgICAgX3V0aWxzLmV4dGVuZCh0aGlzLmhlbHBlcnMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhlbHBlcnNbbmFtZV0gPSBmbjtcbiAgICB9XG4gIH0sXG4gIHVucmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uIHVucmVnaXN0ZXJIZWxwZXIobmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmhlbHBlcnNbbmFtZV07XG4gIH0sXG5cbiAgcmVnaXN0ZXJQYXJ0aWFsOiBmdW5jdGlvbiByZWdpc3RlclBhcnRpYWwobmFtZSwgcGFydGlhbCkge1xuICAgIGlmIChfdXRpbHMudG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgX3V0aWxzLmV4dGVuZCh0aGlzLnBhcnRpYWxzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBwYXJ0aWFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnQXR0ZW1wdGluZyB0byByZWdpc3RlciBhIHBhcnRpYWwgY2FsbGVkIFwiJyArIG5hbWUgKyAnXCIgYXMgdW5kZWZpbmVkJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnBhcnRpYWxzW25hbWVdID0gcGFydGlhbDtcbiAgICB9XG4gIH0sXG4gIHVucmVnaXN0ZXJQYXJ0aWFsOiBmdW5jdGlvbiB1bnJlZ2lzdGVyUGFydGlhbChuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMucGFydGlhbHNbbmFtZV07XG4gIH0sXG5cbiAgcmVnaXN0ZXJEZWNvcmF0b3I6IGZ1bmN0aW9uIHJlZ2lzdGVyRGVjb3JhdG9yKG5hbWUsIGZuKSB7XG4gICAgaWYgKF91dGlscy50b1N0cmluZy5jYWxsKG5hbWUpID09PSBvYmplY3RUeXBlKSB7XG4gICAgICBpZiAoZm4pIHtcbiAgICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgZGVjb3JhdG9ycycpO1xuICAgICAgfVxuICAgICAgX3V0aWxzLmV4dGVuZCh0aGlzLmRlY29yYXRvcnMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlY29yYXRvcnNbbmFtZV0gPSBmbjtcbiAgICB9XG4gIH0sXG4gIHVucmVnaXN0ZXJEZWNvcmF0b3I6IGZ1bmN0aW9uIHVucmVnaXN0ZXJEZWNvcmF0b3IobmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmRlY29yYXRvcnNbbmFtZV07XG4gIH1cbn07XG5cbnZhciBsb2cgPSBfbG9nZ2VyMlsnZGVmYXVsdCddLmxvZztcblxuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmNyZWF0ZUZyYW1lID0gX3V0aWxzLmNyZWF0ZUZyYW1lO1xuZXhwb3J0cy5sb2dnZXIgPSBfbG9nZ2VyMlsnZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk0dUx5NHVMeTR1TDJ4cFlpOW9ZVzVrYkdWaVlYSnpMMkpoYzJVdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenM3T3pzN2NVSkJRVFJETEZOQlFWTTdPM2xDUVVNdlFpeGhRVUZoT3pzN08zVkNRVU5GTEZkQlFWYzdPekJDUVVOU0xHTkJRV003TzNOQ1FVTnVReXhWUVVGVk96czdPMEZCUlhSQ0xFbEJRVTBzVDBGQlR5eEhRVUZITEZGQlFWRXNRMEZCUXpzN1FVRkRla0lzU1VGQlRTeHBRa0ZCYVVJc1IwRkJSeXhEUVVGRExFTkJRVU03T3p0QlFVVTFRaXhKUVVGTkxHZENRVUZuUWl4SFFVRkhPMEZCUXpsQ0xFZEJRVU1zUlVGQlJTeGhRVUZoTzBGQlEyaENMRWRCUVVNc1JVRkJSU3hsUVVGbE8wRkJRMnhDTEVkQlFVTXNSVUZCUlN4bFFVRmxPMEZCUTJ4Q0xFZEJRVU1zUlVGQlJTeFZRVUZWTzBGQlEySXNSMEZCUXl4RlFVRkZMR3RDUVVGclFqdEJRVU55UWl4SFFVRkRMRVZCUVVVc2FVSkJRV2xDTzBGQlEzQkNMRWRCUVVNc1JVRkJSU3hWUVVGVk8wTkJRMlFzUTBGQlF6czdPMEZCUlVZc1NVRkJUU3hWUVVGVkxFZEJRVWNzYVVKQlFXbENMRU5CUVVNN08wRkJSVGxDTEZOQlFWTXNjVUpCUVhGQ0xFTkJRVU1zVDBGQlR5eEZRVUZGTEZGQlFWRXNSVUZCUlN4VlFVRlZMRVZCUVVVN1FVRkRia1VzVFVGQlNTeERRVUZETEU5QlFVOHNSMEZCUnl4UFFVRlBMRWxCUVVrc1JVRkJSU3hEUVVGRE8wRkJRemRDTEUxQlFVa3NRMEZCUXl4UlFVRlJMRWRCUVVjc1VVRkJVU3hKUVVGSkxFVkJRVVVzUTBGQlF6dEJRVU12UWl4TlFVRkpMRU5CUVVNc1ZVRkJWU3hIUVVGSExGVkJRVlVzU1VGQlNTeEZRVUZGTEVOQlFVTTdPMEZCUlc1RExHdERRVUYxUWl4SlFVRkpMRU5CUVVNc1EwRkJRenRCUVVNM1FpeDNRMEZCTUVJc1NVRkJTU3hEUVVGRExFTkJRVU03UTBGRGFrTTdPMEZCUlVRc2NVSkJRWEZDTEVOQlFVTXNVMEZCVXl4SFFVRkhPMEZCUTJoRExHRkJRVmNzUlVGQlJTeHhRa0ZCY1VJN08wRkJSV3hETEZGQlFVMHNjVUpCUVZFN1FVRkRaQ3hMUVVGSExFVkJRVVVzYjBKQlFVOHNSMEZCUnpzN1FVRkZaaXhuUWtGQll5eEZRVUZGTEhkQ1FVRlRMRWxCUVVrc1JVRkJSU3hGUVVGRkxFVkJRVVU3UVVGRGFrTXNVVUZCU1N4blFrRkJVeXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEV0QlFVc3NWVUZCVlN4RlFVRkZPMEZCUTNSRExGVkJRVWtzUlVGQlJTeEZRVUZGTzBGQlFVVXNZMEZCVFN3eVFrRkJZeXg1UTBGQmVVTXNRMEZCUXl4RFFVRkRPMDlCUVVVN1FVRkRNMFVzYjBKQlFVOHNTVUZCU1N4RFFVRkRMRTlCUVU4c1JVRkJSU3hKUVVGSkxFTkJRVU1zUTBGQlF6dExRVU0xUWl4TlFVRk5PMEZCUTB3c1ZVRkJTU3hEUVVGRExFOUJRVThzUTBGQlF5eEpRVUZKTEVOQlFVTXNSMEZCUnl4RlFVRkZMRU5CUVVNN1MwRkRla0k3UjBGRFJqdEJRVU5FTEd0Q1FVRm5RaXhGUVVGRkxEQkNRVUZUTEVsQlFVa3NSVUZCUlR0QlFVTXZRaXhYUVVGUExFbEJRVWtzUTBGQlF5eFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1IwRkRNMEk3TzBGQlJVUXNhVUpCUVdVc1JVRkJSU3g1UWtGQlV5eEpRVUZKTEVWQlFVVXNUMEZCVHl4RlFVRkZPMEZCUTNaRExGRkJRVWtzWjBKQlFWTXNTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhMUVVGTExGVkJRVlVzUlVGQlJUdEJRVU4wUXl4dlFrRkJUeXhKUVVGSkxFTkJRVU1zVVVGQlVTeEZRVUZGTEVsQlFVa3NRMEZCUXl4RFFVRkRPMHRCUXpkQ0xFMUJRVTA3UVVGRFRDeFZRVUZKTEU5QlFVOHNUMEZCVHl4TFFVRkxMRmRCUVZjc1JVRkJSVHRCUVVOc1F5eGpRVUZOTEhsRlFVRXdSQ3hKUVVGSkxHOUNRVUZwUWl4RFFVRkRPMDlCUTNaR08wRkJRMFFzVlVGQlNTeERRVUZETEZGQlFWRXNRMEZCUXl4SlFVRkpMRU5CUVVNc1IwRkJSeXhQUVVGUExFTkJRVU03UzBGREwwSTdSMEZEUmp0QlFVTkVMRzFDUVVGcFFpeEZRVUZGTERKQ1FVRlRMRWxCUVVrc1JVRkJSVHRCUVVOb1F5eFhRVUZQTEVsQlFVa3NRMEZCUXl4UlFVRlJMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03UjBGRE5VSTdPMEZCUlVRc2JVSkJRV2xDTEVWQlFVVXNNa0pCUVZNc1NVRkJTU3hGUVVGRkxFVkJRVVVzUlVGQlJUdEJRVU53UXl4UlFVRkpMR2RDUVVGVExFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNTMEZCU3l4VlFVRlZMRVZCUVVVN1FVRkRkRU1zVlVGQlNTeEZRVUZGTEVWQlFVVTdRVUZCUlN4alFVRk5MREpDUVVGakxEUkRRVUUwUXl4RFFVRkRMRU5CUVVNN1QwRkJSVHRCUVVNNVJTeHZRa0ZCVHl4SlFVRkpMRU5CUVVNc1ZVRkJWU3hGUVVGRkxFbEJRVWtzUTBGQlF5eERRVUZETzB0QlF5OUNMRTFCUVUwN1FVRkRUQ3hWUVVGSkxFTkJRVU1zVlVGQlZTeERRVUZETEVsQlFVa3NRMEZCUXl4SFFVRkhMRVZCUVVVc1EwRkJRenRMUVVNMVFqdEhRVU5HTzBGQlEwUXNjVUpCUVcxQ0xFVkJRVVVzTmtKQlFWTXNTVUZCU1N4RlFVRkZPMEZCUTJ4RExGZEJRVThzU1VGQlNTeERRVUZETEZWQlFWVXNRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJRenRIUVVNNVFqdERRVU5HTEVOQlFVTTdPMEZCUlVzc1NVRkJTU3hIUVVGSExFZEJRVWNzYjBKQlFVOHNSMEZCUnl4RFFVRkRPenM3VVVGRmNFSXNWMEZCVnp0UlFVRkZMRTFCUVUwaUxDSm1hV3hsSWpvaVltRnpaUzVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkltbHRjRzl5ZENCN1kzSmxZWFJsUm5KaGJXVXNJR1Y0ZEdWdVpDd2dkRzlUZEhKcGJtZDlJR1p5YjIwZ0p5NHZkWFJwYkhNbk8xeHVhVzF3YjNKMElFVjRZMlZ3ZEdsdmJpQm1jbTl0SUNjdUwyVjRZMlZ3ZEdsdmJpYzdYRzVwYlhCdmNuUWdlM0psWjJsemRHVnlSR1ZtWVhWc2RFaGxiSEJsY25OOUlHWnliMjBnSnk0dmFHVnNjR1Z5Y3ljN1hHNXBiWEJ2Y25RZ2UzSmxaMmx6ZEdWeVJHVm1ZWFZzZEVSbFkyOXlZWFJ2Y25OOUlHWnliMjBnSnk0dlpHVmpiM0poZEc5eWN5YzdYRzVwYlhCdmNuUWdiRzluWjJWeUlHWnliMjBnSnk0dmJHOW5aMlZ5Snp0Y2JseHVaWGh3YjNKMElHTnZibk4wSUZaRlVsTkpUMDRnUFNBbk5DNHdMakV5Snp0Y2JtVjRjRzl5ZENCamIyNXpkQ0JEVDAxUVNVeEZVbDlTUlZaSlUwbFBUaUE5SURjN1hHNWNibVY0Y0c5eWRDQmpiMjV6ZENCU1JWWkpVMGxQVGw5RFNFRk9SMFZUSUQwZ2UxeHVJQ0F4T2lBblBEMGdNUzR3TG5KakxqSW5MQ0F2THlBeExqQXVjbU11TWlCcGN5QmhZM1IxWVd4c2VTQnlaWFl5SUdKMWRDQmtiMlZ6YmlkMElISmxjRzl5ZENCcGRGeHVJQ0F5T2lBblBUMGdNUzR3TGpBdGNtTXVNeWNzWEc0Z0lETTZJQ2M5UFNBeExqQXVNQzF5WXk0MEp5eGNiaUFnTkRvZ0p6MDlJREV1ZUM1NEp5eGNiaUFnTlRvZ0p6MDlJREl1TUM0d0xXRnNjR2hoTG5nbkxGeHVJQ0EyT2lBblBqMGdNaTR3TGpBdFltVjBZUzR4Snl4Y2JpQWdOem9nSno0OUlEUXVNQzR3SjF4dWZUdGNibHh1WTI5dWMzUWdiMkpxWldOMFZIbHdaU0E5SUNkYmIySnFaV04wSUU5aWFtVmpkRjBuTzF4dVhHNWxlSEJ2Y25RZ1puVnVZM1JwYjI0Z1NHRnVaR3hsWW1GeWMwVnVkbWx5YjI1dFpXNTBLR2hsYkhCbGNuTXNJSEJoY25ScFlXeHpMQ0JrWldOdmNtRjBiM0p6S1NCN1hHNGdJSFJvYVhNdWFHVnNjR1Z5Y3lBOUlHaGxiSEJsY25NZ2ZId2dlMzA3WEc0Z0lIUm9hWE11Y0dGeWRHbGhiSE1nUFNCd1lYSjBhV0ZzY3lCOGZDQjdmVHRjYmlBZ2RHaHBjeTVrWldOdmNtRjBiM0p6SUQwZ1pHVmpiM0poZEc5eWN5QjhmQ0I3ZlR0Y2JseHVJQ0J5WldkcGMzUmxja1JsWm1GMWJIUklaV3h3WlhKektIUm9hWE1wTzF4dUlDQnlaV2RwYzNSbGNrUmxabUYxYkhSRVpXTnZjbUYwYjNKektIUm9hWE1wTzF4dWZWeHVYRzVJWVc1a2JHVmlZWEp6Ulc1MmFYSnZibTFsYm5RdWNISnZkRzkwZVhCbElEMGdlMXh1SUNCamIyNXpkSEoxWTNSdmNqb2dTR0Z1Wkd4bFltRnljMFZ1ZG1seWIyNXRaVzUwTEZ4dVhHNGdJR3h2WjJkbGNqb2diRzluWjJWeUxGeHVJQ0JzYjJjNklHeHZaMmRsY2k1c2IyY3NYRzVjYmlBZ2NtVm5hWE4wWlhKSVpXeHdaWEk2SUdaMWJtTjBhVzl1S0c1aGJXVXNJR1p1S1NCN1hHNGdJQ0FnYVdZZ0tIUnZVM1J5YVc1bkxtTmhiR3dvYm1GdFpTa2dQVDA5SUc5aWFtVmpkRlI1Y0dVcElIdGNiaUFnSUNBZ0lHbG1JQ2htYmlrZ2V5QjBhSEp2ZHlCdVpYY2dSWGhqWlhCMGFXOXVLQ2RCY21jZ2JtOTBJSE4xY0hCdmNuUmxaQ0IzYVhSb0lHMTFiSFJwY0d4bElHaGxiSEJsY25NbktUc2dmVnh1SUNBZ0lDQWdaWGgwWlc1a0tIUm9hWE11YUdWc2NHVnljeXdnYm1GdFpTazdYRzRnSUNBZ2ZTQmxiSE5sSUh0Y2JpQWdJQ0FnSUhSb2FYTXVhR1ZzY0dWeWMxdHVZVzFsWFNBOUlHWnVPMXh1SUNBZ0lIMWNiaUFnZlN4Y2JpQWdkVzV5WldkcGMzUmxja2hsYkhCbGNqb2dablZ1WTNScGIyNG9ibUZ0WlNrZ2UxeHVJQ0FnSUdSbGJHVjBaU0IwYUdsekxtaGxiSEJsY25OYmJtRnRaVjA3WEc0Z0lIMHNYRzVjYmlBZ2NtVm5hWE4wWlhKUVlYSjBhV0ZzT2lCbWRXNWpkR2x2YmlodVlXMWxMQ0J3WVhKMGFXRnNLU0I3WEc0Z0lDQWdhV1lnS0hSdlUzUnlhVzVuTG1OaGJHd29ibUZ0WlNrZ1BUMDlJRzlpYW1WamRGUjVjR1VwSUh0Y2JpQWdJQ0FnSUdWNGRHVnVaQ2gwYUdsekxuQmhjblJwWVd4ekxDQnVZVzFsS1R0Y2JpQWdJQ0I5SUdWc2MyVWdlMXh1SUNBZ0lDQWdhV1lnS0hSNWNHVnZaaUJ3WVhKMGFXRnNJRDA5UFNBbmRXNWtaV1pwYm1Wa0p5a2dlMXh1SUNBZ0lDQWdJQ0IwYUhKdmR5QnVaWGNnUlhoalpYQjBhVzl1S0dCQmRIUmxiWEIwYVc1bklIUnZJSEpsWjJsemRHVnlJR0VnY0dGeWRHbGhiQ0JqWVd4c1pXUWdYQ0lrZTI1aGJXVjlYQ0lnWVhNZ2RXNWtaV1pwYm1Wa1lDazdYRzRnSUNBZ0lDQjlYRzRnSUNBZ0lDQjBhR2x6TG5CaGNuUnBZV3h6VzI1aGJXVmRJRDBnY0dGeWRHbGhiRHRjYmlBZ0lDQjlYRzRnSUgwc1hHNGdJSFZ1Y21WbmFYTjBaWEpRWVhKMGFXRnNPaUJtZFc1amRHbHZiaWh1WVcxbEtTQjdYRzRnSUNBZ1pHVnNaWFJsSUhSb2FYTXVjR0Z5ZEdsaGJITmJibUZ0WlYwN1hHNGdJSDBzWEc1Y2JpQWdjbVZuYVhOMFpYSkVaV052Y21GMGIzSTZJR1oxYm1OMGFXOXVLRzVoYldVc0lHWnVLU0I3WEc0Z0lDQWdhV1lnS0hSdlUzUnlhVzVuTG1OaGJHd29ibUZ0WlNrZ1BUMDlJRzlpYW1WamRGUjVjR1VwSUh0Y2JpQWdJQ0FnSUdsbUlDaG1iaWtnZXlCMGFISnZkeUJ1WlhjZ1JYaGpaWEIwYVc5dUtDZEJjbWNnYm05MElITjFjSEJ2Y25SbFpDQjNhWFJvSUcxMWJIUnBjR3hsSUdSbFkyOXlZWFJ2Y25NbktUc2dmVnh1SUNBZ0lDQWdaWGgwWlc1a0tIUm9hWE11WkdWamIzSmhkRzl5Y3l3Z2JtRnRaU2s3WEc0Z0lDQWdmU0JsYkhObElIdGNiaUFnSUNBZ0lIUm9hWE11WkdWamIzSmhkRzl5YzF0dVlXMWxYU0E5SUdadU8xeHVJQ0FnSUgxY2JpQWdmU3hjYmlBZ2RXNXlaV2RwYzNSbGNrUmxZMjl5WVhSdmNqb2dablZ1WTNScGIyNG9ibUZ0WlNrZ2UxeHVJQ0FnSUdSbGJHVjBaU0IwYUdsekxtUmxZMjl5WVhSdmNuTmJibUZ0WlYwN1hHNGdJSDFjYm4wN1hHNWNibVY0Y0c5eWRDQnNaWFFnYkc5bklEMGdiRzluWjJWeUxteHZaenRjYmx4dVpYaHdiM0owSUh0amNtVmhkR1ZHY21GdFpTd2diRzluWjJWeWZUdGNiaUpkZlE9PVxuIiwidmFyIEhhbmRsZWJhcnMgPSByZXF1aXJlKFwiL1VzZXJzL29sZ2EvRG9jdW1lbnRzL9Co0KDQmC/QlNC+0LzQsNGI0L3QuNC1INGA0LDQsdC+0YLRiy/QvtGB0L3QvtCy0L3QsNGPL25vZGVfbW9kdWxlcy9oYW5kbGViYXJzL3J1bnRpbWUuanNcIik7XG5mdW5jdGlvbiBfX2RlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgKG9iai5fX2VzTW9kdWxlID8gb2JqW1wiZGVmYXVsdFwiXSA6IG9iaik7IH1cbm1vZHVsZS5leHBvcnRzID0gKEhhbmRsZWJhcnNbXCJkZWZhdWx0XCJdIHx8IEhhbmRsZWJhcnMpLnRlbXBsYXRlKHtcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLCBhbGlhczI9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiPHBpY3R1cmUgY2xhc3M9XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzW1wiY2xhc3NcIl0gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwW1wiY2xhc3NcIl0gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImNsYXNzXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIj5cXG4gIDxzb3VyY2Ugc3Jjc2V0PVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuc291cmNlU3Jjc2V0IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zb3VyY2VTcmNzZXQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInNvdXJjZVNyY3NldFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIHR5cGU9XFxcImltYWdlL3N2Zyt4bWxcXFwiIC8+XFxuICA8aW1nIHNyYz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmltZ1NyYyB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaW1nU3JjIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJpbWdTcmNcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIlxcXCIgc3Jjc2V0PVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaW1nU3Jjc2V0IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pbWdTcmNzZXQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImltZ1NyY3NldFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiXFxcIiBhbHQ9XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmltZ0FsdCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaW1nQWx0IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJpbWdBbHRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiIC8+XFxuPC9waWN0dXJlPlwiO1xufSxcInVzZURhdGFcIjp0cnVlfSk7IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlc2NhcGUodXJsKSB7XG4gICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB1cmxcbiAgICB9XG4gICAgLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG4gICAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgICAgIHVybCA9IHVybC5zbGljZSgxLCAtMSk7XG4gICAgfVxuICAgIC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuICAgIGlmICgvW1wiJygpIFxcdFxcbl0vLnRlc3QodXJsKSkge1xuICAgICAgICByZXR1cm4gJ1wiJyArIHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csICdcXFxcbicpICsgJ1wiJ1xuICAgIH1cblxuICAgIHJldHVybiB1cmxcbn1cbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLy8gaXN0YW5idWwgaWdub3JlIG5leHRcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG4vLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqWydkZWZhdWx0J10gPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG52YXIgX2hhbmRsZWJhcnNCYXNlID0gcmVxdWlyZSgnLi9oYW5kbGViYXJzL2Jhc2UnKTtcblxudmFyIGJhc2UgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfaGFuZGxlYmFyc0Jhc2UpO1xuXG4vLyBFYWNoIG9mIHRoZXNlIGF1Z21lbnQgdGhlIEhhbmRsZWJhcnMgb2JqZWN0LiBObyBuZWVkIHRvIHNldHVwIGhlcmUuXG4vLyAoVGhpcyBpcyBkb25lIHRvIGVhc2lseSBzaGFyZSBjb2RlIGJldHdlZW4gY29tbW9uanMgYW5kIGJyb3dzZSBlbnZzKVxuXG52YXIgX2hhbmRsZWJhcnNTYWZlU3RyaW5nID0gcmVxdWlyZSgnLi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nJyk7XG5cbnZhciBfaGFuZGxlYmFyc1NhZmVTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGFuZGxlYmFyc1NhZmVTdHJpbmcpO1xuXG52YXIgX2hhbmRsZWJhcnNFeGNlcHRpb24gPSByZXF1aXJlKCcuL2hhbmRsZWJhcnMvZXhjZXB0aW9uJyk7XG5cbnZhciBfaGFuZGxlYmFyc0V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW5kbGViYXJzRXhjZXB0aW9uKTtcblxudmFyIF9oYW5kbGViYXJzVXRpbHMgPSByZXF1aXJlKCcuL2hhbmRsZWJhcnMvdXRpbHMnKTtcblxudmFyIFV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2hhbmRsZWJhcnNVdGlscyk7XG5cbnZhciBfaGFuZGxlYmFyc1J1bnRpbWUgPSByZXF1aXJlKCcuL2hhbmRsZWJhcnMvcnVudGltZScpO1xuXG52YXIgcnVudGltZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9oYW5kbGViYXJzUnVudGltZSk7XG5cbnZhciBfaGFuZGxlYmFyc05vQ29uZmxpY3QgPSByZXF1aXJlKCcuL2hhbmRsZWJhcnMvbm8tY29uZmxpY3QnKTtcblxudmFyIF9oYW5kbGViYXJzTm9Db25mbGljdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYW5kbGViYXJzTm9Db25mbGljdCk7XG5cbi8vIEZvciBjb21wYXRpYmlsaXR5IGFuZCB1c2FnZSBvdXRzaWRlIG9mIG1vZHVsZSBzeXN0ZW1zLCBtYWtlIHRoZSBIYW5kbGViYXJzIG9iamVjdCBhIG5hbWVzcGFjZVxuZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgaGIgPSBuZXcgYmFzZS5IYW5kbGViYXJzRW52aXJvbm1lbnQoKTtcblxuICBVdGlscy5leHRlbmQoaGIsIGJhc2UpO1xuICBoYi5TYWZlU3RyaW5nID0gX2hhbmRsZWJhcnNTYWZlU3RyaW5nMlsnZGVmYXVsdCddO1xuICBoYi5FeGNlcHRpb24gPSBfaGFuZGxlYmFyc0V4Y2VwdGlvbjJbJ2RlZmF1bHQnXTtcbiAgaGIuVXRpbHMgPSBVdGlscztcbiAgaGIuZXNjYXBlRXhwcmVzc2lvbiA9IFV0aWxzLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgaGIuVk0gPSBydW50aW1lO1xuICBoYi50ZW1wbGF0ZSA9IGZ1bmN0aW9uIChzcGVjKSB7XG4gICAgcmV0dXJuIHJ1bnRpbWUudGVtcGxhdGUoc3BlYywgaGIpO1xuICB9O1xuXG4gIHJldHVybiBoYjtcbn1cblxudmFyIGluc3QgPSBjcmVhdGUoKTtcbmluc3QuY3JlYXRlID0gY3JlYXRlO1xuXG5faGFuZGxlYmFyc05vQ29uZmxpY3QyWydkZWZhdWx0J10oaW5zdCk7XG5cbmluc3RbJ2RlZmF1bHQnXSA9IGluc3Q7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGluc3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1TDJ4cFlpOW9ZVzVrYkdWaVlYSnpMbkoxYm5ScGJXVXVhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3T3pzN096czdPenM3T0VKQlFYTkNMRzFDUVVGdFFqczdTVUZCTjBJc1NVRkJTVHM3T3pzN2IwTkJTVThzTUVKQlFUQkNPenM3TzIxRFFVTXpRaXgzUWtGQmQwSTdPenM3SzBKQlEzWkNMRzlDUVVGdlFqczdTVUZCTDBJc1MwRkJTenM3YVVOQlExRXNjMEpCUVhOQ096dEpRVUZ1UXl4UFFVRlBPenR2UTBGRlNTd3dRa0ZCTUVJN096czdPMEZCUjJwRUxGTkJRVk1zVFVGQlRTeEhRVUZITzBGQlEyaENMRTFCUVVrc1JVRkJSU3hIUVVGSExFbEJRVWtzU1VGQlNTeERRVUZETEhGQ1FVRnhRaXhGUVVGRkxFTkJRVU03TzBGQlJURkRMRTlCUVVzc1EwRkJReXhOUVVGTkxFTkJRVU1zUlVGQlJTeEZRVUZGTEVsQlFVa3NRMEZCUXl4RFFVRkRPMEZCUTNaQ0xFbEJRVVVzUTBGQlF5eFZRVUZWTEc5RFFVRmhMRU5CUVVNN1FVRkRNMElzU1VGQlJTeERRVUZETEZOQlFWTXNiVU5CUVZrc1EwRkJRenRCUVVONlFpeEpRVUZGTEVOQlFVTXNTMEZCU3l4SFFVRkhMRXRCUVVzc1EwRkJRenRCUVVOcVFpeEpRVUZGTEVOQlFVTXNaMEpCUVdkQ0xFZEJRVWNzUzBGQlN5eERRVUZETEdkQ1FVRm5RaXhEUVVGRE96dEJRVVUzUXl4SlFVRkZMRU5CUVVNc1JVRkJSU3hIUVVGSExFOUJRVThzUTBGQlF6dEJRVU5vUWl4SlFVRkZMRU5CUVVNc1VVRkJVU3hIUVVGSExGVkJRVk1zU1VGQlNTeEZRVUZGTzBGQlF6TkNMRmRCUVU4c1QwRkJUeXhEUVVGRExGRkJRVkVzUTBGQlF5eEpRVUZKTEVWQlFVVXNSVUZCUlN4RFFVRkRMRU5CUVVNN1IwRkRia01zUTBGQlF6czdRVUZGUml4VFFVRlBMRVZCUVVVc1EwRkJRenREUVVOWU96dEJRVVZFTEVsQlFVa3NTVUZCU1N4SFFVRkhMRTFCUVUwc1JVRkJSU3hEUVVGRE8wRkJRM0JDTEVsQlFVa3NRMEZCUXl4TlFVRk5MRWRCUVVjc1RVRkJUU3hEUVVGRE96dEJRVVZ5UWl4clEwRkJWeXhKUVVGSkxFTkJRVU1zUTBGQlF6czdRVUZGYWtJc1NVRkJTU3hEUVVGRExGTkJRVk1zUTBGQlF5eEhRVUZITEVsQlFVa3NRMEZCUXpzN2NVSkJSVklzU1VGQlNTSXNJbVpwYkdVaU9pSm9ZVzVrYkdWaVlYSnpMbkoxYm5ScGJXVXVhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKcGJYQnZjblFnS2lCaGN5QmlZWE5sSUdaeWIyMGdKeTR2YUdGdVpHeGxZbUZ5Y3k5aVlYTmxKenRjYmx4dUx5OGdSV0ZqYUNCdlppQjBhR1Z6WlNCaGRXZHRaVzUwSUhSb1pTQklZVzVrYkdWaVlYSnpJRzlpYW1WamRDNGdUbThnYm1WbFpDQjBieUJ6WlhSMWNDQm9aWEpsTGx4dUx5OGdLRlJvYVhNZ2FYTWdaRzl1WlNCMGJ5QmxZWE5wYkhrZ2MyaGhjbVVnWTI5a1pTQmlaWFIzWldWdUlHTnZiVzF2Ym1weklHRnVaQ0JpY205M2MyVWdaVzUyY3lsY2JtbHRjRzl5ZENCVFlXWmxVM1J5YVc1bklHWnliMjBnSnk0dmFHRnVaR3hsWW1GeWN5OXpZV1psTFhOMGNtbHVaeWM3WEc1cGJYQnZjblFnUlhoalpYQjBhVzl1SUdaeWIyMGdKeTR2YUdGdVpHeGxZbUZ5Y3k5bGVHTmxjSFJwYjI0bk8xeHVhVzF3YjNKMElDb2dZWE1nVlhScGJITWdabkp2YlNBbkxpOW9ZVzVrYkdWaVlYSnpMM1YwYVd4ekp6dGNibWx0Y0c5eWRDQXFJR0Z6SUhKMWJuUnBiV1VnWm5KdmJTQW5MaTlvWVc1a2JHVmlZWEp6TDNKMWJuUnBiV1VuTzF4dVhHNXBiWEJ2Y25RZ2JtOURiMjVtYkdsamRDQm1jbTl0SUNjdUwyaGhibVJzWldKaGNuTXZibTh0WTI5dVpteHBZM1FuTzF4dVhHNHZMeUJHYjNJZ1kyOXRjR0YwYVdKcGJHbDBlU0JoYm1RZ2RYTmhaMlVnYjNWMGMybGtaU0J2WmlCdGIyUjFiR1VnYzNsemRHVnRjeXdnYldGclpTQjBhR1VnU0dGdVpHeGxZbUZ5Y3lCdlltcGxZM1FnWVNCdVlXMWxjM0JoWTJWY2JtWjFibU4wYVc5dUlHTnlaV0YwWlNncElIdGNiaUFnYkdWMElHaGlJRDBnYm1WM0lHSmhjMlV1U0dGdVpHeGxZbUZ5YzBWdWRtbHliMjV0Wlc1MEtDazdYRzVjYmlBZ1ZYUnBiSE11WlhoMFpXNWtLR2hpTENCaVlYTmxLVHRjYmlBZ2FHSXVVMkZtWlZOMGNtbHVaeUE5SUZOaFptVlRkSEpwYm1jN1hHNGdJR2hpTGtWNFkyVndkR2x2YmlBOUlFVjRZMlZ3ZEdsdmJqdGNiaUFnYUdJdVZYUnBiSE1nUFNCVmRHbHNjenRjYmlBZ2FHSXVaWE5qWVhCbFJYaHdjbVZ6YzJsdmJpQTlJRlYwYVd4ekxtVnpZMkZ3WlVWNGNISmxjM05wYjI0N1hHNWNiaUFnYUdJdVZrMGdQU0J5ZFc1MGFXMWxPMXh1SUNCb1lpNTBaVzF3YkdGMFpTQTlJR1oxYm1OMGFXOXVLSE53WldNcElIdGNiaUFnSUNCeVpYUjFjbTRnY25WdWRHbHRaUzUwWlcxd2JHRjBaU2h6Y0dWakxDQm9ZaWs3WEc0Z0lIMDdYRzVjYmlBZ2NtVjBkWEp1SUdoaU8xeHVmVnh1WEc1c1pYUWdhVzV6ZENBOUlHTnlaV0YwWlNncE8xeHVhVzV6ZEM1amNtVmhkR1VnUFNCamNtVmhkR1U3WEc1Y2JtNXZRMjl1Wm14cFkzUW9hVzV6ZENrN1hHNWNibWx1YzNSYkoyUmxabUYxYkhRblhTQTlJR2x1YzNRN1hHNWNibVY0Y0c5eWRDQmtaV1poZFd4MElHbHVjM1E3WEc0aVhYMD1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMucmVnaXN0ZXJEZWZhdWx0SGVscGVycyA9IHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnM7XG4vLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfaGVscGVyc0Jsb2NrSGVscGVyTWlzc2luZyA9IHJlcXVpcmUoJy4vaGVscGVycy9ibG9jay1oZWxwZXItbWlzc2luZycpO1xuXG52YXIgX2hlbHBlcnNCbG9ja0hlbHBlck1pc3NpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGVscGVyc0Jsb2NrSGVscGVyTWlzc2luZyk7XG5cbnZhciBfaGVscGVyc0VhY2ggPSByZXF1aXJlKCcuL2hlbHBlcnMvZWFjaCcpO1xuXG52YXIgX2hlbHBlcnNFYWNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlbHBlcnNFYWNoKTtcblxudmFyIF9oZWxwZXJzSGVscGVyTWlzc2luZyA9IHJlcXVpcmUoJy4vaGVscGVycy9oZWxwZXItbWlzc2luZycpO1xuXG52YXIgX2hlbHBlcnNIZWxwZXJNaXNzaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlbHBlcnNIZWxwZXJNaXNzaW5nKTtcblxudmFyIF9oZWxwZXJzSWYgPSByZXF1aXJlKCcuL2hlbHBlcnMvaWYnKTtcblxudmFyIF9oZWxwZXJzSWYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGVscGVyc0lmKTtcblxudmFyIF9oZWxwZXJzTG9nID0gcmVxdWlyZSgnLi9oZWxwZXJzL2xvZycpO1xuXG52YXIgX2hlbHBlcnNMb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaGVscGVyc0xvZyk7XG5cbnZhciBfaGVscGVyc0xvb2t1cCA9IHJlcXVpcmUoJy4vaGVscGVycy9sb29rdXAnKTtcblxudmFyIF9oZWxwZXJzTG9va3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlbHBlcnNMb29rdXApO1xuXG52YXIgX2hlbHBlcnNXaXRoID0gcmVxdWlyZSgnLi9oZWxwZXJzL3dpdGgnKTtcblxudmFyIF9oZWxwZXJzV2l0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oZWxwZXJzV2l0aCk7XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnMoaW5zdGFuY2UpIHtcbiAgX2hlbHBlcnNCbG9ja0hlbHBlck1pc3NpbmcyWydkZWZhdWx0J10oaW5zdGFuY2UpO1xuICBfaGVscGVyc0VhY2gyWydkZWZhdWx0J10oaW5zdGFuY2UpO1xuICBfaGVscGVyc0hlbHBlck1pc3NpbmcyWydkZWZhdWx0J10oaW5zdGFuY2UpO1xuICBfaGVscGVyc0lmMlsnZGVmYXVsdCddKGluc3RhbmNlKTtcbiAgX2hlbHBlcnNMb2cyWydkZWZhdWx0J10oaW5zdGFuY2UpO1xuICBfaGVscGVyc0xvb2t1cDJbJ2RlZmF1bHQnXShpbnN0YW5jZSk7XG4gIF9oZWxwZXJzV2l0aDJbJ2RlZmF1bHQnXShpbnN0YW5jZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwyaGxiSEJsY25NdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenM3T3pzN2VVTkJRWFZETEdkRFFVRm5RenM3T3pzeVFrRkRPVU1zWjBKQlFXZENPenM3TzI5RFFVTlFMREJDUVVFd1FqczdPenQ1UWtGRGNrTXNZMEZCWXpzN096c3dRa0ZEWWl4bFFVRmxPenM3T3paQ1FVTmFMR3RDUVVGclFqczdPenN5UWtGRGNFSXNaMEpCUVdkQ096czdPMEZCUld4RExGTkJRVk1zYzBKQlFYTkNMRU5CUVVNc1VVRkJVU3hGUVVGRk8wRkJReTlETEhsRFFVRXlRaXhSUVVGUkxFTkJRVU1zUTBGQlF6dEJRVU55UXl3eVFrRkJZU3hSUVVGUkxFTkJRVU1zUTBGQlF6dEJRVU4yUWl4dlEwRkJjMElzVVVGQlVTeERRVUZETEVOQlFVTTdRVUZEYUVNc2VVSkJRVmNzVVVGQlVTeERRVUZETEVOQlFVTTdRVUZEY2tJc01FSkJRVmtzVVVGQlVTeERRVUZETEVOQlFVTTdRVUZEZEVJc05rSkJRV1VzVVVGQlVTeERRVUZETEVOQlFVTTdRVUZEZWtJc01rSkJRV0VzVVVGQlVTeERRVUZETEVOQlFVTTdRMEZEZUVJaUxDSm1hV3hsSWpvaWFHVnNjR1Z5Y3k1cWN5SXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJbWx0Y0c5eWRDQnlaV2RwYzNSbGNrSnNiMk5yU0dWc2NHVnlUV2x6YzJsdVp5Qm1jbTl0SUNjdUwyaGxiSEJsY25NdllteHZZMnN0YUdWc2NHVnlMVzFwYzNOcGJtY25PMXh1YVcxd2IzSjBJSEpsWjJsemRHVnlSV0ZqYUNCbWNtOXRJQ2N1TDJobGJIQmxjbk12WldGamFDYzdYRzVwYlhCdmNuUWdjbVZuYVhOMFpYSklaV3h3WlhKTmFYTnphVzVuSUdaeWIyMGdKeTR2YUdWc2NHVnljeTlvWld4d1pYSXRiV2x6YzJsdVp5YzdYRzVwYlhCdmNuUWdjbVZuYVhOMFpYSkpaaUJtY205dElDY3VMMmhsYkhCbGNuTXZhV1luTzF4dWFXMXdiM0owSUhKbFoybHpkR1Z5VEc5bklHWnliMjBnSnk0dmFHVnNjR1Z5Y3k5c2IyY25PMXh1YVcxd2IzSjBJSEpsWjJsemRHVnlURzl2YTNWd0lHWnliMjBnSnk0dmFHVnNjR1Z5Y3k5c2IyOXJkWEFuTzF4dWFXMXdiM0owSUhKbFoybHpkR1Z5VjJsMGFDQm1jbTl0SUNjdUwyaGxiSEJsY25NdmQybDBhQ2M3WEc1Y2JtVjRjRzl5ZENCbWRXNWpkR2x2YmlCeVpXZHBjM1JsY2tSbFptRjFiSFJJWld4d1pYSnpLR2x1YzNSaGJtTmxLU0I3WEc0Z0lISmxaMmx6ZEdWeVFteHZZMnRJWld4d1pYSk5hWE56YVc1bktHbHVjM1JoYm1ObEtUdGNiaUFnY21WbmFYTjBaWEpGWVdOb0tHbHVjM1JoYm1ObEtUdGNiaUFnY21WbmFYTjBaWEpJWld4d1pYSk5hWE56YVc1bktHbHVjM1JoYm1ObEtUdGNiaUFnY21WbmFYTjBaWEpKWmlocGJuTjBZVzVqWlNrN1hHNGdJSEpsWjJsemRHVnlURzluS0dsdWMzUmhibU5sS1R0Y2JpQWdjbVZuYVhOMFpYSk1iMjlyZFhBb2FXNXpkR0Z1WTJVcE8xeHVJQ0J5WldkcGMzUmxjbGRwZEdnb2FXNXpkR0Z1WTJVcE8xeHVmVnh1SWwxOVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdibG9ja0hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbiAoY29udGV4dCwgb3B0aW9ucykge1xuICAgIHZhciBpbnZlcnNlID0gb3B0aW9ucy5pbnZlcnNlLFxuICAgICAgICBmbiA9IG9wdGlvbnMuZm47XG5cbiAgICBpZiAoY29udGV4dCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGZuKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoY29udGV4dCA9PT0gZmFsc2UgfHwgY29udGV4dCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gaW52ZXJzZSh0aGlzKTtcbiAgICB9IGVsc2UgaWYgKF91dGlscy5pc0FycmF5KGNvbnRleHQpKSB7XG4gICAgICBpZiAoY29udGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmlkcykge1xuICAgICAgICAgIG9wdGlvbnMuaWRzID0gW29wdGlvbnMubmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zdGFuY2UuaGVscGVycy5lYWNoKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGludmVyc2UodGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBfdXRpbHMuY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IF91dGlscy5hcHBlbmRDb250ZXh0UGF0aChvcHRpb25zLmRhdGEuY29udGV4dFBhdGgsIG9wdGlvbnMubmFtZSk7XG4gICAgICAgIG9wdGlvbnMgPSB7IGRhdGE6IGRhdGEgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwyaGxiSEJsY25NdllteHZZMnN0YUdWc2NHVnlMVzFwYzNOcGJtY3Vhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3T3p0eFFrRkJjMFFzVlVGQlZUczdjVUpCUldwRUxGVkJRVk1zVVVGQlVTeEZRVUZGTzBGQlEyaERMRlZCUVZFc1EwRkJReXhqUVVGakxFTkJRVU1zYjBKQlFXOUNMRVZCUVVVc1ZVRkJVeXhQUVVGUExFVkJRVVVzVDBGQlR5eEZRVUZGTzBGQlEzWkZMRkZCUVVrc1QwRkJUeXhIUVVGSExFOUJRVThzUTBGQlF5eFBRVUZQTzFGQlEzcENMRVZCUVVVc1IwRkJSeXhQUVVGUExFTkJRVU1zUlVGQlJTeERRVUZET3p0QlFVVndRaXhSUVVGSkxFOUJRVThzUzBGQlN5eEpRVUZKTEVWQlFVVTdRVUZEY0VJc1lVRkJUeXhGUVVGRkxFTkJRVU1zU1VGQlNTeERRVUZETEVOQlFVTTdTMEZEYWtJc1RVRkJUU3hKUVVGSkxFOUJRVThzUzBGQlN5eExRVUZMTEVsQlFVa3NUMEZCVHl4SlFVRkpMRWxCUVVrc1JVRkJSVHRCUVVNdlF5eGhRVUZQTEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJRenRMUVVOMFFpeE5RVUZOTEVsQlFVa3NaVUZCVVN4UFFVRlBMRU5CUVVNc1JVRkJSVHRCUVVNelFpeFZRVUZKTEU5QlFVOHNRMEZCUXl4TlFVRk5MRWRCUVVjc1EwRkJReXhGUVVGRk8wRkJRM1JDTEZsQlFVa3NUMEZCVHl4RFFVRkRMRWRCUVVjc1JVRkJSVHRCUVVObUxHbENRVUZQTEVOQlFVTXNSMEZCUnl4SFFVRkhMRU5CUVVNc1QwRkJUeXhEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzFOQlF6bENPenRCUVVWRUxHVkJRVThzVVVGQlVTeERRVUZETEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1QwRkJUeXhGUVVGRkxFOUJRVThzUTBGQlF5eERRVUZETzA5QlEyaEVMRTFCUVUwN1FVRkRUQ3hsUVVGUExFOUJRVThzUTBGQlF5eEpRVUZKTEVOQlFVTXNRMEZCUXp0UFFVTjBRanRMUVVOR0xFMUJRVTA3UVVGRFRDeFZRVUZKTEU5QlFVOHNRMEZCUXl4SlFVRkpMRWxCUVVrc1QwRkJUeXhEUVVGRExFZEJRVWNzUlVGQlJUdEJRVU12UWl4WlFVRkpMRWxCUVVrc1IwRkJSeXh0UWtGQldTeFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1FVRkRja01zV1VGQlNTeERRVUZETEZkQlFWY3NSMEZCUnl4NVFrRkJhMElzVDBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4WFFVRlhMRVZCUVVVc1QwRkJUeXhEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzBGQlF6ZEZMR1ZCUVU4c1IwRkJSeXhGUVVGRExFbEJRVWtzUlVGQlJTeEpRVUZKTEVWQlFVTXNRMEZCUXp0UFFVTjRRanM3UVVGRlJDeGhRVUZQTEVWQlFVVXNRMEZCUXl4UFFVRlBMRVZCUVVVc1QwRkJUeXhEUVVGRExFTkJRVU03UzBGRE4wSTdSMEZEUml4RFFVRkRMRU5CUVVNN1EwRkRTaUlzSW1acGJHVWlPaUppYkc5amF5MW9aV3h3WlhJdGJXbHpjMmx1Wnk1cWN5SXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJbWx0Y0c5eWRDQjdZWEJ3Wlc1a1EyOXVkR1Y0ZEZCaGRHZ3NJR055WldGMFpVWnlZVzFsTENCcGMwRnljbUY1ZlNCbWNtOXRJQ2N1TGk5MWRHbHNjeWM3WEc1Y2JtVjRjRzl5ZENCa1pXWmhkV3gwSUdaMWJtTjBhVzl1S0dsdWMzUmhibU5sS1NCN1hHNGdJR2x1YzNSaGJtTmxMbkpsWjJsemRHVnlTR1ZzY0dWeUtDZGliRzlqYTBobGJIQmxjazFwYzNOcGJtY25MQ0JtZFc1amRHbHZiaWhqYjI1MFpYaDBMQ0J2Y0hScGIyNXpLU0I3WEc0Z0lDQWdiR1YwSUdsdWRtVnljMlVnUFNCdmNIUnBiMjV6TG1sdWRtVnljMlVzWEc0Z0lDQWdJQ0FnSUdadUlEMGdiM0IwYVc5dWN5NW1ianRjYmx4dUlDQWdJR2xtSUNoamIyNTBaWGgwSUQwOVBTQjBjblZsS1NCN1hHNGdJQ0FnSUNCeVpYUjFjbTRnWm00b2RHaHBjeWs3WEc0Z0lDQWdmU0JsYkhObElHbG1JQ2hqYjI1MFpYaDBJRDA5UFNCbVlXeHpaU0I4ZkNCamIyNTBaWGgwSUQwOUlHNTFiR3dwSUh0Y2JpQWdJQ0FnSUhKbGRIVnliaUJwYm5abGNuTmxLSFJvYVhNcE8xeHVJQ0FnSUgwZ1pXeHpaU0JwWmlBb2FYTkJjbkpoZVNoamIyNTBaWGgwS1NrZ2UxeHVJQ0FnSUNBZ2FXWWdLR052Ym5SbGVIUXViR1Z1WjNSb0lENGdNQ2tnZTF4dUlDQWdJQ0FnSUNCcFppQW9iM0IwYVc5dWN5NXBaSE1wSUh0Y2JpQWdJQ0FnSUNBZ0lDQnZjSFJwYjI1ekxtbGtjeUE5SUZ0dmNIUnBiMjV6TG01aGJXVmRPMXh1SUNBZ0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUNBZ2NtVjBkWEp1SUdsdWMzUmhibU5sTG1obGJIQmxjbk11WldGamFDaGpiMjUwWlhoMExDQnZjSFJwYjI1ektUdGNiaUFnSUNBZ0lIMGdaV3h6WlNCN1hHNGdJQ0FnSUNBZ0lISmxkSFZ5YmlCcGJuWmxjbk5sS0hSb2FYTXBPMXh1SUNBZ0lDQWdmVnh1SUNBZ0lIMGdaV3h6WlNCN1hHNGdJQ0FnSUNCcFppQW9iM0IwYVc5dWN5NWtZWFJoSUNZbUlHOXdkR2x2Ym5NdWFXUnpLU0I3WEc0Z0lDQWdJQ0FnSUd4bGRDQmtZWFJoSUQwZ1kzSmxZWFJsUm5KaGJXVW9iM0IwYVc5dWN5NWtZWFJoS1R0Y2JpQWdJQ0FnSUNBZ1pHRjBZUzVqYjI1MFpYaDBVR0YwYUNBOUlHRndjR1Z1WkVOdmJuUmxlSFJRWVhSb0tHOXdkR2x2Ym5NdVpHRjBZUzVqYjI1MFpYaDBVR0YwYUN3Z2IzQjBhVzl1Y3k1dVlXMWxLVHRjYmlBZ0lDQWdJQ0FnYjNCMGFXOXVjeUE5SUh0a1lYUmhPaUJrWVhSaGZUdGNiaUFnSUNBZ0lIMWNibHh1SUNBZ0lDQWdjbVYwZFhKdUlHWnVLR052Ym5SbGVIUXNJRzl3ZEdsdmJuTXBPMXh1SUNBZ0lIMWNiaUFnZlNrN1hHNTlYRzRpWFgwPVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLy8gaXN0YW5idWwgaWdub3JlIG5leHRcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxudmFyIF9leGNlcHRpb24gPSByZXF1aXJlKCcuLi9leGNlcHRpb24nKTtcblxudmFyIF9leGNlcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXhjZXB0aW9uKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdlYWNoJywgZnVuY3Rpb24gKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdNdXN0IHBhc3MgaXRlcmF0b3IgdG8gI2VhY2gnKTtcbiAgICB9XG5cbiAgICB2YXIgZm4gPSBvcHRpb25zLmZuLFxuICAgICAgICBpbnZlcnNlID0gb3B0aW9ucy5pbnZlcnNlLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgcmV0ID0gJycsXG4gICAgICAgIGRhdGEgPSB1bmRlZmluZWQsXG4gICAgICAgIGNvbnRleHRQYXRoID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmlkcykge1xuICAgICAgY29udGV4dFBhdGggPSBfdXRpbHMuYXBwZW5kQ29udGV4dFBhdGgob3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLCBvcHRpb25zLmlkc1swXSkgKyAnLic7XG4gICAgfVxuXG4gICAgaWYgKF91dGlscy5pc0Z1bmN0aW9uKGNvbnRleHQpKSB7XG4gICAgICBjb250ZXh0ID0gY29udGV4dC5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmRhdGEpIHtcbiAgICAgIGRhdGEgPSBfdXRpbHMuY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleGVjSXRlcmF0aW9uKGZpZWxkLCBpbmRleCwgbGFzdCkge1xuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgZGF0YS5rZXkgPSBmaWVsZDtcbiAgICAgICAgZGF0YS5pbmRleCA9IGluZGV4O1xuICAgICAgICBkYXRhLmZpcnN0ID0gaW5kZXggPT09IDA7XG4gICAgICAgIGRhdGEubGFzdCA9ICEhbGFzdDtcblxuICAgICAgICBpZiAoY29udGV4dFBhdGgpIHtcbiAgICAgICAgICBkYXRhLmNvbnRleHRQYXRoID0gY29udGV4dFBhdGggKyBmaWVsZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXQgPSByZXQgKyBmbihjb250ZXh0W2ZpZWxkXSwge1xuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBibG9ja1BhcmFtczogX3V0aWxzLmJsb2NrUGFyYW1zKFtjb250ZXh0W2ZpZWxkXSwgZmllbGRdLCBbY29udGV4dFBhdGggKyBmaWVsZCwgbnVsbF0pXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY29udGV4dCAmJiB0eXBlb2YgY29udGV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChfdXRpbHMuaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgICBmb3IgKHZhciBqID0gY29udGV4dC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBpZiAoaSBpbiBjb250ZXh0KSB7XG4gICAgICAgICAgICBleGVjSXRlcmF0aW9uKGksIGksIGkgPT09IGNvbnRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcHJpb3JLZXkgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIGNvbnRleHQpIHtcbiAgICAgICAgICBpZiAoY29udGV4dC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAvLyBXZSdyZSBydW5uaW5nIHRoZSBpdGVyYXRpb25zIG9uZSBzdGVwIG91dCBvZiBzeW5jIHNvIHdlIGNhbiBkZXRlY3RcbiAgICAgICAgICAgIC8vIHRoZSBsYXN0IGl0ZXJhdGlvbiB3aXRob3V0IGhhdmUgdG8gc2NhbiB0aGUgb2JqZWN0IHR3aWNlIGFuZCBjcmVhdGVcbiAgICAgICAgICAgIC8vIGFuIGl0ZXJtZWRpYXRlIGtleXMgYXJyYXkuXG4gICAgICAgICAgICBpZiAocHJpb3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmlvcktleSA9IGtleTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgcmV0ID0gaW52ZXJzZSh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk0dUx5NHVMeTR1THk0dUwyeHBZaTlvWVc1a2JHVmlZWEp6TDJobGJIQmxjbk12WldGamFDNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPenM3T3pzN08zRkNRVUVyUlN4VlFVRlZPenQ1UWtGRGJrVXNZMEZCWXpzN096dHhRa0ZGY2tJc1ZVRkJVeXhSUVVGUkxFVkJRVVU3UVVGRGFFTXNWVUZCVVN4RFFVRkRMR05CUVdNc1EwRkJReXhOUVVGTkxFVkJRVVVzVlVGQlV5eFBRVUZQTEVWQlFVVXNUMEZCVHl4RlFVRkZPMEZCUTNwRUxGRkJRVWtzUTBGQlF5eFBRVUZQTEVWQlFVVTdRVUZEV2l4WlFVRk5MREpDUVVGakxEWkNRVUUyUWl4RFFVRkRMRU5CUVVNN1MwRkRjRVE3TzBGQlJVUXNVVUZCU1N4RlFVRkZMRWRCUVVjc1QwRkJUeXhEUVVGRExFVkJRVVU3VVVGRFppeFBRVUZQTEVkQlFVY3NUMEZCVHl4RFFVRkRMRTlCUVU4N1VVRkRla0lzUTBGQlF5eEhRVUZITEVOQlFVTTdVVUZEVEN4SFFVRkhMRWRCUVVjc1JVRkJSVHRSUVVOU0xFbEJRVWtzV1VGQlFUdFJRVU5LTEZkQlFWY3NXVUZCUVN4RFFVRkRPenRCUVVWb1FpeFJRVUZKTEU5QlFVOHNRMEZCUXl4SlFVRkpMRWxCUVVrc1QwRkJUeXhEUVVGRExFZEJRVWNzUlVGQlJUdEJRVU12UWl4cFFrRkJWeXhIUVVGSExIbENRVUZyUWl4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExGZEJRVmNzUlVGQlJTeFBRVUZQTEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRExFZEJRVWNzUjBGQlJ5eERRVUZETzB0QlEycEdPenRCUVVWRUxGRkJRVWtzYTBKQlFWY3NUMEZCVHl4RFFVRkRMRVZCUVVVN1FVRkJSU3hoUVVGUExFZEJRVWNzVDBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJRenRMUVVGRk96dEJRVVV4UkN4UlFVRkpMRTlCUVU4c1EwRkJReXhKUVVGSkxFVkJRVVU3UVVGRGFFSXNWVUZCU1N4SFFVRkhMRzFDUVVGWkxFOUJRVThzUTBGQlF5eEpRVUZKTEVOQlFVTXNRMEZCUXp0TFFVTnNRenM3UVVGRlJDeGhRVUZUTEdGQlFXRXNRMEZCUXl4TFFVRkxMRVZCUVVVc1MwRkJTeXhGUVVGRkxFbEJRVWtzUlVGQlJUdEJRVU42UXl4VlFVRkpMRWxCUVVrc1JVRkJSVHRCUVVOU0xGbEJRVWtzUTBGQlF5eEhRVUZITEVkQlFVY3NTMEZCU3l4RFFVRkRPMEZCUTJwQ0xGbEJRVWtzUTBGQlF5eExRVUZMTEVkQlFVY3NTMEZCU3l4RFFVRkRPMEZCUTI1Q0xGbEJRVWtzUTBGQlF5eExRVUZMTEVkQlFVY3NTMEZCU3l4TFFVRkxMRU5CUVVNc1EwRkJRenRCUVVONlFpeFpRVUZKTEVOQlFVTXNTVUZCU1N4SFFVRkhMRU5CUVVNc1EwRkJReXhKUVVGSkxFTkJRVU03TzBGQlJXNUNMRmxCUVVrc1YwRkJWeXhGUVVGRk8wRkJRMllzWTBGQlNTeERRVUZETEZkQlFWY3NSMEZCUnl4WFFVRlhMRWRCUVVjc1MwRkJTeXhEUVVGRE8xTkJRM2hETzA5QlEwWTdPMEZCUlVRc1UwRkJSeXhIUVVGSExFZEJRVWNzUjBGQlJ5eEZRVUZGTEVOQlFVTXNUMEZCVHl4RFFVRkRMRXRCUVVzc1EwRkJReXhGUVVGRk8wRkJRemRDTEZsQlFVa3NSVUZCUlN4SlFVRkpPMEZCUTFZc2JVSkJRVmNzUlVGQlJTeHRRa0ZCV1N4RFFVRkRMRTlCUVU4c1EwRkJReXhMUVVGTExFTkJRVU1zUlVGQlJTeExRVUZMTEVOQlFVTXNSVUZCUlN4RFFVRkRMRmRCUVZjc1IwRkJSeXhMUVVGTExFVkJRVVVzU1VGQlNTeERRVUZETEVOQlFVTTdUMEZETDBVc1EwRkJReXhEUVVGRE8wdEJRMG83TzBGQlJVUXNVVUZCU1N4UFFVRlBMRWxCUVVrc1QwRkJUeXhQUVVGUExFdEJRVXNzVVVGQlVTeEZRVUZGTzBGQlF6RkRMRlZCUVVrc1pVRkJVU3hQUVVGUExFTkJRVU1zUlVGQlJUdEJRVU53UWl4aFFVRkxMRWxCUVVrc1EwRkJReXhIUVVGSExFOUJRVThzUTBGQlF5eE5RVUZOTEVWQlFVVXNRMEZCUXl4SFFVRkhMRU5CUVVNc1JVRkJSU3hEUVVGRExFVkJRVVVzUlVGQlJUdEJRVU4yUXl4alFVRkpMRU5CUVVNc1NVRkJTU3hQUVVGUExFVkJRVVU3UVVGRGFFSXNlVUpCUVdFc1EwRkJReXhEUVVGRExFVkJRVVVzUTBGQlF5eEZRVUZGTEVOQlFVTXNTMEZCU3l4UFFVRlBMRU5CUVVNc1RVRkJUU3hIUVVGSExFTkJRVU1zUTBGQlF5eERRVUZETzFkQlF5OURPMU5CUTBZN1QwRkRSaXhOUVVGTk8wRkJRMHdzV1VGQlNTeFJRVUZSTEZsQlFVRXNRMEZCUXpzN1FVRkZZaXhoUVVGTExFbEJRVWtzUjBGQlJ5eEpRVUZKTEU5QlFVOHNSVUZCUlR0QlFVTjJRaXhqUVVGSkxFOUJRVThzUTBGQlF5eGpRVUZqTEVOQlFVTXNSMEZCUnl4RFFVRkRMRVZCUVVVN096czdRVUZKTDBJc1owSkJRVWtzVVVGQlVTeExRVUZMTEZOQlFWTXNSVUZCUlR0QlFVTXhRaXd5UWtGQllTeERRVUZETEZGQlFWRXNSVUZCUlN4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRExFTkJRVU03WVVGRGFFTTdRVUZEUkN4dlFrRkJVU3hIUVVGSExFZEJRVWNzUTBGQlF6dEJRVU5tTEdGQlFVTXNSVUZCUlN4RFFVRkRPMWRCUTB3N1UwRkRSanRCUVVORUxGbEJRVWtzVVVGQlVTeExRVUZMTEZOQlFWTXNSVUZCUlR0QlFVTXhRaXgxUWtGQllTeERRVUZETEZGQlFWRXNSVUZCUlN4RFFVRkRMRWRCUVVjc1EwRkJReXhGUVVGRkxFbEJRVWtzUTBGQlF5eERRVUZETzFOQlEzUkRPMDlCUTBZN1MwRkRSanM3UVVGRlJDeFJRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRVZCUVVVN1FVRkRXQ3hUUVVGSExFZEJRVWNzVDBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRPMHRCUTNKQ096dEJRVVZFTEZkQlFVOHNSMEZCUnl4RFFVRkRPMGRCUTFvc1EwRkJReXhEUVVGRE8wTkJRMG9pTENKbWFXeGxJam9pWldGamFDNXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1sdGNHOXlkQ0I3WVhCd1pXNWtRMjl1ZEdWNGRGQmhkR2dzSUdKc2IyTnJVR0Z5WVcxekxDQmpjbVZoZEdWR2NtRnRaU3dnYVhOQmNuSmhlU3dnYVhOR2RXNWpkR2x2Ym4wZ1puSnZiU0FuTGk0dmRYUnBiSE1uTzF4dWFXMXdiM0owSUVWNFkyVndkR2x2YmlCbWNtOXRJQ2N1TGk5bGVHTmxjSFJwYjI0bk8xeHVYRzVsZUhCdmNuUWdaR1ZtWVhWc2RDQm1kVzVqZEdsdmJpaHBibk4wWVc1alpTa2dlMXh1SUNCcGJuTjBZVzVqWlM1eVpXZHBjM1JsY2tobGJIQmxjaWduWldGamFDY3NJR1oxYm1OMGFXOXVLR052Ym5SbGVIUXNJRzl3ZEdsdmJuTXBJSHRjYmlBZ0lDQnBaaUFvSVc5d2RHbHZibk1wSUh0Y2JpQWdJQ0FnSUhSb2NtOTNJRzVsZHlCRmVHTmxjSFJwYjI0b0owMTFjM1FnY0dGemN5QnBkR1Z5WVhSdmNpQjBieUFqWldGamFDY3BPMXh1SUNBZ0lIMWNibHh1SUNBZ0lHeGxkQ0JtYmlBOUlHOXdkR2x2Ym5NdVptNHNYRzRnSUNBZ0lDQWdJR2x1ZG1WeWMyVWdQU0J2Y0hScGIyNXpMbWx1ZG1WeWMyVXNYRzRnSUNBZ0lDQWdJR2tnUFNBd0xGeHVJQ0FnSUNBZ0lDQnlaWFFnUFNBbkp5eGNiaUFnSUNBZ0lDQWdaR0YwWVN4Y2JpQWdJQ0FnSUNBZ1kyOXVkR1Y0ZEZCaGRHZzdYRzVjYmlBZ0lDQnBaaUFvYjNCMGFXOXVjeTVrWVhSaElDWW1JRzl3ZEdsdmJuTXVhV1J6S1NCN1hHNGdJQ0FnSUNCamIyNTBaWGgwVUdGMGFDQTlJR0Z3Y0dWdVpFTnZiblJsZUhSUVlYUm9LRzl3ZEdsdmJuTXVaR0YwWVM1amIyNTBaWGgwVUdGMGFDd2diM0IwYVc5dWN5NXBaSE5iTUYwcElDc2dKeTRuTzF4dUlDQWdJSDFjYmx4dUlDQWdJR2xtSUNocGMwWjFibU4wYVc5dUtHTnZiblJsZUhRcEtTQjdJR052Ym5SbGVIUWdQU0JqYjI1MFpYaDBMbU5oYkd3b2RHaHBjeWs3SUgxY2JseHVJQ0FnSUdsbUlDaHZjSFJwYjI1ekxtUmhkR0VwSUh0Y2JpQWdJQ0FnSUdSaGRHRWdQU0JqY21WaGRHVkdjbUZ0WlNodmNIUnBiMjV6TG1SaGRHRXBPMXh1SUNBZ0lIMWNibHh1SUNBZ0lHWjFibU4wYVc5dUlHVjRaV05KZEdWeVlYUnBiMjRvWm1sbGJHUXNJR2x1WkdWNExDQnNZWE4wS1NCN1hHNGdJQ0FnSUNCcFppQW9aR0YwWVNrZ2UxeHVJQ0FnSUNBZ0lDQmtZWFJoTG10bGVTQTlJR1pwWld4a08xeHVJQ0FnSUNBZ0lDQmtZWFJoTG1sdVpHVjRJRDBnYVc1a1pYZzdYRzRnSUNBZ0lDQWdJR1JoZEdFdVptbHljM1FnUFNCcGJtUmxlQ0E5UFQwZ01EdGNiaUFnSUNBZ0lDQWdaR0YwWVM1c1lYTjBJRDBnSVNGc1lYTjBPMXh1WEc0Z0lDQWdJQ0FnSUdsbUlDaGpiMjUwWlhoMFVHRjBhQ2tnZTF4dUlDQWdJQ0FnSUNBZ0lHUmhkR0V1WTI5dWRHVjRkRkJoZEdnZ1BTQmpiMjUwWlhoMFVHRjBhQ0FySUdacFpXeGtPMXh1SUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUhKbGRDQTlJSEpsZENBcklHWnVLR052Ym5SbGVIUmJabWxsYkdSZExDQjdYRzRnSUNBZ0lDQWdJR1JoZEdFNklHUmhkR0VzWEc0Z0lDQWdJQ0FnSUdKc2IyTnJVR0Z5WVcxek9pQmliRzlqYTFCaGNtRnRjeWhiWTI5dWRHVjRkRnRtYVdWc1pGMHNJR1pwWld4a1hTd2dXMk52Ym5SbGVIUlFZWFJvSUNzZ1ptbGxiR1FzSUc1MWJHeGRLVnh1SUNBZ0lDQWdmU2s3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdhV1lnS0dOdmJuUmxlSFFnSmlZZ2RIbHdaVzltSUdOdmJuUmxlSFFnUFQwOUlDZHZZbXBsWTNRbktTQjdYRzRnSUNBZ0lDQnBaaUFvYVhOQmNuSmhlU2hqYjI1MFpYaDBLU2tnZTF4dUlDQWdJQ0FnSUNCbWIzSWdLR3hsZENCcUlEMGdZMjl1ZEdWNGRDNXNaVzVuZEdnN0lHa2dQQ0JxT3lCcEt5c3BJSHRjYmlBZ0lDQWdJQ0FnSUNCcFppQW9hU0JwYmlCamIyNTBaWGgwS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0JsZUdWalNYUmxjbUYwYVc5dUtHa3NJR2tzSUdrZ1BUMDlJR052Ym5SbGVIUXViR1Z1WjNSb0lDMGdNU2s3WEc0Z0lDQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUNBZ0lDQnNaWFFnY0hKcGIzSkxaWGs3WEc1Y2JpQWdJQ0FnSUNBZ1ptOXlJQ2hzWlhRZ2EyVjVJR2x1SUdOdmJuUmxlSFFwSUh0Y2JpQWdJQ0FnSUNBZ0lDQnBaaUFvWTI5dWRHVjRkQzVvWVhOUGQyNVFjbTl3WlhKMGVTaHJaWGtwS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0F2THlCWFpTZHlaU0J5ZFc1dWFXNW5JSFJvWlNCcGRHVnlZWFJwYjI1eklHOXVaU0J6ZEdWd0lHOTFkQ0J2WmlCemVXNWpJSE52SUhkbElHTmhiaUJrWlhSbFkzUmNiaUFnSUNBZ0lDQWdJQ0FnSUM4dklIUm9aU0JzWVhOMElHbDBaWEpoZEdsdmJpQjNhWFJvYjNWMElHaGhkbVVnZEc4Z2MyTmhiaUIwYUdVZ2IySnFaV04wSUhSM2FXTmxJR0Z1WkNCamNtVmhkR1ZjYmlBZ0lDQWdJQ0FnSUNBZ0lDOHZJR0Z1SUdsMFpYSnRaV1JwWVhSbElHdGxlWE1nWVhKeVlYa3VYRzRnSUNBZ0lDQWdJQ0FnSUNCcFppQW9jSEpwYjNKTFpYa2dJVDA5SUhWdVpHVm1hVzVsWkNrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCbGVHVmpTWFJsY21GMGFXOXVLSEJ5YVc5eVMyVjVMQ0JwSUMwZ01TazdYRzRnSUNBZ0lDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lDQWdJQ0J3Y21sdmNrdGxlU0E5SUd0bGVUdGNiaUFnSUNBZ0lDQWdJQ0FnSUdrckt6dGNiaUFnSUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ2FXWWdLSEJ5YVc5eVMyVjVJQ0U5UFNCMWJtUmxabWx1WldRcElIdGNiaUFnSUNBZ0lDQWdJQ0JsZUdWalNYUmxjbUYwYVc5dUtIQnlhVzl5UzJWNUxDQnBJQzBnTVN3Z2RISjFaU2s3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUgxY2JpQWdJQ0I5WEc1Y2JpQWdJQ0JwWmlBb2FTQTlQVDBnTUNrZ2UxeHVJQ0FnSUNBZ2NtVjBJRDBnYVc1MlpYSnpaU2gwYUdsektUdGNiaUFnSUNCOVhHNWNiaUFnSUNCeVpYUjFjbTRnY21WME8xeHVJQ0I5S1R0Y2JuMWNiaUpkZlE9PVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuLy8gaXN0YW5idWwgaWdub3JlIG5leHRcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX2V4Y2VwdGlvbiA9IHJlcXVpcmUoJy4uL2V4Y2VwdGlvbicpO1xuXG52YXIgX2V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leGNlcHRpb24pO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbiAoKSAvKiBbYXJncywgXW9wdGlvbnMgKi97XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIEEgbWlzc2luZyBmaWVsZCBpbiBhIHt7Zm9vfX0gY29uc3RydWN0LlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU29tZW9uZSBpcyBhY3R1YWxseSB0cnlpbmcgdG8gY2FsbCBzb21ldGhpbmcsIGJsb3cgdXAuXG4gICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnTWlzc2luZyBoZWxwZXI6IFwiJyArIGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV0ubmFtZSArICdcIicpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwyaGxiSEJsY25NdmFHVnNjR1Z5TFcxcGMzTnBibWN1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN096czdPenQ1UWtGQmMwSXNZMEZCWXpzN096dHhRa0ZGY2tJc1ZVRkJVeXhSUVVGUkxFVkJRVVU3UVVGRGFFTXNWVUZCVVN4RFFVRkRMR05CUVdNc1EwRkJReXhsUVVGbExFVkJRVVVzYVVOQlFXZERPMEZCUTNaRkxGRkJRVWtzVTBGQlV5eERRVUZETEUxQlFVMHNTMEZCU3l4RFFVRkRMRVZCUVVVN08wRkJSVEZDTEdGQlFVOHNVMEZCVXl4RFFVRkRPMHRCUTJ4Q0xFMUJRVTA3TzBGQlJVd3NXVUZCVFN3eVFrRkJZeXh0UWtGQmJVSXNSMEZCUnl4VFFVRlRMRU5CUVVNc1UwRkJVeXhEUVVGRExFMUJRVTBzUjBGQlJ5eERRVUZETEVOQlFVTXNRMEZCUXl4SlFVRkpMRWRCUVVjc1IwRkJSeXhEUVVGRExFTkJRVU03UzBGRGRrWTdSMEZEUml4RFFVRkRMRU5CUVVNN1EwRkRTaUlzSW1acGJHVWlPaUpvWld4d1pYSXRiV2x6YzJsdVp5NXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1sdGNHOXlkQ0JGZUdObGNIUnBiMjRnWm5KdmJTQW5MaTR2WlhoalpYQjBhVzl1Snp0Y2JseHVaWGh3YjNKMElHUmxabUYxYkhRZ1puVnVZM1JwYjI0b2FXNXpkR0Z1WTJVcElIdGNiaUFnYVc1emRHRnVZMlV1Y21WbmFYTjBaWEpJWld4d1pYSW9KMmhsYkhCbGNrMXBjM05wYm1jbkxDQm1kVzVqZEdsdmJpZ3ZLaUJiWVhKbmN5d2dYVzl3ZEdsdmJuTWdLaThwSUh0Y2JpQWdJQ0JwWmlBb1lYSm5kVzFsYm5SekxteGxibWQwYUNBOVBUMGdNU2tnZTF4dUlDQWdJQ0FnTHk4Z1FTQnRhWE56YVc1bklHWnBaV3hrSUdsdUlHRWdlM3RtYjI5OWZTQmpiMjV6ZEhKMVkzUXVYRzRnSUNBZ0lDQnlaWFIxY200Z2RXNWtaV1pwYm1Wa08xeHVJQ0FnSUgwZ1pXeHpaU0I3WEc0Z0lDQWdJQ0F2THlCVGIyMWxiMjVsSUdseklHRmpkSFZoYkd4NUlIUnllV2x1WnlCMGJ5QmpZV3hzSUhOdmJXVjBhR2x1Wnl3Z1lteHZkeUIxY0M1Y2JpQWdJQ0FnSUhSb2NtOTNJRzVsZHlCRmVHTmxjSFJwYjI0b0owMXBjM05wYm1jZ2FHVnNjR1Z5T2lCY0lpY2dLeUJoY21kMWJXVnVkSE5iWVhKbmRXMWxiblJ6TG14bGJtZDBhQ0F0SURGZExtNWhiV1VnS3lBblhDSW5LVHRjYmlBZ0lDQjlYRzRnSUgwcE8xeHVmVnh1SWwxOVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdpZicsIGZ1bmN0aW9uIChjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIGlmIChfdXRpbHMuaXNGdW5jdGlvbihjb25kaXRpb25hbCkpIHtcbiAgICAgIGNvbmRpdGlvbmFsID0gY29uZGl0aW9uYWwuY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IGJlaGF2aW9yIGlzIHRvIHJlbmRlciB0aGUgcG9zaXRpdmUgcGF0aCBpZiB0aGUgdmFsdWUgaXMgdHJ1dGh5IGFuZCBub3QgZW1wdHkuXG4gICAgLy8gVGhlIGBpbmNsdWRlWmVyb2Agb3B0aW9uIG1heSBiZSBzZXQgdG8gdHJlYXQgdGhlIGNvbmR0aW9uYWwgYXMgcHVyZWx5IG5vdCBlbXB0eSBiYXNlZCBvbiB0aGVcbiAgICAvLyBiZWhhdmlvciBvZiBpc0VtcHR5LiBFZmZlY3RpdmVseSB0aGlzIGRldGVybWluZXMgaWYgMCBpcyBoYW5kbGVkIGJ5IHRoZSBwb3NpdGl2ZSBwYXRoIG9yIG5lZ2F0aXZlLlxuICAgIGlmICghb3B0aW9ucy5oYXNoLmluY2x1ZGVaZXJvICYmICFjb25kaXRpb25hbCB8fCBfdXRpbHMuaXNFbXB0eShjb25kaXRpb25hbCkpIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuICAgIH1cbiAgfSk7XG5cbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3VubGVzcycsIGZ1bmN0aW9uIChjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIHJldHVybiBpbnN0YW5jZS5oZWxwZXJzWydpZiddLmNhbGwodGhpcywgY29uZGl0aW9uYWwsIHsgZm46IG9wdGlvbnMuaW52ZXJzZSwgaW52ZXJzZTogb3B0aW9ucy5mbiwgaGFzaDogb3B0aW9ucy5oYXNoIH0pO1xuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk0dUx5NHVMeTR1THk0dUwyeHBZaTlvWVc1a2JHVmlZWEp6TDJobGJIQmxjbk12YVdZdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenR4UWtGQmEwTXNWVUZCVlRzN2NVSkJSVGRDTEZWQlFWTXNVVUZCVVN4RlFVRkZPMEZCUTJoRExGVkJRVkVzUTBGQlF5eGpRVUZqTEVOQlFVTXNTVUZCU1N4RlFVRkZMRlZCUVZNc1YwRkJWeXhGUVVGRkxFOUJRVThzUlVGQlJUdEJRVU16UkN4UlFVRkpMR3RDUVVGWExGZEJRVmNzUTBGQlF5eEZRVUZGTzBGQlFVVXNhVUpCUVZjc1IwRkJSeXhYUVVGWExFTkJRVU1zU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRPMHRCUVVVN096czdPMEZCUzNSRkxGRkJRVWtzUVVGQlF5eERRVUZETEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1YwRkJWeXhKUVVGSkxFTkJRVU1zVjBGQlZ5eEpRVUZMTEdWQlFWRXNWMEZCVnl4RFFVRkRMRVZCUVVVN1FVRkRka1VzWVVGQlR5eFBRVUZQTEVOQlFVTXNUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRE8wdEJRemxDTEUxQlFVMDdRVUZEVEN4aFFVRlBMRTlCUVU4c1EwRkJReXhGUVVGRkxFTkJRVU1zU1VGQlNTeERRVUZETEVOQlFVTTdTMEZEZWtJN1IwRkRSaXhEUVVGRExFTkJRVU03TzBGQlJVZ3NWVUZCVVN4RFFVRkRMR05CUVdNc1EwRkJReXhSUVVGUkxFVkJRVVVzVlVGQlV5eFhRVUZYTEVWQlFVVXNUMEZCVHl4RlFVRkZPMEZCUXk5RUxGZEJRVThzVVVGQlVTeERRVUZETEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJReXhKUVVGSkxFTkJRVU1zU1VGQlNTeEZRVUZGTEZkQlFWY3NSVUZCUlN4RlFVRkRMRVZCUVVVc1JVRkJSU3hQUVVGUExFTkJRVU1zVDBGQlR5eEZRVUZGTEU5QlFVOHNSVUZCUlN4UFFVRlBMRU5CUVVNc1JVRkJSU3hGUVVGRkxFbEJRVWtzUlVGQlJTeFBRVUZQTEVOQlFVTXNTVUZCU1N4RlFVRkRMRU5CUVVNc1EwRkJRenRIUVVOMlNDeERRVUZETEVOQlFVTTdRMEZEU2lJc0ltWnBiR1VpT2lKcFppNXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1sdGNHOXlkQ0I3YVhORmJYQjBlU3dnYVhOR2RXNWpkR2x2Ym4wZ1puSnZiU0FuTGk0dmRYUnBiSE1uTzF4dVhHNWxlSEJ2Y25RZ1pHVm1ZWFZzZENCbWRXNWpkR2x2YmlocGJuTjBZVzVqWlNrZ2UxeHVJQ0JwYm5OMFlXNWpaUzV5WldkcGMzUmxja2hsYkhCbGNpZ25hV1luTENCbWRXNWpkR2x2YmloamIyNWthWFJwYjI1aGJDd2diM0IwYVc5dWN5a2dlMXh1SUNBZ0lHbG1JQ2hwYzBaMWJtTjBhVzl1S0dOdmJtUnBkR2x2Ym1Gc0tTa2dleUJqYjI1a2FYUnBiMjVoYkNBOUlHTnZibVJwZEdsdmJtRnNMbU5oYkd3b2RHaHBjeWs3SUgxY2JseHVJQ0FnSUM4dklFUmxabUYxYkhRZ1ltVm9ZWFpwYjNJZ2FYTWdkRzhnY21WdVpHVnlJSFJvWlNCd2IzTnBkR2wyWlNCd1lYUm9JR2xtSUhSb1pTQjJZV3gxWlNCcGN5QjBjblYwYUhrZ1lXNWtJRzV2ZENCbGJYQjBlUzVjYmlBZ0lDQXZMeUJVYUdVZ1lHbHVZMngxWkdWYVpYSnZZQ0J2Y0hScGIyNGdiV0Y1SUdKbElITmxkQ0IwYnlCMGNtVmhkQ0IwYUdVZ1kyOXVaSFJwYjI1aGJDQmhjeUJ3ZFhKbGJIa2dibTkwSUdWdGNIUjVJR0poYzJWa0lHOXVJSFJvWlZ4dUlDQWdJQzh2SUdKbGFHRjJhVzl5SUc5bUlHbHpSVzF3ZEhrdUlFVm1abVZqZEdsMlpXeDVJSFJvYVhNZ1pHVjBaWEp0YVc1bGN5QnBaaUF3SUdseklHaGhibVJzWldRZ1lua2dkR2hsSUhCdmMybDBhWFpsSUhCaGRHZ2diM0lnYm1WbllYUnBkbVV1WEc0Z0lDQWdhV1lnS0NnaGIzQjBhVzl1Y3k1b1lYTm9MbWx1WTJ4MVpHVmFaWEp2SUNZbUlDRmpiMjVrYVhScGIyNWhiQ2tnZkh3Z2FYTkZiWEIwZVNoamIyNWthWFJwYjI1aGJDa3BJSHRjYmlBZ0lDQWdJSEpsZEhWeWJpQnZjSFJwYjI1ekxtbHVkbVZ5YzJVb2RHaHBjeWs3WEc0Z0lDQWdmU0JsYkhObElIdGNiaUFnSUNBZ0lISmxkSFZ5YmlCdmNIUnBiMjV6TG1adUtIUm9hWE1wTzF4dUlDQWdJSDFjYmlBZ2ZTazdYRzVjYmlBZ2FXNXpkR0Z1WTJVdWNtVm5hWE4wWlhKSVpXeHdaWElvSjNWdWJHVnpjeWNzSUdaMWJtTjBhVzl1S0dOdmJtUnBkR2x2Ym1Gc0xDQnZjSFJwYjI1ektTQjdYRzRnSUNBZ2NtVjBkWEp1SUdsdWMzUmhibU5sTG1obGJIQmxjbk5iSjJsbUoxMHVZMkZzYkNoMGFHbHpMQ0JqYjI1a2FYUnBiMjVoYkN3Z2UyWnVPaUJ2Y0hScGIyNXpMbWx1ZG1WeWMyVXNJR2x1ZG1WeWMyVTZJRzl3ZEdsdmJuTXVabTRzSUdoaGMyZzZJRzl3ZEdsdmJuTXVhR0Z6YUgwcE8xeHVJQ0I5S1R0Y2JuMWNiaUpkZlE9PVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uICgpIC8qIG1lc3NhZ2UsIG9wdGlvbnMgKi97XG4gICAgdmFyIGFyZ3MgPSBbdW5kZWZpbmVkXSxcbiAgICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG5cbiAgICB2YXIgbGV2ZWwgPSAxO1xuICAgIGlmIChvcHRpb25zLmhhc2gubGV2ZWwgIT0gbnVsbCkge1xuICAgICAgbGV2ZWwgPSBvcHRpb25zLmhhc2gubGV2ZWw7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5kYXRhLmxldmVsICE9IG51bGwpIHtcbiAgICAgIGxldmVsID0gb3B0aW9ucy5kYXRhLmxldmVsO1xuICAgIH1cbiAgICBhcmdzWzBdID0gbGV2ZWw7XG5cbiAgICBpbnN0YW5jZS5sb2cuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpO1xuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk0dUx5NHVMeTR1THk0dUwyeHBZaTlvWVc1a2JHVmlZWEp6TDJobGJIQmxjbk12Ykc5bkxtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3Y1VKQlFXVXNWVUZCVXl4UlFVRlJMRVZCUVVVN1FVRkRhRU1zVlVGQlVTeERRVUZETEdOQlFXTXNRMEZCUXl4TFFVRkxMRVZCUVVVc2EwTkJRV2xETzBGQlF6bEVMRkZCUVVrc1NVRkJTU3hIUVVGSExFTkJRVU1zVTBGQlV5eERRVUZETzFGQlEyeENMRTlCUVU4c1IwRkJSeXhUUVVGVExFTkJRVU1zVTBGQlV5eERRVUZETEUxQlFVMHNSMEZCUnl4RFFVRkRMRU5CUVVNc1EwRkJRenRCUVVNNVF5eFRRVUZMTEVsQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1JVRkJSU3hEUVVGRExFZEJRVWNzVTBGQlV5eERRVUZETEUxQlFVMHNSMEZCUnl4RFFVRkRMRVZCUVVVc1EwRkJReXhGUVVGRkxFVkJRVVU3UVVGRE4wTXNWVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhUUVVGVExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXp0TFFVTjZRanM3UVVGRlJDeFJRVUZKTEV0QlFVc3NSMEZCUnl4RFFVRkRMRU5CUVVNN1FVRkRaQ3hSUVVGSkxFOUJRVThzUTBGQlF5eEpRVUZKTEVOQlFVTXNTMEZCU3l4SlFVRkpMRWxCUVVrc1JVRkJSVHRCUVVNNVFpeFhRVUZMTEVkQlFVY3NUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJReXhMUVVGTExFTkJRVU03UzBGRE5VSXNUVUZCVFN4SlFVRkpMRTlCUVU4c1EwRkJReXhKUVVGSkxFbEJRVWtzVDBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4TFFVRkxMRWxCUVVrc1NVRkJTU3hGUVVGRk8wRkJRM0pFTEZkQlFVc3NSMEZCUnl4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF6dExRVU0xUWp0QlFVTkVMRkZCUVVrc1EwRkJReXhEUVVGRExFTkJRVU1zUjBGQlJ5eExRVUZMTEVOQlFVTTdPMEZCUldoQ0xGbEJRVkVzUTBGQlF5eEhRVUZITEUxQlFVRXNRMEZCV2l4UlFVRlJMRVZCUVZNc1NVRkJTU3hEUVVGRExFTkJRVU03UjBGRGVFSXNRMEZCUXl4RFFVRkRPME5CUTBvaUxDSm1hV3hsSWpvaWJHOW5MbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaVpYaHdiM0owSUdSbFptRjFiSFFnWm5WdVkzUnBiMjRvYVc1emRHRnVZMlVwSUh0Y2JpQWdhVzV6ZEdGdVkyVXVjbVZuYVhOMFpYSklaV3h3WlhJb0oyeHZaeWNzSUdaMWJtTjBhVzl1S0M4cUlHMWxjM05oWjJVc0lHOXdkR2x2Ym5NZ0tpOHBJSHRjYmlBZ0lDQnNaWFFnWVhKbmN5QTlJRnQxYm1SbFptbHVaV1JkTEZ4dUlDQWdJQ0FnSUNCdmNIUnBiMjV6SUQwZ1lYSm5kVzFsYm5SelcyRnlaM1Z0Wlc1MGN5NXNaVzVuZEdnZ0xTQXhYVHRjYmlBZ0lDQm1iM0lnS0d4bGRDQnBJRDBnTURzZ2FTQThJR0Z5WjNWdFpXNTBjeTVzWlc1bmRHZ2dMU0F4T3lCcEt5c3BJSHRjYmlBZ0lDQWdJR0Z5WjNNdWNIVnphQ2hoY21kMWJXVnVkSE5iYVYwcE8xeHVJQ0FnSUgxY2JseHVJQ0FnSUd4bGRDQnNaWFpsYkNBOUlERTdYRzRnSUNBZ2FXWWdLRzl3ZEdsdmJuTXVhR0Z6YUM1c1pYWmxiQ0FoUFNCdWRXeHNLU0I3WEc0Z0lDQWdJQ0JzWlhabGJDQTlJRzl3ZEdsdmJuTXVhR0Z6YUM1c1pYWmxiRHRjYmlBZ0lDQjlJR1ZzYzJVZ2FXWWdLRzl3ZEdsdmJuTXVaR0YwWVNBbUppQnZjSFJwYjI1ekxtUmhkR0V1YkdWMlpXd2dJVDBnYm5Wc2JDa2dlMXh1SUNBZ0lDQWdiR1YyWld3Z1BTQnZjSFJwYjI1ekxtUmhkR0V1YkdWMlpXdzdYRzRnSUNBZ2ZWeHVJQ0FnSUdGeVozTmJNRjBnUFNCc1pYWmxiRHRjYmx4dUlDQWdJR2x1YzNSaGJtTmxMbXh2WnlndUxpNGdZWEpuY3lrN1hHNGdJSDBwTzF4dWZWeHVJbDE5XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignbG9va3VwJywgZnVuY3Rpb24gKG9iaiwgZmllbGQpIHtcbiAgICByZXR1cm4gb2JqICYmIG9ialtmaWVsZF07XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUx5NHVMeTR1TDJ4cFlpOW9ZVzVrYkdWaVlYSnpMMmhsYkhCbGNuTXZiRzl2YTNWd0xtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3Y1VKQlFXVXNWVUZCVXl4UlFVRlJMRVZCUVVVN1FVRkRhRU1zVlVGQlVTeERRVUZETEdOQlFXTXNRMEZCUXl4UlFVRlJMRVZCUVVVc1ZVRkJVeXhIUVVGSExFVkJRVVVzUzBGQlN5eEZRVUZGTzBGQlEzSkVMRmRCUVU4c1IwRkJSeXhKUVVGSkxFZEJRVWNzUTBGQlF5eExRVUZMTEVOQlFVTXNRMEZCUXp0SFFVTXhRaXhEUVVGRExFTkJRVU03UTBGRFNpSXNJbVpwYkdVaU9pSnNiMjlyZFhBdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUpsZUhCdmNuUWdaR1ZtWVhWc2RDQm1kVzVqZEdsdmJpaHBibk4wWVc1alpTa2dlMXh1SUNCcGJuTjBZVzVqWlM1eVpXZHBjM1JsY2tobGJIQmxjaWduYkc5dmEzVndKeXdnWm5WdVkzUnBiMjRvYjJKcUxDQm1hV1ZzWkNrZ2UxeHVJQ0FnSUhKbGRIVnliaUJ2WW1vZ0ppWWdiMkpxVzJacFpXeGtYVHRjYmlBZ2ZTazdYRzU5WEc0aVhYMD1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignd2l0aCcsIGZ1bmN0aW9uIChjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKF91dGlscy5pc0Z1bmN0aW9uKGNvbnRleHQpKSB7XG4gICAgICBjb250ZXh0ID0gY29udGV4dC5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIHZhciBmbiA9IG9wdGlvbnMuZm47XG5cbiAgICBpZiAoIV91dGlscy5pc0VtcHR5KGNvbnRleHQpKSB7XG4gICAgICB2YXIgZGF0YSA9IG9wdGlvbnMuZGF0YTtcbiAgICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgICAgZGF0YSA9IF91dGlscy5jcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgICBkYXRhLmNvbnRleHRQYXRoID0gX3V0aWxzLmFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5pZHNbMF0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm4oY29udGV4dCwge1xuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBibG9ja1BhcmFtczogX3V0aWxzLmJsb2NrUGFyYW1zKFtjb250ZXh0XSwgW2RhdGEgJiYgZGF0YS5jb250ZXh0UGF0aF0pXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUx5NHVMeTR1TDJ4cFlpOW9ZVzVrYkdWaVlYSnpMMmhsYkhCbGNuTXZkMmwwYUM1cWN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU96czdPM0ZDUVVFclJTeFZRVUZWT3p0eFFrRkZNVVVzVlVGQlV5eFJRVUZSTEVWQlFVVTdRVUZEYUVNc1ZVRkJVU3hEUVVGRExHTkJRV01zUTBGQlF5eE5RVUZOTEVWQlFVVXNWVUZCVXl4UFFVRlBMRVZCUVVVc1QwRkJUeXhGUVVGRk8wRkJRM3BFTEZGQlFVa3NhMEpCUVZjc1QwRkJUeXhEUVVGRExFVkJRVVU3UVVGQlJTeGhRVUZQTEVkQlFVY3NUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dExRVUZGT3p0QlFVVXhSQ3hSUVVGSkxFVkJRVVVzUjBGQlJ5eFBRVUZQTEVOQlFVTXNSVUZCUlN4RFFVRkRPenRCUVVWd1FpeFJRVUZKTEVOQlFVTXNaVUZCVVN4UFFVRlBMRU5CUVVNc1JVRkJSVHRCUVVOeVFpeFZRVUZKTEVsQlFVa3NSMEZCUnl4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRE8wRkJRM2hDTEZWQlFVa3NUMEZCVHl4RFFVRkRMRWxCUVVrc1NVRkJTU3hQUVVGUExFTkJRVU1zUjBGQlJ5eEZRVUZGTzBGQlF5OUNMRmxCUVVrc1IwRkJSeXh0UWtGQldTeFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1FVRkRha01zV1VGQlNTeERRVUZETEZkQlFWY3NSMEZCUnl4NVFrRkJhMElzVDBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4WFFVRlhMRVZCUVVVc1QwRkJUeXhEUVVGRExFZEJRVWNzUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPMDlCUTJoR096dEJRVVZFTEdGQlFVOHNSVUZCUlN4RFFVRkRMRTlCUVU4c1JVRkJSVHRCUVVOcVFpeFpRVUZKTEVWQlFVVXNTVUZCU1R0QlFVTldMRzFDUVVGWExFVkJRVVVzYlVKQlFWa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1JVRkJSU3hEUVVGRExFbEJRVWtzU1VGQlNTeEpRVUZKTEVOQlFVTXNWMEZCVnl4RFFVRkRMRU5CUVVNN1QwRkRhRVVzUTBGQlF5eERRVUZETzB0QlEwb3NUVUZCVFR0QlFVTk1MR0ZCUVU4c1QwRkJUeXhEUVVGRExFOUJRVThzUTBGQlF5eEpRVUZKTEVOQlFVTXNRMEZCUXp0TFFVTTVRanRIUVVOR0xFTkJRVU1zUTBGQlF6dERRVU5LSWl3aVptbHNaU0k2SW5kcGRHZ3Vhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKcGJYQnZjblFnZTJGd2NHVnVaRU52Ym5SbGVIUlFZWFJvTENCaWJHOWphMUJoY21GdGN5d2dZM0psWVhSbFJuSmhiV1VzSUdselJXMXdkSGtzSUdselJuVnVZM1JwYjI1OUlHWnliMjBnSnk0dUwzVjBhV3h6Snp0Y2JseHVaWGh3YjNKMElHUmxabUYxYkhRZ1puVnVZM1JwYjI0b2FXNXpkR0Z1WTJVcElIdGNiaUFnYVc1emRHRnVZMlV1Y21WbmFYTjBaWEpJWld4d1pYSW9KM2RwZEdnbkxDQm1kVzVqZEdsdmJpaGpiMjUwWlhoMExDQnZjSFJwYjI1ektTQjdYRzRnSUNBZ2FXWWdLR2x6Um5WdVkzUnBiMjRvWTI5dWRHVjRkQ2twSUhzZ1kyOXVkR1Y0ZENBOUlHTnZiblJsZUhRdVkyRnNiQ2gwYUdsektUc2dmVnh1WEc0Z0lDQWdiR1YwSUdadUlEMGdiM0IwYVc5dWN5NW1ianRjYmx4dUlDQWdJR2xtSUNnaGFYTkZiWEIwZVNoamIyNTBaWGgwS1NrZ2UxeHVJQ0FnSUNBZ2JHVjBJR1JoZEdFZ1BTQnZjSFJwYjI1ekxtUmhkR0U3WEc0Z0lDQWdJQ0JwWmlBb2IzQjBhVzl1Y3k1a1lYUmhJQ1ltSUc5d2RHbHZibk11YVdSektTQjdYRzRnSUNBZ0lDQWdJR1JoZEdFZ1BTQmpjbVZoZEdWR2NtRnRaU2h2Y0hScGIyNXpMbVJoZEdFcE8xeHVJQ0FnSUNBZ0lDQmtZWFJoTG1OdmJuUmxlSFJRWVhSb0lEMGdZWEJ3Wlc1a1EyOXVkR1Y0ZEZCaGRHZ29iM0IwYVc5dWN5NWtZWFJoTG1OdmJuUmxlSFJRWVhSb0xDQnZjSFJwYjI1ekxtbGtjMXN3WFNrN1hHNGdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lISmxkSFZ5YmlCbWJpaGpiMjUwWlhoMExDQjdYRzRnSUNBZ0lDQWdJR1JoZEdFNklHUmhkR0VzWEc0Z0lDQWdJQ0FnSUdKc2IyTnJVR0Z5WVcxek9pQmliRzlqYTFCaGNtRnRjeWhiWTI5dWRHVjRkRjBzSUZ0a1lYUmhJQ1ltSUdSaGRHRXVZMjl1ZEdWNGRGQmhkR2hkS1Z4dUlDQWdJQ0FnZlNrN1hHNGdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJSEpsZEhWeWJpQnZjSFJwYjI1ekxtbHVkbVZ5YzJVb2RHaHBjeWs3WEc0Z0lDQWdmVnh1SUNCOUtUdGNibjFjYmlKZGZRPT1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMucmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyA9IHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnM7XG4vLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfZGVjb3JhdG9yc0lubGluZSA9IHJlcXVpcmUoJy4vZGVjb3JhdG9ycy9pbmxpbmUnKTtcblxudmFyIF9kZWNvcmF0b3JzSW5saW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlY29yYXRvcnNJbmxpbmUpO1xuXG5mdW5jdGlvbiByZWdpc3RlckRlZmF1bHREZWNvcmF0b3JzKGluc3RhbmNlKSB7XG4gIF9kZWNvcmF0b3JzSW5saW5lMlsnZGVmYXVsdCddKGluc3RhbmNlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUwyeHBZaTlvWVc1a2JHVmlZWEp6TDJSbFkyOXlZWFJ2Y25NdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenM3T3pzN1owTkJRVEpDTEhGQ1FVRnhRanM3T3p0QlFVVjZReXhUUVVGVExIbENRVUY1UWl4RFFVRkRMRkZCUVZFc1JVRkJSVHRCUVVOc1JDeG5RMEZCWlN4UlFVRlJMRU5CUVVNc1EwRkJRenREUVVNeFFpSXNJbVpwYkdVaU9pSmtaV052Y21GMGIzSnpMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWFXMXdiM0owSUhKbFoybHpkR1Z5U1c1c2FXNWxJR1p5YjIwZ0p5NHZaR1ZqYjNKaGRHOXljeTlwYm14cGJtVW5PMXh1WEc1bGVIQnZjblFnWm5WdVkzUnBiMjRnY21WbmFYTjBaWEpFWldaaGRXeDBSR1ZqYjNKaGRHOXljeWhwYm5OMFlXNWpaU2tnZTF4dUlDQnlaV2RwYzNSbGNrbHViR2x1WlNocGJuTjBZVzVqWlNrN1hHNTlYRzVjYmlKZGZRPT1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckRlY29yYXRvcignaW5saW5lJywgZnVuY3Rpb24gKGZuLCBwcm9wcywgY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgdmFyIHJldCA9IGZuO1xuICAgIGlmICghcHJvcHMucGFydGlhbHMpIHtcbiAgICAgIHByb3BzLnBhcnRpYWxzID0ge307XG4gICAgICByZXQgPSBmdW5jdGlvbiAoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFydGlhbHMgc3RhY2sgZnJhbWUgcHJpb3IgdG8gZXhlYy5cbiAgICAgICAgdmFyIG9yaWdpbmFsID0gY29udGFpbmVyLnBhcnRpYWxzO1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBfdXRpbHMuZXh0ZW5kKHt9LCBvcmlnaW5hbCwgcHJvcHMucGFydGlhbHMpO1xuICAgICAgICB2YXIgcmV0ID0gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IG9yaWdpbmFsO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBwcm9wcy5wYXJ0aWFsc1tvcHRpb25zLmFyZ3NbMF1dID0gb3B0aW9ucy5mbjtcblxuICAgIHJldHVybiByZXQ7XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUx5NHVMeTR1TDJ4cFlpOW9ZVzVrYkdWaVlYSnpMMlJsWTI5eVlYUnZjbk12YVc1c2FXNWxMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3T3pzN2NVSkJRWEZDTEZWQlFWVTdPM0ZDUVVWb1FpeFZRVUZUTEZGQlFWRXNSVUZCUlR0QlFVTm9ReXhWUVVGUkxFTkJRVU1zYVVKQlFXbENMRU5CUVVNc1VVRkJVU3hGUVVGRkxGVkJRVk1zUlVGQlJTeEZRVUZGTEV0QlFVc3NSVUZCUlN4VFFVRlRMRVZCUVVVc1QwRkJUeXhGUVVGRk8wRkJRek5GTEZGQlFVa3NSMEZCUnl4SFFVRkhMRVZCUVVVc1EwRkJRenRCUVVOaUxGRkJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNVVUZCVVN4RlFVRkZPMEZCUTI1Q0xGZEJRVXNzUTBGQlF5eFJRVUZSTEVkQlFVY3NSVUZCUlN4RFFVRkRPMEZCUTNCQ0xGTkJRVWNzUjBGQlJ5eFZRVUZUTEU5QlFVOHNSVUZCUlN4UFFVRlBMRVZCUVVVN08wRkJSUzlDTEZsQlFVa3NVVUZCVVN4SFFVRkhMRk5CUVZNc1EwRkJReXhSUVVGUkxFTkJRVU03UVVGRGJFTXNhVUpCUVZNc1EwRkJReXhSUVVGUkxFZEJRVWNzWTBGQlR5eEZRVUZGTEVWQlFVVXNVVUZCVVN4RlFVRkZMRXRCUVVzc1EwRkJReXhSUVVGUkxFTkJRVU1zUTBGQlF6dEJRVU14UkN4WlFVRkpMRWRCUVVjc1IwRkJSeXhGUVVGRkxFTkJRVU1zVDBGQlR5eEZRVUZGTEU5QlFVOHNRMEZCUXl4RFFVRkRPMEZCUXk5Q0xHbENRVUZUTEVOQlFVTXNVVUZCVVN4SFFVRkhMRkZCUVZFc1EwRkJRenRCUVVNNVFpeGxRVUZQTEVkQlFVY3NRMEZCUXp0UFFVTmFMRU5CUVVNN1MwRkRTRHM3UVVGRlJDeFRRVUZMTEVOQlFVTXNVVUZCVVN4RFFVRkRMRTlCUVU4c1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNSMEZCUnl4UFFVRlBMRU5CUVVNc1JVRkJSU3hEUVVGRE96dEJRVVUzUXl4WFFVRlBMRWRCUVVjc1EwRkJRenRIUVVOYUxFTkJRVU1zUTBGQlF6dERRVU5LSWl3aVptbHNaU0k2SW1sdWJHbHVaUzVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkltbHRjRzl5ZENCN1pYaDBaVzVrZlNCbWNtOXRJQ2N1TGk5MWRHbHNjeWM3WEc1Y2JtVjRjRzl5ZENCa1pXWmhkV3gwSUdaMWJtTjBhVzl1S0dsdWMzUmhibU5sS1NCN1hHNGdJR2x1YzNSaGJtTmxMbkpsWjJsemRHVnlSR1ZqYjNKaGRHOXlLQ2RwYm14cGJtVW5MQ0JtZFc1amRHbHZiaWhtYml3Z2NISnZjSE1zSUdOdmJuUmhhVzVsY2l3Z2IzQjBhVzl1Y3lrZ2UxeHVJQ0FnSUd4bGRDQnlaWFFnUFNCbWJqdGNiaUFnSUNCcFppQW9JWEJ5YjNCekxuQmhjblJwWVd4ektTQjdYRzRnSUNBZ0lDQndjbTl3Y3k1d1lYSjBhV0ZzY3lBOUlIdDlPMXh1SUNBZ0lDQWdjbVYwSUQwZ1puVnVZM1JwYjI0b1kyOXVkR1Y0ZEN3Z2IzQjBhVzl1Y3lrZ2UxeHVJQ0FnSUNBZ0lDQXZMeUJEY21WaGRHVWdZU0J1WlhjZ2NHRnlkR2xoYkhNZ2MzUmhZMnNnWm5KaGJXVWdjSEpwYjNJZ2RHOGdaWGhsWXk1Y2JpQWdJQ0FnSUNBZ2JHVjBJRzl5YVdkcGJtRnNJRDBnWTI5dWRHRnBibVZ5TG5CaGNuUnBZV3h6TzF4dUlDQWdJQ0FnSUNCamIyNTBZV2x1WlhJdWNHRnlkR2xoYkhNZ1BTQmxlSFJsYm1Rb2UzMHNJRzl5YVdkcGJtRnNMQ0J3Y205d2N5NXdZWEowYVdGc2N5azdYRzRnSUNBZ0lDQWdJR3hsZENCeVpYUWdQU0JtYmloamIyNTBaWGgwTENCdmNIUnBiMjV6S1R0Y2JpQWdJQ0FnSUNBZ1kyOXVkR0ZwYm1WeUxuQmhjblJwWVd4eklEMGdiM0pwWjJsdVlXdzdYRzRnSUNBZ0lDQWdJSEpsZEhWeWJpQnlaWFE3WEc0Z0lDQWdJQ0I5TzF4dUlDQWdJSDFjYmx4dUlDQWdJSEJ5YjNCekxuQmhjblJwWVd4elcyOXdkR2x2Ym5NdVlYSm5jMXN3WFYwZ1BTQnZjSFJwYjI1ekxtWnVPMXh1WEc0Z0lDQWdjbVYwZFhKdUlISmxkRHRjYmlBZ2ZTazdYRzU5WEc0aVhYMD1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIGxvZ2dlciA9IHtcbiAgbWV0aG9kTWFwOiBbJ2RlYnVnJywgJ2luZm8nLCAnd2FybicsICdlcnJvciddLFxuICBsZXZlbDogJ2luZm8nLFxuXG4gIC8vIE1hcHMgYSBnaXZlbiBsZXZlbCB2YWx1ZSB0byB0aGUgYG1ldGhvZE1hcGAgaW5kZXhlcyBhYm92ZS5cbiAgbG9va3VwTGV2ZWw6IGZ1bmN0aW9uIGxvb2t1cExldmVsKGxldmVsKSB7XG4gICAgaWYgKHR5cGVvZiBsZXZlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBsZXZlbE1hcCA9IF91dGlscy5pbmRleE9mKGxvZ2dlci5tZXRob2RNYXAsIGxldmVsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKGxldmVsTWFwID49IDApIHtcbiAgICAgICAgbGV2ZWwgPSBsZXZlbE1hcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsID0gcGFyc2VJbnQobGV2ZWwsIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGV2ZWw7XG4gIH0sXG5cbiAgLy8gQ2FuIGJlIG92ZXJyaWRkZW4gaW4gdGhlIGhvc3QgZW52aXJvbm1lbnRcbiAgbG9nOiBmdW5jdGlvbiBsb2cobGV2ZWwpIHtcbiAgICBsZXZlbCA9IGxvZ2dlci5sb29rdXBMZXZlbChsZXZlbCk7XG5cbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGxvZ2dlci5sb29rdXBMZXZlbChsb2dnZXIubGV2ZWwpIDw9IGxldmVsKSB7XG4gICAgICB2YXIgbWV0aG9kID0gbG9nZ2VyLm1ldGhvZE1hcFtsZXZlbF07XG4gICAgICBpZiAoIWNvbnNvbGVbbWV0aG9kXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgbWV0aG9kID0gJ2xvZyc7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtZXNzYWdlID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBtZXNzYWdlW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZVttZXRob2RdLmFwcGx5KGNvbnNvbGUsIG1lc3NhZ2UpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGxvZ2dlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk0dUx5NHVMeTR1TDJ4cFlpOW9ZVzVrYkdWaVlYSnpMMnh2WjJkbGNpNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPenM3TzNGQ1FVRnpRaXhUUVVGVE96dEJRVVV2UWl4SlFVRkpMRTFCUVUwc1IwRkJSenRCUVVOWUxGZEJRVk1zUlVGQlJTeERRVUZETEU5QlFVOHNSVUZCUlN4TlFVRk5MRVZCUVVVc1RVRkJUU3hGUVVGRkxFOUJRVThzUTBGQlF6dEJRVU0zUXl4UFFVRkxMRVZCUVVVc1RVRkJUVHM3TzBGQlIySXNZVUZCVnl4RlFVRkZMSEZDUVVGVExFdEJRVXNzUlVGQlJUdEJRVU16UWl4UlFVRkpMRTlCUVU4c1MwRkJTeXhMUVVGTExGRkJRVkVzUlVGQlJUdEJRVU0zUWl4VlFVRkpMRkZCUVZFc1IwRkJSeXhsUVVGUkxFMUJRVTBzUTBGQlF5eFRRVUZUTEVWQlFVVXNTMEZCU3l4RFFVRkRMRmRCUVZjc1JVRkJSU3hEUVVGRExFTkJRVU03UVVGRE9VUXNWVUZCU1N4UlFVRlJMRWxCUVVrc1EwRkJReXhGUVVGRk8wRkJRMnBDTEdGQlFVc3NSMEZCUnl4UlFVRlJMRU5CUVVNN1QwRkRiRUlzVFVGQlRUdEJRVU5NTEdGQlFVc3NSMEZCUnl4UlFVRlJMRU5CUVVNc1MwRkJTeXhGUVVGRkxFVkJRVVVzUTBGQlF5eERRVUZETzA5QlF6ZENPMHRCUTBZN08wRkJSVVFzVjBGQlR5eExRVUZMTEVOQlFVTTdSMEZEWkRzN08wRkJSMFFzUzBGQlJ5eEZRVUZGTEdGQlFWTXNTMEZCU3l4RlFVRmpPMEZCUXk5Q0xGTkJRVXNzUjBGQlJ5eE5RVUZOTEVOQlFVTXNWMEZCVnl4RFFVRkRMRXRCUVVzc1EwRkJReXhEUVVGRE96dEJRVVZzUXl4UlFVRkpMRTlCUVU4c1QwRkJUeXhMUVVGTExGZEJRVmNzU1VGQlNTeE5RVUZOTEVOQlFVTXNWMEZCVnl4RFFVRkRMRTFCUVUwc1EwRkJReXhMUVVGTExFTkJRVU1zU1VGQlNTeExRVUZMTEVWQlFVVTdRVUZETDBVc1ZVRkJTU3hOUVVGTkxFZEJRVWNzVFVGQlRTeERRVUZETEZOQlFWTXNRMEZCUXl4TFFVRkxMRU5CUVVNc1EwRkJRenRCUVVOeVF5eFZRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRTFCUVUwc1EwRkJReXhGUVVGRk96dEJRVU53UWl4alFVRk5MRWRCUVVjc1MwRkJTeXhEUVVGRE8wOUJRMmhDT3p0M1EwRlFiVUlzVDBGQlR6dEJRVUZRTEdWQlFVODdPenRCUVZFelFpeGhRVUZQTEVOQlFVTXNUVUZCVFN4UFFVRkRMRU5CUVdZc1QwRkJUeXhGUVVGWkxFOUJRVThzUTBGQlF5eERRVUZETzB0QlF6ZENPMGRCUTBZN1EwRkRSaXhEUVVGRE96dHhRa0ZGWVN4TlFVRk5JaXdpWm1sc1pTSTZJbXh2WjJkbGNpNXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1sdGNHOXlkQ0I3YVc1a1pYaFBabjBnWm5KdmJTQW5MaTkxZEdsc2N5YzdYRzVjYm14bGRDQnNiMmRuWlhJZ1BTQjdYRzRnSUcxbGRHaHZaRTFoY0RvZ1d5ZGtaV0oxWnljc0lDZHBibVp2Snl3Z0ozZGhjbTRuTENBblpYSnliM0luWFN4Y2JpQWdiR1YyWld3NklDZHBibVp2Snl4Y2JseHVJQ0F2THlCTllYQnpJR0VnWjJsMlpXNGdiR1YyWld3Z2RtRnNkV1VnZEc4Z2RHaGxJR0J0WlhSb2IyUk5ZWEJnSUdsdVpHVjRaWE1nWVdKdmRtVXVYRzRnSUd4dmIydDFjRXhsZG1Wc09pQm1kVzVqZEdsdmJpaHNaWFpsYkNrZ2UxeHVJQ0FnSUdsbUlDaDBlWEJsYjJZZ2JHVjJaV3dnUFQwOUlDZHpkSEpwYm1jbktTQjdYRzRnSUNBZ0lDQnNaWFFnYkdWMlpXeE5ZWEFnUFNCcGJtUmxlRTltS0d4dloyZGxjaTV0WlhSb2IyUk5ZWEFzSUd4bGRtVnNMblJ2VEc5M1pYSkRZWE5sS0NrcE8xeHVJQ0FnSUNBZ2FXWWdLR3hsZG1Wc1RXRndJRDQ5SURBcElIdGNiaUFnSUNBZ0lDQWdiR1YyWld3Z1BTQnNaWFpsYkUxaGNEdGNiaUFnSUNBZ0lIMGdaV3h6WlNCN1hHNGdJQ0FnSUNBZ0lHeGxkbVZzSUQwZ2NHRnljMlZKYm5Rb2JHVjJaV3dzSURFd0tUdGNiaUFnSUNBZ0lIMWNiaUFnSUNCOVhHNWNiaUFnSUNCeVpYUjFjbTRnYkdWMlpXdzdYRzRnSUgwc1hHNWNiaUFnTHk4Z1EyRnVJR0psSUc5MlpYSnlhV1JrWlc0Z2FXNGdkR2hsSUdodmMzUWdaVzUyYVhKdmJtMWxiblJjYmlBZ2JHOW5PaUJtZFc1amRHbHZiaWhzWlhabGJDd2dMaTR1YldWemMyRm5aU2tnZTF4dUlDQWdJR3hsZG1Wc0lEMGdiRzluWjJWeUxteHZiMnQxY0V4bGRtVnNLR3hsZG1Wc0tUdGNibHh1SUNBZ0lHbG1JQ2gwZVhCbGIyWWdZMjl1YzI5c1pTQWhQVDBnSjNWdVpHVm1hVzVsWkNjZ0ppWWdiRzluWjJWeUxteHZiMnQxY0V4bGRtVnNLR3h2WjJkbGNpNXNaWFpsYkNrZ1BEMGdiR1YyWld3cElIdGNiaUFnSUNBZ0lHeGxkQ0J0WlhSb2IyUWdQU0JzYjJkblpYSXViV1YwYUc5a1RXRndXMnhsZG1Wc1hUdGNiaUFnSUNBZ0lHbG1JQ2doWTI5dWMyOXNaVnR0WlhSb2IyUmRLU0I3SUM4dklHVnpiR2x1ZEMxa2FYTmhZbXhsTFd4cGJtVWdibTh0WTI5dWMyOXNaVnh1SUNBZ0lDQWdJQ0J0WlhSb2IyUWdQU0FuYkc5bkp6dGNiaUFnSUNBZ0lIMWNiaUFnSUNBZ0lHTnZibk52YkdWYmJXVjBhRzlrWFNndUxpNXRaWE56WVdkbEtUc2dMeThnWlhOc2FXNTBMV1JwYzJGaWJHVXRiR2x1WlNCdWJ5MWpiMjV6YjJ4bFhHNGdJQ0FnZlZ4dUlDQjlYRzU5TzF4dVhHNWxlSEJ2Y25RZ1pHVm1ZWFZzZENCc2IyZG5aWEk3WEc0aVhYMD1cbiIsIi8vIEJ1aWxkIG91dCBvdXIgYmFzaWMgU2FmZVN0cmluZyB0eXBlXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5mdW5jdGlvbiBTYWZlU3RyaW5nKHN0cmluZykge1xuICB0aGlzLnN0cmluZyA9IHN0cmluZztcbn1cblxuU2FmZVN0cmluZy5wcm90b3R5cGUudG9TdHJpbmcgPSBTYWZlU3RyaW5nLnByb3RvdHlwZS50b0hUTUwgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAnJyArIHRoaXMuc3RyaW5nO1xufTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gU2FmZVN0cmluZztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk0dUx5NHVMeTR1TDJ4cFlpOW9ZVzVrYkdWaVlYSnpMM05oWm1VdGMzUnlhVzVuTG1weklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJN096czdRVUZEUVN4VFFVRlRMRlZCUVZVc1EwRkJReXhOUVVGTkxFVkJRVVU3UVVGRE1VSXNUVUZCU1N4RFFVRkRMRTFCUVUwc1IwRkJSeXhOUVVGTkxFTkJRVU03UTBGRGRFSTdPMEZCUlVRc1ZVRkJWU3hEUVVGRExGTkJRVk1zUTBGQlF5eFJRVUZSTEVkQlFVY3NWVUZCVlN4RFFVRkRMRk5CUVZNc1EwRkJReXhOUVVGTkxFZEJRVWNzV1VGQlZ6dEJRVU4yUlN4VFFVRlBMRVZCUVVVc1IwRkJSeXhKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZETzBOQlEzcENMRU5CUVVNN08zRkNRVVZoTEZWQlFWVWlMQ0ptYVd4bElqb2ljMkZtWlMxemRISnBibWN1YW5NaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SXZMeUJDZFdsc1pDQnZkWFFnYjNWeUlHSmhjMmxqSUZOaFptVlRkSEpwYm1jZ2RIbHdaVnh1Wm5WdVkzUnBiMjRnVTJGbVpWTjBjbWx1WnloemRISnBibWNwSUh0Y2JpQWdkR2hwY3k1emRISnBibWNnUFNCemRISnBibWM3WEc1OVhHNWNibE5oWm1WVGRISnBibWN1Y0hKdmRHOTBlWEJsTG5SdlUzUnlhVzVuSUQwZ1UyRm1aVk4wY21sdVp5NXdjbTkwYjNSNWNHVXVkRzlJVkUxTUlEMGdablZ1WTNScGIyNG9LU0I3WEc0Z0lISmxkSFZ5YmlBbkp5QXJJSFJvYVhNdWMzUnlhVzVuTzF4dWZUdGNibHh1Wlhod2IzSjBJR1JsWm1GMWJIUWdVMkZtWlZOMGNtbHVaenRjYmlKZGZRPT1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY2hlY2tSZXZpc2lvbiA9IGNoZWNrUmV2aXNpb247XG5leHBvcnRzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG5leHBvcnRzLndyYXBQcm9ncmFtID0gd3JhcFByb2dyYW07XG5leHBvcnRzLnJlc29sdmVQYXJ0aWFsID0gcmVzb2x2ZVBhcnRpYWw7XG5leHBvcnRzLmludm9rZVBhcnRpYWwgPSBpbnZva2VQYXJ0aWFsO1xuZXhwb3J0cy5ub29wID0gbm9vcDtcbi8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuLy8gaXN0YW5idWwgaWdub3JlIG5leHRcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09ialsnZGVmYXVsdCddID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIFV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3V0aWxzKTtcblxudmFyIF9leGNlcHRpb24gPSByZXF1aXJlKCcuL2V4Y2VwdGlvbicpO1xuXG52YXIgX2V4Y2VwdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leGNlcHRpb24pO1xuXG52YXIgX2Jhc2UgPSByZXF1aXJlKCcuL2Jhc2UnKTtcblxuZnVuY3Rpb24gY2hlY2tSZXZpc2lvbihjb21waWxlckluZm8pIHtcbiAgdmFyIGNvbXBpbGVyUmV2aXNpb24gPSBjb21waWxlckluZm8gJiYgY29tcGlsZXJJbmZvWzBdIHx8IDEsXG4gICAgICBjdXJyZW50UmV2aXNpb24gPSBfYmFzZS5DT01QSUxFUl9SRVZJU0lPTjtcblxuICBpZiAoY29tcGlsZXJSZXZpc2lvbiAhPT0gY3VycmVudFJldmlzaW9uKSB7XG4gICAgaWYgKGNvbXBpbGVyUmV2aXNpb24gPCBjdXJyZW50UmV2aXNpb24pIHtcbiAgICAgIHZhciBydW50aW1lVmVyc2lvbnMgPSBfYmFzZS5SRVZJU0lPTl9DSEFOR0VTW2N1cnJlbnRSZXZpc2lvbl0sXG4gICAgICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IF9iYXNlLlJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG4gICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnVGVtcGxhdGUgd2FzIHByZWNvbXBpbGVkIHdpdGggYW4gb2xkZXIgdmVyc2lvbiBvZiBIYW5kbGViYXJzIHRoYW4gdGhlIGN1cnJlbnQgcnVudGltZS4gJyArICdQbGVhc2UgdXBkYXRlIHlvdXIgcHJlY29tcGlsZXIgdG8gYSBuZXdlciB2ZXJzaW9uICgnICsgcnVudGltZVZlcnNpb25zICsgJykgb3IgZG93bmdyYWRlIHlvdXIgcnVudGltZSB0byBhbiBvbGRlciB2ZXJzaW9uICgnICsgY29tcGlsZXJWZXJzaW9ucyArICcpLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVc2UgdGhlIGVtYmVkZGVkIHZlcnNpb24gaW5mbyBzaW5jZSB0aGUgcnVudGltZSBkb2Vzbid0IGtub3cgYWJvdXQgdGhpcyByZXZpc2lvbiB5ZXRcbiAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhIG5ld2VyIHZlcnNpb24gb2YgSGFuZGxlYmFycyB0aGFuIHRoZSBjdXJyZW50IHJ1bnRpbWUuICcgKyAnUGxlYXNlIHVwZGF0ZSB5b3VyIHJ1bnRpbWUgdG8gYSBuZXdlciB2ZXJzaW9uICgnICsgY29tcGlsZXJJbmZvWzFdICsgJykuJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHRlbXBsYXRlKHRlbXBsYXRlU3BlYywgZW52KSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICghZW52KSB7XG4gICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ05vIGVudmlyb25tZW50IHBhc3NlZCB0byB0ZW1wbGF0ZScpO1xuICB9XG4gIGlmICghdGVtcGxhdGVTcGVjIHx8ICF0ZW1wbGF0ZVNwZWMubWFpbikge1xuICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdVbmtub3duIHRlbXBsYXRlIG9iamVjdDogJyArIHR5cGVvZiB0ZW1wbGF0ZVNwZWMpO1xuICB9XG5cbiAgdGVtcGxhdGVTcGVjLm1haW4uZGVjb3JhdG9yID0gdGVtcGxhdGVTcGVjLm1haW5fZDtcblxuICAvLyBOb3RlOiBVc2luZyBlbnYuVk0gcmVmZXJlbmNlcyByYXRoZXIgdGhhbiBsb2NhbCB2YXIgcmVmZXJlbmNlcyB0aHJvdWdob3V0IHRoaXMgc2VjdGlvbiB0byBhbGxvd1xuICAvLyBmb3IgZXh0ZXJuYWwgdXNlcnMgdG8gb3ZlcnJpZGUgdGhlc2UgYXMgcHN1ZWRvLXN1cHBvcnRlZCBBUElzLlxuICBlbnYuVk0uY2hlY2tSZXZpc2lvbih0ZW1wbGF0ZVNwZWMuY29tcGlsZXIpO1xuXG4gIGZ1bmN0aW9uIGludm9rZVBhcnRpYWxXcmFwcGVyKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgICBjb250ZXh0ID0gVXRpbHMuZXh0ZW5kKHt9LCBjb250ZXh0LCBvcHRpb25zLmhhc2gpO1xuICAgICAgaWYgKG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIG9wdGlvbnMuaWRzWzBdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwYXJ0aWFsID0gZW52LlZNLnJlc29sdmVQYXJ0aWFsLmNhbGwodGhpcywgcGFydGlhbCwgY29udGV4dCwgb3B0aW9ucyk7XG4gICAgdmFyIHJlc3VsdCA9IGVudi5WTS5pbnZva2VQYXJ0aWFsLmNhbGwodGhpcywgcGFydGlhbCwgY29udGV4dCwgb3B0aW9ucyk7XG5cbiAgICBpZiAocmVzdWx0ID09IG51bGwgJiYgZW52LmNvbXBpbGUpIHtcbiAgICAgIG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXSA9IGVudi5jb21waWxlKHBhcnRpYWwsIHRlbXBsYXRlU3BlYy5jb21waWxlck9wdGlvbnMsIGVudik7XG4gICAgICByZXN1bHQgPSBvcHRpb25zLnBhcnRpYWxzW29wdGlvbnMubmFtZV0oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgaWYgKG9wdGlvbnMuaW5kZW50KSB7XG4gICAgICAgIHZhciBsaW5lcyA9IHJlc3VsdC5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFsaW5lc1tpXSAmJiBpICsgMSA9PT0gbCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGluZXNbaV0gPSBvcHRpb25zLmluZGVudCArIGxpbmVzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IF9leGNlcHRpb24yWydkZWZhdWx0J10oJ1RoZSBwYXJ0aWFsICcgKyBvcHRpb25zLm5hbWUgKyAnIGNvdWxkIG5vdCBiZSBjb21waWxlZCB3aGVuIHJ1bm5pbmcgaW4gcnVudGltZS1vbmx5IG1vZGUnKTtcbiAgICB9XG4gIH1cblxuICAvLyBKdXN0IGFkZCB3YXRlclxuICB2YXIgY29udGFpbmVyID0ge1xuICAgIHN0cmljdDogZnVuY3Rpb24gc3RyaWN0KG9iaiwgbmFtZSkge1xuICAgICAgaWYgKCEobmFtZSBpbiBvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBfZXhjZXB0aW9uMlsnZGVmYXVsdCddKCdcIicgKyBuYW1lICsgJ1wiIG5vdCBkZWZpbmVkIGluICcgKyBvYmopO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialtuYW1lXTtcbiAgICB9LFxuICAgIGxvb2t1cDogZnVuY3Rpb24gbG9va3VwKGRlcHRocywgbmFtZSkge1xuICAgICAgdmFyIGxlbiA9IGRlcHRocy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChkZXB0aHNbaV0gJiYgZGVwdGhzW2ldW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZGVwdGhzW2ldW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBsYW1iZGE6IGZ1bmN0aW9uIGxhbWJkYShjdXJyZW50LCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGN1cnJlbnQgPT09ICdmdW5jdGlvbicgPyBjdXJyZW50LmNhbGwoY29udGV4dCkgOiBjdXJyZW50O1xuICAgIH0sXG5cbiAgICBlc2NhcGVFeHByZXNzaW9uOiBVdGlscy5lc2NhcGVFeHByZXNzaW9uLFxuICAgIGludm9rZVBhcnRpYWw6IGludm9rZVBhcnRpYWxXcmFwcGVyLFxuXG4gICAgZm46IGZ1bmN0aW9uIGZuKGkpIHtcbiAgICAgIHZhciByZXQgPSB0ZW1wbGF0ZVNwZWNbaV07XG4gICAgICByZXQuZGVjb3JhdG9yID0gdGVtcGxhdGVTcGVjW2kgKyAnX2QnXTtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSxcblxuICAgIHByb2dyYW1zOiBbXSxcbiAgICBwcm9ncmFtOiBmdW5jdGlvbiBwcm9ncmFtKGksIGRhdGEsIGRlY2xhcmVkQmxvY2tQYXJhbXMsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICAgIHZhciBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0sXG4gICAgICAgICAgZm4gPSB0aGlzLmZuKGkpO1xuICAgICAgaWYgKGRhdGEgfHwgZGVwdGhzIHx8IGJsb2NrUGFyYW1zIHx8IGRlY2xhcmVkQmxvY2tQYXJhbXMpIHtcbiAgICAgICAgcHJvZ3JhbVdyYXBwZXIgPSB3cmFwUHJvZ3JhbSh0aGlzLCBpLCBmbiwgZGF0YSwgZGVjbGFyZWRCbG9ja1BhcmFtcywgYmxvY2tQYXJhbXMsIGRlcHRocyk7XG4gICAgICB9IGVsc2UgaWYgKCFwcm9ncmFtV3JhcHBlcikge1xuICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0gPSB3cmFwUHJvZ3JhbSh0aGlzLCBpLCBmbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvZ3JhbVdyYXBwZXI7XG4gICAgfSxcblxuICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEodmFsdWUsIGRlcHRoKSB7XG4gICAgICB3aGlsZSAodmFsdWUgJiYgZGVwdGgtLSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLl9wYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBtZXJnZTogZnVuY3Rpb24gbWVyZ2UocGFyYW0sIGNvbW1vbikge1xuICAgICAgdmFyIG9iaiA9IHBhcmFtIHx8IGNvbW1vbjtcblxuICAgICAgaWYgKHBhcmFtICYmIGNvbW1vbiAmJiBwYXJhbSAhPT0gY29tbW9uKSB7XG4gICAgICAgIG9iaiA9IFV0aWxzLmV4dGVuZCh7fSwgY29tbW9uLCBwYXJhbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICAvLyBBbiBlbXB0eSBvYmplY3QgdG8gdXNlIGFzIHJlcGxhY2VtZW50IGZvciBudWxsLWNvbnRleHRzXG4gICAgbnVsbENvbnRleHQ6IE9iamVjdC5zZWFsKHt9KSxcblxuICAgIG5vb3A6IGVudi5WTS5ub29wLFxuICAgIGNvbXBpbGVySW5mbzogdGVtcGxhdGVTcGVjLmNvbXBpbGVyXG4gIH07XG5cbiAgZnVuY3Rpb24gcmV0KGNvbnRleHQpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXG4gICAgdmFyIGRhdGEgPSBvcHRpb25zLmRhdGE7XG5cbiAgICByZXQuX3NldHVwKG9wdGlvbnMpO1xuICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsICYmIHRlbXBsYXRlU3BlYy51c2VEYXRhKSB7XG4gICAgICBkYXRhID0gaW5pdERhdGEoY29udGV4dCwgZGF0YSk7XG4gICAgfVxuICAgIHZhciBkZXB0aHMgPSB1bmRlZmluZWQsXG4gICAgICAgIGJsb2NrUGFyYW1zID0gdGVtcGxhdGVTcGVjLnVzZUJsb2NrUGFyYW1zID8gW10gOiB1bmRlZmluZWQ7XG4gICAgaWYgKHRlbXBsYXRlU3BlYy51c2VEZXB0aHMpIHtcbiAgICAgIGlmIChvcHRpb25zLmRlcHRocykge1xuICAgICAgICBkZXB0aHMgPSBjb250ZXh0ICE9IG9wdGlvbnMuZGVwdGhzWzBdID8gW2NvbnRleHRdLmNvbmNhdChvcHRpb25zLmRlcHRocykgOiBvcHRpb25zLmRlcHRocztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlcHRocyA9IFtjb250ZXh0XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWluKGNvbnRleHQgLyosIG9wdGlvbnMqLykge1xuICAgICAgcmV0dXJuICcnICsgdGVtcGxhdGVTcGVjLm1haW4oY29udGFpbmVyLCBjb250ZXh0LCBjb250YWluZXIuaGVscGVycywgY29udGFpbmVyLnBhcnRpYWxzLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKTtcbiAgICB9XG4gICAgbWFpbiA9IGV4ZWN1dGVEZWNvcmF0b3JzKHRlbXBsYXRlU3BlYy5tYWluLCBtYWluLCBjb250YWluZXIsIG9wdGlvbnMuZGVwdGhzIHx8IFtdLCBkYXRhLCBibG9ja1BhcmFtcyk7XG4gICAgcmV0dXJuIG1haW4oY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbiAgcmV0LmlzVG9wID0gdHJ1ZTtcblxuICByZXQuX3NldHVwID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMucGFydGlhbCkge1xuICAgICAgY29udGFpbmVyLmhlbHBlcnMgPSBjb250YWluZXIubWVyZ2Uob3B0aW9ucy5oZWxwZXJzLCBlbnYuaGVscGVycyk7XG5cbiAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCkge1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBjb250YWluZXIubWVyZ2Uob3B0aW9ucy5wYXJ0aWFscywgZW52LnBhcnRpYWxzKTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCB8fCB0ZW1wbGF0ZVNwZWMudXNlRGVjb3JhdG9ycykge1xuICAgICAgICBjb250YWluZXIuZGVjb3JhdG9ycyA9IGNvbnRhaW5lci5tZXJnZShvcHRpb25zLmRlY29yYXRvcnMsIGVudi5kZWNvcmF0b3JzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLmhlbHBlcnMgPSBvcHRpb25zLmhlbHBlcnM7XG4gICAgICBjb250YWluZXIucGFydGlhbHMgPSBvcHRpb25zLnBhcnRpYWxzO1xuICAgICAgY29udGFpbmVyLmRlY29yYXRvcnMgPSBvcHRpb25zLmRlY29yYXRvcnM7XG4gICAgfVxuICB9O1xuXG4gIHJldC5fY2hpbGQgPSBmdW5jdGlvbiAoaSwgZGF0YSwgYmxvY2tQYXJhbXMsIGRlcHRocykge1xuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlQmxvY2tQYXJhbXMgJiYgIWJsb2NrUGFyYW1zKSB7XG4gICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnbXVzdCBwYXNzIGJsb2NrIHBhcmFtcycpO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZURlcHRocyAmJiAhZGVwdGhzKSB7XG4gICAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnbXVzdCBwYXNzIHBhcmVudCBkZXB0aHMnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd3JhcFByb2dyYW0oY29udGFpbmVyLCBpLCB0ZW1wbGF0ZVNwZWNbaV0sIGRhdGEsIDAsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuICB9O1xuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiB3cmFwUHJvZ3JhbShjb250YWluZXIsIGksIGZuLCBkYXRhLCBkZWNsYXJlZEJsb2NrUGFyYW1zLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XG4gIGZ1bmN0aW9uIHByb2coY29udGV4dCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMV07XG5cbiAgICB2YXIgY3VycmVudERlcHRocyA9IGRlcHRocztcbiAgICBpZiAoZGVwdGhzICYmIGNvbnRleHQgIT0gZGVwdGhzWzBdICYmICEoY29udGV4dCA9PT0gY29udGFpbmVyLm51bGxDb250ZXh0ICYmIGRlcHRoc1swXSA9PT0gbnVsbCkpIHtcbiAgICAgIGN1cnJlbnREZXB0aHMgPSBbY29udGV4dF0uY29uY2F0KGRlcHRocyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZuKGNvbnRhaW5lciwgY29udGV4dCwgY29udGFpbmVyLmhlbHBlcnMsIGNvbnRhaW5lci5wYXJ0aWFscywgb3B0aW9ucy5kYXRhIHx8IGRhdGEsIGJsb2NrUGFyYW1zICYmIFtvcHRpb25zLmJsb2NrUGFyYW1zXS5jb25jYXQoYmxvY2tQYXJhbXMpLCBjdXJyZW50RGVwdGhzKTtcbiAgfVxuXG4gIHByb2cgPSBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKTtcblxuICBwcm9nLnByb2dyYW0gPSBpO1xuICBwcm9nLmRlcHRoID0gZGVwdGhzID8gZGVwdGhzLmxlbmd0aCA6IDA7XG4gIHByb2cuYmxvY2tQYXJhbXMgPSBkZWNsYXJlZEJsb2NrUGFyYW1zIHx8IDA7XG4gIHJldHVybiBwcm9nO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gIGlmICghcGFydGlhbCkge1xuICAgIGlmIChvcHRpb25zLm5hbWUgPT09ICdAcGFydGlhbC1ibG9jaycpIHtcbiAgICAgIHBhcnRpYWwgPSBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFydGlhbCA9IG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIXBhcnRpYWwuY2FsbCAmJiAhb3B0aW9ucy5uYW1lKSB7XG4gICAgLy8gVGhpcyBpcyBhIGR5bmFtaWMgcGFydGlhbCB0aGF0IHJldHVybmVkIGEgc3RyaW5nXG4gICAgb3B0aW9ucy5uYW1lID0gcGFydGlhbDtcbiAgICBwYXJ0aWFsID0gb3B0aW9ucy5wYXJ0aWFsc1twYXJ0aWFsXTtcbiAgfVxuICByZXR1cm4gcGFydGlhbDtcbn1cblxuZnVuY3Rpb24gaW52b2tlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gIC8vIFVzZSB0aGUgY3VycmVudCBjbG9zdXJlIGNvbnRleHQgdG8gc2F2ZSB0aGUgcGFydGlhbC1ibG9jayBpZiB0aGlzIHBhcnRpYWxcbiAgdmFyIGN1cnJlbnRQYXJ0aWFsQmxvY2sgPSBvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ107XG4gIG9wdGlvbnMucGFydGlhbCA9IHRydWU7XG4gIGlmIChvcHRpb25zLmlkcykge1xuICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCA9IG9wdGlvbnMuaWRzWzBdIHx8IG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aDtcbiAgfVxuXG4gIHZhciBwYXJ0aWFsQmxvY2sgPSB1bmRlZmluZWQ7XG4gIGlmIChvcHRpb25zLmZuICYmIG9wdGlvbnMuZm4gIT09IG5vb3ApIHtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgb3B0aW9ucy5kYXRhID0gX2Jhc2UuY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgIC8vIFdyYXBwZXIgZnVuY3Rpb24gdG8gZ2V0IGFjY2VzcyB0byBjdXJyZW50UGFydGlhbEJsb2NrIGZyb20gdGhlIGNsb3N1cmVcbiAgICAgIHZhciBmbiA9IG9wdGlvbnMuZm47XG4gICAgICBwYXJ0aWFsQmxvY2sgPSBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXSA9IGZ1bmN0aW9uIHBhcnRpYWxCbG9ja1dyYXBwZXIoY29udGV4dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzFdO1xuXG4gICAgICAgIC8vIFJlc3RvcmUgdGhlIHBhcnRpYWwtYmxvY2sgZnJvbSB0aGUgY2xvc3VyZSBmb3IgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgYmxvY2tcbiAgICAgICAgLy8gaS5lLiB0aGUgcGFydCBpbnNpZGUgdGhlIGJsb2NrIG9mIHRoZSBwYXJ0aWFsIGNhbGwuXG4gICAgICAgIG9wdGlvbnMuZGF0YSA9IF9iYXNlLmNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgICAgIG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddID0gY3VycmVudFBhcnRpYWxCbG9jaztcbiAgICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgfTtcbiAgICAgIGlmIChmbi5wYXJ0aWFscykge1xuICAgICAgICBvcHRpb25zLnBhcnRpYWxzID0gVXRpbHMuZXh0ZW5kKHt9LCBvcHRpb25zLnBhcnRpYWxzLCBmbi5wYXJ0aWFscyk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgfVxuXG4gIGlmIChwYXJ0aWFsID09PSB1bmRlZmluZWQgJiYgcGFydGlhbEJsb2NrKSB7XG4gICAgcGFydGlhbCA9IHBhcnRpYWxCbG9jaztcbiAgfVxuXG4gIGlmIChwYXJ0aWFsID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgX2V4Y2VwdGlvbjJbJ2RlZmF1bHQnXSgnVGhlIHBhcnRpYWwgJyArIG9wdGlvbnMubmFtZSArICcgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gIH0gZWxzZSBpZiAocGFydGlhbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIHBhcnRpYWwoY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9vcCgpIHtcbiAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBpbml0RGF0YShjb250ZXh0LCBkYXRhKSB7XG4gIGlmICghZGF0YSB8fCAhKCdyb290JyBpbiBkYXRhKSkge1xuICAgIGRhdGEgPSBkYXRhID8gX2Jhc2UuY3JlYXRlRnJhbWUoZGF0YSkgOiB7fTtcbiAgICBkYXRhLnJvb3QgPSBjb250ZXh0O1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKSB7XG4gIGlmIChmbi5kZWNvcmF0b3IpIHtcbiAgICB2YXIgcHJvcHMgPSB7fTtcbiAgICBwcm9nID0gZm4uZGVjb3JhdG9yKHByb2csIHByb3BzLCBjb250YWluZXIsIGRlcHRocyAmJiBkZXB0aHNbMF0sIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuICAgIFV0aWxzLmV4dGVuZChwcm9nLCBwcm9wcyk7XG4gIH1cbiAgcmV0dXJuIHByb2c7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwzSjFiblJwYldVdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenM3T3pzN096czdPenM3T3pzN2NVSkJRWFZDTEZOQlFWTTdPMGxCUVhCQ0xFdEJRVXM3TzNsQ1FVTkxMR0ZCUVdFN096czdiMEpCUXpoQ0xGRkJRVkU3TzBGQlJXeEZMRk5CUVZNc1lVRkJZU3hEUVVGRExGbEJRVmtzUlVGQlJUdEJRVU14UXl4TlFVRk5MR2RDUVVGblFpeEhRVUZITEZsQlFWa3NTVUZCU1N4WlFVRlpMRU5CUVVNc1EwRkJReXhEUVVGRExFbEJRVWtzUTBGQlF6dE5RVU4yUkN4bFFVRmxMREJDUVVGdlFpeERRVUZET3p0QlFVVXhReXhOUVVGSkxHZENRVUZuUWl4TFFVRkxMR1ZCUVdVc1JVRkJSVHRCUVVONFF5eFJRVUZKTEdkQ1FVRm5RaXhIUVVGSExHVkJRV1VzUlVGQlJUdEJRVU4wUXl4VlFVRk5MR1ZCUVdVc1IwRkJSeXgxUWtGQmFVSXNaVUZCWlN4RFFVRkRPMVZCUTI1RUxHZENRVUZuUWl4SFFVRkhMSFZDUVVGcFFpeG5Ra0ZCWjBJc1EwRkJReXhEUVVGRE8wRkJRelZFTEZsQlFVMHNNa0pCUVdNc2VVWkJRWGxHTEVkQlEzWkhMSEZFUVVGeFJDeEhRVUZITEdWQlFXVXNSMEZCUnl4dFJFRkJiVVFzUjBGQlJ5eG5Ra0ZCWjBJc1IwRkJSeXhKUVVGSkxFTkJRVU1zUTBGQlF6dExRVU5vU3l4TlFVRk5PenRCUVVWTUxGbEJRVTBzTWtKQlFXTXNkMFpCUVhkR0xFZEJRM1JITEdsRVFVRnBSQ3hIUVVGSExGbEJRVmtzUTBGQlF5eERRVUZETEVOQlFVTXNSMEZCUnl4SlFVRkpMRU5CUVVNc1EwRkJRenRMUVVOdVJqdEhRVU5HTzBOQlEwWTdPMEZCUlUwc1UwRkJVeXhSUVVGUkxFTkJRVU1zV1VGQldTeEZRVUZGTEVkQlFVY3NSVUZCUlRzN1FVRkZNVU1zVFVGQlNTeERRVUZETEVkQlFVY3NSVUZCUlR0QlFVTlNMRlZCUVUwc01rSkJRV01zYlVOQlFXMURMRU5CUVVNc1EwRkJRenRIUVVNeFJEdEJRVU5FTEUxQlFVa3NRMEZCUXl4WlFVRlpMRWxCUVVrc1EwRkJReXhaUVVGWkxFTkJRVU1zU1VGQlNTeEZRVUZGTzBGQlEzWkRMRlZCUVUwc01rSkJRV01zTWtKQlFUSkNMRWRCUVVjc1QwRkJUeXhaUVVGWkxFTkJRVU1zUTBGQlF6dEhRVU40UlRzN1FVRkZSQ3hqUVVGWkxFTkJRVU1zU1VGQlNTeERRVUZETEZOQlFWTXNSMEZCUnl4WlFVRlpMRU5CUVVNc1RVRkJUU3hEUVVGRE96czdPMEZCU1d4RUxFdEJRVWNzUTBGQlF5eEZRVUZGTEVOQlFVTXNZVUZCWVN4RFFVRkRMRmxCUVZrc1EwRkJReXhSUVVGUkxFTkJRVU1zUTBGQlF6czdRVUZGTlVNc1YwRkJVeXh2UWtGQmIwSXNRMEZCUXl4UFFVRlBMRVZCUVVVc1QwRkJUeXhGUVVGRkxFOUJRVThzUlVGQlJUdEJRVU4yUkN4UlFVRkpMRTlCUVU4c1EwRkJReXhKUVVGSkxFVkJRVVU3UVVGRGFFSXNZVUZCVHl4SFFVRkhMRXRCUVVzc1EwRkJReXhOUVVGTkxFTkJRVU1zUlVGQlJTeEZRVUZGTEU5QlFVOHNSVUZCUlN4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03UVVGRGJFUXNWVUZCU1N4UFFVRlBMRU5CUVVNc1IwRkJSeXhGUVVGRk8wRkJRMllzWlVGQlR5eERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRMRU5CUVVNc1IwRkJSeXhKUVVGSkxFTkJRVU03VDBGRGRrSTdTMEZEUmpzN1FVRkZSQ3hYUVVGUExFZEJRVWNzUjBGQlJ5eERRVUZETEVWQlFVVXNRMEZCUXl4alFVRmpMRU5CUVVNc1NVRkJTU3hEUVVGRExFbEJRVWtzUlVGQlJTeFBRVUZQTEVWQlFVVXNUMEZCVHl4RlFVRkZMRTlCUVU4c1EwRkJReXhEUVVGRE8wRkJRM1JGTEZGQlFVa3NUVUZCVFN4SFFVRkhMRWRCUVVjc1EwRkJReXhGUVVGRkxFTkJRVU1zWVVGQllTeERRVUZETEVsQlFVa3NRMEZCUXl4SlFVRkpMRVZCUVVVc1QwRkJUeXhGUVVGRkxFOUJRVThzUlVGQlJTeFBRVUZQTEVOQlFVTXNRMEZCUXpzN1FVRkZlRVVzVVVGQlNTeE5RVUZOTEVsQlFVa3NTVUZCU1N4SlFVRkpMRWRCUVVjc1EwRkJReXhQUVVGUExFVkJRVVU3UVVGRGFrTXNZVUZCVHl4RFFVRkRMRkZCUVZFc1EwRkJReXhQUVVGUExFTkJRVU1zU1VGQlNTeERRVUZETEVkQlFVY3NSMEZCUnl4RFFVRkRMRTlCUVU4c1EwRkJReXhQUVVGUExFVkJRVVVzV1VGQldTeERRVUZETEdWQlFXVXNSVUZCUlN4SFFVRkhMRU5CUVVNc1EwRkJRenRCUVVONlJpeFpRVUZOTEVkQlFVY3NUMEZCVHl4RFFVRkRMRkZCUVZFc1EwRkJReXhQUVVGUExFTkJRVU1zU1VGQlNTeERRVUZETEVOQlFVTXNUMEZCVHl4RlFVRkZMRTlCUVU4c1EwRkJReXhEUVVGRE8wdEJRek5FTzBGQlEwUXNVVUZCU1N4TlFVRk5MRWxCUVVrc1NVRkJTU3hGUVVGRk8wRkJRMnhDTEZWQlFVa3NUMEZCVHl4RFFVRkRMRTFCUVUwc1JVRkJSVHRCUVVOc1FpeFpRVUZKTEV0QlFVc3NSMEZCUnl4TlFVRk5MRU5CUVVNc1MwRkJTeXhEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzBGQlF5OUNMR0ZCUVVzc1NVRkJTU3hEUVVGRExFZEJRVWNzUTBGQlF5eEZRVUZGTEVOQlFVTXNSMEZCUnl4TFFVRkxMRU5CUVVNc1RVRkJUU3hGUVVGRkxFTkJRVU1zUjBGQlJ5eERRVUZETEVWQlFVVXNRMEZCUXl4RlFVRkZMRVZCUVVVN1FVRkROVU1zWTBGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4RFFVRkRMRU5CUVVNc1NVRkJTU3hEUVVGRExFZEJRVWNzUTBGQlF5eExRVUZMTEVOQlFVTXNSVUZCUlR0QlFVTTFRaXhyUWtGQlRUdFhRVU5RT3p0QlFVVkVMR1ZCUVVzc1EwRkJReXhEUVVGRExFTkJRVU1zUjBGQlJ5eFBRVUZQTEVOQlFVTXNUVUZCVFN4SFFVRkhMRXRCUVVzc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF6dFRRVU4wUXp0QlFVTkVMR05CUVUwc1IwRkJSeXhMUVVGTExFTkJRVU1zU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRPMDlCUXpOQ08wRkJRMFFzWVVGQlR5eE5RVUZOTEVOQlFVTTdTMEZEWml4TlFVRk5PMEZCUTB3c1dVRkJUU3d5UWtGQll5eGpRVUZqTEVkQlFVY3NUMEZCVHl4RFFVRkRMRWxCUVVrc1IwRkJSeXd3UkVGQk1FUXNRMEZCUXl4RFFVRkRPMHRCUTJwSU8wZEJRMFk3T3p0QlFVZEVMRTFCUVVrc1UwRkJVeXhIUVVGSE8wRkJRMlFzVlVGQlRTeEZRVUZGTEdkQ1FVRlRMRWRCUVVjc1JVRkJSU3hKUVVGSkxFVkJRVVU3UVVGRE1VSXNWVUZCU1N4RlFVRkZMRWxCUVVrc1NVRkJTU3hIUVVGSExFTkJRVUVzUVVGQlF5eEZRVUZGTzBGQlEyeENMR05CUVUwc01rSkJRV01zUjBGQlJ5eEhRVUZITEVsQlFVa3NSMEZCUnl4dFFrRkJiVUlzUjBGQlJ5eEhRVUZITEVOQlFVTXNRMEZCUXp0UFFVTTNSRHRCUVVORUxHRkJRVThzUjBGQlJ5eERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRPMHRCUTJ4Q08wRkJRMFFzVlVGQlRTeEZRVUZGTEdkQ1FVRlRMRTFCUVUwc1JVRkJSU3hKUVVGSkxFVkJRVVU3UVVGRE4wSXNWVUZCVFN4SFFVRkhMRWRCUVVjc1RVRkJUU3hEUVVGRExFMUJRVTBzUTBGQlF6dEJRVU14UWl4WFFVRkxMRWxCUVVrc1EwRkJReXhIUVVGSExFTkJRVU1zUlVGQlJTeERRVUZETEVkQlFVY3NSMEZCUnl4RlFVRkZMRU5CUVVNc1JVRkJSU3hGUVVGRk8wRkJRelZDTEZsQlFVa3NUVUZCVFN4RFFVRkRMRU5CUVVNc1EwRkJReXhKUVVGSkxFMUJRVTBzUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4SlFVRkpMRU5CUVVNc1NVRkJTU3hKUVVGSkxFVkJRVVU3UVVGRGVFTXNhVUpCUVU4c1RVRkJUU3hEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRPMU5CUTNoQ08wOUJRMFk3UzBGRFJqdEJRVU5FTEZWQlFVMHNSVUZCUlN4blFrRkJVeXhQUVVGUExFVkJRVVVzVDBGQlR5eEZRVUZGTzBGQlEycERMR0ZCUVU4c1QwRkJUeXhQUVVGUExFdEJRVXNzVlVGQlZTeEhRVUZITEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExFZEJRVWNzVDBGQlR5eERRVUZETzB0QlEzaEZPenRCUVVWRUxHOUNRVUZuUWl4RlFVRkZMRXRCUVVzc1EwRkJReXhuUWtGQlowSTdRVUZEZUVNc2FVSkJRV0VzUlVGQlJTeHZRa0ZCYjBJN08wRkJSVzVETEUxQlFVVXNSVUZCUlN4WlFVRlRMRU5CUVVNc1JVRkJSVHRCUVVOa0xGVkJRVWtzUjBGQlJ5eEhRVUZITEZsQlFWa3NRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJRenRCUVVNeFFpeFRRVUZITEVOQlFVTXNVMEZCVXl4SFFVRkhMRmxCUVZrc1EwRkJReXhEUVVGRExFZEJRVWNzU1VGQlNTeERRVUZETEVOQlFVTTdRVUZEZGtNc1lVRkJUeXhIUVVGSExFTkJRVU03UzBGRFdqczdRVUZGUkN4WlFVRlJMRVZCUVVVc1JVRkJSVHRCUVVOYUxGZEJRVThzUlVGQlJTeHBRa0ZCVXl4RFFVRkRMRVZCUVVVc1NVRkJTU3hGUVVGRkxHMUNRVUZ0UWl4RlFVRkZMRmRCUVZjc1JVRkJSU3hOUVVGTkxFVkJRVVU3UVVGRGJrVXNWVUZCU1N4alFVRmpMRWRCUVVjc1NVRkJTU3hEUVVGRExGRkJRVkVzUTBGQlF5eERRVUZETEVOQlFVTTdWVUZEYWtNc1JVRkJSU3hIUVVGSExFbEJRVWtzUTBGQlF5eEZRVUZGTEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNN1FVRkRjRUlzVlVGQlNTeEpRVUZKTEVsQlFVa3NUVUZCVFN4SlFVRkpMRmRCUVZjc1NVRkJTU3h0UWtGQmJVSXNSVUZCUlR0QlFVTjRSQ3h6UWtGQll5eEhRVUZITEZkQlFWY3NRMEZCUXl4SlFVRkpMRVZCUVVVc1EwRkJReXhGUVVGRkxFVkJRVVVzUlVGQlJTeEpRVUZKTEVWQlFVVXNiVUpCUVcxQ0xFVkJRVVVzVjBGQlZ5eEZRVUZGTEUxQlFVMHNRMEZCUXl4RFFVRkRPMDlCUXpOR0xFMUJRVTBzU1VGQlNTeERRVUZETEdOQlFXTXNSVUZCUlR0QlFVTXhRaXh6UWtGQll5eEhRVUZITEVsQlFVa3NRMEZCUXl4UlFVRlJMRU5CUVVNc1EwRkJReXhEUVVGRExFZEJRVWNzVjBGQlZ5eERRVUZETEVsQlFVa3NSVUZCUlN4RFFVRkRMRVZCUVVVc1JVRkJSU3hEUVVGRExFTkJRVU03VDBGRE9VUTdRVUZEUkN4aFFVRlBMR05CUVdNc1EwRkJRenRMUVVOMlFqczdRVUZGUkN4UlFVRkpMRVZCUVVVc1kwRkJVeXhMUVVGTExFVkJRVVVzUzBGQlN5eEZRVUZGTzBGQlF6TkNMR0ZCUVU4c1MwRkJTeXhKUVVGSkxFdEJRVXNzUlVGQlJTeEZRVUZGTzBGQlEzWkNMR0ZCUVVzc1IwRkJSeXhMUVVGTExFTkJRVU1zVDBGQlR5eERRVUZETzA5QlEzWkNPMEZCUTBRc1lVRkJUeXhMUVVGTExFTkJRVU03UzBGRFpEdEJRVU5FTEZOQlFVc3NSVUZCUlN4bFFVRlRMRXRCUVVzc1JVRkJSU3hOUVVGTkxFVkJRVVU3UVVGRE4wSXNWVUZCU1N4SFFVRkhMRWRCUVVjc1MwRkJTeXhKUVVGSkxFMUJRVTBzUTBGQlF6czdRVUZGTVVJc1ZVRkJTU3hMUVVGTExFbEJRVWtzVFVGQlRTeEpRVUZMTEV0QlFVc3NTMEZCU3l4TlFVRk5MRUZCUVVNc1JVRkJSVHRCUVVONlF5eFhRVUZITEVkQlFVY3NTMEZCU3l4RFFVRkRMRTFCUVUwc1EwRkJReXhGUVVGRkxFVkJRVVVzVFVGQlRTeEZRVUZGTEV0QlFVc3NRMEZCUXl4RFFVRkRPMDlCUTNaRE96dEJRVVZFTEdGQlFVOHNSMEZCUnl4RFFVRkRPMHRCUTFvN08wRkJSVVFzWlVGQlZ5eEZRVUZGTEUxQlFVMHNRMEZCUXl4SlFVRkpMRU5CUVVNc1JVRkJSU3hEUVVGRE96dEJRVVUxUWl4UlFVRkpMRVZCUVVVc1IwRkJSeXhEUVVGRExFVkJRVVVzUTBGQlF5eEpRVUZKTzBGQlEycENMR2RDUVVGWkxFVkJRVVVzV1VGQldTeERRVUZETEZGQlFWRTdSMEZEY0VNc1EwRkJRenM3UVVGRlJpeFhRVUZUTEVkQlFVY3NRMEZCUXl4UFFVRlBMRVZCUVdkQ08xRkJRV1FzVDBGQlR5eDVSRUZCUnl4RlFVRkZPenRCUVVOb1F5eFJRVUZKTEVsQlFVa3NSMEZCUnl4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRE96dEJRVVY0UWl4UFFVRkhMRU5CUVVNc1RVRkJUU3hEUVVGRExFOUJRVThzUTBGQlF5eERRVUZETzBGQlEzQkNMRkZCUVVrc1EwRkJReXhQUVVGUExFTkJRVU1zVDBGQlR5eEpRVUZKTEZsQlFWa3NRMEZCUXl4UFFVRlBMRVZCUVVVN1FVRkROVU1zVlVGQlNTeEhRVUZITEZGQlFWRXNRMEZCUXl4UFFVRlBMRVZCUVVVc1NVRkJTU3hEUVVGRExFTkJRVU03UzBGRGFFTTdRVUZEUkN4UlFVRkpMRTFCUVUwc1dVRkJRVHRSUVVOT0xGZEJRVmNzUjBGQlJ5eFpRVUZaTEVOQlFVTXNZMEZCWXl4SFFVRkhMRVZCUVVVc1IwRkJSeXhUUVVGVExFTkJRVU03UVVGREwwUXNVVUZCU1N4WlFVRlpMRU5CUVVNc1UwRkJVeXhGUVVGRk8wRkJRekZDTEZWQlFVa3NUMEZCVHl4RFFVRkRMRTFCUVUwc1JVRkJSVHRCUVVOc1FpeGpRVUZOTEVkQlFVY3NUMEZCVHl4SlFVRkpMRTlCUVU4c1EwRkJReXhOUVVGTkxFTkJRVU1zUTBGQlF5eERRVUZETEVkQlFVY3NRMEZCUXl4UFFVRlBMRU5CUVVNc1EwRkJReXhOUVVGTkxFTkJRVU1zVDBGQlR5eERRVUZETEUxQlFVMHNRMEZCUXl4SFFVRkhMRTlCUVU4c1EwRkJReXhOUVVGTkxFTkJRVU03VDBGRE0wWXNUVUZCVFR0QlFVTk1MR05CUVUwc1IwRkJSeXhEUVVGRExFOUJRVThzUTBGQlF5eERRVUZETzA5QlEzQkNPMHRCUTBZN08wRkJSVVFzWVVGQlV5eEpRVUZKTEVOQlFVTXNUMEZCVHl4blFrRkJaVHRCUVVOc1F5eGhRVUZQTEVWQlFVVXNSMEZCUnl4WlFVRlpMRU5CUVVNc1NVRkJTU3hEUVVGRExGTkJRVk1zUlVGQlJTeFBRVUZQTEVWQlFVVXNVMEZCVXl4RFFVRkRMRTlCUVU4c1JVRkJSU3hUUVVGVExFTkJRVU1zVVVGQlVTeEZRVUZGTEVsQlFVa3NSVUZCUlN4WFFVRlhMRVZCUVVVc1RVRkJUU3hEUVVGRExFTkJRVU03UzBGRGNrZzdRVUZEUkN4UlFVRkpMRWRCUVVjc2FVSkJRV2xDTEVOQlFVTXNXVUZCV1N4RFFVRkRMRWxCUVVrc1JVRkJSU3hKUVVGSkxFVkJRVVVzVTBGQlV5eEZRVUZGTEU5QlFVOHNRMEZCUXl4TlFVRk5MRWxCUVVrc1JVRkJSU3hGUVVGRkxFbEJRVWtzUlVGQlJTeFhRVUZYTEVOQlFVTXNRMEZCUXp0QlFVTjBSeXhYUVVGUExFbEJRVWtzUTBGQlF5eFBRVUZQTEVWQlFVVXNUMEZCVHl4RFFVRkRMRU5CUVVNN1IwRkRMMEk3UVVGRFJDeExRVUZITEVOQlFVTXNTMEZCU3l4SFFVRkhMRWxCUVVrc1EwRkJRenM3UVVGRmFrSXNTMEZCUnl4RFFVRkRMRTFCUVUwc1IwRkJSeXhWUVVGVExFOUJRVThzUlVGQlJUdEJRVU0zUWl4UlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExFOUJRVThzUlVGQlJUdEJRVU53UWl4bFFVRlRMRU5CUVVNc1QwRkJUeXhIUVVGSExGTkJRVk1zUTBGQlF5eExRVUZMTEVOQlFVTXNUMEZCVHl4RFFVRkRMRTlCUVU4c1JVRkJSU3hIUVVGSExFTkJRVU1zVDBGQlR5eERRVUZETEVOQlFVTTdPMEZCUld4RkxGVkJRVWtzV1VGQldTeERRVUZETEZWQlFWVXNSVUZCUlR0QlFVTXpRaXhwUWtGQlV5eERRVUZETEZGQlFWRXNSMEZCUnl4VFFVRlRMRU5CUVVNc1MwRkJTeXhEUVVGRExFOUJRVThzUTBGQlF5eFJRVUZSTEVWQlFVVXNSMEZCUnl4RFFVRkRMRkZCUVZFc1EwRkJReXhEUVVGRE8wOUJRM1JGTzBGQlEwUXNWVUZCU1N4WlFVRlpMRU5CUVVNc1ZVRkJWU3hKUVVGSkxGbEJRVmtzUTBGQlF5eGhRVUZoTEVWQlFVVTdRVUZEZWtRc2FVSkJRVk1zUTBGQlF5eFZRVUZWTEVkQlFVY3NVMEZCVXl4RFFVRkRMRXRCUVVzc1EwRkJReXhQUVVGUExFTkJRVU1zVlVGQlZTeEZRVUZGTEVkQlFVY3NRMEZCUXl4VlFVRlZMRU5CUVVNc1EwRkJRenRQUVVNMVJUdExRVU5HTEUxQlFVMDdRVUZEVEN4bFFVRlRMRU5CUVVNc1QwRkJUeXhIUVVGSExFOUJRVThzUTBGQlF5eFBRVUZQTEVOQlFVTTdRVUZEY0VNc1pVRkJVeXhEUVVGRExGRkJRVkVzUjBGQlJ5eFBRVUZQTEVOQlFVTXNVVUZCVVN4RFFVRkRPMEZCUTNSRExHVkJRVk1zUTBGQlF5eFZRVUZWTEVkQlFVY3NUMEZCVHl4RFFVRkRMRlZCUVZVc1EwRkJRenRMUVVNelF6dEhRVU5HTEVOQlFVTTdPMEZCUlVZc1MwRkJSeXhEUVVGRExFMUJRVTBzUjBGQlJ5eFZRVUZUTEVOQlFVTXNSVUZCUlN4SlFVRkpMRVZCUVVVc1YwRkJWeXhGUVVGRkxFMUJRVTBzUlVGQlJUdEJRVU5zUkN4UlFVRkpMRmxCUVZrc1EwRkJReXhqUVVGakxFbEJRVWtzUTBGQlF5eFhRVUZYTEVWQlFVVTdRVUZETDBNc1dVRkJUU3d5UWtGQll5eDNRa0ZCZDBJc1EwRkJReXhEUVVGRE8wdEJReTlETzBGQlEwUXNVVUZCU1N4WlFVRlpMRU5CUVVNc1UwRkJVeXhKUVVGSkxFTkJRVU1zVFVGQlRTeEZRVUZGTzBGQlEzSkRMRmxCUVUwc01rSkJRV01zZVVKQlFYbENMRU5CUVVNc1EwRkJRenRMUVVOb1JEczdRVUZGUkN4WFFVRlBMRmRCUVZjc1EwRkJReXhUUVVGVExFVkJRVVVzUTBGQlF5eEZRVUZGTEZsQlFWa3NRMEZCUXl4RFFVRkRMRU5CUVVNc1JVRkJSU3hKUVVGSkxFVkJRVVVzUTBGQlF5eEZRVUZGTEZkQlFWY3NSVUZCUlN4TlFVRk5MRU5CUVVNc1EwRkJRenRIUVVOcVJpeERRVUZETzBGQlEwWXNVMEZCVHl4SFFVRkhMRU5CUVVNN1EwRkRXanM3UVVGRlRTeFRRVUZUTEZkQlFWY3NRMEZCUXl4VFFVRlRMRVZCUVVVc1EwRkJReXhGUVVGRkxFVkJRVVVzUlVGQlJTeEpRVUZKTEVWQlFVVXNiVUpCUVcxQ0xFVkJRVVVzVjBGQlZ5eEZRVUZGTEUxQlFVMHNSVUZCUlR0QlFVTTFSaXhYUVVGVExFbEJRVWtzUTBGQlF5eFBRVUZQTEVWQlFXZENPMUZCUVdRc1QwRkJUeXg1UkVGQlJ5eEZRVUZGT3p0QlFVTnFReXhSUVVGSkxHRkJRV0VzUjBGQlJ5eE5RVUZOTEVOQlFVTTdRVUZETTBJc1VVRkJTU3hOUVVGTkxFbEJRVWtzVDBGQlR5eEpRVUZKTEUxQlFVMHNRMEZCUXl4RFFVRkRMRU5CUVVNc1NVRkJTU3hGUVVGRkxFOUJRVThzUzBGQlN5eFRRVUZUTEVOQlFVTXNWMEZCVnl4SlFVRkpMRTFCUVUwc1EwRkJReXhEUVVGRExFTkJRVU1zUzBGQlN5eEpRVUZKTEVOQlFVRXNRVUZCUXl4RlFVRkZPMEZCUTJoSExHMUNRVUZoTEVkQlFVY3NRMEZCUXl4UFFVRlBMRU5CUVVNc1EwRkJReXhOUVVGTkxFTkJRVU1zVFVGQlRTeERRVUZETEVOQlFVTTdTMEZETVVNN08wRkJSVVFzVjBGQlR5eEZRVUZGTEVOQlFVTXNVMEZCVXl4RlFVTm1MRTlCUVU4c1JVRkRVQ3hUUVVGVExFTkJRVU1zVDBGQlR5eEZRVUZGTEZOQlFWTXNRMEZCUXl4UlFVRlJMRVZCUTNKRExFOUJRVThzUTBGQlF5eEpRVUZKTEVsQlFVa3NTVUZCU1N4RlFVTndRaXhYUVVGWExFbEJRVWtzUTBGQlF5eFBRVUZQTEVOQlFVTXNWMEZCVnl4RFFVRkRMRU5CUVVNc1RVRkJUU3hEUVVGRExGZEJRVmNzUTBGQlF5eEZRVU40UkN4aFFVRmhMRU5CUVVNc1EwRkJRenRIUVVOd1FqczdRVUZGUkN4TlFVRkpMRWRCUVVjc2FVSkJRV2xDTEVOQlFVTXNSVUZCUlN4RlFVRkZMRWxCUVVrc1JVRkJSU3hUUVVGVExFVkJRVVVzVFVGQlRTeEZRVUZGTEVsQlFVa3NSVUZCUlN4WFFVRlhMRU5CUVVNc1EwRkJRenM3UVVGRmVrVXNUVUZCU1N4RFFVRkRMRTlCUVU4c1IwRkJSeXhEUVVGRExFTkJRVU03UVVGRGFrSXNUVUZCU1N4RFFVRkRMRXRCUVVzc1IwRkJSeXhOUVVGTkxFZEJRVWNzVFVGQlRTeERRVUZETEUxQlFVMHNSMEZCUnl4RFFVRkRMRU5CUVVNN1FVRkRlRU1zVFVGQlNTeERRVUZETEZkQlFWY3NSMEZCUnl4dFFrRkJiVUlzU1VGQlNTeERRVUZETEVOQlFVTTdRVUZETlVNc1UwRkJUeXhKUVVGSkxFTkJRVU03UTBGRFlqczdRVUZGVFN4VFFVRlRMR05CUVdNc1EwRkJReXhQUVVGUExFVkJRVVVzVDBGQlR5eEZRVUZGTEU5QlFVOHNSVUZCUlR0QlFVTjRSQ3hOUVVGSkxFTkJRVU1zVDBGQlR5eEZRVUZGTzBGQlExb3NVVUZCU1N4UFFVRlBMRU5CUVVNc1NVRkJTU3hMUVVGTExHZENRVUZuUWl4RlFVRkZPMEZCUTNKRExHRkJRVThzUjBGQlJ5eFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMR1ZCUVdVc1EwRkJReXhEUVVGRE8wdEJRM3BETEUxQlFVMDdRVUZEVEN4aFFVRlBMRWRCUVVjc1QwRkJUeXhEUVVGRExGRkJRVkVzUTBGQlF5eFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1MwRkRNVU03UjBGRFJpeE5RVUZOTEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1NVRkJTU3hKUVVGSkxFTkJRVU1zVDBGQlR5eERRVUZETEVsQlFVa3NSVUZCUlRzN1FVRkZla01zVjBGQlR5eERRVUZETEVsQlFVa3NSMEZCUnl4UFFVRlBMRU5CUVVNN1FVRkRka0lzVjBGQlR5eEhRVUZITEU5QlFVOHNRMEZCUXl4UlFVRlJMRU5CUVVNc1QwRkJUeXhEUVVGRExFTkJRVU03UjBGRGNrTTdRVUZEUkN4VFFVRlBMRTlCUVU4c1EwRkJRenREUVVOb1FqczdRVUZGVFN4VFFVRlRMR0ZCUVdFc1EwRkJReXhQUVVGUExFVkJRVVVzVDBGQlR5eEZRVUZGTEU5QlFVOHNSVUZCUlRzN1FVRkZka1FzVFVGQlRTeHRRa0ZCYlVJc1IwRkJSeXhQUVVGUExFTkJRVU1zU1VGQlNTeEpRVUZKTEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1pVRkJaU3hEUVVGRExFTkJRVU03UVVGRE1VVXNVMEZCVHl4RFFVRkRMRTlCUVU4c1IwRkJSeXhKUVVGSkxFTkJRVU03UVVGRGRrSXNUVUZCU1N4UFFVRlBMRU5CUVVNc1IwRkJSeXhGUVVGRk8wRkJRMllzVjBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4WFFVRlhMRWRCUVVjc1QwRkJUeXhEUVVGRExFZEJRVWNzUTBGQlF5eERRVUZETEVOQlFVTXNTVUZCU1N4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExGZEJRVmNzUTBGQlF6dEhRVU4yUlRzN1FVRkZSQ3hOUVVGSkxGbEJRVmtzV1VGQlFTeERRVUZETzBGQlEycENMRTFCUVVrc1QwRkJUeXhEUVVGRExFVkJRVVVzU1VGQlNTeFBRVUZQTEVOQlFVTXNSVUZCUlN4TFFVRkxMRWxCUVVrc1JVRkJSVHM3UVVGRGNrTXNZVUZCVHl4RFFVRkRMRWxCUVVrc1IwRkJSeXhyUWtGQldTeFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN08wRkJSWHBETEZWQlFVa3NSVUZCUlN4SFFVRkhMRTlCUVU4c1EwRkJReXhGUVVGRkxFTkJRVU03UVVGRGNFSXNhMEpCUVZrc1IwRkJSeXhQUVVGUExFTkJRVU1zU1VGQlNTeERRVUZETEdWQlFXVXNRMEZCUXl4SFFVRkhMRk5CUVZNc2JVSkJRVzFDTEVOQlFVTXNUMEZCVHl4RlFVRm5RanRaUVVGa0xFOUJRVThzZVVSQlFVY3NSVUZCUlRzN096dEJRVWt2Uml4bFFVRlBMRU5CUVVNc1NVRkJTU3hIUVVGSExHdENRVUZaTEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJRenRCUVVONlF5eGxRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMR1ZCUVdVc1EwRkJReXhIUVVGSExHMUNRVUZ0UWl4RFFVRkRPMEZCUTNCRUxHVkJRVThzUlVGQlJTeERRVUZETEU5QlFVOHNSVUZCUlN4UFFVRlBMRU5CUVVNc1EwRkJRenRQUVVNM1FpeERRVUZETzBGQlEwWXNWVUZCU1N4RlFVRkZMRU5CUVVNc1VVRkJVU3hGUVVGRk8wRkJRMllzWlVGQlR5eERRVUZETEZGQlFWRXNSMEZCUnl4TFFVRkxMRU5CUVVNc1RVRkJUU3hEUVVGRExFVkJRVVVzUlVGQlJTeFBRVUZQTEVOQlFVTXNVVUZCVVN4RlFVRkZMRVZCUVVVc1EwRkJReXhSUVVGUkxFTkJRVU1zUTBGQlF6dFBRVU53UlRzN1IwRkRSanM3UVVGRlJDeE5RVUZKTEU5QlFVOHNTMEZCU3l4VFFVRlRMRWxCUVVrc1dVRkJXU3hGUVVGRk8wRkJRM3BETEZkQlFVOHNSMEZCUnl4WlFVRlpMRU5CUVVNN1IwRkRlRUk3TzBGQlJVUXNUVUZCU1N4UFFVRlBMRXRCUVVzc1UwRkJVeXhGUVVGRk8wRkJRM3BDTEZWQlFVMHNNa0pCUVdNc1kwRkJZeXhIUVVGSExFOUJRVThzUTBGQlF5eEpRVUZKTEVkQlFVY3NjVUpCUVhGQ0xFTkJRVU1zUTBGQlF6dEhRVU0xUlN4TlFVRk5MRWxCUVVrc1QwRkJUeXhaUVVGWkxGRkJRVkVzUlVGQlJUdEJRVU4wUXl4WFFVRlBMRTlCUVU4c1EwRkJReXhQUVVGUExFVkJRVVVzVDBGQlR5eERRVUZETEVOQlFVTTdSMEZEYkVNN1EwRkRSanM3UVVGRlRTeFRRVUZUTEVsQlFVa3NSMEZCUnp0QlFVRkZMRk5CUVU4c1JVRkJSU3hEUVVGRE8wTkJRVVU3TzBGQlJYSkRMRk5CUVZNc1VVRkJVU3hEUVVGRExFOUJRVThzUlVGQlJTeEpRVUZKTEVWQlFVVTdRVUZETDBJc1RVRkJTU3hEUVVGRExFbEJRVWtzU1VGQlNTeEZRVUZGTEUxQlFVMHNTVUZCU1N4SlFVRkpMRU5CUVVFc1FVRkJReXhGUVVGRk8wRkJRemxDTEZGQlFVa3NSMEZCUnl4SlFVRkpMRWRCUVVjc2EwSkJRVmtzU1VGQlNTeERRVUZETEVkQlFVY3NSVUZCUlN4RFFVRkRPMEZCUTNKRExGRkJRVWtzUTBGQlF5eEpRVUZKTEVkQlFVY3NUMEZCVHl4RFFVRkRPMGRCUTNKQ08wRkJRMFFzVTBGQlR5eEpRVUZKTEVOQlFVTTdRMEZEWWpzN1FVRkZSQ3hUUVVGVExHbENRVUZwUWl4RFFVRkRMRVZCUVVVc1JVRkJSU3hKUVVGSkxFVkJRVVVzVTBGQlV5eEZRVUZGTEUxQlFVMHNSVUZCUlN4SlFVRkpMRVZCUVVVc1YwRkJWeXhGUVVGRk8wRkJRM3BGTEUxQlFVa3NSVUZCUlN4RFFVRkRMRk5CUVZNc1JVRkJSVHRCUVVOb1FpeFJRVUZKTEV0QlFVc3NSMEZCUnl4RlFVRkZMRU5CUVVNN1FVRkRaaXhSUVVGSkxFZEJRVWNzUlVGQlJTeERRVUZETEZOQlFWTXNRMEZCUXl4SlFVRkpMRVZCUVVVc1MwRkJTeXhGUVVGRkxGTkJRVk1zUlVGQlJTeE5RVUZOTEVsQlFVa3NUVUZCVFN4RFFVRkRMRU5CUVVNc1EwRkJReXhGUVVGRkxFbEJRVWtzUlVGQlJTeFhRVUZYTEVWQlFVVXNUVUZCVFN4RFFVRkRMRU5CUVVNN1FVRkROVVlzVTBGQlN5eERRVUZETEUxQlFVMHNRMEZCUXl4SlFVRkpMRVZCUVVVc1MwRkJTeXhEUVVGRExFTkJRVU03UjBGRE0wSTdRVUZEUkN4VFFVRlBMRWxCUVVrc1EwRkJRenREUVVOaUlpd2labWxzWlNJNkluSjFiblJwYldVdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUpwYlhCdmNuUWdLaUJoY3lCVmRHbHNjeUJtY205dElDY3VMM1YwYVd4ekp6dGNibWx0Y0c5eWRDQkZlR05sY0hScGIyNGdabkp2YlNBbkxpOWxlR05sY0hScGIyNG5PMXh1YVcxd2IzSjBJSHNnUTA5TlVFbE1SVkpmVWtWV1NWTkpUMDRzSUZKRlZrbFRTVTlPWDBOSVFVNUhSVk1zSUdOeVpXRjBaVVp5WVcxbElIMGdabkp2YlNBbkxpOWlZWE5sSnp0Y2JseHVaWGh3YjNKMElHWjFibU4wYVc5dUlHTm9aV05yVW1WMmFYTnBiMjRvWTI5dGNHbHNaWEpKYm1adktTQjdYRzRnSUdOdmJuTjBJR052YlhCcGJHVnlVbVYyYVhOcGIyNGdQU0JqYjIxd2FXeGxja2x1Wm04Z0ppWWdZMjl0Y0dsc1pYSkpibVp2V3pCZElIeDhJREVzWEc0Z0lDQWdJQ0FnSUdOMWNuSmxiblJTWlhacGMybHZiaUE5SUVOUFRWQkpURVZTWDFKRlZrbFRTVTlPTzF4dVhHNGdJR2xtSUNoamIyMXdhV3hsY2xKbGRtbHphVzl1SUNFOVBTQmpkWEp5Wlc1MFVtVjJhWE5wYjI0cElIdGNiaUFnSUNCcFppQW9ZMjl0Y0dsc1pYSlNaWFpwYzJsdmJpQThJR04xY25KbGJuUlNaWFpwYzJsdmJpa2dlMXh1SUNBZ0lDQWdZMjl1YzNRZ2NuVnVkR2x0WlZabGNuTnBiMjV6SUQwZ1VrVldTVk5KVDA1ZlEwaEJUa2RGVTF0amRYSnlaVzUwVW1WMmFYTnBiMjVkTEZ4dUlDQWdJQ0FnSUNBZ0lDQWdZMjl0Y0dsc1pYSldaWEp6YVc5dWN5QTlJRkpGVmtsVFNVOU9YME5JUVU1SFJWTmJZMjl0Y0dsc1pYSlNaWFpwYzJsdmJsMDdYRzRnSUNBZ0lDQjBhSEp2ZHlCdVpYY2dSWGhqWlhCMGFXOXVLQ2RVWlcxd2JHRjBaU0IzWVhNZ2NISmxZMjl0Y0dsc1pXUWdkMmwwYUNCaGJpQnZiR1JsY2lCMlpYSnphVzl1SUc5bUlFaGhibVJzWldKaGNuTWdkR2hoYmlCMGFHVWdZM1Z5Y21WdWRDQnlkVzUwYVcxbExpQW5JQ3RjYmlBZ0lDQWdJQ0FnSUNBZ0lDZFFiR1ZoYzJVZ2RYQmtZWFJsSUhsdmRYSWdjSEpsWTI5dGNHbHNaWElnZEc4Z1lTQnVaWGRsY2lCMlpYSnphVzl1SUNnbklDc2djblZ1ZEdsdFpWWmxjbk5wYjI1eklDc2dKeWtnYjNJZ1pHOTNibWR5WVdSbElIbHZkWElnY25WdWRHbHRaU0IwYnlCaGJpQnZiR1JsY2lCMlpYSnphVzl1SUNnbklDc2dZMjl0Y0dsc1pYSldaWEp6YVc5dWN5QXJJQ2NwTGljcE8xeHVJQ0FnSUgwZ1pXeHpaU0I3WEc0Z0lDQWdJQ0F2THlCVmMyVWdkR2hsSUdWdFltVmtaR1ZrSUhabGNuTnBiMjRnYVc1bWJ5QnphVzVqWlNCMGFHVWdjblZ1ZEdsdFpTQmtiMlZ6YmlkMElHdHViM2NnWVdKdmRYUWdkR2hwY3lCeVpYWnBjMmx2YmlCNVpYUmNiaUFnSUNBZ0lIUm9jbTkzSUc1bGR5QkZlR05sY0hScGIyNG9KMVJsYlhCc1lYUmxJSGRoY3lCd2NtVmpiMjF3YVd4bFpDQjNhWFJvSUdFZ2JtVjNaWElnZG1WeWMybHZiaUJ2WmlCSVlXNWtiR1ZpWVhKeklIUm9ZVzRnZEdobElHTjFjbkpsYm5RZ2NuVnVkR2x0WlM0Z0p5QXJYRzRnSUNBZ0lDQWdJQ0FnSUNBblVHeGxZWE5sSUhWd1pHRjBaU0I1YjNWeUlISjFiblJwYldVZ2RHOGdZU0J1WlhkbGNpQjJaWEp6YVc5dUlDZ25JQ3NnWTI5dGNHbHNaWEpKYm1adld6RmRJQ3NnSnlrdUp5azdYRzRnSUNBZ2ZWeHVJQ0I5WEc1OVhHNWNibVY0Y0c5eWRDQm1kVzVqZEdsdmJpQjBaVzF3YkdGMFpTaDBaVzF3YkdGMFpWTndaV01zSUdWdWRpa2dlMXh1SUNBdktpQnBjM1JoYm1KMWJDQnBaMjV2Y21VZ2JtVjRkQ0FxTDF4dUlDQnBaaUFvSVdWdWRpa2dlMXh1SUNBZ0lIUm9jbTkzSUc1bGR5QkZlR05sY0hScGIyNG9KMDV2SUdWdWRtbHliMjV0Wlc1MElIQmhjM05sWkNCMGJ5QjBaVzF3YkdGMFpTY3BPMXh1SUNCOVhHNGdJR2xtSUNnaGRHVnRjR3hoZEdWVGNHVmpJSHg4SUNGMFpXMXdiR0YwWlZOd1pXTXViV0ZwYmlrZ2UxeHVJQ0FnSUhSb2NtOTNJRzVsZHlCRmVHTmxjSFJwYjI0b0oxVnVhMjV2ZDI0Z2RHVnRjR3hoZEdVZ2IySnFaV04wT2lBbklDc2dkSGx3Wlc5bUlIUmxiWEJzWVhSbFUzQmxZeWs3WEc0Z0lIMWNibHh1SUNCMFpXMXdiR0YwWlZOd1pXTXViV0ZwYmk1a1pXTnZjbUYwYjNJZ1BTQjBaVzF3YkdGMFpWTndaV011YldGcGJsOWtPMXh1WEc0Z0lDOHZJRTV2ZEdVNklGVnphVzVuSUdWdWRpNVdUU0J5WldabGNtVnVZMlZ6SUhKaGRHaGxjaUIwYUdGdUlHeHZZMkZzSUhaaGNpQnlaV1psY21WdVkyVnpJSFJvY205MVoyaHZkWFFnZEdocGN5QnpaV04wYVc5dUlIUnZJR0ZzYkc5M1hHNGdJQzh2SUdadmNpQmxlSFJsY201aGJDQjFjMlZ5Y3lCMGJ5QnZkbVZ5Y21sa1pTQjBhR1Z6WlNCaGN5QndjM1ZsWkc4dGMzVndjRzl5ZEdWa0lFRlFTWE11WEc0Z0lHVnVkaTVXVFM1amFHVmphMUpsZG1semFXOXVLSFJsYlhCc1lYUmxVM0JsWXk1amIyMXdhV3hsY2lrN1hHNWNiaUFnWm5WdVkzUnBiMjRnYVc1MmIydGxVR0Z5ZEdsaGJGZHlZWEJ3WlhJb2NHRnlkR2xoYkN3Z1kyOXVkR1Y0ZEN3Z2IzQjBhVzl1Y3lrZ2UxeHVJQ0FnSUdsbUlDaHZjSFJwYjI1ekxtaGhjMmdwSUh0Y2JpQWdJQ0FnSUdOdmJuUmxlSFFnUFNCVmRHbHNjeTVsZUhSbGJtUW9lMzBzSUdOdmJuUmxlSFFzSUc5d2RHbHZibk11YUdGemFDazdYRzRnSUNBZ0lDQnBaaUFvYjNCMGFXOXVjeTVwWkhNcElIdGNiaUFnSUNBZ0lDQWdiM0IwYVc5dWN5NXBaSE5iTUYwZ1BTQjBjblZsTzF4dUlDQWdJQ0FnZlZ4dUlDQWdJSDFjYmx4dUlDQWdJSEJoY25ScFlXd2dQU0JsYm5ZdVZrMHVjbVZ6YjJ4MlpWQmhjblJwWVd3dVkyRnNiQ2gwYUdsekxDQndZWEowYVdGc0xDQmpiMjUwWlhoMExDQnZjSFJwYjI1ektUdGNiaUFnSUNCc1pYUWdjbVZ6ZFd4MElEMGdaVzUyTGxaTkxtbHVkbTlyWlZCaGNuUnBZV3d1WTJGc2JDaDBhR2x6TENCd1lYSjBhV0ZzTENCamIyNTBaWGgwTENCdmNIUnBiMjV6S1R0Y2JseHVJQ0FnSUdsbUlDaHlaWE4xYkhRZ1BUMGdiblZzYkNBbUppQmxibll1WTI5dGNHbHNaU2tnZTF4dUlDQWdJQ0FnYjNCMGFXOXVjeTV3WVhKMGFXRnNjMXR2Y0hScGIyNXpMbTVoYldWZElEMGdaVzUyTG1OdmJYQnBiR1VvY0dGeWRHbGhiQ3dnZEdWdGNHeGhkR1ZUY0dWakxtTnZiWEJwYkdWeVQzQjBhVzl1Y3l3Z1pXNTJLVHRjYmlBZ0lDQWdJSEpsYzNWc2RDQTlJRzl3ZEdsdmJuTXVjR0Z5ZEdsaGJITmJiM0IwYVc5dWN5NXVZVzFsWFNoamIyNTBaWGgwTENCdmNIUnBiMjV6S1R0Y2JpQWdJQ0I5WEc0Z0lDQWdhV1lnS0hKbGMzVnNkQ0FoUFNCdWRXeHNLU0I3WEc0Z0lDQWdJQ0JwWmlBb2IzQjBhVzl1Y3k1cGJtUmxiblFwSUh0Y2JpQWdJQ0FnSUNBZ2JHVjBJR3hwYm1WeklEMGdjbVZ6ZFd4MExuTndiR2wwS0NkY1hHNG5LVHRjYmlBZ0lDQWdJQ0FnWm05eUlDaHNaWFFnYVNBOUlEQXNJR3dnUFNCc2FXNWxjeTVzWlc1bmRHZzdJR2tnUENCc095QnBLeXNwSUh0Y2JpQWdJQ0FnSUNBZ0lDQnBaaUFvSVd4cGJtVnpXMmxkSUNZbUlHa2dLeUF4SUQwOVBTQnNLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQmljbVZoYXp0Y2JpQWdJQ0FnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQ0FnSUNCc2FXNWxjMXRwWFNBOUlHOXdkR2x2Ym5NdWFXNWtaVzUwSUNzZ2JHbHVaWE5iYVYwN1hHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdjbVZ6ZFd4MElEMGdiR2x1WlhNdWFtOXBiaWduWEZ4dUp5azdYRzRnSUNBZ0lDQjlYRzRnSUNBZ0lDQnlaWFIxY200Z2NtVnpkV3gwTzF4dUlDQWdJSDBnWld4elpTQjdYRzRnSUNBZ0lDQjBhSEp2ZHlCdVpYY2dSWGhqWlhCMGFXOXVLQ2RVYUdVZ2NHRnlkR2xoYkNBbklDc2diM0IwYVc5dWN5NXVZVzFsSUNzZ0p5QmpiM1ZzWkNCdWIzUWdZbVVnWTI5dGNHbHNaV1FnZDJobGJpQnlkVzV1YVc1bklHbHVJSEoxYm5ScGJXVXRiMjVzZVNCdGIyUmxKeWs3WEc0Z0lDQWdmVnh1SUNCOVhHNWNiaUFnTHk4Z1NuVnpkQ0JoWkdRZ2QyRjBaWEpjYmlBZ2JHVjBJR052Ym5SaGFXNWxjaUE5SUh0Y2JpQWdJQ0J6ZEhKcFkzUTZJR1oxYm1OMGFXOXVLRzlpYWl3Z2JtRnRaU2tnZTF4dUlDQWdJQ0FnYVdZZ0tDRW9ibUZ0WlNCcGJpQnZZbW9wS1NCN1hHNGdJQ0FnSUNBZ0lIUm9jbTkzSUc1bGR5QkZlR05sY0hScGIyNG9KMXdpSnlBcklHNWhiV1VnS3lBblhDSWdibTkwSUdSbFptbHVaV1FnYVc0Z0p5QXJJRzlpYWlrN1hHNGdJQ0FnSUNCOVhHNGdJQ0FnSUNCeVpYUjFjbTRnYjJKcVcyNWhiV1ZkTzF4dUlDQWdJSDBzWEc0Z0lDQWdiRzl2YTNWd09pQm1kVzVqZEdsdmJpaGtaWEIwYUhNc0lHNWhiV1VwSUh0Y2JpQWdJQ0FnSUdOdmJuTjBJR3hsYmlBOUlHUmxjSFJvY3k1c1pXNW5kR2c3WEc0Z0lDQWdJQ0JtYjNJZ0tHeGxkQ0JwSUQwZ01Ec2dhU0E4SUd4bGJqc2dhU3NyS1NCN1hHNGdJQ0FnSUNBZ0lHbG1JQ2hrWlhCMGFITmJhVjBnSmlZZ1pHVndkR2h6VzJsZFcyNWhiV1ZkSUNFOUlHNTFiR3dwSUh0Y2JpQWdJQ0FnSUNBZ0lDQnlaWFIxY200Z1pHVndkR2h6VzJsZFcyNWhiV1ZkTzF4dUlDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNCOVhHNGdJQ0FnZlN4Y2JpQWdJQ0JzWVcxaVpHRTZJR1oxYm1OMGFXOXVLR04xY25KbGJuUXNJR052Ym5SbGVIUXBJSHRjYmlBZ0lDQWdJSEpsZEhWeWJpQjBlWEJsYjJZZ1kzVnljbVZ1ZENBOVBUMGdKMloxYm1OMGFXOXVKeUEvSUdOMWNuSmxiblF1WTJGc2JDaGpiMjUwWlhoMEtTQTZJR04xY25KbGJuUTdYRzRnSUNBZ2ZTeGNibHh1SUNBZ0lHVnpZMkZ3WlVWNGNISmxjM05wYjI0NklGVjBhV3h6TG1WelkyRndaVVY0Y0hKbGMzTnBiMjRzWEc0Z0lDQWdhVzUyYjJ0bFVHRnlkR2xoYkRvZ2FXNTJiMnRsVUdGeWRHbGhiRmR5WVhCd1pYSXNYRzVjYmlBZ0lDQm1iam9nWm5WdVkzUnBiMjRvYVNrZ2UxeHVJQ0FnSUNBZ2JHVjBJSEpsZENBOUlIUmxiWEJzWVhSbFUzQmxZMXRwWFR0Y2JpQWdJQ0FnSUhKbGRDNWtaV052Y21GMGIzSWdQU0IwWlcxd2JHRjBaVk53WldOYmFTQXJJQ2RmWkNkZE8xeHVJQ0FnSUNBZ2NtVjBkWEp1SUhKbGREdGNiaUFnSUNCOUxGeHVYRzRnSUNBZ2NISnZaM0poYlhNNklGdGRMRnh1SUNBZ0lIQnliMmR5WVcwNklHWjFibU4wYVc5dUtHa3NJR1JoZEdFc0lHUmxZMnhoY21Wa1FteHZZMnRRWVhKaGJYTXNJR0pzYjJOclVHRnlZVzF6TENCa1pYQjBhSE1wSUh0Y2JpQWdJQ0FnSUd4bGRDQndjbTluY21GdFYzSmhjSEJsY2lBOUlIUm9hWE11Y0hKdlozSmhiWE5iYVYwc1hHNGdJQ0FnSUNBZ0lDQWdabTRnUFNCMGFHbHpMbVp1S0drcE8xeHVJQ0FnSUNBZ2FXWWdLR1JoZEdFZ2ZId2daR1Z3ZEdoeklIeDhJR0pzYjJOclVHRnlZVzF6SUh4OElHUmxZMnhoY21Wa1FteHZZMnRRWVhKaGJYTXBJSHRjYmlBZ0lDQWdJQ0FnY0hKdlozSmhiVmR5WVhCd1pYSWdQU0IzY21Gd1VISnZaM0poYlNoMGFHbHpMQ0JwTENCbWJpd2daR0YwWVN3Z1pHVmpiR0Z5WldSQ2JHOWphMUJoY21GdGN5d2dZbXh2WTJ0UVlYSmhiWE1zSUdSbGNIUm9jeWs3WEc0Z0lDQWdJQ0I5SUdWc2MyVWdhV1lnS0NGd2NtOW5jbUZ0VjNKaGNIQmxjaWtnZTF4dUlDQWdJQ0FnSUNCd2NtOW5jbUZ0VjNKaGNIQmxjaUE5SUhSb2FYTXVjSEp2WjNKaGJYTmJhVjBnUFNCM2NtRndVSEp2WjNKaGJTaDBhR2x6TENCcExDQm1iaWs3WEc0Z0lDQWdJQ0I5WEc0Z0lDQWdJQ0J5WlhSMWNtNGdjSEp2WjNKaGJWZHlZWEJ3WlhJN1hHNGdJQ0FnZlN4Y2JseHVJQ0FnSUdSaGRHRTZJR1oxYm1OMGFXOXVLSFpoYkhWbExDQmtaWEIwYUNrZ2UxeHVJQ0FnSUNBZ2QyaHBiR1VnS0haaGJIVmxJQ1ltSUdSbGNIUm9MUzBwSUh0Y2JpQWdJQ0FnSUNBZ2RtRnNkV1VnUFNCMllXeDFaUzVmY0dGeVpXNTBPMXh1SUNBZ0lDQWdmVnh1SUNBZ0lDQWdjbVYwZFhKdUlIWmhiSFZsTzF4dUlDQWdJSDBzWEc0Z0lDQWdiV1Z5WjJVNklHWjFibU4wYVc5dUtIQmhjbUZ0TENCamIyMXRiMjRwSUh0Y2JpQWdJQ0FnSUd4bGRDQnZZbW9nUFNCd1lYSmhiU0I4ZkNCamIyMXRiMjQ3WEc1Y2JpQWdJQ0FnSUdsbUlDaHdZWEpoYlNBbUppQmpiMjF0YjI0Z0ppWWdLSEJoY21GdElDRTlQU0JqYjIxdGIyNHBLU0I3WEc0Z0lDQWdJQ0FnSUc5aWFpQTlJRlYwYVd4ekxtVjRkR1Z1WkNoN2ZTd2dZMjl0Ylc5dUxDQndZWEpoYlNrN1hHNGdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lISmxkSFZ5YmlCdlltbzdYRzRnSUNBZ2ZTeGNiaUFnSUNBdkx5QkJiaUJsYlhCMGVTQnZZbXBsWTNRZ2RHOGdkWE5sSUdGeklISmxjR3hoWTJWdFpXNTBJR1p2Y2lCdWRXeHNMV052Ym5SbGVIUnpYRzRnSUNBZ2JuVnNiRU52Ym5SbGVIUTZJRTlpYW1WamRDNXpaV0ZzS0h0OUtTeGNibHh1SUNBZ0lHNXZiM0E2SUdWdWRpNVdUUzV1YjI5d0xGeHVJQ0FnSUdOdmJYQnBiR1Z5U1c1bWJ6b2dkR1Z0Y0d4aGRHVlRjR1ZqTG1OdmJYQnBiR1Z5WEc0Z0lIMDdYRzVjYmlBZ1puVnVZM1JwYjI0Z2NtVjBLR052Ym5SbGVIUXNJRzl3ZEdsdmJuTWdQU0I3ZlNrZ2UxeHVJQ0FnSUd4bGRDQmtZWFJoSUQwZ2IzQjBhVzl1Y3k1a1lYUmhPMXh1WEc0Z0lDQWdjbVYwTGw5elpYUjFjQ2h2Y0hScGIyNXpLVHRjYmlBZ0lDQnBaaUFvSVc5d2RHbHZibk11Y0dGeWRHbGhiQ0FtSmlCMFpXMXdiR0YwWlZOd1pXTXVkWE5sUkdGMFlTa2dlMXh1SUNBZ0lDQWdaR0YwWVNBOUlHbHVhWFJFWVhSaEtHTnZiblJsZUhRc0lHUmhkR0VwTzF4dUlDQWdJSDFjYmlBZ0lDQnNaWFFnWkdWd2RHaHpMRnh1SUNBZ0lDQWdJQ0JpYkc5amExQmhjbUZ0Y3lBOUlIUmxiWEJzWVhSbFUzQmxZeTUxYzJWQ2JHOWphMUJoY21GdGN5QS9JRnRkSURvZ2RXNWtaV1pwYm1Wa08xeHVJQ0FnSUdsbUlDaDBaVzF3YkdGMFpWTndaV011ZFhObFJHVndkR2h6S1NCN1hHNGdJQ0FnSUNCcFppQW9iM0IwYVc5dWN5NWtaWEIwYUhNcElIdGNiaUFnSUNBZ0lDQWdaR1Z3ZEdoeklEMGdZMjl1ZEdWNGRDQWhQU0J2Y0hScGIyNXpMbVJsY0hSb2Mxc3dYU0EvSUZ0amIyNTBaWGgwWFM1amIyNWpZWFFvYjNCMGFXOXVjeTVrWlhCMGFITXBJRG9nYjNCMGFXOXVjeTVrWlhCMGFITTdYRzRnSUNBZ0lDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUNBZ0lDQmtaWEIwYUhNZ1BTQmJZMjl1ZEdWNGRGMDdYRzRnSUNBZ0lDQjlYRzRnSUNBZ2ZWeHVYRzRnSUNBZ1puVnVZM1JwYjI0Z2JXRnBiaWhqYjI1MFpYaDBMeW9zSUc5d2RHbHZibk1xTHlrZ2UxeHVJQ0FnSUNBZ2NtVjBkWEp1SUNjbklDc2dkR1Z0Y0d4aGRHVlRjR1ZqTG0xaGFXNG9ZMjl1ZEdGcGJtVnlMQ0JqYjI1MFpYaDBMQ0JqYjI1MFlXbHVaWEl1YUdWc2NHVnljeXdnWTI5dWRHRnBibVZ5TG5CaGNuUnBZV3h6TENCa1lYUmhMQ0JpYkc5amExQmhjbUZ0Y3l3Z1pHVndkR2h6S1R0Y2JpQWdJQ0I5WEc0Z0lDQWdiV0ZwYmlBOUlHVjRaV04xZEdWRVpXTnZjbUYwYjNKektIUmxiWEJzWVhSbFUzQmxZeTV0WVdsdUxDQnRZV2x1TENCamIyNTBZV2x1WlhJc0lHOXdkR2x2Ym5NdVpHVndkR2h6SUh4OElGdGRMQ0JrWVhSaExDQmliRzlqYTFCaGNtRnRjeWs3WEc0Z0lDQWdjbVYwZFhKdUlHMWhhVzRvWTI5dWRHVjRkQ3dnYjNCMGFXOXVjeWs3WEc0Z0lIMWNiaUFnY21WMExtbHpWRzl3SUQwZ2RISjFaVHRjYmx4dUlDQnlaWFF1WDNObGRIVndJRDBnWm5WdVkzUnBiMjRvYjNCMGFXOXVjeWtnZTF4dUlDQWdJR2xtSUNnaGIzQjBhVzl1Y3k1d1lYSjBhV0ZzS1NCN1hHNGdJQ0FnSUNCamIyNTBZV2x1WlhJdWFHVnNjR1Z5Y3lBOUlHTnZiblJoYVc1bGNpNXRaWEpuWlNodmNIUnBiMjV6TG1obGJIQmxjbk1zSUdWdWRpNW9aV3h3WlhKektUdGNibHh1SUNBZ0lDQWdhV1lnS0hSbGJYQnNZWFJsVTNCbFl5NTFjMlZRWVhKMGFXRnNLU0I3WEc0Z0lDQWdJQ0FnSUdOdmJuUmhhVzVsY2k1d1lYSjBhV0ZzY3lBOUlHTnZiblJoYVc1bGNpNXRaWEpuWlNodmNIUnBiMjV6TG5CaGNuUnBZV3h6TENCbGJuWXVjR0Z5ZEdsaGJITXBPMXh1SUNBZ0lDQWdmVnh1SUNBZ0lDQWdhV1lnS0hSbGJYQnNZWFJsVTNCbFl5NTFjMlZRWVhKMGFXRnNJSHg4SUhSbGJYQnNZWFJsVTNCbFl5NTFjMlZFWldOdmNtRjBiM0p6S1NCN1hHNGdJQ0FnSUNBZ0lHTnZiblJoYVc1bGNpNWtaV052Y21GMGIzSnpJRDBnWTI5dWRHRnBibVZ5TG0xbGNtZGxLRzl3ZEdsdmJuTXVaR1ZqYjNKaGRHOXljeXdnWlc1MkxtUmxZMjl5WVhSdmNuTXBPMXh1SUNBZ0lDQWdmVnh1SUNBZ0lIMGdaV3h6WlNCN1hHNGdJQ0FnSUNCamIyNTBZV2x1WlhJdWFHVnNjR1Z5Y3lBOUlHOXdkR2x2Ym5NdWFHVnNjR1Z5Y3p0Y2JpQWdJQ0FnSUdOdmJuUmhhVzVsY2k1d1lYSjBhV0ZzY3lBOUlHOXdkR2x2Ym5NdWNHRnlkR2xoYkhNN1hHNGdJQ0FnSUNCamIyNTBZV2x1WlhJdVpHVmpiM0poZEc5eWN5QTlJRzl3ZEdsdmJuTXVaR1ZqYjNKaGRHOXljenRjYmlBZ0lDQjlYRzRnSUgwN1hHNWNiaUFnY21WMExsOWphR2xzWkNBOUlHWjFibU4wYVc5dUtHa3NJR1JoZEdFc0lHSnNiMk5yVUdGeVlXMXpMQ0JrWlhCMGFITXBJSHRjYmlBZ0lDQnBaaUFvZEdWdGNHeGhkR1ZUY0dWakxuVnpaVUpzYjJOclVHRnlZVzF6SUNZbUlDRmliRzlqYTFCaGNtRnRjeWtnZTF4dUlDQWdJQ0FnZEdoeWIzY2dibVYzSUVWNFkyVndkR2x2YmlnbmJYVnpkQ0J3WVhOeklHSnNiMk5ySUhCaGNtRnRjeWNwTzF4dUlDQWdJSDFjYmlBZ0lDQnBaaUFvZEdWdGNHeGhkR1ZUY0dWakxuVnpaVVJsY0hSb2N5QW1KaUFoWkdWd2RHaHpLU0I3WEc0Z0lDQWdJQ0IwYUhKdmR5QnVaWGNnUlhoalpYQjBhVzl1S0NkdGRYTjBJSEJoYzNNZ2NHRnlaVzUwSUdSbGNIUm9jeWNwTzF4dUlDQWdJSDFjYmx4dUlDQWdJSEpsZEhWeWJpQjNjbUZ3VUhKdlozSmhiU2hqYjI1MFlXbHVaWElzSUdrc0lIUmxiWEJzWVhSbFUzQmxZMXRwWFN3Z1pHRjBZU3dnTUN3Z1lteHZZMnRRWVhKaGJYTXNJR1JsY0hSb2N5azdYRzRnSUgwN1hHNGdJSEpsZEhWeWJpQnlaWFE3WEc1OVhHNWNibVY0Y0c5eWRDQm1kVzVqZEdsdmJpQjNjbUZ3VUhKdlozSmhiU2hqYjI1MFlXbHVaWElzSUdrc0lHWnVMQ0JrWVhSaExDQmtaV05zWVhKbFpFSnNiMk5yVUdGeVlXMXpMQ0JpYkc5amExQmhjbUZ0Y3l3Z1pHVndkR2h6S1NCN1hHNGdJR1oxYm1OMGFXOXVJSEJ5YjJjb1kyOXVkR1Y0ZEN3Z2IzQjBhVzl1Y3lBOUlIdDlLU0I3WEc0Z0lDQWdiR1YwSUdOMWNuSmxiblJFWlhCMGFITWdQU0JrWlhCMGFITTdYRzRnSUNBZ2FXWWdLR1JsY0hSb2N5QW1KaUJqYjI1MFpYaDBJQ0U5SUdSbGNIUm9jMXN3WFNBbUppQWhLR052Ym5SbGVIUWdQVDA5SUdOdmJuUmhhVzVsY2k1dWRXeHNRMjl1ZEdWNGRDQW1KaUJrWlhCMGFITmJNRjBnUFQwOUlHNTFiR3dwS1NCN1hHNGdJQ0FnSUNCamRYSnlaVzUwUkdWd2RHaHpJRDBnVzJOdmJuUmxlSFJkTG1OdmJtTmhkQ2hrWlhCMGFITXBPMXh1SUNBZ0lIMWNibHh1SUNBZ0lISmxkSFZ5YmlCbWJpaGpiMjUwWVdsdVpYSXNYRzRnSUNBZ0lDQWdJR052Ym5SbGVIUXNYRzRnSUNBZ0lDQWdJR052Ym5SaGFXNWxjaTVvWld4d1pYSnpMQ0JqYjI1MFlXbHVaWEl1Y0dGeWRHbGhiSE1zWEc0Z0lDQWdJQ0FnSUc5d2RHbHZibk11WkdGMFlTQjhmQ0JrWVhSaExGeHVJQ0FnSUNBZ0lDQmliRzlqYTFCaGNtRnRjeUFtSmlCYmIzQjBhVzl1Y3k1aWJHOWphMUJoY21GdGMxMHVZMjl1WTJGMEtHSnNiMk5yVUdGeVlXMXpLU3hjYmlBZ0lDQWdJQ0FnWTNWeWNtVnVkRVJsY0hSb2N5azdYRzRnSUgxY2JseHVJQ0J3Y205bklEMGdaWGhsWTNWMFpVUmxZMjl5WVhSdmNuTW9abTRzSUhCeWIyY3NJR052Ym5SaGFXNWxjaXdnWkdWd2RHaHpMQ0JrWVhSaExDQmliRzlqYTFCaGNtRnRjeWs3WEc1Y2JpQWdjSEp2Wnk1d2NtOW5jbUZ0SUQwZ2FUdGNiaUFnY0hKdlp5NWtaWEIwYUNBOUlHUmxjSFJvY3lBL0lHUmxjSFJvY3k1c1pXNW5kR2dnT2lBd08xeHVJQ0J3Y205bkxtSnNiMk5yVUdGeVlXMXpJRDBnWkdWamJHRnlaV1JDYkc5amExQmhjbUZ0Y3lCOGZDQXdPMXh1SUNCeVpYUjFjbTRnY0hKdlp6dGNibjFjYmx4dVpYaHdiM0owSUdaMWJtTjBhVzl1SUhKbGMyOXNkbVZRWVhKMGFXRnNLSEJoY25ScFlXd3NJR052Ym5SbGVIUXNJRzl3ZEdsdmJuTXBJSHRjYmlBZ2FXWWdLQ0Z3WVhKMGFXRnNLU0I3WEc0Z0lDQWdhV1lnS0c5d2RHbHZibk11Ym1GdFpTQTlQVDBnSjBCd1lYSjBhV0ZzTFdKc2IyTnJKeWtnZTF4dUlDQWdJQ0FnY0dGeWRHbGhiQ0E5SUc5d2RHbHZibk11WkdGMFlWc25jR0Z5ZEdsaGJDMWliRzlqYXlkZE8xeHVJQ0FnSUgwZ1pXeHpaU0I3WEc0Z0lDQWdJQ0J3WVhKMGFXRnNJRDBnYjNCMGFXOXVjeTV3WVhKMGFXRnNjMXR2Y0hScGIyNXpMbTVoYldWZE8xeHVJQ0FnSUgxY2JpQWdmU0JsYkhObElHbG1JQ2doY0dGeWRHbGhiQzVqWVd4c0lDWW1JQ0Z2Y0hScGIyNXpMbTVoYldVcElIdGNiaUFnSUNBdkx5QlVhR2x6SUdseklHRWdaSGx1WVcxcFl5QndZWEowYVdGc0lIUm9ZWFFnY21WMGRYSnVaV1FnWVNCemRISnBibWRjYmlBZ0lDQnZjSFJwYjI1ekxtNWhiV1VnUFNCd1lYSjBhV0ZzTzF4dUlDQWdJSEJoY25ScFlXd2dQU0J2Y0hScGIyNXpMbkJoY25ScFlXeHpXM0JoY25ScFlXeGRPMXh1SUNCOVhHNGdJSEpsZEhWeWJpQndZWEowYVdGc08xeHVmVnh1WEc1bGVIQnZjblFnWm5WdVkzUnBiMjRnYVc1MmIydGxVR0Z5ZEdsaGJDaHdZWEowYVdGc0xDQmpiMjUwWlhoMExDQnZjSFJwYjI1ektTQjdYRzRnSUM4dklGVnpaU0IwYUdVZ1kzVnljbVZ1ZENCamJHOXpkWEpsSUdOdmJuUmxlSFFnZEc4Z2MyRjJaU0IwYUdVZ2NHRnlkR2xoYkMxaWJHOWpheUJwWmlCMGFHbHpJSEJoY25ScFlXeGNiaUFnWTI5dWMzUWdZM1Z5Y21WdWRGQmhjblJwWVd4Q2JHOWpheUE5SUc5d2RHbHZibk11WkdGMFlTQW1KaUJ2Y0hScGIyNXpMbVJoZEdGYkozQmhjblJwWVd3dFlteHZZMnNuWFR0Y2JpQWdiM0IwYVc5dWN5NXdZWEowYVdGc0lEMGdkSEoxWlR0Y2JpQWdhV1lnS0c5d2RHbHZibk11YVdSektTQjdYRzRnSUNBZ2IzQjBhVzl1Y3k1a1lYUmhMbU52Ym5SbGVIUlFZWFJvSUQwZ2IzQjBhVzl1Y3k1cFpITmJNRjBnZkh3Z2IzQjBhVzl1Y3k1a1lYUmhMbU52Ym5SbGVIUlFZWFJvTzF4dUlDQjlYRzVjYmlBZ2JHVjBJSEJoY25ScFlXeENiRzlqYXp0Y2JpQWdhV1lnS0c5d2RHbHZibk11Wm00Z0ppWWdiM0IwYVc5dWN5NW1iaUFoUFQwZ2JtOXZjQ2tnZTF4dUlDQWdJRzl3ZEdsdmJuTXVaR0YwWVNBOUlHTnlaV0YwWlVaeVlXMWxLRzl3ZEdsdmJuTXVaR0YwWVNrN1hHNGdJQ0FnTHk4Z1YzSmhjSEJsY2lCbWRXNWpkR2x2YmlCMGJ5Qm5aWFFnWVdOalpYTnpJSFJ2SUdOMWNuSmxiblJRWVhKMGFXRnNRbXh2WTJzZ1puSnZiU0IwYUdVZ1kyeHZjM1Z5WlZ4dUlDQWdJR3hsZENCbWJpQTlJRzl3ZEdsdmJuTXVabTQ3WEc0Z0lDQWdjR0Z5ZEdsaGJFSnNiMk5ySUQwZ2IzQjBhVzl1Y3k1a1lYUmhXeWR3WVhKMGFXRnNMV0pzYjJOckoxMGdQU0JtZFc1amRHbHZiaUJ3WVhKMGFXRnNRbXh2WTJ0WGNtRndjR1Z5S0dOdmJuUmxlSFFzSUc5d2RHbHZibk1nUFNCN2ZTa2dlMXh1WEc0Z0lDQWdJQ0F2THlCU1pYTjBiM0psSUhSb1pTQndZWEowYVdGc0xXSnNiMk5ySUdaeWIyMGdkR2hsSUdOc2IzTjFjbVVnWm05eUlIUm9aU0JsZUdWamRYUnBiMjRnYjJZZ2RHaGxJR0pzYjJOclhHNGdJQ0FnSUNBdkx5QnBMbVV1SUhSb1pTQndZWEowSUdsdWMybGtaU0IwYUdVZ1lteHZZMnNnYjJZZ2RHaGxJSEJoY25ScFlXd2dZMkZzYkM1Y2JpQWdJQ0FnSUc5d2RHbHZibk11WkdGMFlTQTlJR055WldGMFpVWnlZVzFsS0c5d2RHbHZibk11WkdGMFlTazdYRzRnSUNBZ0lDQnZjSFJwYjI1ekxtUmhkR0ZiSjNCaGNuUnBZV3d0WW14dlkyc25YU0E5SUdOMWNuSmxiblJRWVhKMGFXRnNRbXh2WTJzN1hHNGdJQ0FnSUNCeVpYUjFjbTRnWm00b1kyOXVkR1Y0ZEN3Z2IzQjBhVzl1Y3lrN1hHNGdJQ0FnZlR0Y2JpQWdJQ0JwWmlBb1ptNHVjR0Z5ZEdsaGJITXBJSHRjYmlBZ0lDQWdJRzl3ZEdsdmJuTXVjR0Z5ZEdsaGJITWdQU0JWZEdsc2N5NWxlSFJsYm1Rb2UzMHNJRzl3ZEdsdmJuTXVjR0Z5ZEdsaGJITXNJR1p1TG5CaGNuUnBZV3h6S1R0Y2JpQWdJQ0I5WEc0Z0lIMWNibHh1SUNCcFppQW9jR0Z5ZEdsaGJDQTlQVDBnZFc1a1pXWnBibVZrSUNZbUlIQmhjblJwWVd4Q2JHOWpheWtnZTF4dUlDQWdJSEJoY25ScFlXd2dQU0J3WVhKMGFXRnNRbXh2WTJzN1hHNGdJSDFjYmx4dUlDQnBaaUFvY0dGeWRHbGhiQ0E5UFQwZ2RXNWtaV1pwYm1Wa0tTQjdYRzRnSUNBZ2RHaHliM2NnYm1WM0lFVjRZMlZ3ZEdsdmJpZ25WR2hsSUhCaGNuUnBZV3dnSnlBcklHOXdkR2x2Ym5NdWJtRnRaU0FySUNjZ1kyOTFiR1FnYm05MElHSmxJR1p2ZFc1a0p5azdYRzRnSUgwZ1pXeHpaU0JwWmlBb2NHRnlkR2xoYkNCcGJuTjBZVzVqWlc5bUlFWjFibU4wYVc5dUtTQjdYRzRnSUNBZ2NtVjBkWEp1SUhCaGNuUnBZV3dvWTI5dWRHVjRkQ3dnYjNCMGFXOXVjeWs3WEc0Z0lIMWNibjFjYmx4dVpYaHdiM0owSUdaMWJtTjBhVzl1SUc1dmIzQW9LU0I3SUhKbGRIVnliaUFuSnpzZ2ZWeHVYRzVtZFc1amRHbHZiaUJwYm1sMFJHRjBZU2hqYjI1MFpYaDBMQ0JrWVhSaEtTQjdYRzRnSUdsbUlDZ2haR0YwWVNCOGZDQWhLQ2R5YjI5MEp5QnBiaUJrWVhSaEtTa2dlMXh1SUNBZ0lHUmhkR0VnUFNCa1lYUmhJRDhnWTNKbFlYUmxSbkpoYldVb1pHRjBZU2tnT2lCN2ZUdGNiaUFnSUNCa1lYUmhMbkp2YjNRZ1BTQmpiMjUwWlhoME8xeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCa1lYUmhPMXh1ZlZ4dVhHNW1kVzVqZEdsdmJpQmxlR1ZqZFhSbFJHVmpiM0poZEc5eWN5aG1iaXdnY0hKdlp5d2dZMjl1ZEdGcGJtVnlMQ0JrWlhCMGFITXNJR1JoZEdFc0lHSnNiMk5yVUdGeVlXMXpLU0I3WEc0Z0lHbG1JQ2htYmk1a1pXTnZjbUYwYjNJcElIdGNiaUFnSUNCc1pYUWdjSEp2Y0hNZ1BTQjdmVHRjYmlBZ0lDQndjbTluSUQwZ1ptNHVaR1ZqYjNKaGRHOXlLSEJ5YjJjc0lIQnliM0J6TENCamIyNTBZV2x1WlhJc0lHUmxjSFJvY3lBbUppQmtaWEIwYUhOYk1GMHNJR1JoZEdFc0lHSnNiMk5yVUdGeVlXMXpMQ0JrWlhCMGFITXBPMXh1SUNBZ0lGVjBhV3h6TG1WNGRHVnVaQ2h3Y205bkxDQndjbTl3Y3lrN1hHNGdJSDFjYmlBZ2NtVjBkWEp1SUhCeWIyYzdYRzU5WEc0aVhYMD1cbiIsIi8qIGdsb2JhbCB3aW5kb3cgKi9cbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKEhhbmRsZWJhcnMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdmFyIHJvb3QgPSB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHdpbmRvdyxcbiAgICAgICRIYW5kbGViYXJzID0gcm9vdC5IYW5kbGViYXJzO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBIYW5kbGViYXJzLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHJvb3QuSGFuZGxlYmFycyA9PT0gSGFuZGxlYmFycykge1xuICAgICAgcm9vdC5IYW5kbGViYXJzID0gJEhhbmRsZWJhcnM7XG4gICAgfVxuICAgIHJldHVybiBIYW5kbGViYXJzO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTR1THk0dUx5NHVMMnhwWWk5b1lXNWtiR1ZpWVhKekwyNXZMV052Ym1ac2FXTjBMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3T3pzN08zRkNRVU5sTEZWQlFWTXNWVUZCVlN4RlFVRkZPenRCUVVWc1F5eE5RVUZKTEVsQlFVa3NSMEZCUnl4UFFVRlBMRTFCUVUwc1MwRkJTeXhYUVVGWExFZEJRVWNzVFVGQlRTeEhRVUZITEUxQlFVMDdUVUZEZEVRc1YwRkJWeXhIUVVGSExFbEJRVWtzUTBGQlF5eFZRVUZWTEVOQlFVTTdPMEZCUld4RExGbEJRVlVzUTBGQlF5eFZRVUZWTEVkQlFVY3NXVUZCVnp0QlFVTnFReXhSUVVGSkxFbEJRVWtzUTBGQlF5eFZRVUZWTEV0QlFVc3NWVUZCVlN4RlFVRkZPMEZCUTJ4RExGVkJRVWtzUTBGQlF5eFZRVUZWTEVkQlFVY3NWMEZCVnl4RFFVRkRPMHRCUXk5Q08wRkJRMFFzVjBGQlR5eFZRVUZWTEVOQlFVTTdSMEZEYmtJc1EwRkJRenREUVVOSUlpd2labWxzWlNJNkltNXZMV052Ym1ac2FXTjBMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaUx5b2daMnh2WW1Gc0lIZHBibVJ2ZHlBcUwxeHVaWGh3YjNKMElHUmxabUYxYkhRZ1puVnVZM1JwYjI0b1NHRnVaR3hsWW1GeWN5a2dlMXh1SUNBdktpQnBjM1JoYm1KMWJDQnBaMjV2Y21VZ2JtVjRkQ0FxTDF4dUlDQnNaWFFnY205dmRDQTlJSFI1Y0dWdlppQm5iRzlpWVd3Z0lUMDlJQ2QxYm1SbFptbHVaV1FuSUQ4Z1oyeHZZbUZzSURvZ2QybHVaRzkzTEZ4dUlDQWdJQ0FnSkVoaGJtUnNaV0poY25NZ1BTQnliMjkwTGtoaGJtUnNaV0poY25NN1hHNGdJQzhxSUdsemRHRnVZblZzSUdsbmJtOXlaU0J1WlhoMElDb3ZYRzRnSUVoaGJtUnNaV0poY25NdWJtOURiMjVtYkdsamRDQTlJR1oxYm1OMGFXOXVLQ2tnZTF4dUlDQWdJR2xtSUNoeWIyOTBMa2hoYm1Sc1pXSmhjbk1nUFQwOUlFaGhibVJzWldKaGNuTXBJSHRjYmlBZ0lDQWdJSEp2YjNRdVNHRnVaR3hsWW1GeWN5QTlJQ1JJWVc1a2JHVmlZWEp6TzF4dUlDQWdJSDFjYmlBZ0lDQnlaWFIxY200Z1NHRnVaR3hsWW1GeWN6dGNiaUFnZlR0Y2JuMWNiaUpkZlE9PVxuIiwidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaCAoZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG4iLCJpbXBvcnQgZm9vdGVyIGZyb20gJy4vZm9vdGVyLmhhbmRsZWJhcnMnO1xuaW1wb3J0ICcuL2Zvb3Rlci5jc3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmb290ZXI7XG4iLCJ2YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoXCIvVXNlcnMvb2xnYS9Eb2N1bWVudHMv0KjQoNCYL9CU0L7QvNCw0YjQvdC40LUg0YDQsNCx0L7RgtGLL9C+0YHQvdC+0LLQvdCw0Y8vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvcnVudGltZS5qc1wiKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCIgIDxsaT5cXG4gICAgPGEgaHJlZj1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVybCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBjbGFzcz1cXFwiZm9vLW1lbnUtYVxcXCI+XFxuICAgICAgXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwidGl0bGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxuICAgIDwvYT5cXG4gIDwvbGk+XFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IChjb250YWluZXIubnVsbENvbnRleHQgfHwge30pLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pdGVtcyA6IGRlcHRoMCkse1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKTtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pOyIsImltcG9ydCBoZWFkZXIgZnJvbSAnLi9oZWFkZXIuaGJzJztcbmltcG9ydCAnLi9oZWFkZXIuY3NzJztcbmV4cG9ydCBkZWZhdWx0IGhlYWRlcjtcbiIsInZhciBIYW5kbGViYXJzID0gcmVxdWlyZShcIi9Vc2Vycy9vbGdhL0RvY3VtZW50cy/QqNCg0Jgv0JTQvtC80LDRiNC90LjQtSDRgNCw0LHQvtGC0Ysv0L7RgdC90L7QstC90LDRjy9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzXCIpO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiBcIjxoZWFkZXIgY2xhc3M9XFxcImhlYWRlclxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImhlYWRlcl9fbG9nbyBoZWFkZXJfX2xvZ29fcG9zaXRpb25cXFwiPjxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJsb2dvX19sb2dvLWhyZWZcXFwiPlwiXG4gICAgKyAoKHN0YWNrMSA9IGNvbnRhaW5lci5pbnZva2VQYXJ0aWFsKHJlcXVpcmUoXCIvVXNlcnMvb2xnYS9Eb2N1bWVudHMv0KjQoNCYL9CU0L7QvNCw0YjQvdC40LUg0YDQsNCx0L7RgtGLL9C+0YHQvdC+0LLQvdCw0Y8vc3JjL2NvbXBvbmVudHMvcGljdHVyZS9waWN0dXJlLmhic1wiKSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubG9nbyA6IGRlcHRoMCkse1wibmFtZVwiOlwiLi4vcGljdHVyZS9waWN0dXJlXCIsXCJkYXRhXCI6ZGF0YSxcImhlbHBlcnNcIjpoZWxwZXJzLFwicGFydGlhbHNcIjpwYXJ0aWFscyxcImRlY29yYXRvcnNcIjpjb250YWluZXIuZGVjb3JhdG9yc30pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiPC9hPjwvZGl2PlxcblxcbiAgICA8bGFiZWwgY2xhc3M9XFxcImhlYWRlcl9fbWVudS10b2dnbGVcXFwiIGZvcj1cXFwiY2hlY2tib3hfdG9nZ2xlXFxcIj5cXG5cIlxuICAgICsgKChzdGFjazEgPSBjb250YWluZXIuaW52b2tlUGFydGlhbChyZXF1aXJlKFwiL1VzZXJzL29sZ2EvRG9jdW1lbnRzL9Co0KDQmC/QlNC+0LzQsNGI0L3QuNC1INGA0LDQsdC+0YLRiy/QvtGB0L3QvtCy0L3QsNGPL3NyYy9jb21wb25lbnRzL3BpY3R1cmUvcGljdHVyZS5oYnNcIiksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmljb24gOiBkZXB0aDApLHtcIm5hbWVcIjpcIi4uL3BpY3R1cmUvcGljdHVyZVwiLFwiZGF0YVwiOmRhdGEsXCJpbmRlbnRcIjpcIiAgICAgIFwiLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgPC9sYWJlbD5cXG5cXG4gICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBpZD1cXFwiY2hlY2tib3hfdG9nZ2xlXFxcIiBjbGFzcz1cXFwibWVudS10b2dnbGVfX2NoZWNrYm94XFxcIj5cXG5cXG4gICAgPG5hdiBpZD1cXFwibmF2XFxcIiBjbGFzcz1cXFwiaGVhZGVyX19uYXZcXFwiPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwibmF2X19uYXYtbGlzdFxcXCI+XCJcbiAgICArICgoc3RhY2sxID0gY29udGFpbmVyLmludm9rZVBhcnRpYWwocmVxdWlyZShcIi9Vc2Vycy9vbGdhL0RvY3VtZW50cy/QqNCg0Jgv0JTQvtC80LDRiNC90LjQtSDRgNCw0LHQvtGC0Ysv0L7RgdC90L7QstC90LDRjy9zcmMvY29tcG9uZW50cy9uYXYvbmF2LmhhbmRsZWJhcnNcIiksZGVwdGgwLHtcIm5hbWVcIjpcIi4uL25hdi9uYXZcIixcImRhdGFcIjpkYXRhLFwiaGVscGVyc1wiOmhlbHBlcnMsXCJwYXJ0aWFsc1wiOnBhcnRpYWxzLFwiZGVjb3JhdG9yc1wiOmNvbnRhaW5lci5kZWNvcmF0b3JzfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCI8L3VsPlxcbiAgICA8L25hdj5cXG4gICAgICBcXG4gIDwvaGVhZGVyPlxcblwiO1xufSxcInVzZVBhcnRpYWxcIjp0cnVlLFwidXNlRGF0YVwiOnRydWV9KTsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWcvbG9nb0AxeC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWcvbG9nb0AyeC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWcvbG9nby5zdmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWcvaWNvbl9saXN0X20ucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1nL2ljb25fbGlzdF9tQDJ4LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltZy9pY29uX2xpc3RfbUAxeC5zdmdcIjsiLCJ0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJIbHNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiSGxzXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0L1wiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDExKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGVuYWJsZUxvZ3M7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBsb2dnZXI7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZ2V0X3NlbGZfc2NvcGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cblxuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIGZha2VMb2dnZXIgPSB7XG4gIHRyYWNlOiBub29wLFxuICBkZWJ1Zzogbm9vcCxcbiAgbG9nOiBub29wLFxuICB3YXJuOiBub29wLFxuICBpbmZvOiBub29wLFxuICBlcnJvcjogbm9vcFxufTtcblxudmFyIGV4cG9ydGVkTG9nZ2VyID0gZmFrZUxvZ2dlcjtcblxuLy8gbGV0IGxhc3RDYWxsVGltZTtcbi8vIGZ1bmN0aW9uIGZvcm1hdE1zZ1dpdGhUaW1lSW5mbyh0eXBlLCBtc2cpIHtcbi8vICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbi8vICAgY29uc3QgZGlmZiA9IGxhc3RDYWxsVGltZSA/ICcrJyArIChub3cgLSBsYXN0Q2FsbFRpbWUpIDogJzAnO1xuLy8gICBsYXN0Q2FsbFRpbWUgPSBub3c7XG4vLyAgIG1zZyA9IChuZXcgRGF0ZShub3cpKS50b0lTT1N0cmluZygpICsgJyB8IFsnICsgIHR5cGUgKyAnXSA+ICcgKyBtc2cgKyAnICggJyArIGRpZmYgKyAnIG1zICknO1xuLy8gICByZXR1cm4gbXNnO1xuLy8gfVxuXG5mdW5jdGlvbiBmb3JtYXRNc2codHlwZSwgbXNnKSB7XG4gIG1zZyA9ICdbJyArIHR5cGUgKyAnXSA+ICcgKyBtc2c7XG4gIHJldHVybiBtc2c7XG59XG5cbnZhciBnbG9iYWwgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19nZXRfc2VsZl9zY29wZV9fW1wiYVwiIC8qIGdldFNlbGZTY29wZSAqL10pKCk7XG5cbmZ1bmN0aW9uIGNvbnNvbGVQcmludEZuKHR5cGUpIHtcbiAgdmFyIGZ1bmMgPSBnbG9iYWwuY29uc29sZVt0eXBlXTtcbiAgaWYgKGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFyZ3NbMF0pIHtcbiAgICAgICAgYXJnc1swXSA9IGZvcm1hdE1zZyh0eXBlLCBhcmdzWzBdKTtcbiAgICAgIH1cblxuICAgICAgZnVuYy5hcHBseShnbG9iYWwuY29uc29sZSwgYXJncyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gbm9vcDtcbn1cblxuZnVuY3Rpb24gZXhwb3J0TG9nZ2VyRnVuY3Rpb25zKGRlYnVnQ29uZmlnKSB7XG4gIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3Rpb25zID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgIGZ1bmN0aW9uc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuXG4gIGZ1bmN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgZXhwb3J0ZWRMb2dnZXJbdHlwZV0gPSBkZWJ1Z0NvbmZpZ1t0eXBlXSA/IGRlYnVnQ29uZmlnW3R5cGVdLmJpbmQoZGVidWdDb25maWcpIDogY29uc29sZVByaW50Rm4odHlwZSk7XG4gIH0pO1xufVxuXG52YXIgZW5hYmxlTG9ncyA9IGZ1bmN0aW9uIGVuYWJsZUxvZ3MoZGVidWdDb25maWcpIHtcbiAgaWYgKGRlYnVnQ29uZmlnID09PSB0cnVlIHx8ICh0eXBlb2YgZGVidWdDb25maWcgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGRlYnVnQ29uZmlnKSkgPT09ICdvYmplY3QnKSB7XG4gICAgZXhwb3J0TG9nZ2VyRnVuY3Rpb25zKGRlYnVnQ29uZmlnLFxuICAgIC8vIFJlbW92ZSBvdXQgZnJvbSBsaXN0IGhlcmUgdG8gaGFyZC1kaXNhYmxlIGEgbG9nLWxldmVsXG4gICAgLy8gJ3RyYWNlJyxcbiAgICAnZGVidWcnLCAnbG9nJywgJ2luZm8nLCAnd2FybicsICdlcnJvcicpO1xuICAgIC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3QgYWxsb3cgdG8gdXNlIGJpbmQgb24gY29uc29sZSBvYmplY3QgYW55d2F5XG4gICAgLy8gZmFsbGJhY2sgdG8gZGVmYXVsdCBpZiBuZWVkZWRcbiAgICB0cnkge1xuICAgICAgZXhwb3J0ZWRMb2dnZXIubG9nKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXhwb3J0ZWRMb2dnZXIgPSBmYWtlTG9nZ2VyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBleHBvcnRlZExvZ2dlciA9IGZha2VMb2dnZXI7XG4gIH1cbn07XG5cbnZhciBsb2dnZXIgPSBleHBvcnRlZExvZ2dlcjtcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbnZhciBIbHNFdmVudHMgPSB7XG4gIC8vIGZpcmVkIGJlZm9yZSBNZWRpYVNvdXJjZSBpcyBhdHRhY2hpbmcgdG8gbWVkaWEgZWxlbWVudCAtIGRhdGE6IHsgbWVkaWEgfVxuICBNRURJQV9BVFRBQ0hJTkc6ICdobHNNZWRpYUF0dGFjaGluZycsXG4gIC8vIGZpcmVkIHdoZW4gTWVkaWFTb3VyY2UgaGFzIGJlZW4gc3VjY2VzZnVsbHkgYXR0YWNoZWQgdG8gbWVkaWEgZWxlbWVudCAtIGRhdGE6IHsgfVxuICBNRURJQV9BVFRBQ0hFRDogJ2hsc01lZGlhQXR0YWNoZWQnLFxuICAvLyBmaXJlZCBiZWZvcmUgZGV0YWNoaW5nIE1lZGlhU291cmNlIGZyb20gbWVkaWEgZWxlbWVudCAtIGRhdGE6IHsgfVxuICBNRURJQV9ERVRBQ0hJTkc6ICdobHNNZWRpYURldGFjaGluZycsXG4gIC8vIGZpcmVkIHdoZW4gTWVkaWFTb3VyY2UgaGFzIGJlZW4gZGV0YWNoZWQgZnJvbSBtZWRpYSBlbGVtZW50IC0gZGF0YTogeyB9XG4gIE1FRElBX0RFVEFDSEVEOiAnaGxzTWVkaWFEZXRhY2hlZCcsXG4gIC8vIGZpcmVkIHdoZW4gd2UgYnVmZmVyIGlzIGdvaW5nIHRvIGJlIHJlc2V0IC0gZGF0YTogeyB9XG4gIEJVRkZFUl9SRVNFVDogJ2hsc0J1ZmZlclJlc2V0JyxcbiAgLy8gZmlyZWQgd2hlbiB3ZSBrbm93IGFib3V0IHRoZSBjb2RlY3MgdGhhdCB3ZSBuZWVkIGJ1ZmZlcnMgZm9yIHRvIHB1c2ggaW50byAtIGRhdGE6IHt0cmFja3MgOiB7IGNvbnRhaW5lciwgY29kZWMsIGxldmVsQ29kZWMsIGluaXRTZWdtZW50LCBtZXRhZGF0YSB9fVxuICBCVUZGRVJfQ09ERUNTOiAnaGxzQnVmZmVyQ29kZWNzJyxcbiAgLy8gZmlyZWQgd2hlbiBzb3VyY2VidWZmZXJzIGhhdmUgYmVlbiBjcmVhdGVkIC0gZGF0YTogeyB0cmFja3MgOiB0cmFja3MgfVxuICBCVUZGRVJfQ1JFQVRFRDogJ2hsc0J1ZmZlckNyZWF0ZWQnLFxuICAvLyBmaXJlZCB3aGVuIHdlIGFwcGVuZCBhIHNlZ21lbnQgdG8gdGhlIGJ1ZmZlciAtIGRhdGE6IHsgc2VnbWVudDogc2VnbWVudCBvYmplY3QgfVxuICBCVUZGRVJfQVBQRU5ESU5HOiAnaGxzQnVmZmVyQXBwZW5kaW5nJyxcbiAgLy8gZmlyZWQgd2hlbiB3ZSBhcmUgZG9uZSB3aXRoIGFwcGVuZGluZyBhIG1lZGlhIHNlZ21lbnQgdG8gdGhlIGJ1ZmZlciAtIGRhdGEgOiB7IHBhcmVudCA6IHNlZ21lbnQgcGFyZW50IHRoYXQgdHJpZ2dlcmVkIEJVRkZFUl9BUFBFTkRJTkcsIHBlbmRpbmcgOiBuYiBvZiBzZWdtZW50cyB3YWl0aW5nIGZvciBhcHBlbmRpbmcgZm9yIHRoaXMgc2VnbWVudCBwYXJlbnR9XG4gIEJVRkZFUl9BUFBFTkRFRDogJ2hsc0J1ZmZlckFwcGVuZGVkJyxcbiAgLy8gZmlyZWQgd2hlbiB0aGUgc3RyZWFtIGlzIGZpbmlzaGVkIGFuZCB3ZSB3YW50IHRvIG5vdGlmeSB0aGUgbWVkaWEgYnVmZmVyIHRoYXQgdGhlcmUgd2lsbCBiZSBubyBtb3JlIGRhdGEgLSBkYXRhOiB7IH1cbiAgQlVGRkVSX0VPUzogJ2hsc0J1ZmZlckVvcycsXG4gIC8vIGZpcmVkIHdoZW4gdGhlIG1lZGlhIGJ1ZmZlciBzaG91bGQgYmUgZmx1c2hlZCAtIGRhdGEgeyBzdGFydE9mZnNldCwgZW5kT2Zmc2V0IH1cbiAgQlVGRkVSX0ZMVVNISU5HOiAnaGxzQnVmZmVyRmx1c2hpbmcnLFxuICAvLyBmaXJlZCB3aGVuIHRoZSBtZWRpYSBidWZmZXIgaGFzIGJlZW4gZmx1c2hlZCAtIGRhdGE6IHsgfVxuICBCVUZGRVJfRkxVU0hFRDogJ2hsc0J1ZmZlckZsdXNoZWQnLFxuICAvLyBmaXJlZCB0byBzaWduYWwgdGhhdCBhIG1hbmlmZXN0IGxvYWRpbmcgc3RhcnRzIC0gZGF0YTogeyB1cmwgOiBtYW5pZmVzdFVSTH1cbiAgTUFOSUZFU1RfTE9BRElORzogJ2hsc01hbmlmZXN0TG9hZGluZycsXG4gIC8vIGZpcmVkIGFmdGVyIG1hbmlmZXN0IGhhcyBiZWVuIGxvYWRlZCAtIGRhdGE6IHsgbGV2ZWxzIDogW2F2YWlsYWJsZSBxdWFsaXR5IGxldmVsc10sIGF1ZGlvVHJhY2tzIDogWyBhdmFpbGFibGUgYXVkaW8gdHJhY2tzXSwgdXJsIDogbWFuaWZlc3RVUkwsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbXRpbWV9fVxuICBNQU5JRkVTVF9MT0FERUQ6ICdobHNNYW5pZmVzdExvYWRlZCcsXG4gIC8vIGZpcmVkIGFmdGVyIG1hbmlmZXN0IGhhcyBiZWVuIHBhcnNlZCAtIGRhdGE6IHsgbGV2ZWxzIDogW2F2YWlsYWJsZSBxdWFsaXR5IGxldmVsc10sIGZpcnN0TGV2ZWwgOiBpbmRleCBvZiBmaXJzdCBxdWFsaXR5IGxldmVsIGFwcGVhcmluZyBpbiBNYW5pZmVzdH1cbiAgTUFOSUZFU1RfUEFSU0VEOiAnaGxzTWFuaWZlc3RQYXJzZWQnLFxuICAvLyBmaXJlZCB3aGVuIGEgbGV2ZWwgc3dpdGNoIGlzIHJlcXVlc3RlZCAtIGRhdGE6IHsgbGV2ZWwgOiBpZCBvZiBuZXcgbGV2ZWwgfVxuICBMRVZFTF9TV0lUQ0hJTkc6ICdobHNMZXZlbFN3aXRjaGluZycsXG4gIC8vIGZpcmVkIHdoZW4gYSBsZXZlbCBzd2l0Y2ggaXMgZWZmZWN0aXZlIC0gZGF0YTogeyBsZXZlbCA6IGlkIG9mIG5ldyBsZXZlbCB9XG4gIExFVkVMX1NXSVRDSEVEOiAnaGxzTGV2ZWxTd2l0Y2hlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBsZXZlbCBwbGF5bGlzdCBsb2FkaW5nIHN0YXJ0cyAtIGRhdGE6IHsgdXJsIDogbGV2ZWwgVVJMLCBsZXZlbCA6IGlkIG9mIGxldmVsIGJlaW5nIGxvYWRlZH1cbiAgTEVWRUxfTE9BRElORzogJ2hsc0xldmVsTG9hZGluZycsXG4gIC8vIGZpcmVkIHdoZW4gYSBsZXZlbCBwbGF5bGlzdCBsb2FkaW5nIGZpbmlzaGVzIC0gZGF0YTogeyBkZXRhaWxzIDogbGV2ZWxEZXRhaWxzIG9iamVjdCwgbGV2ZWwgOiBpZCBvZiBsb2FkZWQgbGV2ZWwsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbXRpbWV9IH1cbiAgTEVWRUxfTE9BREVEOiAnaGxzTGV2ZWxMb2FkZWQnLFxuICAvLyBmaXJlZCB3aGVuIGEgbGV2ZWwncyBkZXRhaWxzIGhhdmUgYmVlbiB1cGRhdGVkIGJhc2VkIG9uIHByZXZpb3VzIGRldGFpbHMsIGFmdGVyIGl0IGhhcyBiZWVuIGxvYWRlZCAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGxldmVsIDogaWQgb2YgdXBkYXRlZCBsZXZlbCB9XG4gIExFVkVMX1VQREFURUQ6ICdobHNMZXZlbFVwZGF0ZWQnLFxuICAvLyBmaXJlZCB3aGVuIGEgbGV2ZWwncyBQVFMgaW5mb3JtYXRpb24gaGFzIGJlZW4gdXBkYXRlZCBhZnRlciBwYXJzaW5nIGEgZnJhZ21lbnQgLSBkYXRhOiB7IGRldGFpbHMgOiBsZXZlbERldGFpbHMgb2JqZWN0LCBsZXZlbCA6IGlkIG9mIHVwZGF0ZWQgbGV2ZWwsIGRyaWZ0OiBQVFMgZHJpZnQgb2JzZXJ2ZWQgd2hlbiBwYXJzaW5nIGxhc3QgZnJhZ21lbnQgfVxuICBMRVZFTF9QVFNfVVBEQVRFRDogJ2hsc0xldmVsUHRzVXBkYXRlZCcsXG4gIC8vIGZpcmVkIHRvIG5vdGlmeSB0aGF0IGF1ZGlvIHRyYWNrIGxpc3RzIGhhcyBiZWVuIHVwZGF0ZWQgLSBkYXRhOiB7IGF1ZGlvVHJhY2tzIDogYXVkaW9UcmFja3MgfVxuICBBVURJT19UUkFDS1NfVVBEQVRFRDogJ2hsc0F1ZGlvVHJhY2tzVXBkYXRlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYW4gYXVkaW8gdHJhY2sgc3dpdGNoaW5nIGlzIHJlcXVlc3RlZCAtIGRhdGE6IHsgaWQgOiBhdWRpbyB0cmFjayBpZCB9XG4gIEFVRElPX1RSQUNLX1NXSVRDSElORzogJ2hsc0F1ZGlvVHJhY2tTd2l0Y2hpbmcnLFxuICAvLyBmaXJlZCB3aGVuIGFuIGF1ZGlvIHRyYWNrIHN3aXRjaCBhY3R1YWxseSBvY2N1cnMgLSBkYXRhOiB7IGlkIDogYXVkaW8gdHJhY2sgaWQgfVxuICBBVURJT19UUkFDS19TV0lUQ0hFRDogJ2hsc0F1ZGlvVHJhY2tTd2l0Y2hlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYW4gYXVkaW8gdHJhY2sgbG9hZGluZyBzdGFydHMgLSBkYXRhOiB7IHVybCA6IGF1ZGlvIHRyYWNrIFVSTCwgaWQgOiBhdWRpbyB0cmFjayBpZCB9XG4gIEFVRElPX1RSQUNLX0xPQURJTkc6ICdobHNBdWRpb1RyYWNrTG9hZGluZycsXG4gIC8vIGZpcmVkIHdoZW4gYW4gYXVkaW8gdHJhY2sgbG9hZGluZyBmaW5pc2hlcyAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGlkIDogYXVkaW8gdHJhY2sgaWQsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbXRpbWUgfSB9XG4gIEFVRElPX1RSQUNLX0xPQURFRDogJ2hsc0F1ZGlvVHJhY2tMb2FkZWQnLFxuICAvLyBmaXJlZCB0byBub3RpZnkgdGhhdCBzdWJ0aXRsZSB0cmFjayBsaXN0cyBoYXMgYmVlbiB1cGRhdGVkIC0gZGF0YTogeyBzdWJ0aXRsZVRyYWNrcyA6IHN1YnRpdGxlVHJhY2tzIH1cbiAgU1VCVElUTEVfVFJBQ0tTX1VQREFURUQ6ICdobHNTdWJ0aXRsZVRyYWNrc1VwZGF0ZWQnLFxuICAvLyBmaXJlZCB3aGVuIGFuIHN1YnRpdGxlIHRyYWNrIHN3aXRjaCBvY2N1cnMgLSBkYXRhOiB7IGlkIDogc3VidGl0bGUgdHJhY2sgaWQgfVxuICBTVUJUSVRMRV9UUkFDS19TV0lUQ0g6ICdobHNTdWJ0aXRsZVRyYWNrU3dpdGNoJyxcbiAgLy8gZmlyZWQgd2hlbiBhIHN1YnRpdGxlIHRyYWNrIGxvYWRpbmcgc3RhcnRzIC0gZGF0YTogeyB1cmwgOiBzdWJ0aXRsZSB0cmFjayBVUkwsIGlkIDogc3VidGl0bGUgdHJhY2sgaWQgfVxuICBTVUJUSVRMRV9UUkFDS19MT0FESU5HOiAnaGxzU3VidGl0bGVUcmFja0xvYWRpbmcnLFxuICAvLyBmaXJlZCB3aGVuIGEgc3VidGl0bGUgdHJhY2sgbG9hZGluZyBmaW5pc2hlcyAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGlkIDogc3VidGl0bGUgdHJhY2sgaWQsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbXRpbWUgfSB9XG4gIFNVQlRJVExFX1RSQUNLX0xPQURFRDogJ2hsc1N1YnRpdGxlVHJhY2tMb2FkZWQnLFxuICAvLyBmaXJlZCB3aGVuIGEgc3VidGl0bGUgZnJhZ21lbnQgaGFzIGJlZW4gcHJvY2Vzc2VkIC0gZGF0YTogeyBzdWNjZXNzIDogYm9vbGVhbiwgZnJhZyA6IHRoZSBwcm9jZXNzZWQgZnJhZyB9XG4gIFNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VEOiAnaGxzU3VidGl0bGVGcmFnUHJvY2Vzc2VkJyxcbiAgLy8gZmlyZWQgd2hlbiB0aGUgZmlyc3QgdGltZXN0YW1wIGlzIGZvdW5kIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGluaXRQVFM6IGluaXRQVFMsIGZyYWcgOiBmcmFnbWVudCBvYmplY3QgfVxuICBJTklUX1BUU19GT1VORDogJ2hsc0luaXRQdHNGb3VuZCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBmcmFnbWVudCBsb2FkaW5nIHN0YXJ0cyAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCB9XG4gIEZSQUdfTE9BRElORzogJ2hsc0ZyYWdMb2FkaW5nJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGZyYWdtZW50IGxvYWRpbmcgaXMgcHJvZ3Jlc3NpbmcgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHsgdHJlcXVlc3QsIHRmaXJzdCwgbG9hZGVkIH0gfVxuICBGUkFHX0xPQURfUFJPR1JFU1M6ICdobHNGcmFnTG9hZFByb2dyZXNzJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgZnJhZ21lbnQgbG9hZCBhYm9ydGluZyBmb3IgZW1lcmdlbmN5IHN3aXRjaCBkb3duIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0IH1cbiAgRlJBR19MT0FEX0VNRVJHRU5DWV9BQk9SVEVEOiAnaGxzRnJhZ0xvYWRFbWVyZ2VuY3lBYm9ydGVkJyxcbiAgLy8gZmlyZWQgd2hlbiBhIGZyYWdtZW50IGxvYWRpbmcgaXMgY29tcGxldGVkIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0LCBwYXlsb2FkIDogZnJhZ21lbnQgcGF5bG9hZCwgc3RhdHMgOiB7IHRyZXF1ZXN0LCB0Zmlyc3QsIHRsb2FkLCBsZW5ndGggfSB9XG4gIEZSQUdfTE9BREVEOiAnaGxzRnJhZ0xvYWRlZCcsXG4gIC8vIGZpcmVkIHdoZW4gYSBmcmFnbWVudCBoYXMgZmluaXNoZWQgZGVjcnlwdGluZyAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnOiBmcmFnbWVudCBvYmplY3QsIHBheWxvYWQgOiBmcmFnbWVudCBwYXlsb2FkLCBzdGF0cyA6IHsgdHN0YXJ0LCB0ZGVjcnlwdCB9IH1cbiAgRlJBR19ERUNSWVBURUQ6ICdobHNGcmFnRGVjcnlwdGVkJyxcbiAgLy8gZmlyZWQgd2hlbiBJbml0IFNlZ21lbnQgaGFzIGJlZW4gZXh0cmFjdGVkIGZyb20gZnJhZ21lbnQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZzogZnJhZ21lbnQgb2JqZWN0LCBtb292IDogbW9vdiBNUDQgYm94LCBjb2RlY3MgOiBjb2RlY3MgZm91bmQgd2hpbGUgcGFyc2luZyBmcmFnbWVudCB9XG4gIEZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQ6ICdobHNGcmFnUGFyc2luZ0luaXRTZWdtZW50JyxcbiAgLy8gZmlyZWQgd2hlbiBwYXJzaW5nIHNlaSB0ZXh0IGlzIGNvbXBsZXRlZCAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnOiBmcmFnbWVudCBvYmplY3QsIHNhbXBsZXMgOiBbIHNlaSBzYW1wbGVzIHBlcyBdIH1cbiAgRlJBR19QQVJTSU5HX1VTRVJEQVRBOiAnaGxzRnJhZ1BhcnNpbmdVc2VyZGF0YScsXG4gIC8vIGZpcmVkIHdoZW4gcGFyc2luZyBpZDMgaXMgY29tcGxldGVkIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWc6IGZyYWdtZW50IG9iamVjdCwgc2FtcGxlcyA6IFsgaWQzIHNhbXBsZXMgcGVzIF0gfVxuICBGUkFHX1BBUlNJTkdfTUVUQURBVEE6ICdobHNGcmFnUGFyc2luZ01ldGFkYXRhJyxcbiAgLy8gZmlyZWQgd2hlbiBkYXRhIGhhdmUgYmVlbiBleHRyYWN0ZWQgZnJvbSBmcmFnbWVudCAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnOiBmcmFnbWVudCBvYmplY3QsIGRhdGExIDogbW9vZiBNUDQgYm94IG9yIFRTIGZyYWdtZW50cywgZGF0YTIgOiBtZGF0IE1QNCBib3ggb3IgbnVsbH1cbiAgRlJBR19QQVJTSU5HX0RBVEE6ICdobHNGcmFnUGFyc2luZ0RhdGEnLFxuICAvLyBmaXJlZCB3aGVuIGZyYWdtZW50IHBhcnNpbmcgaXMgY29tcGxldGVkIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWc6IGZyYWdtZW50IG9iamVjdCB9XG4gIEZSQUdfUEFSU0VEOiAnaGxzRnJhZ1BhcnNlZCcsXG4gIC8vIGZpcmVkIHdoZW4gZnJhZ21lbnQgcmVtdXhlZCBNUDQgYm94ZXMgaGF2ZSBhbGwgYmVlbiBhcHBlbmRlZCBpbnRvIFNvdXJjZUJ1ZmZlciAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnIDogZnJhZ21lbnQgb2JqZWN0LCBzdGF0cyA6IHsgdHJlcXVlc3QsIHRmaXJzdCwgdGxvYWQsIHRwYXJzZWQsIHRidWZmZXJlZCwgbGVuZ3RoLCBid0VzdGltYXRlIH0gfVxuICBGUkFHX0JVRkZFUkVEOiAnaGxzRnJhZ0J1ZmZlcmVkJyxcbiAgLy8gZmlyZWQgd2hlbiBmcmFnbWVudCBtYXRjaGluZyB3aXRoIGN1cnJlbnQgbWVkaWEgcG9zaXRpb24gaXMgY2hhbmdpbmcgLSBkYXRhIDogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWcgOiBmcmFnbWVudCBvYmplY3QgfVxuICBGUkFHX0NIQU5HRUQ6ICdobHNGcmFnQ2hhbmdlZCcsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgRlBTIGRyb3AgZXZlbnQgLSBkYXRhOiB7IGN1cmVudERyb3BwZWQsIGN1cnJlbnREZWNvZGVkLCB0b3RhbERyb3BwZWRGcmFtZXMgfVxuICBGUFNfRFJPUDogJ2hsc0Zwc0Ryb3AnLFxuICAvLyB0cmlnZ2VyZWQgd2hlbiBGUFMgZHJvcCB0cmlnZ2VycyBhdXRvIGxldmVsIGNhcHBpbmcgLSBkYXRhOiB7IGxldmVsLCBkcm9wcGVkbGV2ZWwgfVxuICBGUFNfRFJPUF9MRVZFTF9DQVBQSU5HOiAnaGxzRnBzRHJvcExldmVsQ2FwcGluZycsXG4gIC8vIElkZW50aWZpZXIgZm9yIGFuIGVycm9yIGV2ZW50IC0gZGF0YTogeyB0eXBlIDogZXJyb3IgdHlwZSwgZGV0YWlscyA6IGVycm9yIGRldGFpbHMsIGZhdGFsIDogaWYgdHJ1ZSwgaGxzLmpzIGNhbm5vdC93aWxsIG5vdCB0cnkgdG8gcmVjb3ZlciwgaWYgZmFsc2UsIGhscy5qcyB3aWxsIHRyeSB0byByZWNvdmVyLG90aGVyIGVycm9yIHNwZWNpZmljIGRhdGEgfVxuICBFUlJPUjogJ2hsc0Vycm9yJyxcbiAgLy8gZmlyZWQgd2hlbiBobHMuanMgaW5zdGFuY2Ugc3RhcnRzIGRlc3Ryb3lpbmcuIERpZmZlcmVudCBmcm9tIE1FRElBX0RFVEFDSEVEIGFzIG9uZSBjb3VsZCB3YW50IHRvIGRldGFjaCBhbmQgcmVhdHRhY2ggYSBtZWRpYSB0byB0aGUgaW5zdGFuY2Ugb2YgaGxzLmpzIHRvIGhhbmRsZSBtaWQtcm9sbHMgZm9yIGV4YW1wbGUgLSBkYXRhOiB7IH1cbiAgREVTVFJPWUlORzogJ2hsc0Rlc3Ryb3lpbmcnLFxuICAvLyBmaXJlZCB3aGVuIGEgZGVjcnlwdCBrZXkgbG9hZGluZyBzdGFydHMgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QgfVxuICBLRVlfTE9BRElORzogJ2hsc0tleUxvYWRpbmcnLFxuICAvLyBmaXJlZCB3aGVuIGEgZGVjcnlwdCBrZXkgbG9hZGluZyBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHBheWxvYWQgOiBrZXkgcGF5bG9hZCwgc3RhdHMgOiB7IHRyZXF1ZXN0LCB0Zmlyc3QsIHRsb2FkLCBsZW5ndGggfSB9XG4gIEtFWV9MT0FERUQ6ICdobHNLZXlMb2FkZWQnLFxuICAvLyBmaXJlZCB1cG9uIHN0cmVhbSBjb250cm9sbGVyIHN0YXRlIHRyYW5zaXRpb25zIC0gZGF0YTogeyBwcmV2aW91c1N0YXRlLCBuZXh0U3RhdGUgfVxuICBTVFJFQU1fU1RBVEVfVFJBTlNJVElPTjogJ2hsc1N0cmVhbVN0YXRlVHJhbnNpdGlvbidcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoSGxzRXZlbnRzKTtcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBFcnJvclR5cGVzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRXJyb3JEZXRhaWxzOyB9KTtcbnZhciBFcnJvclR5cGVzID0ge1xuICAvLyBJZGVudGlmaWVyIGZvciBhIG5ldHdvcmsgZXJyb3IgKGxvYWRpbmcgZXJyb3IgLyB0aW1lb3V0IC4uLilcbiAgTkVUV09SS19FUlJPUjogJ25ldHdvcmtFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbWVkaWEgRXJyb3IgKHZpZGVvL3BhcnNpbmcvbWVkaWFzb3VyY2UgZXJyb3IpXG4gIE1FRElBX0VSUk9SOiAnbWVkaWFFcnJvcicsXG4gIC8vIEVNRSAoZW5jcnlwdGVkIG1lZGlhIGV4dGVuc2lvbnMpIGVycm9yc1xuICBLRVlfU1lTVEVNX0VSUk9SOiAna2V5U3lzdGVtRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIG11eCBFcnJvciAoZGVtdXhpbmcvcmVtdXhpbmcpXG4gIE1VWF9FUlJPUjogJ211eEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYWxsIG90aGVyIGVycm9yc1xuICBPVEhFUl9FUlJPUjogJ290aGVyRXJyb3InXG59O1xuXG4vKipcbiAqIEBlbnVtIHtFcnJvckRldGFpbHN9XG4gKiBAdHlwZWRlZiB7c3RyaW5nfSBFcnJvckRldGFpbFxuICovXG52YXIgRXJyb3JEZXRhaWxzID0ge1xuICBLRVlfU1lTVEVNX05PX0tFWVM6ICdrZXlTeXN0ZW1Ob0tleXMnLFxuICBLRVlfU1lTVEVNX05PX0FDQ0VTUzogJ2tleVN5c3RlbU5vQWNjZXNzJyxcbiAgS0VZX1NZU1RFTV9OT19TRVNTSU9OOiAna2V5U3lzdGVtTm9TZXNzaW9uJyxcbiAgS0VZX1NZU1RFTV9MSUNFTlNFX1JFUVVFU1RfRkFJTEVEOiAna2V5U3lzdGVtTGljZW5zZVJlcXVlc3RGYWlsZWQnLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIG1hbmlmZXN0IGxvYWQgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gIE1BTklGRVNUX0xPQURfRVJST1I6ICdtYW5pZmVzdExvYWRFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbWFuaWZlc3QgbG9hZCB0aW1lb3V0IC0gZGF0YTogeyB1cmwgOiBmYXVsdHkgVVJMLCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICBNQU5JRkVTVF9MT0FEX1RJTUVPVVQ6ICdtYW5pZmVzdExvYWRUaW1lT3V0JyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBtYW5pZmVzdCBwYXJzaW5nIGVycm9yIC0gZGF0YTogeyB1cmwgOiBmYXVsdHkgVVJMLCByZWFzb24gOiBlcnJvciByZWFzb259XG4gIE1BTklGRVNUX1BBUlNJTkdfRVJST1I6ICdtYW5pZmVzdFBhcnNpbmdFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbWFuaWZlc3Qgd2l0aCBvbmx5IGluY29tcGF0aWJsZSBjb2RlY3MgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlYXNvbiA6IGVycm9yIHJlYXNvbn1cbiAgTUFOSUZFU1RfSU5DT01QQVRJQkxFX0NPREVDU19FUlJPUjogJ21hbmlmZXN0SW5jb21wYXRpYmxlQ29kZWNzRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIGxldmVsIGxvYWQgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gIExFVkVMX0xPQURfRVJST1I6ICdsZXZlbExvYWRFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgbGV2ZWwgbG9hZCB0aW1lb3V0IC0gZGF0YTogeyB1cmwgOiBmYXVsdHkgVVJMLCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICBMRVZFTF9MT0FEX1RJTUVPVVQ6ICdsZXZlbExvYWRUaW1lT3V0JyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBsZXZlbCBzd2l0Y2ggZXJyb3IgLSBkYXRhOiB7IGxldmVsIDogZmF1bHR5IGxldmVsIElkLCBldmVudCA6IGVycm9yIGRlc2NyaXB0aW9ufVxuICBMRVZFTF9TV0lUQ0hfRVJST1I6ICdsZXZlbFN3aXRjaEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYW4gYXVkaW8gdHJhY2sgbG9hZCBlcnJvciAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgQVVESU9fVFJBQ0tfTE9BRF9FUlJPUjogJ2F1ZGlvVHJhY2tMb2FkRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhbiBhdWRpbyB0cmFjayBsb2FkIHRpbWVvdXQgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gIEFVRElPX1RSQUNLX0xPQURfVElNRU9VVDogJ2F1ZGlvVHJhY2tMb2FkVGltZU91dCcsXG4gIC8vIElkZW50aWZpZXIgZm9yIGZyYWdtZW50IGxvYWQgZXJyb3IgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gIEZSQUdfTE9BRF9FUlJPUjogJ2ZyYWdMb2FkRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBmcmFnbWVudCBsb2FkIHRpbWVvdXQgZXJyb3IgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3R9XG4gIEZSQUdfTE9BRF9USU1FT1VUOiAnZnJhZ0xvYWRUaW1lT3V0JyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBmcmFnbWVudCBkZWNyeXB0aW9uIGVycm9yIGV2ZW50IC0gZGF0YToge2lkIDogZGVtdXhlciBJZCxmcmFnOiBmcmFnbWVudCBvYmplY3QsIHJlYXNvbiA6IHBhcnNpbmcgZXJyb3IgZGVzY3JpcHRpb24gfVxuICBGUkFHX0RFQ1JZUFRfRVJST1I6ICdmcmFnRGVjcnlwdEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBmcmFnbWVudCBwYXJzaW5nIGVycm9yIGV2ZW50IC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgSWQsIHJlYXNvbiA6IHBhcnNpbmcgZXJyb3IgZGVzY3JpcHRpb24gfVxuICAvLyB3aWxsIGJlIHJlbmFtZWQgREVNVVhfUEFSU0lOR19FUlJPUiBhbmQgc3dpdGNoZWQgdG8gTVVYX0VSUk9SIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2VcbiAgRlJBR19QQVJTSU5HX0VSUk9SOiAnZnJhZ1BhcnNpbmdFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgcmVtdXggYWxsb2MgZXJyb3IgZXZlbnQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBJZCwgZnJhZyA6IGZyYWdtZW50IG9iamVjdCwgYnl0ZXMgOiBuYiBvZiBieXRlcyBvbiB3aGljaCBhbGxvY2F0aW9uIGZhaWxlZCAsIHJlYXNvbiA6IGVycm9yIHRleHQgfVxuICBSRU1VWF9BTExPQ19FUlJPUjogJ3JlbXV4QWxsb2NFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGRlY3J5cHQga2V5IGxvYWQgZXJyb3IgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gIEtFWV9MT0FEX0VSUk9SOiAna2V5TG9hZEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgZGVjcnlwdCBrZXkgbG9hZCB0aW1lb3V0IGVycm9yIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0fVxuICBLRVlfTE9BRF9USU1FT1VUOiAna2V5TG9hZFRpbWVPdXQnLFxuICAvLyBUcmlnZ2VyZWQgd2hlbiBhbiBleGNlcHRpb24gb2NjdXJzIHdoaWxlIGFkZGluZyBhIHNvdXJjZUJ1ZmZlciB0byBNZWRpYVNvdXJjZSAtIGRhdGEgOiB7ICBlcnIgOiBleGNlcHRpb24gLCBtaW1lVHlwZSA6IG1pbWVUeXBlIH1cbiAgQlVGRkVSX0FERF9DT0RFQ19FUlJPUjogJ2J1ZmZlckFkZENvZGVjRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIGJ1ZmZlciBhcHBlbmQgZXJyb3IgLSBkYXRhOiBhcHBlbmQgZXJyb3IgZGVzY3JpcHRpb25cbiAgQlVGRkVSX0FQUEVORF9FUlJPUjogJ2J1ZmZlckFwcGVuZEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgYXBwZW5kaW5nIGVycm9yIGV2ZW50IC0gZGF0YTogYXBwZW5kaW5nIGVycm9yIGRlc2NyaXB0aW9uXG4gIEJVRkZFUl9BUFBFTkRJTkdfRVJST1I6ICdidWZmZXJBcHBlbmRpbmdFcnJvcicsXG4gIC8vIElkZW50aWZpZXIgZm9yIGEgYnVmZmVyIHN0YWxsZWQgZXJyb3IgZXZlbnRcbiAgQlVGRkVSX1NUQUxMRURfRVJST1I6ICdidWZmZXJTdGFsbGVkRXJyb3InLFxuICAvLyBJZGVudGlmaWVyIGZvciBhIGJ1ZmZlciBmdWxsIGV2ZW50XG4gIEJVRkZFUl9GVUxMX0VSUk9SOiAnYnVmZmVyRnVsbEVycm9yJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgc2VlayBvdmVyIGhvbGUgZXZlbnRcbiAgQlVGRkVSX1NFRUtfT1ZFUl9IT0xFOiAnYnVmZmVyU2Vla092ZXJIb2xlJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgbnVkZ2Ugb24gc3RhbGwgKHBsYXliYWNrIGlzIHN0dWNrIGFsdGhvdWdoIGN1cnJlbnRUaW1lIGlzIGluIGEgYnVmZmVyZWQgYXJlYSlcbiAgQlVGRkVSX05VREdFX09OX1NUQUxMOiAnYnVmZmVyTnVkZ2VPblN0YWxsJyxcbiAgLy8gSWRlbnRpZmllciBmb3IgYW4gaW50ZXJuYWwgZXhjZXB0aW9uIGhhcHBlbmluZyBpbnNpZGUgaGxzLmpzIHdoaWxlIGhhbmRsaW5nIGFuIGV2ZW50XG4gIElOVEVSTkFMX0VYQ0VQVElPTjogJ2ludGVybmFsRXhjZXB0aW9uJ1xufTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBpc0Zpbml0ZU51bWJlcjsgfSk7XG52YXIgaXNGaW5pdGVOdW1iZXIgPSBOdW1iZXIuaXNGaW5pdGUgfHwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKTtcbn07XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gZ2V0U2VsZlNjb3BlO1xuZnVuY3Rpb24gZ2V0U2VsZlNjb3BlKCkge1xuICAvLyBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzExMjM3MjU5LzU4OTQ5M1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYgKi9cbiAgICByZXR1cm4gc2VsZjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG59XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBzZWUgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzE4MDhcclxuXHJcbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cclxuKGZ1bmN0aW9uKHJvb3QpIHsgXHJcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXHJcblxyXG4gIHZhciBVUkxfUkVHRVggPSAvXigoPzpbYS16QS1aMC05K1xcLS5dKzopPykoXFwvXFwvW15cXC9cXDs/I10qKT8oLio/KT8/KDsuKj8pPyhcXD8uKj8pPygjLio/KT8kLztcclxuICB2YXIgRklSU1RfU0VHTUVOVF9SRUdFWCA9IC9eKFteXFwvOz8jXSopKC4qKSQvO1xyXG4gIHZhciBTTEFTSF9ET1RfUkVHRVggPSAvKD86XFwvfF4pXFwuKD89XFwvKS9nO1xyXG4gIHZhciBTTEFTSF9ET1RfRE9UX1JFR0VYID0gLyg/OlxcL3xeKVxcLlxcLlxcLyg/IVxcLlxcLlxcLykuKj8oPz1cXC8pL2c7XHJcblxyXG4gIHZhciBVUkxUb29sa2l0ID0geyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuICAgIC8vIElmIG9wdHMuYWx3YXlzTm9ybWFsaXplIGlzIHRydWUgdGhlbiB0aGUgcGF0aCB3aWxsIGFsd2F5cyBiZSBub3JtYWxpemVkIGV2ZW4gd2hlbiBpdCBzdGFydHMgd2l0aCAvIG9yIC8vXHJcbiAgICAvLyBFLmdcclxuICAgIC8vIFdpdGggb3B0cy5hbHdheXNOb3JtYWxpemUgPSBmYWxzZSAoZGVmYXVsdCwgc3BlYyBjb21wbGlhbnQpXHJcbiAgICAvLyBodHRwOi8vYS5jb20vYi9jZCArIC9lL2YvLi4vZyA9PiBodHRwOi8vYS5jb20vZS9mLy4uL2dcclxuICAgIC8vIFdpdGggb3B0cy5hbHdheXNOb3JtYWxpemUgPSB0cnVlIChub3Qgc3BlYyBjb21wbGlhbnQpXHJcbiAgICAvLyBodHRwOi8vYS5jb20vYi9jZCArIC9lL2YvLi4vZyA9PiBodHRwOi8vYS5jb20vZS9nXHJcbiAgICBidWlsZEFic29sdXRlVVJMOiBmdW5jdGlvbihiYXNlVVJMLCByZWxhdGl2ZVVSTCwgb3B0cykge1xyXG4gICAgICBvcHRzID0gb3B0cyB8fCB7fTtcclxuICAgICAgLy8gcmVtb3ZlIGFueSByZW1haW5pbmcgc3BhY2UgYW5kIENSTEZcclxuICAgICAgYmFzZVVSTCA9IGJhc2VVUkwudHJpbSgpO1xyXG4gICAgICByZWxhdGl2ZVVSTCA9IHJlbGF0aXZlVVJMLnRyaW0oKTtcclxuICAgICAgaWYgKCFyZWxhdGl2ZVVSTCkge1xyXG4gICAgICAgIC8vIDJhKSBJZiB0aGUgZW1iZWRkZWQgVVJMIGlzIGVudGlyZWx5IGVtcHR5LCBpdCBpbmhlcml0cyB0aGVcclxuICAgICAgICAvLyBlbnRpcmUgYmFzZSBVUkwgKGkuZS4sIGlzIHNldCBlcXVhbCB0byB0aGUgYmFzZSBVUkwpXHJcbiAgICAgICAgLy8gYW5kIHdlIGFyZSBkb25lLlxyXG4gICAgICAgIGlmICghb3B0cy5hbHdheXNOb3JtYWxpemUpIHtcclxuICAgICAgICAgIHJldHVybiBiYXNlVVJMO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmFzZVBhcnRzRm9yTm9ybWFsaXNlID0gdGhpcy5wYXJzZVVSTChiYXNlVVJMKTtcclxuICAgICAgICBpZiAoIWJhc2VQYXJ0cykge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciB0cnlpbmcgdG8gcGFyc2UgYmFzZSBVUkwuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJhc2VQYXJ0c0Zvck5vcm1hbGlzZS5wYXRoID0gVVJMVG9vbGtpdC5ub3JtYWxpemVQYXRoKGJhc2VQYXJ0c0Zvck5vcm1hbGlzZS5wYXRoKTtcclxuICAgICAgICByZXR1cm4gVVJMVG9vbGtpdC5idWlsZFVSTEZyb21QYXJ0cyhiYXNlUGFydHNGb3JOb3JtYWxpc2UpO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciByZWxhdGl2ZVBhcnRzID0gdGhpcy5wYXJzZVVSTChyZWxhdGl2ZVVSTCk7XHJcbiAgICAgIGlmICghcmVsYXRpdmVQYXJ0cykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIHJlbGF0aXZlIFVSTC4nKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocmVsYXRpdmVQYXJ0cy5zY2hlbWUpIHtcclxuICAgICAgICAvLyAyYikgSWYgdGhlIGVtYmVkZGVkIFVSTCBzdGFydHMgd2l0aCBhIHNjaGVtZSBuYW1lLCBpdCBpc1xyXG4gICAgICAgIC8vIGludGVycHJldGVkIGFzIGFuIGFic29sdXRlIFVSTCBhbmQgd2UgYXJlIGRvbmUuXHJcbiAgICAgICAgaWYgKCFvcHRzLmFsd2F5c05vcm1hbGl6ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHJlbGF0aXZlVVJMO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZWxhdGl2ZVBhcnRzLnBhdGggPSBVUkxUb29sa2l0Lm5vcm1hbGl6ZVBhdGgocmVsYXRpdmVQYXJ0cy5wYXRoKTtcclxuICAgICAgICByZXR1cm4gVVJMVG9vbGtpdC5idWlsZFVSTEZyb21QYXJ0cyhyZWxhdGl2ZVBhcnRzKTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgYmFzZVBhcnRzID0gdGhpcy5wYXJzZVVSTChiYXNlVVJMKTtcclxuICAgICAgaWYgKCFiYXNlUGFydHMpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHRyeWluZyB0byBwYXJzZSBiYXNlIFVSTC4nKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIWJhc2VQYXJ0cy5uZXRMb2MgJiYgYmFzZVBhcnRzLnBhdGggJiYgYmFzZVBhcnRzLnBhdGhbMF0gIT09ICcvJykge1xyXG4gICAgICAgIC8vIElmIG5ldExvYyBtaXNzaW5nIGFuZCBwYXRoIGRvZXNuJ3Qgc3RhcnQgd2l0aCAnLycsIGFzc3VtZSBldmVydGhpbmcgYmVmb3JlIHRoZSBmaXJzdCAnLycgaXMgdGhlIG5ldExvY1xyXG4gICAgICAgIC8vIFRoaXMgY2F1c2VzICdleGFtcGxlLmNvbS9hJyB0byBiZSBoYW5kbGVkIGFzICcvL2V4YW1wbGUuY29tL2EnIGluc3RlYWQgb2YgJy9leGFtcGxlLmNvbS9hJ1xyXG4gICAgICAgIHZhciBwYXRoUGFydHMgPSBGSVJTVF9TRUdNRU5UX1JFR0VYLmV4ZWMoYmFzZVBhcnRzLnBhdGgpO1xyXG4gICAgICAgIGJhc2VQYXJ0cy5uZXRMb2MgPSBwYXRoUGFydHNbMV07XHJcbiAgICAgICAgYmFzZVBhcnRzLnBhdGggPSBwYXRoUGFydHNbMl07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGJhc2VQYXJ0cy5uZXRMb2MgJiYgIWJhc2VQYXJ0cy5wYXRoKSB7XHJcbiAgICAgICAgYmFzZVBhcnRzLnBhdGggPSAnLyc7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGJ1aWx0UGFydHMgPSB7XHJcbiAgICAgICAgLy8gMmMpIE90aGVyd2lzZSwgdGhlIGVtYmVkZGVkIFVSTCBpbmhlcml0cyB0aGUgc2NoZW1lIG9mXHJcbiAgICAgICAgLy8gdGhlIGJhc2UgVVJMLlxyXG4gICAgICAgIHNjaGVtZTogYmFzZVBhcnRzLnNjaGVtZSxcclxuICAgICAgICBuZXRMb2M6IHJlbGF0aXZlUGFydHMubmV0TG9jLFxyXG4gICAgICAgIHBhdGg6IG51bGwsXHJcbiAgICAgICAgcGFyYW1zOiByZWxhdGl2ZVBhcnRzLnBhcmFtcyxcclxuICAgICAgICBxdWVyeTogcmVsYXRpdmVQYXJ0cy5xdWVyeSxcclxuICAgICAgICBmcmFnbWVudDogcmVsYXRpdmVQYXJ0cy5mcmFnbWVudFxyXG4gICAgICB9O1xyXG4gICAgICBpZiAoIXJlbGF0aXZlUGFydHMubmV0TG9jKSB7XHJcbiAgICAgICAgLy8gMykgSWYgdGhlIGVtYmVkZGVkIFVSTCdzIDxuZXRfbG9jPiBpcyBub24tZW1wdHksIHdlIHNraXAgdG9cclxuICAgICAgICAvLyBTdGVwIDcuICBPdGhlcndpc2UsIHRoZSBlbWJlZGRlZCBVUkwgaW5oZXJpdHMgdGhlIDxuZXRfbG9jPlxyXG4gICAgICAgIC8vIChpZiBhbnkpIG9mIHRoZSBiYXNlIFVSTC5cclxuICAgICAgICBidWlsdFBhcnRzLm5ldExvYyA9IGJhc2VQYXJ0cy5uZXRMb2M7XHJcbiAgICAgICAgLy8gNCkgSWYgdGhlIGVtYmVkZGVkIFVSTCBwYXRoIGlzIHByZWNlZGVkIGJ5IGEgc2xhc2ggXCIvXCIsIHRoZVxyXG4gICAgICAgIC8vIHBhdGggaXMgbm90IHJlbGF0aXZlIGFuZCB3ZSBza2lwIHRvIFN0ZXAgNy5cclxuICAgICAgICBpZiAocmVsYXRpdmVQYXJ0cy5wYXRoWzBdICE9PSAnLycpIHtcclxuICAgICAgICAgIGlmICghcmVsYXRpdmVQYXJ0cy5wYXRoKSB7XHJcbiAgICAgICAgICAgIC8vIDUpIElmIHRoZSBlbWJlZGRlZCBVUkwgcGF0aCBpcyBlbXB0eSAoYW5kIG5vdCBwcmVjZWRlZCBieSBhXHJcbiAgICAgICAgICAgIC8vIHNsYXNoKSwgdGhlbiB0aGUgZW1iZWRkZWQgVVJMIGluaGVyaXRzIHRoZSBiYXNlIFVSTCBwYXRoXHJcbiAgICAgICAgICAgIGJ1aWx0UGFydHMucGF0aCA9IGJhc2VQYXJ0cy5wYXRoO1xyXG4gICAgICAgICAgICAvLyA1YSkgaWYgdGhlIGVtYmVkZGVkIFVSTCdzIDxwYXJhbXM+IGlzIG5vbi1lbXB0eSwgd2Ugc2tpcCB0b1xyXG4gICAgICAgICAgICAvLyBzdGVwIDc7IG90aGVyd2lzZSwgaXQgaW5oZXJpdHMgdGhlIDxwYXJhbXM+IG9mIHRoZSBiYXNlXHJcbiAgICAgICAgICAgIC8vIFVSTCAoaWYgYW55KSBhbmRcclxuICAgICAgICAgICAgaWYgKCFyZWxhdGl2ZVBhcnRzLnBhcmFtcykge1xyXG4gICAgICAgICAgICAgIGJ1aWx0UGFydHMucGFyYW1zID0gYmFzZVBhcnRzLnBhcmFtcztcclxuICAgICAgICAgICAgICAvLyA1YikgaWYgdGhlIGVtYmVkZGVkIFVSTCdzIDxxdWVyeT4gaXMgbm9uLWVtcHR5LCB3ZSBza2lwIHRvXHJcbiAgICAgICAgICAgICAgLy8gc3RlcCA3OyBvdGhlcndpc2UsIGl0IGluaGVyaXRzIHRoZSA8cXVlcnk+IG9mIHRoZSBiYXNlXHJcbiAgICAgICAgICAgICAgLy8gVVJMIChpZiBhbnkpIGFuZCB3ZSBza2lwIHRvIHN0ZXAgNy5cclxuICAgICAgICAgICAgICBpZiAoIXJlbGF0aXZlUGFydHMucXVlcnkpIHtcclxuICAgICAgICAgICAgICAgIGJ1aWx0UGFydHMucXVlcnkgPSBiYXNlUGFydHMucXVlcnk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyA2KSBUaGUgbGFzdCBzZWdtZW50IG9mIHRoZSBiYXNlIFVSTCdzIHBhdGggKGFueXRoaW5nXHJcbiAgICAgICAgICAgIC8vIGZvbGxvd2luZyB0aGUgcmlnaHRtb3N0IHNsYXNoIFwiL1wiLCBvciB0aGUgZW50aXJlIHBhdGggaWYgbm9cclxuICAgICAgICAgICAgLy8gc2xhc2ggaXMgcHJlc2VudCkgaXMgcmVtb3ZlZCBhbmQgdGhlIGVtYmVkZGVkIFVSTCdzIHBhdGggaXNcclxuICAgICAgICAgICAgLy8gYXBwZW5kZWQgaW4gaXRzIHBsYWNlLlxyXG4gICAgICAgICAgICB2YXIgYmFzZVVSTFBhdGggPSBiYXNlUGFydHMucGF0aDtcclxuICAgICAgICAgICAgdmFyIG5ld1BhdGggPSBiYXNlVVJMUGF0aC5zdWJzdHJpbmcoMCwgYmFzZVVSTFBhdGgubGFzdEluZGV4T2YoJy8nKSArIDEpICsgcmVsYXRpdmVQYXJ0cy5wYXRoO1xyXG4gICAgICAgICAgICBidWlsdFBhcnRzLnBhdGggPSBVUkxUb29sa2l0Lm5vcm1hbGl6ZVBhdGgobmV3UGF0aCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChidWlsdFBhcnRzLnBhdGggPT09IG51bGwpIHtcclxuICAgICAgICBidWlsdFBhcnRzLnBhdGggPSBvcHRzLmFsd2F5c05vcm1hbGl6ZSA/IFVSTFRvb2xraXQubm9ybWFsaXplUGF0aChyZWxhdGl2ZVBhcnRzLnBhdGgpIDogcmVsYXRpdmVQYXJ0cy5wYXRoO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBVUkxUb29sa2l0LmJ1aWxkVVJMRnJvbVBhcnRzKGJ1aWx0UGFydHMpO1xyXG4gICAgfSxcclxuICAgIHBhcnNlVVJMOiBmdW5jdGlvbih1cmwpIHtcclxuICAgICAgdmFyIHBhcnRzID0gVVJMX1JFR0VYLmV4ZWModXJsKTtcclxuICAgICAgaWYgKCFwYXJ0cykge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc2NoZW1lOiBwYXJ0c1sxXSB8fCAnJyxcclxuICAgICAgICBuZXRMb2M6IHBhcnRzWzJdIHx8ICcnLFxyXG4gICAgICAgIHBhdGg6IHBhcnRzWzNdIHx8ICcnLFxyXG4gICAgICAgIHBhcmFtczogcGFydHNbNF0gfHwgJycsXHJcbiAgICAgICAgcXVlcnk6IHBhcnRzWzVdIHx8ICcnLFxyXG4gICAgICAgIGZyYWdtZW50OiBwYXJ0c1s2XSB8fCAnJ1xyXG4gICAgICB9O1xyXG4gICAgfSxcclxuICAgIG5vcm1hbGl6ZVBhdGg6IGZ1bmN0aW9uKHBhdGgpIHtcclxuICAgICAgLy8gVGhlIGZvbGxvd2luZyBvcGVyYXRpb25zIGFyZVxyXG4gICAgICAvLyB0aGVuIGFwcGxpZWQsIGluIG9yZGVyLCB0byB0aGUgbmV3IHBhdGg6XHJcbiAgICAgIC8vIDZhKSBBbGwgb2NjdXJyZW5jZXMgb2YgXCIuL1wiLCB3aGVyZSBcIi5cIiBpcyBhIGNvbXBsZXRlIHBhdGhcclxuICAgICAgLy8gc2VnbWVudCwgYXJlIHJlbW92ZWQuXHJcbiAgICAgIC8vIDZiKSBJZiB0aGUgcGF0aCBlbmRzIHdpdGggXCIuXCIgYXMgYSBjb21wbGV0ZSBwYXRoIHNlZ21lbnQsXHJcbiAgICAgIC8vIHRoYXQgXCIuXCIgaXMgcmVtb3ZlZC5cclxuICAgICAgcGF0aCA9IHBhdGguc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKS5yZXBsYWNlKFNMQVNIX0RPVF9SRUdFWCwgJycpO1xyXG4gICAgICAvLyA2YykgQWxsIG9jY3VycmVuY2VzIG9mIFwiPHNlZ21lbnQ+Ly4uL1wiLCB3aGVyZSA8c2VnbWVudD4gaXMgYVxyXG4gICAgICAvLyBjb21wbGV0ZSBwYXRoIHNlZ21lbnQgbm90IGVxdWFsIHRvIFwiLi5cIiwgYXJlIHJlbW92ZWQuXHJcbiAgICAgIC8vIFJlbW92YWwgb2YgdGhlc2UgcGF0aCBzZWdtZW50cyBpcyBwZXJmb3JtZWQgaXRlcmF0aXZlbHksXHJcbiAgICAgIC8vIHJlbW92aW5nIHRoZSBsZWZ0bW9zdCBtYXRjaGluZyBwYXR0ZXJuIG9uIGVhY2ggaXRlcmF0aW9uLFxyXG4gICAgICAvLyB1bnRpbCBubyBtYXRjaGluZyBwYXR0ZXJuIHJlbWFpbnMuXHJcbiAgICAgIC8vIDZkKSBJZiB0aGUgcGF0aCBlbmRzIHdpdGggXCI8c2VnbWVudD4vLi5cIiwgd2hlcmUgPHNlZ21lbnQ+IGlzIGFcclxuICAgICAgLy8gY29tcGxldGUgcGF0aCBzZWdtZW50IG5vdCBlcXVhbCB0byBcIi4uXCIsIHRoYXRcclxuICAgICAgLy8gXCI8c2VnbWVudD4vLi5cIiBpcyByZW1vdmVkLlxyXG4gICAgICB3aGlsZSAocGF0aC5sZW5ndGggIT09IChwYXRoID0gcGF0aC5yZXBsYWNlKFNMQVNIX0RPVF9ET1RfUkVHRVgsICcnKSkubGVuZ3RoKSB7fSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuICAgICAgcmV0dXJuIHBhdGguc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcclxuICAgIH0sXHJcbiAgICBidWlsZFVSTEZyb21QYXJ0czogZnVuY3Rpb24ocGFydHMpIHtcclxuICAgICAgcmV0dXJuIHBhcnRzLnNjaGVtZSArIHBhcnRzLm5ldExvYyArIHBhcnRzLnBhdGggKyBwYXJ0cy5wYXJhbXMgKyBwYXJ0cy5xdWVyeSArIHBhcnRzLmZyYWdtZW50O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXHJcbiAgaWYodHJ1ZSlcclxuICAgIG1vZHVsZS5leHBvcnRzID0gVVJMVG9vbGtpdDtcclxuICBlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcclxuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7IHJldHVybiBVUkxUb29sa2l0OyB9KTtcclxuICBlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JylcclxuICAgIGV4cG9ydHNbXCJVUkxUb29sa2l0XCJdID0gVVJMVG9vbGtpdDtcclxuICBlbHNlXHJcbiAgICByb290W1wiVVJMVG9vbGtpdFwiXSA9IFVSTFRvb2xraXQ7XHJcbn0pKHRoaXMpO1xyXG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xyXG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB1dGY4QXJyYXlUb1N0cjsgfSk7XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIElEMyBwYXJzZXJcbiAqL1xudmFyIElEMyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSUQzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJRDMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBhbiBJRDMgaGVhZGVyIGNhbiBiZSBmb3VuZCBhdCBvZmZzZXQgaW4gZGF0YVxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGEgLSBUaGUgZGF0YSB0byBzZWFyY2ggaW5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIFRoZSBvZmZzZXQgYXQgd2hpY2ggdG8gc3RhcnQgc2VhcmNoaW5nXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IC0gVHJ1ZSBpZiBhbiBJRDMgaGVhZGVyIGlzIGZvdW5kXG4gICAqL1xuICBJRDMuaXNIZWFkZXIgPSBmdW5jdGlvbiBpc0hlYWRlcihkYXRhLCBvZmZzZXQpIHtcbiAgICAvKlxuICAgICogaHR0cDovL2lkMy5vcmcvaWQzdjIuMy4wXG4gICAgKiBbMF0gICAgID0gJ0knXG4gICAgKiBbMV0gICAgID0gJ0QnXG4gICAgKiBbMl0gICAgID0gJzMnXG4gICAgKiBbMyw0XSAgID0ge1ZlcnNpb259XG4gICAgKiBbNV0gICAgID0ge0ZsYWdzfVxuICAgICogWzYtOV0gICA9IHtJRDMgU2l6ZX1cbiAgICAqXG4gICAgKiBBbiBJRDN2MiB0YWcgY2FuIGJlIGRldGVjdGVkIHdpdGggdGhlIGZvbGxvd2luZyBwYXR0ZXJuOlxuICAgICogICQ0OSA0NCAzMyB5eSB5eSB4eCB6eiB6eiB6eiB6elxuICAgICogV2hlcmUgeXkgaXMgbGVzcyB0aGFuICRGRiwgeHggaXMgdGhlICdmbGFncycgYnl0ZSBhbmQgenogaXMgbGVzcyB0aGFuICQ4MFxuICAgICovXG4gICAgaWYgKG9mZnNldCArIDEwIDw9IGRhdGEubGVuZ3RoKSB7XG4gICAgICAvLyBsb29rIGZvciAnSUQzJyBpZGVudGlmaWVyXG4gICAgICBpZiAoZGF0YVtvZmZzZXRdID09PSAweDQ5ICYmIGRhdGFbb2Zmc2V0ICsgMV0gPT09IDB4NDQgJiYgZGF0YVtvZmZzZXQgKyAyXSA9PT0gMHgzMykge1xuICAgICAgICAvLyBjaGVjayB2ZXJzaW9uIGlzIHdpdGhpbiByYW5nZVxuICAgICAgICBpZiAoZGF0YVtvZmZzZXQgKyAzXSA8IDB4RkYgJiYgZGF0YVtvZmZzZXQgKyA0XSA8IDB4RkYpIHtcbiAgICAgICAgICAvLyBjaGVjayBzaXplIGlzIHdpdGhpbiByYW5nZVxuICAgICAgICAgIGlmIChkYXRhW29mZnNldCArIDZdIDwgMHg4MCAmJiBkYXRhW29mZnNldCArIDddIDwgMHg4MCAmJiBkYXRhW29mZnNldCArIDhdIDwgMHg4MCAmJiBkYXRhW29mZnNldCArIDldIDwgMHg4MCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYW4gSUQzIGZvb3RlciBjYW4gYmUgZm91bmQgYXQgb2Zmc2V0IGluIGRhdGFcbiAgICogQHBhcmFtIHtVaW50OEFycmF5fSBkYXRhIC0gVGhlIGRhdGEgdG8gc2VhcmNoIGluXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBUaGUgb2Zmc2V0IGF0IHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZ1xuICAgKiBAcmV0dXJuIHtib29sZWFufSAtIFRydWUgaWYgYW4gSUQzIGZvb3RlciBpcyBmb3VuZFxuICAgKi9cblxuXG4gIElEMy5pc0Zvb3RlciA9IGZ1bmN0aW9uIGlzRm9vdGVyKGRhdGEsIG9mZnNldCkge1xuICAgIC8qXG4gICAgKiBUaGUgZm9vdGVyIGlzIGEgY29weSBvZiB0aGUgaGVhZGVyLCBidXQgd2l0aCBhIGRpZmZlcmVudCBpZGVudGlmaWVyXG4gICAgKi9cbiAgICBpZiAob2Zmc2V0ICsgMTAgPD0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIC8vIGxvb2sgZm9yICczREknIGlkZW50aWZpZXJcbiAgICAgIGlmIChkYXRhW29mZnNldF0gPT09IDB4MzMgJiYgZGF0YVtvZmZzZXQgKyAxXSA9PT0gMHg0NCAmJiBkYXRhW29mZnNldCArIDJdID09PSAweDQ5KSB7XG4gICAgICAgIC8vIGNoZWNrIHZlcnNpb24gaXMgd2l0aGluIHJhbmdlXG4gICAgICAgIGlmIChkYXRhW29mZnNldCArIDNdIDwgMHhGRiAmJiBkYXRhW29mZnNldCArIDRdIDwgMHhGRikge1xuICAgICAgICAgIC8vIGNoZWNrIHNpemUgaXMgd2l0aGluIHJhbmdlXG4gICAgICAgICAgaWYgKGRhdGFbb2Zmc2V0ICsgNl0gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgN10gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgOF0gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgOV0gPCAweDgwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW55IGFkamFjZW50IElEMyB0YWdzIGZvdW5kIGluIGRhdGEgc3RhcnRpbmcgYXQgb2Zmc2V0LCBhcyBvbmUgYmxvY2sgb2YgZGF0YVxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGEgLSBUaGUgZGF0YSB0byBzZWFyY2ggaW5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIFRoZSBvZmZzZXQgYXQgd2hpY2ggdG8gc3RhcnQgc2VhcmNoaW5nXG4gICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IC0gVGhlIGJsb2NrIG9mIGRhdGEgY29udGFpbmluZyBhbnkgSUQzIHRhZ3MgZm91bmRcbiAgICovXG5cblxuICBJRDMuZ2V0SUQzRGF0YSA9IGZ1bmN0aW9uIGdldElEM0RhdGEoZGF0YSwgb2Zmc2V0KSB7XG4gICAgdmFyIGZyb250ID0gb2Zmc2V0O1xuICAgIHZhciBsZW5ndGggPSAwO1xuXG4gICAgd2hpbGUgKElEMy5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAvLyBJRDMgaGVhZGVyIGlzIDEwIGJ5dGVzXG4gICAgICBsZW5ndGggKz0gMTA7XG5cbiAgICAgIHZhciBzaXplID0gSUQzLl9yZWFkU2l6ZShkYXRhLCBvZmZzZXQgKyA2KTtcbiAgICAgIGxlbmd0aCArPSBzaXplO1xuXG4gICAgICBpZiAoSUQzLmlzRm9vdGVyKGRhdGEsIG9mZnNldCArIDEwKSkge1xuICAgICAgICAvLyBJRDMgZm9vdGVyIGlzIDEwIGJ5dGVzXG4gICAgICAgIGxlbmd0aCArPSAxMDtcbiAgICAgIH1cblxuICAgICAgb2Zmc2V0ICs9IGxlbmd0aDtcbiAgICB9XG5cbiAgICBpZiAobGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGRhdGEuc3ViYXJyYXkoZnJvbnQsIGZyb250ICsgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9O1xuXG4gIElEMy5fcmVhZFNpemUgPSBmdW5jdGlvbiBfcmVhZFNpemUoZGF0YSwgb2Zmc2V0KSB7XG4gICAgdmFyIHNpemUgPSAwO1xuICAgIHNpemUgPSAoZGF0YVtvZmZzZXRdICYgMHg3ZikgPDwgMjE7XG4gICAgc2l6ZSB8PSAoZGF0YVtvZmZzZXQgKyAxXSAmIDB4N2YpIDw8IDE0O1xuICAgIHNpemUgfD0gKGRhdGFbb2Zmc2V0ICsgMl0gJiAweDdmKSA8PCA3O1xuICAgIHNpemUgfD0gZGF0YVtvZmZzZXQgKyAzXSAmIDB4N2Y7XG4gICAgcmV0dXJuIHNpemU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlYXJjaGVzIGZvciB0aGUgRWxlbWVudGFyeSBTdHJlYW0gdGltZXN0YW1wIGZvdW5kIGluIHRoZSBJRDMgZGF0YSBjaHVua1xuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGEgLSBCbG9jayBvZiBkYXRhIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgSUQzIHRhZ3NcbiAgICogQHJldHVybiB7bnVtYmVyfSAtIFRoZSB0aW1lc3RhbXBcbiAgICovXG5cblxuICBJRDMuZ2V0VGltZVN0YW1wID0gZnVuY3Rpb24gZ2V0VGltZVN0YW1wKGRhdGEpIHtcbiAgICB2YXIgZnJhbWVzID0gSUQzLmdldElEM0ZyYW1lcyhkYXRhKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGZyYW1lID0gZnJhbWVzW2ldO1xuICAgICAgaWYgKElEMy5pc1RpbWVTdGFtcEZyYW1lKGZyYW1lKSkge1xuICAgICAgICByZXR1cm4gSUQzLl9yZWFkVGltZVN0YW1wKGZyYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIElEMyBmcmFtZSBpcyBhbiBFbGVtZW50YXJ5IFN0cmVhbSB0aW1lc3RhbXAgZnJhbWVcbiAgICogQHBhcmFtIHtJRDMgZnJhbWV9IGZyYW1lXG4gICAqL1xuXG5cbiAgSUQzLmlzVGltZVN0YW1wRnJhbWUgPSBmdW5jdGlvbiBpc1RpbWVTdGFtcEZyYW1lKGZyYW1lKSB7XG4gICAgcmV0dXJuIGZyYW1lICYmIGZyYW1lLmtleSA9PT0gJ1BSSVYnICYmIGZyYW1lLmluZm8gPT09ICdjb20uYXBwbGUuc3RyZWFtaW5nLnRyYW5zcG9ydFN0cmVhbVRpbWVzdGFtcCc7XG4gIH07XG5cbiAgSUQzLl9nZXRGcmFtZURhdGEgPSBmdW5jdGlvbiBfZ2V0RnJhbWVEYXRhKGRhdGEpIHtcbiAgICAvKlxuICAgIEZyYW1lIElEICAgICAgICR4eCB4eCB4eCB4eCAoZm91ciBjaGFyYWN0ZXJzKVxuICAgIFNpemUgICAgICAgICAgICR4eCB4eCB4eCB4eFxuICAgIEZsYWdzICAgICAgICAgICR4eCB4eFxuICAgICovXG4gICAgdmFyIHR5cGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGRhdGFbMF0sIGRhdGFbMV0sIGRhdGFbMl0sIGRhdGFbM10pO1xuICAgIHZhciBzaXplID0gSUQzLl9yZWFkU2l6ZShkYXRhLCA0KTtcblxuICAgIC8vIHNraXAgZnJhbWUgaWQsIHNpemUsIGFuZCBmbGFnc1xuICAgIHZhciBvZmZzZXQgPSAxMDtcblxuICAgIHJldHVybiB7IHR5cGU6IHR5cGUsIHNpemU6IHNpemUsIGRhdGE6IGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyBzaXplKSB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIElEMyBmcmFtZXMgZm91bmQgaW4gYWxsIHRoZSBJRDMgdGFncyBpbiB0aGUgaWQzRGF0YVxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGlkM0RhdGEgLSBUaGUgSUQzIGRhdGEgY29udGFpbmluZyBvbmUgb3IgbW9yZSBJRDMgdGFnc1xuICAgKiBAcmV0dXJuIHtJRDMgZnJhbWVbXX0gLSBBcnJheSBvZiBJRDMgZnJhbWUgb2JqZWN0c1xuICAgKi9cblxuXG4gIElEMy5nZXRJRDNGcmFtZXMgPSBmdW5jdGlvbiBnZXRJRDNGcmFtZXMoaWQzRGF0YSkge1xuICAgIHZhciBvZmZzZXQgPSAwO1xuICAgIHZhciBmcmFtZXMgPSBbXTtcblxuICAgIHdoaWxlIChJRDMuaXNIZWFkZXIoaWQzRGF0YSwgb2Zmc2V0KSkge1xuICAgICAgdmFyIHNpemUgPSBJRDMuX3JlYWRTaXplKGlkM0RhdGEsIG9mZnNldCArIDYpO1xuICAgICAgLy8gc2tpcCBwYXN0IElEMyBoZWFkZXJcbiAgICAgIG9mZnNldCArPSAxMDtcbiAgICAgIHZhciBlbmQgPSBvZmZzZXQgKyBzaXplO1xuICAgICAgLy8gbG9vcCB0aHJvdWdoIGZyYW1lcyBpbiB0aGUgSUQzIHRhZ1xuICAgICAgd2hpbGUgKG9mZnNldCArIDggPCBlbmQpIHtcbiAgICAgICAgdmFyIGZyYW1lRGF0YSA9IElEMy5fZ2V0RnJhbWVEYXRhKGlkM0RhdGEuc3ViYXJyYXkob2Zmc2V0KSk7XG4gICAgICAgIHZhciBmcmFtZSA9IElEMy5fZGVjb2RlRnJhbWUoZnJhbWVEYXRhKTtcbiAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgZnJhbWVzLnB1c2goZnJhbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2tpcCBmcmFtZSBoZWFkZXIgYW5kIGZyYW1lIGRhdGFcbiAgICAgICAgb2Zmc2V0ICs9IGZyYW1lRGF0YS5zaXplICsgMTA7XG4gICAgICB9XG5cbiAgICAgIGlmIChJRDMuaXNGb290ZXIoaWQzRGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgKz0gMTA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZyYW1lcztcbiAgfTtcblxuICBJRDMuX2RlY29kZUZyYW1lID0gZnVuY3Rpb24gX2RlY29kZUZyYW1lKGZyYW1lKSB7XG4gICAgaWYgKGZyYW1lLnR5cGUgPT09ICdQUklWJykge1xuICAgICAgcmV0dXJuIElEMy5fZGVjb2RlUHJpdkZyYW1lKGZyYW1lKTtcbiAgICB9IGVsc2UgaWYgKGZyYW1lLnR5cGVbMF0gPT09ICdUJykge1xuICAgICAgcmV0dXJuIElEMy5fZGVjb2RlVGV4dEZyYW1lKGZyYW1lKTtcbiAgICB9IGVsc2UgaWYgKGZyYW1lLnR5cGVbMF0gPT09ICdXJykge1xuICAgICAgcmV0dXJuIElEMy5fZGVjb2RlVVJMRnJhbWUoZnJhbWUpO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH07XG5cbiAgSUQzLl9yZWFkVGltZVN0YW1wID0gZnVuY3Rpb24gX3JlYWRUaW1lU3RhbXAodGltZVN0YW1wRnJhbWUpIHtcbiAgICBpZiAodGltZVN0YW1wRnJhbWUuZGF0YS5ieXRlTGVuZ3RoID09PSA4KSB7XG4gICAgICB2YXIgZGF0YSA9IG5ldyBVaW50OEFycmF5KHRpbWVTdGFtcEZyYW1lLmRhdGEpO1xuICAgICAgLy8gdGltZXN0YW1wIGlzIDMzIGJpdCBleHByZXNzZWQgYXMgYSBiaWctZW5kaWFuIGVpZ2h0LW9jdGV0IG51bWJlcixcbiAgICAgIC8vIHdpdGggdGhlIHVwcGVyIDMxIGJpdHMgc2V0IHRvIHplcm8uXG4gICAgICB2YXIgcHRzMzNCaXQgPSBkYXRhWzNdICYgMHgxO1xuICAgICAgdmFyIHRpbWVzdGFtcCA9IChkYXRhWzRdIDw8IDIzKSArIChkYXRhWzVdIDw8IDE1KSArIChkYXRhWzZdIDw8IDcpICsgZGF0YVs3XTtcbiAgICAgIHRpbWVzdGFtcCAvPSA0NTtcblxuICAgICAgaWYgKHB0czMzQml0KSB7XG4gICAgICAgIHRpbWVzdGFtcCArPSA0NzcyMTg1OC44NDtcbiAgICAgIH0gLy8gMl4zMiAvIDkwXG5cbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRpbWVzdGFtcCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICBJRDMuX2RlY29kZVByaXZGcmFtZSA9IGZ1bmN0aW9uIF9kZWNvZGVQcml2RnJhbWUoZnJhbWUpIHtcbiAgICAvKlxuICAgIEZvcm1hdDogPHRleHQgc3RyaW5nPlxcMDxiaW5hcnkgZGF0YT5cbiAgICAqL1xuICAgIGlmIChmcmFtZS5zaXplIDwgMikge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YXIgb3duZXIgPSBJRDMuX3V0ZjhBcnJheVRvU3RyKGZyYW1lLmRhdGEsIHRydWUpO1xuICAgIHZhciBwcml2YXRlRGF0YSA9IG5ldyBVaW50OEFycmF5KGZyYW1lLmRhdGEuc3ViYXJyYXkob3duZXIubGVuZ3RoICsgMSkpO1xuXG4gICAgcmV0dXJuIHsga2V5OiBmcmFtZS50eXBlLCBpbmZvOiBvd25lciwgZGF0YTogcHJpdmF0ZURhdGEuYnVmZmVyIH07XG4gIH07XG5cbiAgSUQzLl9kZWNvZGVUZXh0RnJhbWUgPSBmdW5jdGlvbiBfZGVjb2RlVGV4dEZyYW1lKGZyYW1lKSB7XG4gICAgaWYgKGZyYW1lLnNpemUgPCAyKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChmcmFtZS50eXBlID09PSAnVFhYWCcpIHtcbiAgICAgIC8qXG4gICAgICBGb3JtYXQ6XG4gICAgICBbMF0gICA9IHtUZXh0IEVuY29kaW5nfVxuICAgICAgWzEtP10gPSB7RGVzY3JpcHRpb259XFwwe1ZhbHVlfVxuICAgICAgKi9cbiAgICAgIHZhciBpbmRleCA9IDE7XG4gICAgICB2YXIgZGVzY3JpcHRpb24gPSBJRDMuX3V0ZjhBcnJheVRvU3RyKGZyYW1lLmRhdGEuc3ViYXJyYXkoaW5kZXgpKTtcblxuICAgICAgaW5kZXggKz0gZGVzY3JpcHRpb24ubGVuZ3RoICsgMTtcbiAgICAgIHZhciB2YWx1ZSA9IElEMy5fdXRmOEFycmF5VG9TdHIoZnJhbWUuZGF0YS5zdWJhcnJheShpbmRleCkpO1xuXG4gICAgICByZXR1cm4geyBrZXk6IGZyYW1lLnR5cGUsIGluZm86IGRlc2NyaXB0aW9uLCBkYXRhOiB2YWx1ZSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvKlxuICAgICAgRm9ybWF0OlxuICAgICAgWzBdICAgPSB7VGV4dCBFbmNvZGluZ31cbiAgICAgIFsxLT9dID0ge1ZhbHVlfVxuICAgICAgKi9cbiAgICAgIHZhciB0ZXh0ID0gSUQzLl91dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhLnN1YmFycmF5KDEpKTtcbiAgICAgIHJldHVybiB7IGtleTogZnJhbWUudHlwZSwgZGF0YTogdGV4dCB9O1xuICAgIH1cbiAgfTtcblxuICBJRDMuX2RlY29kZVVSTEZyYW1lID0gZnVuY3Rpb24gX2RlY29kZVVSTEZyYW1lKGZyYW1lKSB7XG4gICAgaWYgKGZyYW1lLnR5cGUgPT09ICdXWFhYJykge1xuICAgICAgLypcbiAgICAgIEZvcm1hdDpcbiAgICAgIFswXSAgID0ge1RleHQgRW5jb2Rpbmd9XG4gICAgICBbMS0/XSA9IHtEZXNjcmlwdGlvbn1cXDB7VVJMfVxuICAgICAgKi9cbiAgICAgIGlmIChmcmFtZS5zaXplIDwgMikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXggPSAxO1xuICAgICAgdmFyIGRlc2NyaXB0aW9uID0gSUQzLl91dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhLnN1YmFycmF5KGluZGV4KSk7XG5cbiAgICAgIGluZGV4ICs9IGRlc2NyaXB0aW9uLmxlbmd0aCArIDE7XG4gICAgICB2YXIgdmFsdWUgPSBJRDMuX3V0ZjhBcnJheVRvU3RyKGZyYW1lLmRhdGEuc3ViYXJyYXkoaW5kZXgpKTtcblxuICAgICAgcmV0dXJuIHsga2V5OiBmcmFtZS50eXBlLCBpbmZvOiBkZXNjcmlwdGlvbiwgZGF0YTogdmFsdWUgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLypcbiAgICAgIEZvcm1hdDpcbiAgICAgIFswLT9dID0ge1VSTH1cbiAgICAgICovXG4gICAgICB2YXIgdXJsID0gSUQzLl91dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhKTtcbiAgICAgIHJldHVybiB7IGtleTogZnJhbWUudHlwZSwgZGF0YTogdXJsIH07XG4gICAgfVxuICB9O1xuXG4gIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODkzNjk4NC91aW50OGFycmF5LXRvLXN0cmluZy1pbi1qYXZhc2NyaXB0LzIyMzczMTk3XG4gIC8vIGh0dHA6Ly93d3cub25pY29zLmNvbS9zdGFmZi9pei9hbXVzZS9qYXZhc2NyaXB0L2V4cGVydC91dGYudHh0XG4gIC8qIHV0Zi5qcyAtIFVURi04IDw9PiBVVEYtMTYgY29udmVydGlvblxuICAgKlxuICAgKiBDb3B5cmlnaHQgKEMpIDE5OTkgTWFzYW5hbyBJenVtbyA8aXpAb25pY29zLmNvLmpwPlxuICAgKiBWZXJzaW9uOiAxLjBcbiAgICogTGFzdE1vZGlmaWVkOiBEZWMgMjUgMTk5OVxuICAgKiBUaGlzIGxpYnJhcnkgaXMgZnJlZS4gIFlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQuXG4gICAqL1xuXG5cbiAgSUQzLl91dGY4QXJyYXlUb1N0ciA9IGZ1bmN0aW9uIF91dGY4QXJyYXlUb1N0cihhcnJheSkge1xuICAgIHZhciBleGl0T25OdWxsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgIHZhciBsZW4gPSBhcnJheS5sZW5ndGg7XG4gICAgdmFyIGMgPSB2b2lkIDA7XG4gICAgdmFyIGNoYXIyID0gdm9pZCAwO1xuICAgIHZhciBjaGFyMyA9IHZvaWQgMDtcbiAgICB2YXIgb3V0ID0gJyc7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICBjID0gYXJyYXlbaSsrXTtcbiAgICAgIGlmIChjID09PSAweDAwICYmIGV4aXRPbk51bGwpIHtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgIH0gZWxzZSBpZiAoYyA9PT0gMHgwMCB8fCBjID09PSAweDAzKSB7XG4gICAgICAgIC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgMyAoRU5EX09GX1RFWFQpIG9yIDAgKE5VTEwpIHRoZW4gc2tpcCBpdFxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoYyA+PiA0KSB7XG4gICAgICAgIGNhc2UgMDpjYXNlIDE6Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6Y2FzZSA1OmNhc2UgNjpjYXNlIDc6XG4gICAgICAgICAgLy8gMHh4eHh4eHhcbiAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMjpjYXNlIDEzOlxuICAgICAgICAgIC8vIDExMHggeHh4eCAgIDEweHggeHh4eFxuICAgICAgICAgIGNoYXIyID0gYXJyYXlbaSsrXTtcbiAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDB4MUYpIDw8IDYgfCBjaGFyMiAmIDB4M0YpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIC8vIDExMTAgeHh4eCAgMTB4eCB4eHh4ICAxMHh4IHh4eHhcbiAgICAgICAgICBjaGFyMiA9IGFycmF5W2krK107XG4gICAgICAgICAgY2hhcjMgPSBhcnJheVtpKytdO1xuICAgICAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgMHgwRikgPDwgMTIgfCAoY2hhcjIgJiAweDNGKSA8PCA2IHwgKGNoYXIzICYgMHgzRikgPDwgMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH07XG5cbiAgcmV0dXJuIElEMztcbn0oKTtcblxudmFyIHV0ZjhBcnJheVRvU3RyID0gSUQzLl91dGY4QXJyYXlUb1N0cjtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChJRDMpO1xuXG5cblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBtO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZVxuICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblxuICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHBvc2l0aW9uID0gLTE7XG5cbiAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG4gICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG4gICAgLy8gTElGTyBvcmRlclxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgfVxuICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gW107XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xuICBpZiAodGhpcy5fZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSlcbiAgICAgIHJldHVybiAxO1xuICAgIGVsc2UgaWYgKGV2bGlzdGVuZXIpXG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbn07XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cblxuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NyeXB0L2Flcy1jcnlwdG8uanNcbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBBRVNDcnlwdG8gPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEFFU0NyeXB0byhzdWJ0bGUsIGl2KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFFU0NyeXB0byk7XG5cbiAgICB0aGlzLnN1YnRsZSA9IHN1YnRsZTtcbiAgICB0aGlzLmFlc0lWID0gaXY7XG4gIH1cblxuICBBRVNDcnlwdG8ucHJvdG90eXBlLmRlY3J5cHQgPSBmdW5jdGlvbiBkZWNyeXB0KGRhdGEsIGtleSkge1xuICAgIHJldHVybiB0aGlzLnN1YnRsZS5kZWNyeXB0KHsgbmFtZTogJ0FFUy1DQkMnLCBpdjogdGhpcy5hZXNJViB9LCBrZXksIGRhdGEpO1xuICB9O1xuXG4gIHJldHVybiBBRVNDcnlwdG87XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGFlc19jcnlwdG8gPSAoQUVTQ3J5cHRvKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NyeXB0L2Zhc3QtYWVzLWtleS5qc1xuZnVuY3Rpb24gZmFzdF9hZXNfa2V5X19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBGYXN0QUVTS2V5ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBGYXN0QUVTS2V5KHN1YnRsZSwga2V5KSB7XG4gICAgZmFzdF9hZXNfa2V5X19jbGFzc0NhbGxDaGVjayh0aGlzLCBGYXN0QUVTS2V5KTtcblxuICAgIHRoaXMuc3VidGxlID0gc3VidGxlO1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICB9XG5cbiAgRmFzdEFFU0tleS5wcm90b3R5cGUuZXhwYW5kS2V5ID0gZnVuY3Rpb24gZXhwYW5kS2V5KCkge1xuICAgIHJldHVybiB0aGlzLnN1YnRsZS5pbXBvcnRLZXkoJ3JhdycsIHRoaXMua2V5LCB7IG5hbWU6ICdBRVMtQ0JDJyB9LCBmYWxzZSwgWydlbmNyeXB0JywgJ2RlY3J5cHQnXSk7XG4gIH07XG5cbiAgcmV0dXJuIEZhc3RBRVNLZXk7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGZhc3RfYWVzX2tleSA9IChGYXN0QUVTS2V5KTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NyeXB0L2Flcy1kZWNyeXB0b3IuanNcbmZ1bmN0aW9uIGFlc19kZWNyeXB0b3JfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLy8gUEtDUzdcbmZ1bmN0aW9uIHJlbW92ZVBhZGRpbmcoYnVmZmVyKSB7XG4gIHZhciBvdXRwdXRCeXRlcyA9IGJ1ZmZlci5ieXRlTGVuZ3RoO1xuICB2YXIgcGFkZGluZ0J5dGVzID0gb3V0cHV0Qnl0ZXMgJiYgbmV3IERhdGFWaWV3KGJ1ZmZlcikuZ2V0VWludDgob3V0cHV0Qnl0ZXMgLSAxKTtcbiAgaWYgKHBhZGRpbmdCeXRlcykge1xuICAgIHJldHVybiBidWZmZXIuc2xpY2UoMCwgb3V0cHV0Qnl0ZXMgLSBwYWRkaW5nQnl0ZXMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBidWZmZXI7XG4gIH1cbn1cblxudmFyIEFFU0RlY3J5cHRvciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQUVTRGVjcnlwdG9yKCkge1xuICAgIGFlc19kZWNyeXB0b3JfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFFU0RlY3J5cHRvcik7XG5cbiAgICAvLyBTdGF0aWMgYWZ0ZXIgcnVubmluZyBpbml0VGFibGVcbiAgICB0aGlzLnJjb24gPSBbMHgwLCAweDEsIDB4MiwgMHg0LCAweDgsIDB4MTAsIDB4MjAsIDB4NDAsIDB4ODAsIDB4MWIsIDB4MzZdO1xuICAgIHRoaXMuc3ViTWl4ID0gW25ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpXTtcbiAgICB0aGlzLmludlN1Yk1peCA9IFtuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KV07XG4gICAgdGhpcy5zQm94ID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XG4gICAgdGhpcy5pbnZTQm94ID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XG5cbiAgICAvLyBDaGFuZ2VzIGR1cmluZyBydW50aW1lXG4gICAgdGhpcy5rZXkgPSBuZXcgVWludDMyQXJyYXkoMCk7XG5cbiAgICB0aGlzLmluaXRUYWJsZSgpO1xuICB9XG5cbiAgLy8gVXNpbmcgdmlldy5nZXRVaW50MzIoKSBhbHNvIHN3YXBzIHRoZSBieXRlIG9yZGVyLlxuXG5cbiAgQUVTRGVjcnlwdG9yLnByb3RvdHlwZS51aW50OEFycmF5VG9VaW50MzJBcnJheV8gPSBmdW5jdGlvbiB1aW50OEFycmF5VG9VaW50MzJBcnJheV8oYXJyYXlCdWZmZXIpIHtcbiAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQzMkFycmF5KDQpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICBuZXdBcnJheVtpXSA9IHZpZXcuZ2V0VWludDMyKGkgKiA0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3QXJyYXk7XG4gIH07XG5cbiAgQUVTRGVjcnlwdG9yLnByb3RvdHlwZS5pbml0VGFibGUgPSBmdW5jdGlvbiBpbml0VGFibGUoKSB7XG4gICAgdmFyIHNCb3ggPSB0aGlzLnNCb3g7XG4gICAgdmFyIGludlNCb3ggPSB0aGlzLmludlNCb3g7XG4gICAgdmFyIHN1Yk1peCA9IHRoaXMuc3ViTWl4O1xuICAgIHZhciBzdWJNaXgwID0gc3ViTWl4WzBdO1xuICAgIHZhciBzdWJNaXgxID0gc3ViTWl4WzFdO1xuICAgIHZhciBzdWJNaXgyID0gc3ViTWl4WzJdO1xuICAgIHZhciBzdWJNaXgzID0gc3ViTWl4WzNdO1xuICAgIHZhciBpbnZTdWJNaXggPSB0aGlzLmludlN1Yk1peDtcbiAgICB2YXIgaW52U3ViTWl4MCA9IGludlN1Yk1peFswXTtcbiAgICB2YXIgaW52U3ViTWl4MSA9IGludlN1Yk1peFsxXTtcbiAgICB2YXIgaW52U3ViTWl4MiA9IGludlN1Yk1peFsyXTtcbiAgICB2YXIgaW52U3ViTWl4MyA9IGludlN1Yk1peFszXTtcblxuICAgIHZhciBkID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XG4gICAgdmFyIHggPSAwO1xuICAgIHZhciB4aSA9IDA7XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAoaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgaWYgKGkgPCAxMjgpIHtcbiAgICAgICAgZFtpXSA9IGkgPDwgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRbaV0gPSBpIDw8IDEgXiAweDExYjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgIHZhciBzeCA9IHhpIF4geGkgPDwgMSBeIHhpIDw8IDIgXiB4aSA8PCAzIF4geGkgPDwgNDtcbiAgICAgIHN4ID0gc3ggPj4+IDggXiBzeCAmIDB4ZmYgXiAweDYzO1xuICAgICAgc0JveFt4XSA9IHN4O1xuICAgICAgaW52U0JveFtzeF0gPSB4O1xuXG4gICAgICAvLyBDb21wdXRlIG11bHRpcGxpY2F0aW9uXG4gICAgICB2YXIgeDIgPSBkW3hdO1xuICAgICAgdmFyIHg0ID0gZFt4Ml07XG4gICAgICB2YXIgeDggPSBkW3g0XTtcblxuICAgICAgLy8gQ29tcHV0ZSBzdWIvaW52U3ViIGJ5dGVzLCBtaXggY29sdW1ucyB0YWJsZXNcbiAgICAgIHZhciB0ID0gZFtzeF0gKiAweDEwMSBeIHN4ICogMHgxMDEwMTAwO1xuICAgICAgc3ViTWl4MFt4XSA9IHQgPDwgMjQgfCB0ID4+PiA4O1xuICAgICAgc3ViTWl4MVt4XSA9IHQgPDwgMTYgfCB0ID4+PiAxNjtcbiAgICAgIHN1Yk1peDJbeF0gPSB0IDw8IDggfCB0ID4+PiAyNDtcbiAgICAgIHN1Yk1peDNbeF0gPSB0O1xuXG4gICAgICAvLyBDb21wdXRlIGludiBzdWIgYnl0ZXMsIGludiBtaXggY29sdW1ucyB0YWJsZXNcbiAgICAgIHQgPSB4OCAqIDB4MTAxMDEwMSBeIHg0ICogMHgxMDAwMSBeIHgyICogMHgxMDEgXiB4ICogMHgxMDEwMTAwO1xuICAgICAgaW52U3ViTWl4MFtzeF0gPSB0IDw8IDI0IHwgdCA+Pj4gODtcbiAgICAgIGludlN1Yk1peDFbc3hdID0gdCA8PCAxNiB8IHQgPj4+IDE2O1xuICAgICAgaW52U3ViTWl4MltzeF0gPSB0IDw8IDggfCB0ID4+PiAyNDtcbiAgICAgIGludlN1Yk1peDNbc3hdID0gdDtcblxuICAgICAgLy8gQ29tcHV0ZSBuZXh0IGNvdW50ZXJcbiAgICAgIGlmICgheCkge1xuICAgICAgICB4ID0geGkgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeCA9IHgyIF4gZFtkW2RbeDggXiB4Ml1dXTtcbiAgICAgICAgeGkgXj0gZFtkW3hpXV07XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEFFU0RlY3J5cHRvci5wcm90b3R5cGUuZXhwYW5kS2V5ID0gZnVuY3Rpb24gZXhwYW5kS2V5KGtleUJ1ZmZlcikge1xuICAgIC8vIGNvbnZlcnQga2V5QnVmZmVyIHRvIFVpbnQzMkFycmF5XG4gICAgdmFyIGtleSA9IHRoaXMudWludDhBcnJheVRvVWludDMyQXJyYXlfKGtleUJ1ZmZlcik7XG4gICAgdmFyIHNhbWVLZXkgPSB0cnVlO1xuICAgIHZhciBvZmZzZXQgPSAwO1xuXG4gICAgd2hpbGUgKG9mZnNldCA8IGtleS5sZW5ndGggJiYgc2FtZUtleSkge1xuICAgICAgc2FtZUtleSA9IGtleVtvZmZzZXRdID09PSB0aGlzLmtleVtvZmZzZXRdO1xuICAgICAgb2Zmc2V0Kys7XG4gICAgfVxuXG4gICAgaWYgKHNhbWVLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB2YXIga2V5U2l6ZSA9IHRoaXMua2V5U2l6ZSA9IGtleS5sZW5ndGg7XG5cbiAgICBpZiAoa2V5U2l6ZSAhPT0gNCAmJiBrZXlTaXplICE9PSA2ICYmIGtleVNpemUgIT09IDgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhZXMga2V5IHNpemU9JyArIGtleVNpemUpO1xuICAgIH1cblxuICAgIHZhciBrc1Jvd3MgPSB0aGlzLmtzUm93cyA9IChrZXlTaXplICsgNiArIDEpICogNDtcbiAgICB2YXIga3NSb3cgPSB2b2lkIDA7XG4gICAgdmFyIGludktzUm93ID0gdm9pZCAwO1xuXG4gICAgdmFyIGtleVNjaGVkdWxlID0gdGhpcy5rZXlTY2hlZHVsZSA9IG5ldyBVaW50MzJBcnJheShrc1Jvd3MpO1xuICAgIHZhciBpbnZLZXlTY2hlZHVsZSA9IHRoaXMuaW52S2V5U2NoZWR1bGUgPSBuZXcgVWludDMyQXJyYXkoa3NSb3dzKTtcbiAgICB2YXIgc2JveCA9IHRoaXMuc0JveDtcbiAgICB2YXIgcmNvbiA9IHRoaXMucmNvbjtcblxuICAgIHZhciBpbnZTdWJNaXggPSB0aGlzLmludlN1Yk1peDtcbiAgICB2YXIgaW52U3ViTWl4MCA9IGludlN1Yk1peFswXTtcbiAgICB2YXIgaW52U3ViTWl4MSA9IGludlN1Yk1peFsxXTtcbiAgICB2YXIgaW52U3ViTWl4MiA9IGludlN1Yk1peFsyXTtcbiAgICB2YXIgaW52U3ViTWl4MyA9IGludlN1Yk1peFszXTtcblxuICAgIHZhciBwcmV2ID0gdm9pZCAwO1xuICAgIHZhciB0ID0gdm9pZCAwO1xuXG4gICAgZm9yIChrc1JvdyA9IDA7IGtzUm93IDwga3NSb3dzOyBrc1JvdysrKSB7XG4gICAgICBpZiAoa3NSb3cgPCBrZXlTaXplKSB7XG4gICAgICAgIHByZXYgPSBrZXlTY2hlZHVsZVtrc1Jvd10gPSBrZXlba3NSb3ddO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHQgPSBwcmV2O1xuXG4gICAgICBpZiAoa3NSb3cgJSBrZXlTaXplID09PSAwKSB7XG4gICAgICAgIC8vIFJvdCB3b3JkXG4gICAgICAgIHQgPSB0IDw8IDggfCB0ID4+PiAyNDtcblxuICAgICAgICAvLyBTdWIgd29yZFxuICAgICAgICB0ID0gc2JveFt0ID4+PiAyNF0gPDwgMjQgfCBzYm94W3QgPj4+IDE2ICYgMHhmZl0gPDwgMTYgfCBzYm94W3QgPj4+IDggJiAweGZmXSA8PCA4IHwgc2JveFt0ICYgMHhmZl07XG5cbiAgICAgICAgLy8gTWl4IFJjb25cbiAgICAgICAgdCBePSByY29uW2tzUm93IC8ga2V5U2l6ZSB8IDBdIDw8IDI0O1xuICAgICAgfSBlbHNlIGlmIChrZXlTaXplID4gNiAmJiBrc1JvdyAlIGtleVNpemUgPT09IDQpIHtcbiAgICAgICAgLy8gU3ViIHdvcmRcbiAgICAgICAgdCA9IHNib3hbdCA+Pj4gMjRdIDw8IDI0IHwgc2JveFt0ID4+PiAxNiAmIDB4ZmZdIDw8IDE2IHwgc2JveFt0ID4+PiA4ICYgMHhmZl0gPDwgOCB8IHNib3hbdCAmIDB4ZmZdO1xuICAgICAgfVxuXG4gICAgICBrZXlTY2hlZHVsZVtrc1Jvd10gPSBwcmV2ID0gKGtleVNjaGVkdWxlW2tzUm93IC0ga2V5U2l6ZV0gXiB0KSA+Pj4gMDtcbiAgICB9XG5cbiAgICBmb3IgKGludktzUm93ID0gMDsgaW52S3NSb3cgPCBrc1Jvd3M7IGludktzUm93KyspIHtcbiAgICAgIGtzUm93ID0ga3NSb3dzIC0gaW52S3NSb3c7XG4gICAgICBpZiAoaW52S3NSb3cgJiAzKSB7XG4gICAgICAgIHQgPSBrZXlTY2hlZHVsZVtrc1Jvd107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ID0ga2V5U2NoZWR1bGVba3NSb3cgLSA0XTtcbiAgICAgIH1cblxuICAgICAgaWYgKGludktzUm93IDwgNCB8fCBrc1JvdyA8PSA0KSB7XG4gICAgICAgIGludktleVNjaGVkdWxlW2ludktzUm93XSA9IHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPSBpbnZTdWJNaXgwW3Nib3hbdCA+Pj4gMjRdXSBeIGludlN1Yk1peDFbc2JveFt0ID4+PiAxNiAmIDB4ZmZdXSBeIGludlN1Yk1peDJbc2JveFt0ID4+PiA4ICYgMHhmZl1dIF4gaW52U3ViTWl4M1tzYm94W3QgJiAweGZmXV07XG4gICAgICB9XG5cbiAgICAgIGludktleVNjaGVkdWxlW2ludktzUm93XSA9IGludktleVNjaGVkdWxlW2ludktzUm93XSA+Pj4gMDtcbiAgICB9XG4gIH07XG5cbiAgLy8gQWRkaW5nIHRoaXMgYXMgYSBtZXRob2QgZ3JlYXRseSBpbXByb3ZlcyBwZXJmb3JtYW5jZS5cblxuXG4gIEFFU0RlY3J5cHRvci5wcm90b3R5cGUubmV0d29ya1RvSG9zdE9yZGVyU3dhcCA9IGZ1bmN0aW9uIG5ldHdvcmtUb0hvc3RPcmRlclN3YXAod29yZCkge1xuICAgIHJldHVybiB3b3JkIDw8IDI0IHwgKHdvcmQgJiAweGZmMDApIDw8IDggfCAod29yZCAmIDB4ZmYwMDAwKSA+PiA4IHwgd29yZCA+Pj4gMjQ7XG4gIH07XG5cbiAgQUVTRGVjcnlwdG9yLnByb3RvdHlwZS5kZWNyeXB0ID0gZnVuY3Rpb24gZGVjcnlwdChpbnB1dEFycmF5QnVmZmVyLCBvZmZzZXQsIGFlc0lWLCByZW1vdmVQS0NTN1BhZGRpbmcpIHtcbiAgICB2YXIgblJvdW5kcyA9IHRoaXMua2V5U2l6ZSArIDY7XG4gICAgdmFyIGludktleVNjaGVkdWxlID0gdGhpcy5pbnZLZXlTY2hlZHVsZTtcbiAgICB2YXIgaW52U0JPWCA9IHRoaXMuaW52U0JveDtcblxuICAgIHZhciBpbnZTdWJNaXggPSB0aGlzLmludlN1Yk1peDtcbiAgICB2YXIgaW52U3ViTWl4MCA9IGludlN1Yk1peFswXTtcbiAgICB2YXIgaW52U3ViTWl4MSA9IGludlN1Yk1peFsxXTtcbiAgICB2YXIgaW52U3ViTWl4MiA9IGludlN1Yk1peFsyXTtcbiAgICB2YXIgaW52U3ViTWl4MyA9IGludlN1Yk1peFszXTtcblxuICAgIHZhciBpbml0VmVjdG9yID0gdGhpcy51aW50OEFycmF5VG9VaW50MzJBcnJheV8oYWVzSVYpO1xuICAgIHZhciBpbml0VmVjdG9yMCA9IGluaXRWZWN0b3JbMF07XG4gICAgdmFyIGluaXRWZWN0b3IxID0gaW5pdFZlY3RvclsxXTtcbiAgICB2YXIgaW5pdFZlY3RvcjIgPSBpbml0VmVjdG9yWzJdO1xuICAgIHZhciBpbml0VmVjdG9yMyA9IGluaXRWZWN0b3JbM107XG5cbiAgICB2YXIgaW5wdXRJbnQzMiA9IG5ldyBJbnQzMkFycmF5KGlucHV0QXJyYXlCdWZmZXIpO1xuICAgIHZhciBvdXRwdXRJbnQzMiA9IG5ldyBJbnQzMkFycmF5KGlucHV0SW50MzIubGVuZ3RoKTtcblxuICAgIHZhciB0MCA9IHZvaWQgMCxcbiAgICAgICAgdDEgPSB2b2lkIDAsXG4gICAgICAgIHQyID0gdm9pZCAwLFxuICAgICAgICB0MyA9IHZvaWQgMDtcbiAgICB2YXIgczAgPSB2b2lkIDAsXG4gICAgICAgIHMxID0gdm9pZCAwLFxuICAgICAgICBzMiA9IHZvaWQgMCxcbiAgICAgICAgczMgPSB2b2lkIDA7XG4gICAgdmFyIGlucHV0V29yZHMwID0gdm9pZCAwLFxuICAgICAgICBpbnB1dFdvcmRzMSA9IHZvaWQgMCxcbiAgICAgICAgaW5wdXRXb3JkczIgPSB2b2lkIDAsXG4gICAgICAgIGlucHV0V29yZHMzID0gdm9pZCAwO1xuXG4gICAgdmFyIGtzUm93ID0gdm9pZCAwLFxuICAgICAgICBpID0gdm9pZCAwO1xuICAgIHZhciBzd2FwV29yZCA9IHRoaXMubmV0d29ya1RvSG9zdE9yZGVyU3dhcDtcblxuICAgIHdoaWxlIChvZmZzZXQgPCBpbnB1dEludDMyLmxlbmd0aCkge1xuICAgICAgaW5wdXRXb3JkczAgPSBzd2FwV29yZChpbnB1dEludDMyW29mZnNldF0pO1xuICAgICAgaW5wdXRXb3JkczEgPSBzd2FwV29yZChpbnB1dEludDMyW29mZnNldCArIDFdKTtcbiAgICAgIGlucHV0V29yZHMyID0gc3dhcFdvcmQoaW5wdXRJbnQzMltvZmZzZXQgKyAyXSk7XG4gICAgICBpbnB1dFdvcmRzMyA9IHN3YXBXb3JkKGlucHV0SW50MzJbb2Zmc2V0ICsgM10pO1xuXG4gICAgICBzMCA9IGlucHV0V29yZHMwIF4gaW52S2V5U2NoZWR1bGVbMF07XG4gICAgICBzMSA9IGlucHV0V29yZHMzIF4gaW52S2V5U2NoZWR1bGVbMV07XG4gICAgICBzMiA9IGlucHV0V29yZHMyIF4gaW52S2V5U2NoZWR1bGVbMl07XG4gICAgICBzMyA9IGlucHV0V29yZHMxIF4gaW52S2V5U2NoZWR1bGVbM107XG5cbiAgICAgIGtzUm93ID0gNDtcblxuICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSByb3VuZHMgb2YgZGVjcnlwdGlvblxuICAgICAgZm9yIChpID0gMTsgaSA8IG5Sb3VuZHM7IGkrKykge1xuICAgICAgICB0MCA9IGludlN1Yk1peDBbczAgPj4+IDI0XSBeIGludlN1Yk1peDFbczEgPj4gMTYgJiAweGZmXSBeIGludlN1Yk1peDJbczIgPj4gOCAmIDB4ZmZdIF4gaW52U3ViTWl4M1tzMyAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3ddO1xuICAgICAgICB0MSA9IGludlN1Yk1peDBbczEgPj4+IDI0XSBeIGludlN1Yk1peDFbczIgPj4gMTYgJiAweGZmXSBeIGludlN1Yk1peDJbczMgPj4gOCAmIDB4ZmZdIF4gaW52U3ViTWl4M1tzMCAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAxXTtcbiAgICAgICAgdDIgPSBpbnZTdWJNaXgwW3MyID4+PiAyNF0gXiBpbnZTdWJNaXgxW3MzID4+IDE2ICYgMHhmZl0gXiBpbnZTdWJNaXgyW3MwID4+IDggJiAweGZmXSBeIGludlN1Yk1peDNbczEgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgMl07XG4gICAgICAgIHQzID0gaW52U3ViTWl4MFtzMyA+Pj4gMjRdIF4gaW52U3ViTWl4MVtzMCA+PiAxNiAmIDB4ZmZdIF4gaW52U3ViTWl4MltzMSA+PiA4ICYgMHhmZl0gXiBpbnZTdWJNaXgzW3MyICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDNdO1xuICAgICAgICAvLyBVcGRhdGUgc3RhdGVcbiAgICAgICAgczAgPSB0MDtcbiAgICAgICAgczEgPSB0MTtcbiAgICAgICAgczIgPSB0MjtcbiAgICAgICAgczMgPSB0MztcblxuICAgICAgICBrc1JvdyA9IGtzUm93ICsgNDtcbiAgICAgIH1cblxuICAgICAgLy8gU2hpZnQgcm93cywgc3ViIGJ5dGVzLCBhZGQgcm91bmQga2V5XG4gICAgICB0MCA9IGludlNCT1hbczAgPj4+IDI0XSA8PCAyNCBeIGludlNCT1hbczEgPj4gMTYgJiAweGZmXSA8PCAxNiBeIGludlNCT1hbczIgPj4gOCAmIDB4ZmZdIDw8IDggXiBpbnZTQk9YW3MzICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1Jvd107XG4gICAgICB0MSA9IGludlNCT1hbczEgPj4+IDI0XSA8PCAyNCBeIGludlNCT1hbczIgPj4gMTYgJiAweGZmXSA8PCAxNiBeIGludlNCT1hbczMgPj4gOCAmIDB4ZmZdIDw8IDggXiBpbnZTQk9YW3MwICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDFdO1xuICAgICAgdDIgPSBpbnZTQk9YW3MyID4+PiAyNF0gPDwgMjQgXiBpbnZTQk9YW3MzID4+IDE2ICYgMHhmZl0gPDwgMTYgXiBpbnZTQk9YW3MwID4+IDggJiAweGZmXSA8PCA4IF4gaW52U0JPWFtzMSAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAyXTtcbiAgICAgIHQzID0gaW52U0JPWFtzMyA+Pj4gMjRdIDw8IDI0IF4gaW52U0JPWFtzMCA+PiAxNiAmIDB4ZmZdIDw8IDE2IF4gaW52U0JPWFtzMSA+PiA4ICYgMHhmZl0gPDwgOCBeIGludlNCT1hbczIgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgM107XG4gICAgICBrc1JvdyA9IGtzUm93ICsgMztcblxuICAgICAgLy8gV3JpdGVcbiAgICAgIG91dHB1dEludDMyW29mZnNldF0gPSBzd2FwV29yZCh0MCBeIGluaXRWZWN0b3IwKTtcbiAgICAgIG91dHB1dEludDMyW29mZnNldCArIDFdID0gc3dhcFdvcmQodDMgXiBpbml0VmVjdG9yMSk7XG4gICAgICBvdXRwdXRJbnQzMltvZmZzZXQgKyAyXSA9IHN3YXBXb3JkKHQyIF4gaW5pdFZlY3RvcjIpO1xuICAgICAgb3V0cHV0SW50MzJbb2Zmc2V0ICsgM10gPSBzd2FwV29yZCh0MSBeIGluaXRWZWN0b3IzKTtcblxuICAgICAgLy8gcmVzZXQgaW5pdFZlY3RvciB0byBsYXN0IDQgdW5zaWduZWQgaW50XG4gICAgICBpbml0VmVjdG9yMCA9IGlucHV0V29yZHMwO1xuICAgICAgaW5pdFZlY3RvcjEgPSBpbnB1dFdvcmRzMTtcbiAgICAgIGluaXRWZWN0b3IyID0gaW5wdXRXb3JkczI7XG4gICAgICBpbml0VmVjdG9yMyA9IGlucHV0V29yZHMzO1xuXG4gICAgICBvZmZzZXQgPSBvZmZzZXQgKyA0O1xuICAgIH1cblxuICAgIHJldHVybiByZW1vdmVQS0NTN1BhZGRpbmcgPyByZW1vdmVQYWRkaW5nKG91dHB1dEludDMyLmJ1ZmZlcikgOiBvdXRwdXRJbnQzMi5idWZmZXI7XG4gIH07XG5cbiAgQUVTRGVjcnlwdG9yLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLmtleSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmtleVNpemUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5rc1Jvd3MgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLnNCb3ggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pbnZTQm94ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuc3ViTWl4ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaW52U3ViTWl4ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMua2V5U2NoZWR1bGUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pbnZLZXlTY2hlZHVsZSA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMucmNvbiA9IHVuZGVmaW5lZDtcbiAgfTtcblxuICByZXR1cm4gQUVTRGVjcnlwdG9yO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBhZXNfZGVjcnlwdG9yID0gKEFFU0RlY3J5cHRvcik7XG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2Vycm9ycy5qc1xudmFyIGVycm9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXG52YXIgbG9nZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9ldmVudHMuanNcbnZhciBldmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL3V0aWxzL2dldC1zZWxmLXNjb3BlLmpzXG52YXIgZ2V0X3NlbGZfc2NvcGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jcnlwdC9kZWNyeXB0ZXIuanNcbmZ1bmN0aW9uIGRlY3J5cHRlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLy8gc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMTIzNzI1OS81ODk0OTNcbnZhciBnbG9iYWwgPSBPYmplY3QoZ2V0X3NlbGZfc2NvcGVbXCJhXCIgLyogZ2V0U2VsZlNjb3BlICovXSkoKTsgLy8gc2FmZWd1YXJkIGZvciBjb2RlIHRoYXQgbWlnaHQgcnVuIGJvdGggb24gd29ya2VyIGFuZCBtYWluIHRocmVhZFxuXG52YXIgZGVjcnlwdGVyX0RlY3J5cHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRGVjcnlwdGVyKG9ic2VydmVyLCBjb25maWcpIHtcbiAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge30sXG4gICAgICAgIF9yZWYkcmVtb3ZlUEtDUzdQYWRkaSA9IF9yZWYucmVtb3ZlUEtDUzdQYWRkaW5nLFxuICAgICAgICByZW1vdmVQS0NTN1BhZGRpbmcgPSBfcmVmJHJlbW92ZVBLQ1M3UGFkZGkgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmJHJlbW92ZVBLQ1M3UGFkZGk7XG5cbiAgICBkZWNyeXB0ZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlY3J5cHRlcik7XG5cbiAgICB0aGlzLmxvZ0VuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnJlbW92ZVBLQ1M3UGFkZGluZyA9IHJlbW92ZVBLQ1M3UGFkZGluZztcbiAgICAvLyBidWlsdCBpbiBkZWNyeXB0b3IgZXhwZWN0cyBQS0NTNyBwYWRkaW5nXG4gICAgaWYgKHJlbW92ZVBLQ1M3UGFkZGluZykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGJyb3dzZXJDcnlwdG8gPSBnbG9iYWwuY3J5cHRvO1xuICAgICAgICBpZiAoYnJvd3NlckNyeXB0bykge1xuICAgICAgICAgIHRoaXMuc3VidGxlID0gYnJvd3NlckNyeXB0by5zdWJ0bGUgfHwgYnJvd3NlckNyeXB0by53ZWJraXRTdWJ0bGU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICAgIHRoaXMuZGlzYWJsZVdlYkNyeXB0byA9ICF0aGlzLnN1YnRsZTtcbiAgfVxuXG4gIERlY3J5cHRlci5wcm90b3R5cGUuaXNTeW5jID0gZnVuY3Rpb24gaXNTeW5jKCkge1xuICAgIHJldHVybiB0aGlzLmRpc2FibGVXZWJDcnlwdG8gJiYgdGhpcy5jb25maWcuZW5hYmxlU29mdHdhcmVBRVM7XG4gIH07XG5cbiAgRGVjcnlwdGVyLnByb3RvdHlwZS5kZWNyeXB0ID0gZnVuY3Rpb24gZGVjcnlwdChkYXRhLCBrZXksIGl2LCBjYWxsYmFjaykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5kaXNhYmxlV2ViQ3J5cHRvICYmIHRoaXMuY29uZmlnLmVuYWJsZVNvZnR3YXJlQUVTKSB7XG4gICAgICBpZiAodGhpcy5sb2dFbmFibGVkKSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnSlMgQUVTIGRlY3J5cHQnKTtcbiAgICAgICAgdGhpcy5sb2dFbmFibGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgZGVjcnlwdG9yID0gdGhpcy5kZWNyeXB0b3I7XG4gICAgICBpZiAoIWRlY3J5cHRvcikge1xuICAgICAgICB0aGlzLmRlY3J5cHRvciA9IGRlY3J5cHRvciA9IG5ldyBhZXNfZGVjcnlwdG9yKCk7XG4gICAgICB9XG5cbiAgICAgIGRlY3J5cHRvci5leHBhbmRLZXkoa2V5KTtcbiAgICAgIGNhbGxiYWNrKGRlY3J5cHRvci5kZWNyeXB0KGRhdGEsIDAsIGl2LCB0aGlzLnJlbW92ZVBLQ1M3UGFkZGluZykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5sb2dFbmFibGVkKSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnV2ViQ3J5cHRvIEFFUyBkZWNyeXB0Jyk7XG4gICAgICAgIHRoaXMubG9nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHN1YnRsZSA9IHRoaXMuc3VidGxlO1xuICAgICAgaWYgKHRoaXMua2V5ICE9PSBrZXkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuZmFzdEFlc0tleSA9IG5ldyBmYXN0X2Flc19rZXkoc3VidGxlLCBrZXkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmZhc3RBZXNLZXkuZXhwYW5kS2V5KCkudGhlbihmdW5jdGlvbiAoYWVzS2V5KSB7XG4gICAgICAgIC8vIGRlY3J5cHQgdXNpbmcgd2ViIGNyeXB0b1xuICAgICAgICB2YXIgY3J5cHRvID0gbmV3IGFlc19jcnlwdG8oc3VidGxlLCBpdik7XG4gICAgICAgIGNyeXB0by5kZWNyeXB0KGRhdGEsIGFlc0tleSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIF90aGlzLm9uV2ViQ3J5cHRvRXJyb3IoZXJyLCBkYXRhLCBrZXksIGl2LCBjYWxsYmFjayk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBfdGhpcy5vbldlYkNyeXB0b0Vycm9yKGVyciwgZGF0YSwga2V5LCBpdiwgY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIERlY3J5cHRlci5wcm90b3R5cGUub25XZWJDcnlwdG9FcnJvciA9IGZ1bmN0aW9uIG9uV2ViQ3J5cHRvRXJyb3IoZXJyLCBkYXRhLCBrZXksIGl2LCBjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVTb2Z0d2FyZUFFUykge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdXZWJDcnlwdG8gRXJyb3IsIGRpc2FibGUgV2ViQ3J5cHRvIEFQSScpO1xuICAgICAgdGhpcy5kaXNhYmxlV2ViQ3J5cHRvID0gdHJ1ZTtcbiAgICAgIHRoaXMubG9nRW5hYmxlZCA9IHRydWU7XG4gICAgICB0aGlzLmRlY3J5cHQoZGF0YSwga2V5LCBpdiwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignZGVjcnlwdGluZyBlcnJvciA6ICcgKyBlcnIubWVzc2FnZSk7XG4gICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19ERUNSWVBUX0VSUk9SLCBmYXRhbDogdHJ1ZSwgcmVhc29uOiBlcnIubWVzc2FnZSB9KTtcbiAgICB9XG4gIH07XG5cbiAgRGVjcnlwdGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgZGVjcnlwdG9yID0gdGhpcy5kZWNyeXB0b3I7XG4gICAgaWYgKGRlY3J5cHRvcikge1xuICAgICAgZGVjcnlwdG9yLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZGVjcnlwdG9yID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gRGVjcnlwdGVyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBkZWNyeXB0ZXIgPSBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChkZWNyeXB0ZXJfRGVjcnlwdGVyKTtcblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfbG9nZ2VyX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXZlbnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBNUDQgZGVtdXhlclxuICovXG5cblxuXG52YXIgVUlOVDMyX01BWCA9IE1hdGgucG93KDIsIDMyKSAtIDE7XG5cbnZhciBNUDREZW11eGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNUDREZW11eGVyKG9ic2VydmVyLCByZW11eGVyKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1QNERlbXV4ZXIpO1xuXG4gICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgIHRoaXMucmVtdXhlciA9IHJlbXV4ZXI7XG4gIH1cblxuICBNUDREZW11eGVyLnByb3RvdHlwZS5yZXNldFRpbWVTdGFtcCA9IGZ1bmN0aW9uIHJlc2V0VGltZVN0YW1wKGluaXRQVFMpIHtcbiAgICB0aGlzLmluaXRQVFMgPSBpbml0UFRTO1xuICB9O1xuXG4gIE1QNERlbXV4ZXIucHJvdG90eXBlLnJlc2V0SW5pdFNlZ21lbnQgPSBmdW5jdGlvbiByZXNldEluaXRTZWdtZW50KGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCBkdXJhdGlvbikge1xuICAgIC8vIGpzaGludCB1bnVzZWQ6ZmFsc2VcbiAgICBpZiAoaW5pdFNlZ21lbnQgJiYgaW5pdFNlZ21lbnQuYnl0ZUxlbmd0aCkge1xuICAgICAgdmFyIGluaXREYXRhID0gdGhpcy5pbml0RGF0YSA9IE1QNERlbXV4ZXIucGFyc2VJbml0U2VnbWVudChpbml0U2VnbWVudCk7XG5cbiAgICAgIC8vIGRlZmF1bHQgYXVkaW8gY29kZWMgaWYgbm90aGluZyBzcGVjaWZpZWRcbiAgICAgIC8vIFRPRE8gOiBleHRyYWN0IHRoYXQgZnJvbSBpbml0c2VnbWVudFxuICAgICAgaWYgKGF1ZGlvQ29kZWMgPT0gbnVsbCkge1xuICAgICAgICBhdWRpb0NvZGVjID0gJ21wNGEuNDAuNSc7XG4gICAgICB9XG5cbiAgICAgIGlmICh2aWRlb0NvZGVjID09IG51bGwpIHtcbiAgICAgICAgdmlkZW9Db2RlYyA9ICdhdmMxLjQyZTAxZSc7XG4gICAgICB9XG5cbiAgICAgIHZhciB0cmFja3MgPSB7fTtcbiAgICAgIGlmIChpbml0RGF0YS5hdWRpbyAmJiBpbml0RGF0YS52aWRlbykge1xuICAgICAgICB0cmFja3MuYXVkaW92aWRlbyA9IHsgY29udGFpbmVyOiAndmlkZW8vbXA0JywgY29kZWM6IGF1ZGlvQ29kZWMgKyAnLCcgKyB2aWRlb0NvZGVjLCBpbml0U2VnbWVudDogZHVyYXRpb24gPyBpbml0U2VnbWVudCA6IG51bGwgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpbml0RGF0YS5hdWRpbykge1xuICAgICAgICAgIHRyYWNrcy5hdWRpbyA9IHsgY29udGFpbmVyOiAnYXVkaW8vbXA0JywgY29kZWM6IGF1ZGlvQ29kZWMsIGluaXRTZWdtZW50OiBkdXJhdGlvbiA/IGluaXRTZWdtZW50IDogbnVsbCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluaXREYXRhLnZpZGVvKSB7XG4gICAgICAgICAgdHJhY2tzLnZpZGVvID0geyBjb250YWluZXI6ICd2aWRlby9tcDQnLCBjb2RlYzogdmlkZW9Db2RlYywgaW5pdFNlZ21lbnQ6IGR1cmF0aW9uID8gaW5pdFNlZ21lbnQgOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2V2ZW50c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQsIHsgdHJhY2tzOiB0cmFja3MgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhdWRpb0NvZGVjKSB7XG4gICAgICAgIHRoaXMuYXVkaW9Db2RlYyA9IGF1ZGlvQ29kZWM7XG4gICAgICB9XG5cbiAgICAgIGlmICh2aWRlb0NvZGVjKSB7XG4gICAgICAgIHRoaXMudmlkZW9Db2RlYyA9IHZpZGVvQ29kZWM7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIE1QNERlbXV4ZXIucHJvYmUgPSBmdW5jdGlvbiBwcm9iZShkYXRhKSB7XG4gICAgLy8gZW5zdXJlIHdlIGZpbmQgYSBtb29mIGJveCBpbiB0aGUgZmlyc3QgMTYga0JcbiAgICByZXR1cm4gTVA0RGVtdXhlci5maW5kQm94KHsgZGF0YTogZGF0YSwgc3RhcnQ6IDAsIGVuZDogTWF0aC5taW4oZGF0YS5sZW5ndGgsIDE2Mzg0KSB9LCBbJ21vb2YnXSkubGVuZ3RoID4gMDtcbiAgfTtcblxuICBNUDREZW11eGVyLmJpbjJzdHIgPSBmdW5jdGlvbiBiaW4yc3RyKGJ1ZmZlcikge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGJ1ZmZlcik7XG4gIH07XG5cbiAgTVA0RGVtdXhlci5yZWFkVWludDE2ID0gZnVuY3Rpb24gcmVhZFVpbnQxNihidWZmZXIsIG9mZnNldCkge1xuICAgIGlmIChidWZmZXIuZGF0YSkge1xuICAgICAgb2Zmc2V0ICs9IGJ1ZmZlci5zdGFydDtcbiAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5kYXRhO1xuICAgIH1cblxuICAgIHZhciB2YWwgPSBidWZmZXJbb2Zmc2V0XSA8PCA4IHwgYnVmZmVyW29mZnNldCArIDFdO1xuXG4gICAgcmV0dXJuIHZhbCA8IDAgPyA2NTUzNiArIHZhbCA6IHZhbDtcbiAgfTtcblxuICBNUDREZW11eGVyLnJlYWRVaW50MzIgPSBmdW5jdGlvbiByZWFkVWludDMyKGJ1ZmZlciwgb2Zmc2V0KSB7XG4gICAgaWYgKGJ1ZmZlci5kYXRhKSB7XG4gICAgICBvZmZzZXQgKz0gYnVmZmVyLnN0YXJ0O1xuICAgICAgYnVmZmVyID0gYnVmZmVyLmRhdGE7XG4gICAgfVxuXG4gICAgdmFyIHZhbCA9IGJ1ZmZlcltvZmZzZXRdIDw8IDI0IHwgYnVmZmVyW29mZnNldCArIDFdIDw8IDE2IHwgYnVmZmVyW29mZnNldCArIDJdIDw8IDggfCBidWZmZXJbb2Zmc2V0ICsgM107XG4gICAgcmV0dXJuIHZhbCA8IDAgPyA0Mjk0OTY3Mjk2ICsgdmFsIDogdmFsO1xuICB9O1xuXG4gIE1QNERlbXV4ZXIud3JpdGVVaW50MzIgPSBmdW5jdGlvbiB3cml0ZVVpbnQzMihidWZmZXIsIG9mZnNldCwgdmFsdWUpIHtcbiAgICBpZiAoYnVmZmVyLmRhdGEpIHtcbiAgICAgIG9mZnNldCArPSBidWZmZXIuc3RhcnQ7XG4gICAgICBidWZmZXIgPSBidWZmZXIuZGF0YTtcbiAgICB9XG4gICAgYnVmZmVyW29mZnNldF0gPSB2YWx1ZSA+PiAyNDtcbiAgICBidWZmZXJbb2Zmc2V0ICsgMV0gPSB2YWx1ZSA+PiAxNiAmIDB4ZmY7XG4gICAgYnVmZmVyW29mZnNldCArIDJdID0gdmFsdWUgPj4gOCAmIDB4ZmY7XG4gICAgYnVmZmVyW29mZnNldCArIDNdID0gdmFsdWUgJiAweGZmO1xuICB9O1xuXG4gIC8vIEZpbmQgdGhlIGRhdGEgZm9yIGEgYm94IHNwZWNpZmllZCBieSBpdHMgcGF0aFxuXG5cbiAgTVA0RGVtdXhlci5maW5kQm94ID0gZnVuY3Rpb24gZmluZEJveChkYXRhLCBwYXRoKSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXSxcbiAgICAgICAgaSA9IHZvaWQgMCxcbiAgICAgICAgc2l6ZSA9IHZvaWQgMCxcbiAgICAgICAgdHlwZSA9IHZvaWQgMCxcbiAgICAgICAgZW5kID0gdm9pZCAwLFxuICAgICAgICBzdWJyZXN1bHRzID0gdm9pZCAwLFxuICAgICAgICBzdGFydCA9IHZvaWQgMCxcbiAgICAgICAgZW5kYm94ID0gdm9pZCAwO1xuXG4gICAgaWYgKGRhdGEuZGF0YSkge1xuICAgICAgc3RhcnQgPSBkYXRhLnN0YXJ0O1xuICAgICAgZW5kID0gZGF0YS5lbmQ7XG4gICAgICBkYXRhID0gZGF0YS5kYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydCA9IDA7XG4gICAgICBlbmQgPSBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgfVxuXG4gICAgaWYgKCFwYXRoLmxlbmd0aCkge1xuICAgICAgLy8gc2hvcnQtY2lyY3VpdCB0aGUgc2VhcmNoIGZvciBlbXB0eSBwYXRoc1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7KSB7XG4gICAgICBzaXplID0gTVA0RGVtdXhlci5yZWFkVWludDMyKGRhdGEsIGkpO1xuICAgICAgdHlwZSA9IE1QNERlbXV4ZXIuYmluMnN0cihkYXRhLnN1YmFycmF5KGkgKyA0LCBpICsgOCkpO1xuICAgICAgZW5kYm94ID0gc2l6ZSA+IDEgPyBpICsgc2l6ZSA6IGVuZDtcblxuICAgICAgaWYgKHR5cGUgPT09IHBhdGhbMF0pIHtcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgLy8gdGhpcyBpcyB0aGUgZW5kIG9mIHRoZSBwYXRoIGFuZCB3ZSd2ZSBmb3VuZCB0aGUgYm94IHdlIHdlcmVcbiAgICAgICAgICAvLyBsb29raW5nIGZvclxuICAgICAgICAgIHJlc3VsdHMucHVzaCh7IGRhdGE6IGRhdGEsIHN0YXJ0OiBpICsgOCwgZW5kOiBlbmRib3ggfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcmVjdXJzaXZlbHkgc2VhcmNoIGZvciB0aGUgbmV4dCBib3ggYWxvbmcgdGhlIHBhdGhcbiAgICAgICAgICBzdWJyZXN1bHRzID0gTVA0RGVtdXhlci5maW5kQm94KHsgZGF0YTogZGF0YSwgc3RhcnQ6IGkgKyA4LCBlbmQ6IGVuZGJveCB9LCBwYXRoLnNsaWNlKDEpKTtcbiAgICAgICAgICBpZiAoc3VicmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChzdWJyZXN1bHRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGkgPSBlbmRib3g7XG4gICAgfVxuXG4gICAgLy8gd2UndmUgZmluaXNoZWQgc2VhcmNoaW5nIGFsbCBvZiBkYXRhXG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgTVA0RGVtdXhlci5wYXJzZVNlZ21lbnRJbmRleCA9IGZ1bmN0aW9uIHBhcnNlU2VnbWVudEluZGV4KGluaXRTZWdtZW50KSB7XG4gICAgdmFyIG1vb3YgPSBNUDREZW11eGVyLmZpbmRCb3goaW5pdFNlZ21lbnQsIFsnbW9vdiddKVswXTtcbiAgICB2YXIgbW9vdkVuZE9mZnNldCA9IG1vb3YgPyBtb292LmVuZCA6IG51bGw7IC8vIHdlIG5lZWQgdGhpcyBpbiBjYXNlIHdlIG5lZWQgdG8gY2hvcCBvZiBnYXJiYWdlIG9mIHRoZSBlbmQgb2YgY3VycmVudCBkYXRhXG5cbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBzaWR4ID0gTVA0RGVtdXhlci5maW5kQm94KGluaXRTZWdtZW50LCBbJ3NpZHgnXSk7XG4gICAgdmFyIHJlZmVyZW5jZXMgPSB2b2lkIDA7XG5cbiAgICBpZiAoIXNpZHggfHwgIXNpZHhbMF0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJlZmVyZW5jZXMgPSBbXTtcbiAgICBzaWR4ID0gc2lkeFswXTtcblxuICAgIHZhciB2ZXJzaW9uID0gc2lkeC5kYXRhWzBdO1xuXG4gICAgLy8gc2V0IGluaXRpYWwgb2Zmc2V0LCB3ZSBza2lwIHRoZSByZWZlcmVuY2UgSUQgKG5vdCBuZWVkZWQpXG4gICAgaW5kZXggPSB2ZXJzaW9uID09PSAwID8gOCA6IDE2O1xuXG4gICAgdmFyIHRpbWVzY2FsZSA9IE1QNERlbXV4ZXIucmVhZFVpbnQzMihzaWR4LCBpbmRleCk7XG4gICAgaW5kZXggKz0gNDtcblxuICAgIC8vIFRPRE86IHBhcnNlIGVhcmxpZXN0UHJlc2VudGF0aW9uVGltZSBhbmQgZmlyc3RPZmZzZXRcbiAgICAvLyB1c3VhbGx5IHplcm8gaW4gb3VyIGNhc2VcbiAgICB2YXIgZWFybGllc3RQcmVzZW50YXRpb25UaW1lID0gMDtcbiAgICB2YXIgZmlyc3RPZmZzZXQgPSAwO1xuXG4gICAgaWYgKHZlcnNpb24gPT09IDApIHtcbiAgICAgIGluZGV4ICs9IDg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluZGV4ICs9IDE2O1xuICAgIH1cblxuICAgIC8vIHNraXAgcmVzZXJ2ZWRcbiAgICBpbmRleCArPSAyO1xuXG4gICAgdmFyIHN0YXJ0Qnl0ZSA9IHNpZHguZW5kICsgZmlyc3RPZmZzZXQ7XG5cbiAgICB2YXIgcmVmZXJlbmNlc0NvdW50ID0gTVA0RGVtdXhlci5yZWFkVWludDE2KHNpZHgsIGluZGV4KTtcbiAgICBpbmRleCArPSAyO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWZlcmVuY2VzQ291bnQ7IGkrKykge1xuICAgICAgdmFyIHJlZmVyZW5jZUluZGV4ID0gaW5kZXg7XG5cbiAgICAgIHZhciByZWZlcmVuY2VJbmZvID0gTVA0RGVtdXhlci5yZWFkVWludDMyKHNpZHgsIHJlZmVyZW5jZUluZGV4KTtcbiAgICAgIHJlZmVyZW5jZUluZGV4ICs9IDQ7XG5cbiAgICAgIHZhciByZWZlcmVuY2VTaXplID0gcmVmZXJlbmNlSW5mbyAmIDB4N0ZGRkZGRkY7XG4gICAgICB2YXIgcmVmZXJlbmNlVHlwZSA9IChyZWZlcmVuY2VJbmZvICYgMHg4MDAwMDAwMCkgPj4+IDMxO1xuXG4gICAgICBpZiAocmVmZXJlbmNlVHlwZSA9PT0gMSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1NJRFggaGFzIGhpZXJhcmNoaWNhbCByZWZlcmVuY2VzIChub3Qgc3VwcG9ydGVkKScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzdWJzZWdtZW50RHVyYXRpb24gPSBNUDREZW11eGVyLnJlYWRVaW50MzIoc2lkeCwgcmVmZXJlbmNlSW5kZXgpO1xuICAgICAgcmVmZXJlbmNlSW5kZXggKz0gNDtcblxuICAgICAgcmVmZXJlbmNlcy5wdXNoKHtcbiAgICAgICAgcmVmZXJlbmNlU2l6ZTogcmVmZXJlbmNlU2l6ZSxcbiAgICAgICAgc3Vic2VnbWVudER1cmF0aW9uOiBzdWJzZWdtZW50RHVyYXRpb24sIC8vIHVuc2NhbGVkXG4gICAgICAgIGluZm86IHtcbiAgICAgICAgICBkdXJhdGlvbjogc3Vic2VnbWVudER1cmF0aW9uIC8gdGltZXNjYWxlLFxuICAgICAgICAgIHN0YXJ0OiBzdGFydEJ5dGUsXG4gICAgICAgICAgZW5kOiBzdGFydEJ5dGUgKyByZWZlcmVuY2VTaXplIC0gMVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc3RhcnRCeXRlICs9IHJlZmVyZW5jZVNpemU7XG5cbiAgICAgIC8vIFNraXBwaW5nIDEgYml0IGZvciB8c3RhcnRzV2l0aFNhcHwsIDMgYml0cyBmb3IgfHNhcFR5cGV8LCBhbmQgMjggYml0c1xuICAgICAgLy8gZm9yIHxzYXBEZWx0YXwuXG4gICAgICByZWZlcmVuY2VJbmRleCArPSA0O1xuXG4gICAgICAvLyBza2lwIHRvIG5leHQgcmVmXG4gICAgICBpbmRleCA9IHJlZmVyZW5jZUluZGV4O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBlYXJsaWVzdFByZXNlbnRhdGlvblRpbWU6IGVhcmxpZXN0UHJlc2VudGF0aW9uVGltZSxcbiAgICAgIHRpbWVzY2FsZTogdGltZXNjYWxlLFxuICAgICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICAgIHJlZmVyZW5jZXNDb3VudDogcmVmZXJlbmNlc0NvdW50LFxuICAgICAgcmVmZXJlbmNlczogcmVmZXJlbmNlcyxcbiAgICAgIG1vb3ZFbmRPZmZzZXQ6IG1vb3ZFbmRPZmZzZXRcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBQYXJzZXMgYW4gTVA0IGluaXRpYWxpemF0aW9uIHNlZ21lbnQgYW5kIGV4dHJhY3RzIHN0cmVhbSB0eXBlIGFuZFxuICAgKiB0aW1lc2NhbGUgdmFsdWVzIGZvciBhbnkgZGVjbGFyZWQgdHJhY2tzLiBUaW1lc2NhbGUgdmFsdWVzIGluZGljYXRlIHRoZVxuICAgKiBudW1iZXIgb2YgY2xvY2sgdGlja3MgcGVyIHNlY29uZCB0byBhc3N1bWUgZm9yIHRpbWUtYmFzZWQgdmFsdWVzXG4gICAqIGVsc2V3aGVyZSBpbiB0aGUgTVA0LlxuICAgKlxuICAgKiBUbyBkZXRlcm1pbmUgdGhlIHN0YXJ0IHRpbWUgb2YgYW4gTVA0LCB5b3UgbmVlZCB0d28gcGllY2VzIG9mXG4gICAqIGluZm9ybWF0aW9uOiB0aGUgdGltZXNjYWxlIHVuaXQgYW5kIHRoZSBlYXJsaWVzdCBiYXNlIG1lZGlhIGRlY29kZVxuICAgKiB0aW1lLiBNdWx0aXBsZSB0aW1lc2NhbGVzIGNhbiBiZSBzcGVjaWZpZWQgd2l0aGluIGFuIE1QNCBidXQgdGhlXG4gICAqIGJhc2UgbWVkaWEgZGVjb2RlIHRpbWUgaXMgYWx3YXlzIGV4cHJlc3NlZCBpbiB0aGUgdGltZXNjYWxlIGZyb21cbiAgICogdGhlIG1lZGlhIGhlYWRlciBib3ggZm9yIHRoZSB0cmFjazpcbiAgICogYGBgXG4gICAqIG1vb3YgPiB0cmFrID4gbWRpYSA+IG1kaGQudGltZXNjYWxlXG4gICAqIG1vb3YgPiB0cmFrID4gbWRpYSA+IGhkbHJcbiAgICogYGBgXG4gICAqIEBwYXJhbSBpbml0IHtVaW50OEFycmF5fSB0aGUgYnl0ZXMgb2YgdGhlIGluaXQgc2VnbWVudFxuICAgKiBAcmV0dXJuIHtvYmplY3R9IGEgaGFzaCBvZiB0cmFjayB0eXBlIHRvIHRpbWVzY2FsZSB2YWx1ZXMgb3IgbnVsbCBpZlxuICAgKiB0aGUgaW5pdCBzZWdtZW50IGlzIG1hbGZvcm1lZC5cbiAgICovXG5cblxuICBNUDREZW11eGVyLnBhcnNlSW5pdFNlZ21lbnQgPSBmdW5jdGlvbiBwYXJzZUluaXRTZWdtZW50KGluaXRTZWdtZW50KSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciB0cmFrcyA9IE1QNERlbXV4ZXIuZmluZEJveChpbml0U2VnbWVudCwgWydtb292JywgJ3RyYWsnXSk7XG5cbiAgICB0cmFrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFrKSB7XG4gICAgICB2YXIgdGtoZCA9IE1QNERlbXV4ZXIuZmluZEJveCh0cmFrLCBbJ3RraGQnXSlbMF07XG4gICAgICBpZiAodGtoZCkge1xuICAgICAgICB2YXIgdmVyc2lvbiA9IHRraGQuZGF0YVt0a2hkLnN0YXJ0XTtcbiAgICAgICAgdmFyIGluZGV4ID0gdmVyc2lvbiA9PT0gMCA/IDEyIDogMjA7XG4gICAgICAgIHZhciB0cmFja0lkID0gTVA0RGVtdXhlci5yZWFkVWludDMyKHRraGQsIGluZGV4KTtcblxuICAgICAgICB2YXIgbWRoZCA9IE1QNERlbXV4ZXIuZmluZEJveCh0cmFrLCBbJ21kaWEnLCAnbWRoZCddKVswXTtcbiAgICAgICAgaWYgKG1kaGQpIHtcbiAgICAgICAgICB2ZXJzaW9uID0gbWRoZC5kYXRhW21kaGQuc3RhcnRdO1xuICAgICAgICAgIGluZGV4ID0gdmVyc2lvbiA9PT0gMCA/IDEyIDogMjA7XG4gICAgICAgICAgdmFyIHRpbWVzY2FsZSA9IE1QNERlbXV4ZXIucmVhZFVpbnQzMihtZGhkLCBpbmRleCk7XG5cbiAgICAgICAgICB2YXIgaGRsciA9IE1QNERlbXV4ZXIuZmluZEJveCh0cmFrLCBbJ21kaWEnLCAnaGRsciddKVswXTtcbiAgICAgICAgICBpZiAoaGRscikge1xuICAgICAgICAgICAgdmFyIGhkbHJUeXBlID0gTVA0RGVtdXhlci5iaW4yc3RyKGhkbHIuZGF0YS5zdWJhcnJheShoZGxyLnN0YXJ0ICsgOCwgaGRsci5zdGFydCArIDEyKSk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHsgJ3NvdW4nOiAnYXVkaW8nLCAndmlkZSc6ICd2aWRlbycgfVtoZGxyVHlwZV07XG4gICAgICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgICAvLyBleHRyYWN0IGNvZGVjIGluZm8uIFRPRE8gOiBwYXJzZSBjb2RlYyBkZXRhaWxzIHRvIGJlIGFibGUgdG8gYnVpbGQgTUlNRSB0eXBlXG4gICAgICAgICAgICAgIHZhciBjb2RlY0JveCA9IE1QNERlbXV4ZXIuZmluZEJveCh0cmFrLCBbJ21kaWEnLCAnbWluZicsICdzdGJsJywgJ3N0c2QnXSk7XG4gICAgICAgICAgICAgIGlmIChjb2RlY0JveC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb2RlY0JveCA9IGNvZGVjQm94WzBdO1xuICAgICAgICAgICAgICAgIHZhciBjb2RlY1R5cGUgPSBNUDREZW11eGVyLmJpbjJzdHIoY29kZWNCb3guZGF0YS5zdWJhcnJheShjb2RlY0JveC5zdGFydCArIDEyLCBjb2RlY0JveC5zdGFydCArIDE2KSk7XG4gICAgICAgICAgICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19sb2dnZXJfX1tcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTVA0RGVtdXhlcjonICsgdHlwZSArICc6JyArIGNvZGVjVHlwZSArICcgZm91bmQnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXN1bHRbdHJhY2tJZF0gPSB7IHRpbWVzY2FsZTogdGltZXNjYWxlLCB0eXBlOiB0eXBlIH07XG4gICAgICAgICAgICAgIHJlc3VsdFt0eXBlXSA9IHsgdGltZXNjYWxlOiB0aW1lc2NhbGUsIGlkOiB0cmFja0lkIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgKiBEZXRlcm1pbmUgdGhlIGJhc2UgbWVkaWEgZGVjb2RlIHN0YXJ0IHRpbWUsIGluIHNlY29uZHMsIGZvciBhbiBNUDRcbiAgKiBmcmFnbWVudC4gSWYgbXVsdGlwbGUgZnJhZ21lbnRzIGFyZSBzcGVjaWZpZWQsIHRoZSBlYXJsaWVzdCB0aW1lIGlzXG4gICogcmV0dXJuZWQuXG4gICpcbiAgKiBUaGUgYmFzZSBtZWRpYSBkZWNvZGUgdGltZSBjYW4gYmUgcGFyc2VkIGZyb20gdHJhY2sgZnJhZ21lbnRcbiAgKiBtZXRhZGF0YTpcbiAgKiBgYGBcbiAgKiBtb29mID4gdHJhZiA+IHRmZHQuYmFzZU1lZGlhRGVjb2RlVGltZVxuICAqIGBgYFxuICAqIEl0IHJlcXVpcmVzIHRoZSB0aW1lc2NhbGUgdmFsdWUgZnJvbSB0aGUgbWRoZCB0byBpbnRlcnByZXQuXG4gICpcbiAgKiBAcGFyYW0gdGltZXNjYWxlIHtvYmplY3R9IGEgaGFzaCBvZiB0cmFjayBpZHMgdG8gdGltZXNjYWxlIHZhbHVlcy5cbiAgKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBlYXJsaWVzdCBiYXNlIG1lZGlhIGRlY29kZSBzdGFydCB0aW1lIGZvciB0aGVcbiAgKiBmcmFnbWVudCwgaW4gc2Vjb25kc1xuICAqL1xuXG5cbiAgTVA0RGVtdXhlci5nZXRTdGFydERUUyA9IGZ1bmN0aW9uIGdldFN0YXJ0RFRTKGluaXREYXRhLCBmcmFnbWVudCkge1xuICAgIHZhciB0cmFmcyA9IHZvaWQgMCxcbiAgICAgICAgYmFzZVRpbWVzID0gdm9pZCAwLFxuICAgICAgICByZXN1bHQgPSB2b2lkIDA7XG5cbiAgICAvLyB3ZSBuZWVkIGluZm8gZnJvbSB0d28gY2hpbGRyZW5kIG9mIGVhY2ggdHJhY2sgZnJhZ21lbnQgYm94XG4gICAgdHJhZnMgPSBNUDREZW11eGVyLmZpbmRCb3goZnJhZ21lbnQsIFsnbW9vZicsICd0cmFmJ10pO1xuXG4gICAgLy8gZGV0ZXJtaW5lIHRoZSBzdGFydCB0aW1lcyBmb3IgZWFjaCB0cmFja1xuICAgIGJhc2VUaW1lcyA9IFtdLmNvbmNhdC5hcHBseShbXSwgdHJhZnMubWFwKGZ1bmN0aW9uICh0cmFmKSB7XG4gICAgICByZXR1cm4gTVA0RGVtdXhlci5maW5kQm94KHRyYWYsIFsndGZoZCddKS5tYXAoZnVuY3Rpb24gKHRmaGQpIHtcbiAgICAgICAgdmFyIGlkID0gdm9pZCAwLFxuICAgICAgICAgICAgc2NhbGUgPSB2b2lkIDAsXG4gICAgICAgICAgICBiYXNlVGltZSA9IHZvaWQgMDtcblxuICAgICAgICAvLyBnZXQgdGhlIHRyYWNrIGlkIGZyb20gdGhlIHRmaGRcbiAgICAgICAgaWQgPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZoZCwgNCk7XG4gICAgICAgIC8vIGFzc3VtZSBhIDkwa0h6IGNsb2NrIGlmIG5vIHRpbWVzY2FsZSB3YXMgc3BlY2lmaWVkXG4gICAgICAgIHNjYWxlID0gaW5pdERhdGFbaWRdLnRpbWVzY2FsZSB8fCA5MGUzO1xuXG4gICAgICAgIC8vIGdldCB0aGUgYmFzZSBtZWRpYSBkZWNvZGUgdGltZSBmcm9tIHRoZSB0ZmR0XG4gICAgICAgIGJhc2VUaW1lID0gTVA0RGVtdXhlci5maW5kQm94KHRyYWYsIFsndGZkdCddKS5tYXAoZnVuY3Rpb24gKHRmZHQpIHtcbiAgICAgICAgICB2YXIgdmVyc2lvbiA9IHZvaWQgMCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gdm9pZCAwO1xuXG4gICAgICAgICAgdmVyc2lvbiA9IHRmZHQuZGF0YVt0ZmR0LnN0YXJ0XTtcbiAgICAgICAgICByZXN1bHQgPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZkdCwgNCk7XG4gICAgICAgICAgaWYgKHZlcnNpb24gPT09IDEpIHtcbiAgICAgICAgICAgIHJlc3VsdCAqPSBNYXRoLnBvdygyLCAzMik7XG5cbiAgICAgICAgICAgIHJlc3VsdCArPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZkdCwgOCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pWzBdO1xuICAgICAgICAvLyBjb252ZXJ0IGJhc2UgdGltZSB0byBzZWNvbmRzXG4gICAgICAgIHJldHVybiBiYXNlVGltZSAvIHNjYWxlO1xuICAgICAgfSk7XG4gICAgfSkpO1xuXG4gICAgLy8gcmV0dXJuIHRoZSBtaW5pbXVtXG4gICAgcmVzdWx0ID0gTWF0aC5taW4uYXBwbHkobnVsbCwgYmFzZVRpbWVzKTtcbiAgICByZXR1cm4gaXNGaW5pdGUocmVzdWx0KSA/IHJlc3VsdCA6IDA7XG4gIH07XG5cbiAgTVA0RGVtdXhlci5vZmZzZXRTdGFydERUUyA9IGZ1bmN0aW9uIG9mZnNldFN0YXJ0RFRTKGluaXREYXRhLCBmcmFnbWVudCwgdGltZU9mZnNldCkge1xuICAgIE1QNERlbXV4ZXIuZmluZEJveChmcmFnbWVudCwgWydtb29mJywgJ3RyYWYnXSkubWFwKGZ1bmN0aW9uICh0cmFmKSB7XG4gICAgICByZXR1cm4gTVA0RGVtdXhlci5maW5kQm94KHRyYWYsIFsndGZoZCddKS5tYXAoZnVuY3Rpb24gKHRmaGQpIHtcbiAgICAgICAgLy8gZ2V0IHRoZSB0cmFjayBpZCBmcm9tIHRoZSB0ZmhkXG4gICAgICAgIHZhciBpZCA9IE1QNERlbXV4ZXIucmVhZFVpbnQzMih0ZmhkLCA0KTtcbiAgICAgICAgLy8gYXNzdW1lIGEgOTBrSHogY2xvY2sgaWYgbm8gdGltZXNjYWxlIHdhcyBzcGVjaWZpZWRcbiAgICAgICAgdmFyIHRpbWVzY2FsZSA9IGluaXREYXRhW2lkXS50aW1lc2NhbGUgfHwgOTBlMztcblxuICAgICAgICAvLyBnZXQgdGhlIGJhc2UgbWVkaWEgZGVjb2RlIHRpbWUgZnJvbSB0aGUgdGZkdFxuICAgICAgICBNUDREZW11eGVyLmZpbmRCb3godHJhZiwgWyd0ZmR0J10pLm1hcChmdW5jdGlvbiAodGZkdCkge1xuICAgICAgICAgIHZhciB2ZXJzaW9uID0gdGZkdC5kYXRhW3RmZHQuc3RhcnRdO1xuICAgICAgICAgIHZhciBiYXNlTWVkaWFEZWNvZGVUaW1lID0gTVA0RGVtdXhlci5yZWFkVWludDMyKHRmZHQsIDQpO1xuICAgICAgICAgIGlmICh2ZXJzaW9uID09PSAwKSB7XG4gICAgICAgICAgICBNUDREZW11eGVyLndyaXRlVWludDMyKHRmZHQsIDQsIGJhc2VNZWRpYURlY29kZVRpbWUgLSB0aW1lT2Zmc2V0ICogdGltZXNjYWxlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZSAqPSBNYXRoLnBvdygyLCAzMik7XG4gICAgICAgICAgICBiYXNlTWVkaWFEZWNvZGVUaW1lICs9IE1QNERlbXV4ZXIucmVhZFVpbnQzMih0ZmR0LCA4KTtcbiAgICAgICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWUgLT0gdGltZU9mZnNldCAqIHRpbWVzY2FsZTtcbiAgICAgICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWUgPSBNYXRoLm1heChiYXNlTWVkaWFEZWNvZGVUaW1lLCAwKTtcbiAgICAgICAgICAgIHZhciB1cHBlciA9IE1hdGguZmxvb3IoYmFzZU1lZGlhRGVjb2RlVGltZSAvIChVSU5UMzJfTUFYICsgMSkpO1xuICAgICAgICAgICAgdmFyIGxvd2VyID0gTWF0aC5mbG9vcihiYXNlTWVkaWFEZWNvZGVUaW1lICUgKFVJTlQzMl9NQVggKyAxKSk7XG4gICAgICAgICAgICBNUDREZW11eGVyLndyaXRlVWludDMyKHRmZHQsIDQsIHVwcGVyKTtcbiAgICAgICAgICAgIE1QNERlbXV4ZXIud3JpdGVVaW50MzIodGZkdCwgOCwgbG93ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBmZWVkIGluY29taW5nIGRhdGEgdG8gdGhlIGZyb250IG9mIHRoZSBwYXJzaW5nIHBpcGVsaW5lXG5cblxuICBNUDREZW11eGVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQoZGF0YSwgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgdmFyIGluaXREYXRhID0gdGhpcy5pbml0RGF0YTtcbiAgICBpZiAoIWluaXREYXRhKSB7XG4gICAgICB0aGlzLnJlc2V0SW5pdFNlZ21lbnQoZGF0YSwgdGhpcy5hdWRpb0NvZGVjLCB0aGlzLnZpZGVvQ29kZWMsIGZhbHNlKTtcbiAgICAgIGluaXREYXRhID0gdGhpcy5pbml0RGF0YTtcbiAgICB9XG4gICAgdmFyIHN0YXJ0RFRTID0gdm9pZCAwLFxuICAgICAgICBpbml0UFRTID0gdGhpcy5pbml0UFRTO1xuICAgIGlmIChpbml0UFRTID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBfc3RhcnREVFMgPSBNUDREZW11eGVyLmdldFN0YXJ0RFRTKGluaXREYXRhLCBkYXRhKTtcbiAgICAgIHRoaXMuaW5pdFBUUyA9IGluaXRQVFMgPSBfc3RhcnREVFMgLSB0aW1lT2Zmc2V0O1xuICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXZlbnRzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uSU5JVF9QVFNfRk9VTkQsIHsgaW5pdFBUUzogaW5pdFBUUyB9KTtcbiAgICB9XG4gICAgTVA0RGVtdXhlci5vZmZzZXRTdGFydERUUyhpbml0RGF0YSwgZGF0YSwgaW5pdFBUUyk7XG4gICAgc3RhcnREVFMgPSBNUDREZW11eGVyLmdldFN0YXJ0RFRTKGluaXREYXRhLCBkYXRhKTtcbiAgICB0aGlzLnJlbXV4ZXIucmVtdXgoaW5pdERhdGEuYXVkaW8sIGluaXREYXRhLnZpZGVvLCBudWxsLCBudWxsLCBzdGFydERUUywgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0LCBkYXRhKTtcbiAgfTtcblxuICBNUDREZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHt9O1xuXG4gIHJldHVybiBNUDREZW11eGVyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE1QNERlbXV4ZXIpO1xuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2V2ZW50cy5qc1xudmFyIGV2ZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvZXJyb3JzLmpzXG52YXIgZXJyb3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9jcnlwdC9kZWNyeXB0ZXIuanMgKyAzIG1vZHVsZXNcbnZhciBjcnlwdF9kZWNyeXB0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL3BvbHlmaWxscy9udW1iZXItaXNGaW5pdGUuanNcbnZhciBudW1iZXJfaXNGaW5pdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL3V0aWxzL2xvZ2dlci5qc1xudmFyIGxvZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvdXRpbHMvZ2V0LXNlbGYtc2NvcGUuanNcbnZhciBnZXRfc2VsZl9zY29wZSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2RlbXV4L2FkdHMuanNcbi8qKlxuICogIEFEVFMgcGFyc2VyIGhlbHBlclxuICovXG5cblxuXG5cblxuXG5cbmZ1bmN0aW9uIGdldEF1ZGlvQ29uZmlnKG9ic2VydmVyLCBkYXRhLCBvZmZzZXQsIGF1ZGlvQ29kZWMpIHtcbiAgdmFyIGFkdHNPYmplY3RUeXBlID0gdm9pZCAwLFxuICAgICAgLy8gOmludFxuICBhZHRzU2FtcGxlaW5nSW5kZXggPSB2b2lkIDAsXG4gICAgICAvLyA6aW50XG4gIGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCA9IHZvaWQgMCxcbiAgICAgIC8vIDppbnRcbiAgYWR0c0NoYW5lbENvbmZpZyA9IHZvaWQgMCxcbiAgICAgIC8vIDppbnRcbiAgY29uZmlnID0gdm9pZCAwLFxuICAgICAgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLFxuICAgICAgbWFuaWZlc3RDb2RlYyA9IGF1ZGlvQ29kZWMsXG4gICAgICBhZHRzU2FtcGxlaW5nUmF0ZXMgPSBbOTYwMDAsIDg4MjAwLCA2NDAwMCwgNDgwMDAsIDQ0MTAwLCAzMjAwMCwgMjQwMDAsIDIyMDUwLCAxNjAwMCwgMTIwMDAsIDExMDI1LCA4MDAwLCA3MzUwXTtcbiAgLy8gYnl0ZSAyXG4gIGFkdHNPYmplY3RUeXBlID0gKChkYXRhW29mZnNldCArIDJdICYgMHhDMCkgPj4+IDYpICsgMTtcbiAgYWR0c1NhbXBsZWluZ0luZGV4ID0gKGRhdGFbb2Zmc2V0ICsgMl0gJiAweDNDKSA+Pj4gMjtcbiAgaWYgKGFkdHNTYW1wbGVpbmdJbmRleCA+IGFkdHNTYW1wbGVpbmdSYXRlcy5sZW5ndGggLSAxKSB7XG4gICAgb2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX1BBUlNJTkdfRVJST1IsIGZhdGFsOiB0cnVlLCByZWFzb246ICdpbnZhbGlkIEFEVFMgc2FtcGxpbmcgaW5kZXg6JyArIGFkdHNTYW1wbGVpbmdJbmRleCB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgYWR0c0NoYW5lbENvbmZpZyA9IChkYXRhW29mZnNldCArIDJdICYgMHgwMSkgPDwgMjtcbiAgLy8gYnl0ZSAzXG4gIGFkdHNDaGFuZWxDb25maWcgfD0gKGRhdGFbb2Zmc2V0ICsgM10gJiAweEMwKSA+Pj4gNjtcbiAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdtYW5pZmVzdCBjb2RlYzonICsgYXVkaW9Db2RlYyArICcsQURUUyBkYXRhOnR5cGU6JyArIGFkdHNPYmplY3RUeXBlICsgJyxzYW1wbGVpbmdJbmRleDonICsgYWR0c1NhbXBsZWluZ0luZGV4ICsgJ1snICsgYWR0c1NhbXBsZWluZ1JhdGVzW2FkdHNTYW1wbGVpbmdJbmRleF0gKyAnSHpdLGNoYW5uZWxDb25maWc6JyArIGFkdHNDaGFuZWxDb25maWcpO1xuICAvLyBmaXJlZm94OiBmcmVxIGxlc3MgdGhhbiAyNGtIeiA9IEFBQyBTQlIgKEhFLUFBQylcbiAgaWYgKC9maXJlZm94L2kudGVzdCh1c2VyQWdlbnQpKSB7XG4gICAgaWYgKGFkdHNTYW1wbGVpbmdJbmRleCA+PSA2KSB7XG4gICAgICBhZHRzT2JqZWN0VHlwZSA9IDU7XG4gICAgICBjb25maWcgPSBuZXcgQXJyYXkoNCk7XG4gICAgICAvLyBIRS1BQUMgdXNlcyBTQlIgKFNwZWN0cmFsIEJhbmQgUmVwbGljYXRpb24pICwgaGlnaCBmcmVxdWVuY2llcyBhcmUgY29uc3RydWN0ZWQgZnJvbSBsb3cgZnJlcXVlbmNpZXNcbiAgICAgIC8vIHRoZXJlIGlzIGEgZmFjdG9yIDIgYmV0d2VlbiBmcmFtZSBzYW1wbGUgcmF0ZSBhbmQgb3V0cHV0IHNhbXBsZSByYXRlXG4gICAgICAvLyBtdWx0aXBseSBmcmVxdWVuY3kgYnkgMiAoc2VlIHRhYmxlIGJlbG93LCBlcXVpdmFsZW50IHRvIHN1YnN0cmFjdCAzKVxuICAgICAgYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4ID0gYWR0c1NhbXBsZWluZ0luZGV4IC0gMztcbiAgICB9IGVsc2Uge1xuICAgICAgYWR0c09iamVjdFR5cGUgPSAyO1xuICAgICAgY29uZmlnID0gbmV3IEFycmF5KDIpO1xuICAgICAgYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4ID0gYWR0c1NhbXBsZWluZ0luZGV4O1xuICAgIH1cbiAgICAvLyBBbmRyb2lkIDogYWx3YXlzIHVzZSBBQUNcbiAgfSBlbHNlIGlmICh1c2VyQWdlbnQuaW5kZXhPZignYW5kcm9pZCcpICE9PSAtMSkge1xuICAgIGFkdHNPYmplY3RUeXBlID0gMjtcbiAgICBjb25maWcgPSBuZXcgQXJyYXkoMik7XG4gICAgYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4ID0gYWR0c1NhbXBsZWluZ0luZGV4O1xuICB9IGVsc2Uge1xuICAgIC8qICBmb3Igb3RoZXIgYnJvd3NlcnMgKENocm9tZS9WaXZhbGRpL09wZXJhIC4uLilcbiAgICAgICAgYWx3YXlzIGZvcmNlIGF1ZGlvIHR5cGUgdG8gYmUgSEUtQUFDIFNCUiwgYXMgc29tZSBicm93c2VycyBkbyBub3Qgc3VwcG9ydCBhdWRpbyBjb2RlYyBzd2l0Y2ggcHJvcGVybHkgKGxpa2UgQ2hyb21lIC4uLilcbiAgICAqL1xuICAgIGFkdHNPYmplY3RUeXBlID0gNTtcbiAgICBjb25maWcgPSBuZXcgQXJyYXkoNCk7XG4gICAgLy8gaWYgKG1hbmlmZXN0IGNvZGVjIGlzIEhFLUFBQyBvciBIRS1BQUN2MikgT1IgKG1hbmlmZXN0IGNvZGVjIG5vdCBzcGVjaWZpZWQgQU5EIGZyZXF1ZW5jeSBsZXNzIHRoYW4gMjRrSHopXG4gICAgaWYgKGF1ZGlvQ29kZWMgJiYgKGF1ZGlvQ29kZWMuaW5kZXhPZignbXA0YS40MC4yOScpICE9PSAtMSB8fCBhdWRpb0NvZGVjLmluZGV4T2YoJ21wNGEuNDAuNScpICE9PSAtMSkgfHwgIWF1ZGlvQ29kZWMgJiYgYWR0c1NhbXBsZWluZ0luZGV4ID49IDYpIHtcbiAgICAgIC8vIEhFLUFBQyB1c2VzIFNCUiAoU3BlY3RyYWwgQmFuZCBSZXBsaWNhdGlvbikgLCBoaWdoIGZyZXF1ZW5jaWVzIGFyZSBjb25zdHJ1Y3RlZCBmcm9tIGxvdyBmcmVxdWVuY2llc1xuICAgICAgLy8gdGhlcmUgaXMgYSBmYWN0b3IgMiBiZXR3ZWVuIGZyYW1lIHNhbXBsZSByYXRlIGFuZCBvdXRwdXQgc2FtcGxlIHJhdGVcbiAgICAgIC8vIG11bHRpcGx5IGZyZXF1ZW5jeSBieSAyIChzZWUgdGFibGUgYmVsb3csIGVxdWl2YWxlbnQgdG8gc3Vic3RyYWN0IDMpXG4gICAgICBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggPSBhZHRzU2FtcGxlaW5nSW5kZXggLSAzO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiAobWFuaWZlc3QgY29kZWMgaXMgQUFDKSBBTkQgKGZyZXF1ZW5jeSBsZXNzIHRoYW4gMjRrSHogQU5EIG5iIGNoYW5uZWwgaXMgMSkgT1IgKG1hbmlmZXN0IGNvZGVjIG5vdCBzcGVjaWZpZWQgYW5kIG1vbm8gYXVkaW8pXG4gICAgICAvLyBDaHJvbWUgZmFpbHMgdG8gcGxheSBiYWNrIHdpdGggbG93IGZyZXF1ZW5jeSBBQUMgTEMgbW9ubyB3aGVuIGluaXRpYWxpemVkIHdpdGggSEUtQUFDLiAgVGhpcyBpcyBub3QgYSBwcm9ibGVtIHdpdGggc3RlcmVvLlxuICAgICAgaWYgKGF1ZGlvQ29kZWMgJiYgYXVkaW9Db2RlYy5pbmRleE9mKCdtcDRhLjQwLjInKSAhPT0gLTEgJiYgKGFkdHNTYW1wbGVpbmdJbmRleCA+PSA2ICYmIGFkdHNDaGFuZWxDb25maWcgPT09IDEgfHwgL3ZpdmFsZGkvaS50ZXN0KHVzZXJBZ2VudCkpIHx8ICFhdWRpb0NvZGVjICYmIGFkdHNDaGFuZWxDb25maWcgPT09IDEpIHtcbiAgICAgICAgYWR0c09iamVjdFR5cGUgPSAyO1xuICAgICAgICBjb25maWcgPSBuZXcgQXJyYXkoMik7XG4gICAgICB9XG4gICAgICBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggPSBhZHRzU2FtcGxlaW5nSW5kZXg7XG4gICAgfVxuICB9XG4gIC8qIHJlZmVyIHRvIGh0dHA6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwP3RpdGxlPU1QRUctNF9BdWRpbyNBdWRpb19TcGVjaWZpY19Db25maWdcbiAgICAgIElTTyAxNDQ5Ni0zIChBQUMpLnBkZiAtIFRhYmxlIDEuMTMg4oCUIFN5bnRheCBvZiBBdWRpb1NwZWNpZmljQ29uZmlnKClcbiAgICBBdWRpbyBQcm9maWxlIC8gQXVkaW8gT2JqZWN0IFR5cGVcbiAgICAwOiBOdWxsXG4gICAgMTogQUFDIE1haW5cbiAgICAyOiBBQUMgTEMgKExvdyBDb21wbGV4aXR5KVxuICAgIDM6IEFBQyBTU1IgKFNjYWxhYmxlIFNhbXBsZSBSYXRlKVxuICAgIDQ6IEFBQyBMVFAgKExvbmcgVGVybSBQcmVkaWN0aW9uKVxuICAgIDU6IFNCUiAoU3BlY3RyYWwgQmFuZCBSZXBsaWNhdGlvbilcbiAgICA2OiBBQUMgU2NhbGFibGVcbiAgIHNhbXBsaW5nIGZyZXFcbiAgICAwOiA5NjAwMCBIelxuICAgIDE6IDg4MjAwIEh6XG4gICAgMjogNjQwMDAgSHpcbiAgICAzOiA0ODAwMCBIelxuICAgIDQ6IDQ0MTAwIEh6XG4gICAgNTogMzIwMDAgSHpcbiAgICA2OiAyNDAwMCBIelxuICAgIDc6IDIyMDUwIEh6XG4gICAgODogMTYwMDAgSHpcbiAgICA5OiAxMjAwMCBIelxuICAgIDEwOiAxMTAyNSBIelxuICAgIDExOiA4MDAwIEh6XG4gICAgMTI6IDczNTAgSHpcbiAgICAxMzogUmVzZXJ2ZWRcbiAgICAxNDogUmVzZXJ2ZWRcbiAgICAxNTogZnJlcXVlbmN5IGlzIHdyaXR0ZW4gZXhwbGljdGx5XG4gICAgQ2hhbm5lbCBDb25maWd1cmF0aW9uc1xuICAgIFRoZXNlIGFyZSB0aGUgY2hhbm5lbCBjb25maWd1cmF0aW9uczpcbiAgICAwOiBEZWZpbmVkIGluIEFPVCBTcGVjaWZjIENvbmZpZ1xuICAgIDE6IDEgY2hhbm5lbDogZnJvbnQtY2VudGVyXG4gICAgMjogMiBjaGFubmVsczogZnJvbnQtbGVmdCwgZnJvbnQtcmlnaHRcbiAgKi9cbiAgLy8gYXVkaW9PYmplY3RUeXBlID0gcHJvZmlsZSA9PiBwcm9maWxlLCB0aGUgTVBFRy00IEF1ZGlvIE9iamVjdCBUeXBlIG1pbnVzIDFcbiAgY29uZmlnWzBdID0gYWR0c09iamVjdFR5cGUgPDwgMztcbiAgLy8gc2FtcGxpbmdGcmVxdWVuY3lJbmRleFxuICBjb25maWdbMF0gfD0gKGFkdHNTYW1wbGVpbmdJbmRleCAmIDB4MEUpID4+IDE7XG4gIGNvbmZpZ1sxXSB8PSAoYWR0c1NhbXBsZWluZ0luZGV4ICYgMHgwMSkgPDwgNztcbiAgLy8gY2hhbm5lbENvbmZpZ3VyYXRpb25cbiAgY29uZmlnWzFdIHw9IGFkdHNDaGFuZWxDb25maWcgPDwgMztcbiAgaWYgKGFkdHNPYmplY3RUeXBlID09PSA1KSB7XG4gICAgLy8gYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4XG4gICAgY29uZmlnWzFdIHw9IChhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggJiAweDBFKSA+PiAxO1xuICAgIGNvbmZpZ1syXSA9IChhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggJiAweDAxKSA8PCA3O1xuICAgIC8vIGFkdHNPYmplY3RUeXBlIChmb3JjZSB0byAyLCBjaHJvbWUgaXMgY2hlY2tpbmcgdGhhdCBvYmplY3QgdHlwZSBpcyBsZXNzIHRoYW4gNSA/Pz9cbiAgICAvLyAgICBodHRwczovL2Nocm9taXVtLmdvb2dsZXNvdXJjZS5jb20vY2hyb21pdW0vc3JjLmdpdC8rL21hc3Rlci9tZWRpYS9mb3JtYXRzL21wNC9hYWMuY2NcbiAgICBjb25maWdbMl0gfD0gMiA8PCAyO1xuICAgIGNvbmZpZ1szXSA9IDA7XG4gIH1cbiAgcmV0dXJuIHsgY29uZmlnOiBjb25maWcsIHNhbXBsZXJhdGU6IGFkdHNTYW1wbGVpbmdSYXRlc1thZHRzU2FtcGxlaW5nSW5kZXhdLCBjaGFubmVsQ291bnQ6IGFkdHNDaGFuZWxDb25maWcsIGNvZGVjOiAnbXA0YS40MC4nICsgYWR0c09iamVjdFR5cGUsIG1hbmlmZXN0Q29kZWM6IG1hbmlmZXN0Q29kZWMgfTtcbn1cblxuZnVuY3Rpb24gaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkge1xuICByZXR1cm4gZGF0YVtvZmZzZXRdID09PSAweGZmICYmIChkYXRhW29mZnNldCArIDFdICYgMHhmNikgPT09IDB4ZjA7XG59XG5cbmZ1bmN0aW9uIGdldEhlYWRlckxlbmd0aChkYXRhLCBvZmZzZXQpIHtcbiAgcmV0dXJuIGRhdGFbb2Zmc2V0ICsgMV0gJiAweDAxID8gNyA6IDk7XG59XG5cbmZ1bmN0aW9uIGdldEZ1bGxGcmFtZUxlbmd0aChkYXRhLCBvZmZzZXQpIHtcbiAgcmV0dXJuIChkYXRhW29mZnNldCArIDNdICYgMHgwMykgPDwgMTEgfCBkYXRhW29mZnNldCArIDRdIDw8IDMgfCAoZGF0YVtvZmZzZXQgKyA1XSAmIDB4RTApID4+PiA1O1xufVxuXG5mdW5jdGlvbiBpc0hlYWRlcihkYXRhLCBvZmZzZXQpIHtcbiAgLy8gTG9vayBmb3IgQURUUyBoZWFkZXIgfCAxMTExIDExMTEgfCAxMTExIFgwMFggfCB3aGVyZSBYIGNhbiBiZSBlaXRoZXIgMCBvciAxXG4gIC8vIExheWVyIGJpdHMgKHBvc2l0aW9uIDE0IGFuZCAxNSkgaW4gaGVhZGVyIHNob3VsZCBiZSBhbHdheXMgMCBmb3IgQURUU1xuICAvLyBNb3JlIGluZm8gaHR0cHM6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwP3RpdGxlPUFEVFNcbiAgaWYgKG9mZnNldCArIDEgPCBkYXRhLmxlbmd0aCAmJiBpc0hlYWRlclBhdHRlcm4oZGF0YSwgb2Zmc2V0KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBhZHRzX3Byb2JlKGRhdGEsIG9mZnNldCkge1xuICAvLyBzYW1lIGFzIGlzSGVhZGVyIGJ1dCB3ZSBhbHNvIGNoZWNrIHRoYXQgQURUUyBmcmFtZSBmb2xsb3dzIGxhc3QgQURUUyBmcmFtZVxuICAvLyBvciBlbmQgb2YgZGF0YSBpcyByZWFjaGVkXG4gIGlmIChvZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkpIHtcbiAgICAvLyBBRFRTIGhlYWRlciBMZW5ndGhcbiAgICB2YXIgaGVhZGVyTGVuZ3RoID0gZ2V0SGVhZGVyTGVuZ3RoKGRhdGEsIG9mZnNldCk7XG4gICAgLy8gQURUUyBmcmFtZSBMZW5ndGhcbiAgICB2YXIgZnJhbWVMZW5ndGggPSBoZWFkZXJMZW5ndGg7XG4gICAgaWYgKG9mZnNldCArIDUgPCBkYXRhLmxlbmd0aCkge1xuICAgICAgZnJhbWVMZW5ndGggPSBnZXRGdWxsRnJhbWVMZW5ndGgoZGF0YSwgb2Zmc2V0KTtcbiAgICB9XG5cbiAgICB2YXIgbmV3T2Zmc2V0ID0gb2Zmc2V0ICsgZnJhbWVMZW5ndGg7XG4gICAgaWYgKG5ld09mZnNldCA9PT0gZGF0YS5sZW5ndGggfHwgbmV3T2Zmc2V0ICsgMSA8IGRhdGEubGVuZ3RoICYmIGlzSGVhZGVyUGF0dGVybihkYXRhLCBuZXdPZmZzZXQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpbml0VHJhY2tDb25maWcodHJhY2ssIG9ic2VydmVyLCBkYXRhLCBvZmZzZXQsIGF1ZGlvQ29kZWMpIHtcbiAgaWYgKCF0cmFjay5zYW1wbGVyYXRlKSB7XG4gICAgdmFyIGNvbmZpZyA9IGdldEF1ZGlvQ29uZmlnKG9ic2VydmVyLCBkYXRhLCBvZmZzZXQsIGF1ZGlvQ29kZWMpO1xuICAgIHRyYWNrLmNvbmZpZyA9IGNvbmZpZy5jb25maWc7XG4gICAgdHJhY2suc2FtcGxlcmF0ZSA9IGNvbmZpZy5zYW1wbGVyYXRlO1xuICAgIHRyYWNrLmNoYW5uZWxDb3VudCA9IGNvbmZpZy5jaGFubmVsQ291bnQ7XG4gICAgdHJhY2suY29kZWMgPSBjb25maWcuY29kZWM7XG4gICAgdHJhY2subWFuaWZlc3RDb2RlYyA9IGNvbmZpZy5tYW5pZmVzdENvZGVjO1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygncGFyc2VkIGNvZGVjOicgKyB0cmFjay5jb2RlYyArICcscmF0ZTonICsgY29uZmlnLnNhbXBsZXJhdGUgKyAnLG5iIGNoYW5uZWw6JyArIGNvbmZpZy5jaGFubmVsQ291bnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEZyYW1lRHVyYXRpb24oc2FtcGxlcmF0ZSkge1xuICByZXR1cm4gMTAyNCAqIDkwMDAwIC8gc2FtcGxlcmF0ZTtcbn1cblxuZnVuY3Rpb24gcGFyc2VGcmFtZUhlYWRlcihkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCwgZnJhbWVEdXJhdGlvbikge1xuICB2YXIgaGVhZGVyTGVuZ3RoID0gdm9pZCAwLFxuICAgICAgZnJhbWVMZW5ndGggPSB2b2lkIDAsXG4gICAgICBzdGFtcCA9IHZvaWQgMDtcbiAgdmFyIGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXG4gIC8vIFRoZSBwcm90ZWN0aW9uIHNraXAgYml0IHRlbGxzIHVzIGlmIHdlIGhhdmUgMiBieXRlcyBvZiBDUkMgZGF0YSBhdCB0aGUgZW5kIG9mIHRoZSBBRFRTIGhlYWRlclxuICBoZWFkZXJMZW5ndGggPSBnZXRIZWFkZXJMZW5ndGgoZGF0YSwgb2Zmc2V0KTtcbiAgLy8gcmV0cmlldmUgZnJhbWUgc2l6ZVxuICBmcmFtZUxlbmd0aCA9IGdldEZ1bGxGcmFtZUxlbmd0aChkYXRhLCBvZmZzZXQpO1xuICBmcmFtZUxlbmd0aCAtPSBoZWFkZXJMZW5ndGg7XG5cbiAgaWYgKGZyYW1lTGVuZ3RoID4gMCAmJiBvZmZzZXQgKyBoZWFkZXJMZW5ndGggKyBmcmFtZUxlbmd0aCA8PSBsZW5ndGgpIHtcbiAgICBzdGFtcCA9IHB0cyArIGZyYW1lSW5kZXggKiBmcmFtZUR1cmF0aW9uO1xuICAgIC8vIGxvZ2dlci5sb2coYEFBQyBmcmFtZSwgb2Zmc2V0L2xlbmd0aC90b3RhbC9wdHM6JHtvZmZzZXQraGVhZGVyTGVuZ3RofS8ke2ZyYW1lTGVuZ3RofS8ke2RhdGEuYnl0ZUxlbmd0aH0vJHsoc3RhbXAvOTApLnRvRml4ZWQoMCl9YCk7XG4gICAgcmV0dXJuIHsgaGVhZGVyTGVuZ3RoOiBoZWFkZXJMZW5ndGgsIGZyYW1lTGVuZ3RoOiBmcmFtZUxlbmd0aCwgc3RhbXA6IHN0YW1wIH07XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRGcmFtZSh0cmFjaywgZGF0YSwgb2Zmc2V0LCBwdHMsIGZyYW1lSW5kZXgpIHtcbiAgdmFyIGZyYW1lRHVyYXRpb24gPSBnZXRGcmFtZUR1cmF0aW9uKHRyYWNrLnNhbXBsZXJhdGUpO1xuICB2YXIgaGVhZGVyID0gcGFyc2VGcmFtZUhlYWRlcihkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCwgZnJhbWVEdXJhdGlvbik7XG4gIGlmIChoZWFkZXIpIHtcbiAgICB2YXIgc3RhbXAgPSBoZWFkZXIuc3RhbXA7XG4gICAgdmFyIGhlYWRlckxlbmd0aCA9IGhlYWRlci5oZWFkZXJMZW5ndGg7XG4gICAgdmFyIGZyYW1lTGVuZ3RoID0gaGVhZGVyLmZyYW1lTGVuZ3RoO1xuXG4gICAgLy8gbG9nZ2VyLmxvZyhgQUFDIGZyYW1lLCBvZmZzZXQvbGVuZ3RoL3RvdGFsL3B0czoke29mZnNldCtoZWFkZXJMZW5ndGh9LyR7ZnJhbWVMZW5ndGh9LyR7ZGF0YS5ieXRlTGVuZ3RofS8keyhzdGFtcC85MCkudG9GaXhlZCgwKX1gKTtcbiAgICB2YXIgYWFjU2FtcGxlID0ge1xuICAgICAgdW5pdDogZGF0YS5zdWJhcnJheShvZmZzZXQgKyBoZWFkZXJMZW5ndGgsIG9mZnNldCArIGhlYWRlckxlbmd0aCArIGZyYW1lTGVuZ3RoKSxcbiAgICAgIHB0czogc3RhbXAsXG4gICAgICBkdHM6IHN0YW1wXG4gICAgfTtcblxuICAgIHRyYWNrLnNhbXBsZXMucHVzaChhYWNTYW1wbGUpO1xuICAgIHRyYWNrLmxlbiArPSBmcmFtZUxlbmd0aDtcblxuICAgIHJldHVybiB7IHNhbXBsZTogYWFjU2FtcGxlLCBsZW5ndGg6IGZyYW1lTGVuZ3RoICsgaGVhZGVyTGVuZ3RoIH07XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9kZW11eC9pZDMuanNcbnZhciBpZDMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9kZW11eC9hYWNkZW11eGVyLmpzXG5cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBBQUMgZGVtdXhlclxuICovXG5cblxuXG5cbnZhciBhYWNkZW11eGVyX0FBQ0RlbXV4ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEFBQ0RlbXV4ZXIob2JzZXJ2ZXIsIHJlbXV4ZXIsIGNvbmZpZykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBQUNEZW11eGVyKTtcblxuICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnJlbXV4ZXIgPSByZW11eGVyO1xuICB9XG5cbiAgQUFDRGVtdXhlci5wcm90b3R5cGUucmVzZXRJbml0U2VnbWVudCA9IGZ1bmN0aW9uIHJlc2V0SW5pdFNlZ21lbnQoaW5pdFNlZ21lbnQsIGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMsIGR1cmF0aW9uKSB7XG4gICAgdGhpcy5fYXVkaW9UcmFjayA9IHsgY29udGFpbmVyOiAnYXVkaW8vYWR0cycsIHR5cGU6ICdhdWRpbycsIGlkOiAwLCBzZXF1ZW5jZU51bWJlcjogMCwgaXNBQUM6IHRydWUsIHNhbXBsZXM6IFtdLCBsZW46IDAsIG1hbmlmZXN0Q29kZWM6IGF1ZGlvQ29kZWMsIGR1cmF0aW9uOiBkdXJhdGlvbiwgaW5wdXRUaW1lU2NhbGU6IDkwMDAwIH07XG4gIH07XG5cbiAgQUFDRGVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiByZXNldFRpbWVTdGFtcCgpIHt9O1xuXG4gIEFBQ0RlbXV4ZXIucHJvYmUgPSBmdW5jdGlvbiBwcm9iZShkYXRhKSB7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIHRoZSBBRFRTIHN5bmMgd29yZFxuICAgIC8vIExvb2sgZm9yIEFEVFMgaGVhZGVyIHwgMTExMSAxMTExIHwgMTExMSBYMDBYIHwgd2hlcmUgWCBjYW4gYmUgZWl0aGVyIDAgb3IgMVxuICAgIC8vIExheWVyIGJpdHMgKHBvc2l0aW9uIDE0IGFuZCAxNSkgaW4gaGVhZGVyIHNob3VsZCBiZSBhbHdheXMgMCBmb3IgQURUU1xuICAgIC8vIE1vcmUgaW5mbyBodHRwczovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHA/dGl0bGU9QURUU1xuICAgIHZhciBpZDNEYXRhID0gaWQzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldElEM0RhdGEoZGF0YSwgMCkgfHwgW107XG4gICAgdmFyIG9mZnNldCA9IGlkM0RhdGEubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7IG9mZnNldCA8IGxlbmd0aDsgb2Zmc2V0KyspIHtcbiAgICAgIGlmIChhZHRzX3Byb2JlKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdBRFRTIHN5bmMgd29yZCBmb3VuZCAhJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gZmVlZCBpbmNvbWluZyBkYXRhIHRvIHRoZSBmcm9udCBvZiB0aGUgcGFyc2luZyBwaXBlbGluZVxuXG5cbiAgQUFDRGVtdXhlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKGRhdGEsIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgIHZhciB0cmFjayA9IHRoaXMuX2F1ZGlvVHJhY2s7XG4gICAgdmFyIGlkM0RhdGEgPSBpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uZ2V0SUQzRGF0YShkYXRhLCAwKSB8fCBbXTtcbiAgICB2YXIgdGltZXN0YW1wID0gaWQzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldFRpbWVTdGFtcChpZDNEYXRhKTtcbiAgICB2YXIgcHRzID0gT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKHRpbWVzdGFtcCkgPyB0aW1lc3RhbXAgKiA5MCA6IHRpbWVPZmZzZXQgKiA5MDAwMDtcbiAgICB2YXIgZnJhbWVJbmRleCA9IDA7XG4gICAgdmFyIHN0YW1wID0gcHRzO1xuICAgIHZhciBsZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICB2YXIgb2Zmc2V0ID0gaWQzRGF0YS5sZW5ndGg7XG5cbiAgICB2YXIgaWQzU2FtcGxlcyA9IFt7IHB0czogc3RhbXAsIGR0czogc3RhbXAsIGRhdGE6IGlkM0RhdGEgfV07XG5cbiAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoIC0gMSkge1xuICAgICAgaWYgKGlzSGVhZGVyKGRhdGEsIG9mZnNldCkgJiYgb2Zmc2V0ICsgNSA8IGxlbmd0aCkge1xuICAgICAgICBpbml0VHJhY2tDb25maWcodHJhY2ssIHRoaXMub2JzZXJ2ZXIsIGRhdGEsIG9mZnNldCwgdHJhY2subWFuaWZlc3RDb2RlYyk7XG4gICAgICAgIHZhciBmcmFtZSA9IGFwcGVuZEZyYW1lKHRyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCk7XG4gICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgIG9mZnNldCArPSBmcmFtZS5sZW5ndGg7XG4gICAgICAgICAgc3RhbXAgPSBmcmFtZS5zYW1wbGUucHRzO1xuICAgICAgICAgIGZyYW1lSW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1VuYWJsZSB0byBwYXJzZSBBQUMgZnJhbWUnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICBpZDNEYXRhID0gaWQzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldElEM0RhdGEoZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgaWQzU2FtcGxlcy5wdXNoKHsgcHRzOiBzdGFtcCwgZHRzOiBzdGFtcCwgZGF0YTogaWQzRGF0YSB9KTtcbiAgICAgICAgb2Zmc2V0ICs9IGlkM0RhdGEubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbm90aGluZyBmb3VuZCwga2VlcCBsb29raW5nXG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVtdXhlci5yZW11eCh0cmFjaywgeyBzYW1wbGVzOiBbXSB9LCB7IHNhbXBsZXM6IGlkM1NhbXBsZXMsIGlucHV0VGltZVNjYWxlOiA5MDAwMCB9LCB7IHNhbXBsZXM6IFtdIH0sIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gIH07XG5cbiAgQUFDRGVtdXhlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7fTtcblxuICByZXR1cm4gQUFDRGVtdXhlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgYWFjZGVtdXhlciA9IChhYWNkZW11eGVyX0FBQ0RlbXV4ZXIpO1xuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9kZW11eC9tcDRkZW11eGVyLmpzXG52YXIgbXA0ZGVtdXhlciA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2RlbXV4L21wZWdhdWRpby5qc1xuLyoqXG4gKiAgTVBFRyBwYXJzZXIgaGVscGVyXG4gKi9cblxudmFyIE1wZWdBdWRpbyA9IHtcblxuICBCaXRyYXRlc01hcDogWzMyLCA2NCwgOTYsIDEyOCwgMTYwLCAxOTIsIDIyNCwgMjU2LCAyODgsIDMyMCwgMzUyLCAzODQsIDQxNiwgNDQ4LCAzMiwgNDgsIDU2LCA2NCwgODAsIDk2LCAxMTIsIDEyOCwgMTYwLCAxOTIsIDIyNCwgMjU2LCAzMjAsIDM4NCwgMzIsIDQwLCA0OCwgNTYsIDY0LCA4MCwgOTYsIDExMiwgMTI4LCAxNjAsIDE5MiwgMjI0LCAyNTYsIDMyMCwgMzIsIDQ4LCA1NiwgNjQsIDgwLCA5NiwgMTEyLCAxMjgsIDE0NCwgMTYwLCAxNzYsIDE5MiwgMjI0LCAyNTYsIDgsIDE2LCAyNCwgMzIsIDQwLCA0OCwgNTYsIDY0LCA4MCwgOTYsIDExMiwgMTI4LCAxNDQsIDE2MF0sXG5cbiAgU2FtcGxpbmdSYXRlTWFwOiBbNDQxMDAsIDQ4MDAwLCAzMjAwMCwgMjIwNTAsIDI0MDAwLCAxNjAwMCwgMTEwMjUsIDEyMDAwLCA4MDAwXSxcblxuICBTYW1wbGVzQ29lZmZpY2llbnRzOiBbXG4gIC8vIE1QRUcgMi41XG4gIFswLCAvLyBSZXNlcnZlZFxuICA3MiwgLy8gTGF5ZXIzXG4gIDE0NCwgLy8gTGF5ZXIyXG4gIDEyIC8vIExheWVyMVxuICBdLFxuICAvLyBSZXNlcnZlZFxuICBbMCwgLy8gUmVzZXJ2ZWRcbiAgMCwgLy8gTGF5ZXIzXG4gIDAsIC8vIExheWVyMlxuICAwIC8vIExheWVyMVxuICBdLFxuICAvLyBNUEVHIDJcbiAgWzAsIC8vIFJlc2VydmVkXG4gIDcyLCAvLyBMYXllcjNcbiAgMTQ0LCAvLyBMYXllcjJcbiAgMTIgLy8gTGF5ZXIxXG4gIF0sXG4gIC8vIE1QRUcgMVxuICBbMCwgLy8gUmVzZXJ2ZWRcbiAgMTQ0LCAvLyBMYXllcjNcbiAgMTQ0LCAvLyBMYXllcjJcbiAgMTIgLy8gTGF5ZXIxXG4gIF1dLFxuXG4gIEJ5dGVzSW5TbG90OiBbMCwgLy8gUmVzZXJ2ZWRcbiAgMSwgLy8gTGF5ZXIzXG4gIDEsIC8vIExheWVyMlxuICA0IC8vIExheWVyMVxuICBdLFxuXG4gIGFwcGVuZEZyYW1lOiBmdW5jdGlvbiBhcHBlbmRGcmFtZSh0cmFjaywgZGF0YSwgb2Zmc2V0LCBwdHMsIGZyYW1lSW5kZXgpIHtcbiAgICAvLyBVc2luZyBodHRwOi8vd3d3LmRhdGF2b3lhZ2UuY29tL21wZ3NjcmlwdC9tcGVnaGRyLmh0bSBhcyBhIHJlZmVyZW5jZVxuICAgIGlmIChvZmZzZXQgKyAyNCA+IGRhdGEubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHZhciBoZWFkZXIgPSB0aGlzLnBhcnNlSGVhZGVyKGRhdGEsIG9mZnNldCk7XG4gICAgaWYgKGhlYWRlciAmJiBvZmZzZXQgKyBoZWFkZXIuZnJhbWVMZW5ndGggPD0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIHZhciBmcmFtZUR1cmF0aW9uID0gaGVhZGVyLnNhbXBsZXNQZXJGcmFtZSAqIDkwMDAwIC8gaGVhZGVyLnNhbXBsZVJhdGU7XG4gICAgICB2YXIgc3RhbXAgPSBwdHMgKyBmcmFtZUluZGV4ICogZnJhbWVEdXJhdGlvbjtcbiAgICAgIHZhciBzYW1wbGUgPSB7IHVuaXQ6IGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyBoZWFkZXIuZnJhbWVMZW5ndGgpLCBwdHM6IHN0YW1wLCBkdHM6IHN0YW1wIH07XG5cbiAgICAgIHRyYWNrLmNvbmZpZyA9IFtdO1xuICAgICAgdHJhY2suY2hhbm5lbENvdW50ID0gaGVhZGVyLmNoYW5uZWxDb3VudDtcbiAgICAgIHRyYWNrLnNhbXBsZXJhdGUgPSBoZWFkZXIuc2FtcGxlUmF0ZTtcbiAgICAgIHRyYWNrLnNhbXBsZXMucHVzaChzYW1wbGUpO1xuICAgICAgdHJhY2subGVuICs9IGhlYWRlci5mcmFtZUxlbmd0aDtcblxuICAgICAgcmV0dXJuIHsgc2FtcGxlOiBzYW1wbGUsIGxlbmd0aDogaGVhZGVyLmZyYW1lTGVuZ3RoIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSxcblxuICBwYXJzZUhlYWRlcjogZnVuY3Rpb24gcGFyc2VIZWFkZXIoZGF0YSwgb2Zmc2V0KSB7XG4gICAgdmFyIGhlYWRlckIgPSBkYXRhW29mZnNldCArIDFdID4+IDMgJiAzO1xuICAgIHZhciBoZWFkZXJDID0gZGF0YVtvZmZzZXQgKyAxXSA+PiAxICYgMztcbiAgICB2YXIgaGVhZGVyRSA9IGRhdGFbb2Zmc2V0ICsgMl0gPj4gNCAmIDE1O1xuICAgIHZhciBoZWFkZXJGID0gZGF0YVtvZmZzZXQgKyAyXSA+PiAyICYgMztcbiAgICB2YXIgaGVhZGVyRyA9IGRhdGFbb2Zmc2V0ICsgMl0gPj4gMSAmIDE7XG4gICAgaWYgKGhlYWRlckIgIT09IDEgJiYgaGVhZGVyRSAhPT0gMCAmJiBoZWFkZXJFICE9PSAxNSAmJiBoZWFkZXJGICE9PSAzKSB7XG4gICAgICB2YXIgY29sdW1uSW5CaXRyYXRlcyA9IGhlYWRlckIgPT09IDMgPyAzIC0gaGVhZGVyQyA6IGhlYWRlckMgPT09IDMgPyAzIDogNDtcbiAgICAgIHZhciBiaXRSYXRlID0gTXBlZ0F1ZGlvLkJpdHJhdGVzTWFwW2NvbHVtbkluQml0cmF0ZXMgKiAxNCArIGhlYWRlckUgLSAxXSAqIDEwMDA7XG4gICAgICB2YXIgY29sdW1uSW5TYW1wbGVSYXRlcyA9IGhlYWRlckIgPT09IDMgPyAwIDogaGVhZGVyQiA9PT0gMiA/IDEgOiAyO1xuICAgICAgdmFyIHNhbXBsZVJhdGUgPSBNcGVnQXVkaW8uU2FtcGxpbmdSYXRlTWFwW2NvbHVtbkluU2FtcGxlUmF0ZXMgKiAzICsgaGVhZGVyRl07XG4gICAgICB2YXIgY2hhbm5lbENvdW50ID0gZGF0YVtvZmZzZXQgKyAzXSA+PiA2ID09PSAzID8gMSA6IDI7IC8vIElmIGJpdHMgb2YgY2hhbm5lbCBtb2RlIGFyZSBgMTFgIHRoZW4gaXQgaXMgYSBzaW5nbGUgY2hhbm5lbCAoTW9ubylcbiAgICAgIHZhciBzYW1wbGVDb2VmZmljaWVudCA9IE1wZWdBdWRpby5TYW1wbGVzQ29lZmZpY2llbnRzW2hlYWRlckJdW2hlYWRlckNdO1xuICAgICAgdmFyIGJ5dGVzSW5TbG90ID0gTXBlZ0F1ZGlvLkJ5dGVzSW5TbG90W2hlYWRlckNdO1xuICAgICAgdmFyIHNhbXBsZXNQZXJGcmFtZSA9IHNhbXBsZUNvZWZmaWNpZW50ICogOCAqIGJ5dGVzSW5TbG90O1xuICAgICAgdmFyIGZyYW1lTGVuZ3RoID0gcGFyc2VJbnQoc2FtcGxlQ29lZmZpY2llbnQgKiBiaXRSYXRlIC8gc2FtcGxlUmF0ZSArIGhlYWRlckcsIDEwKSAqIGJ5dGVzSW5TbG90O1xuXG4gICAgICByZXR1cm4geyBzYW1wbGVSYXRlOiBzYW1wbGVSYXRlLCBjaGFubmVsQ291bnQ6IGNoYW5uZWxDb3VudCwgZnJhbWVMZW5ndGg6IGZyYW1lTGVuZ3RoLCBzYW1wbGVzUGVyRnJhbWU6IHNhbXBsZXNQZXJGcmFtZSB9O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sXG5cbiAgaXNIZWFkZXJQYXR0ZXJuOiBmdW5jdGlvbiBpc0hlYWRlclBhdHRlcm4oZGF0YSwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuIGRhdGFbb2Zmc2V0XSA9PT0gMHhmZiAmJiAoZGF0YVtvZmZzZXQgKyAxXSAmIDB4ZTApID09PSAweGUwICYmIChkYXRhW29mZnNldCArIDFdICYgMHgwNikgIT09IDB4MDA7XG4gIH0sXG5cbiAgaXNIZWFkZXI6IGZ1bmN0aW9uIGlzSGVhZGVyKGRhdGEsIG9mZnNldCkge1xuICAgIC8vIExvb2sgZm9yIE1QRUcgaGVhZGVyIHwgMTExMSAxMTExIHwgMTExWCBYWVpYIHwgd2hlcmUgWCBjYW4gYmUgZWl0aGVyIDAgb3IgMSBhbmQgWSBvciBaIHNob3VsZCBiZSAxXG4gICAgLy8gTGF5ZXIgYml0cyAocG9zaXRpb24gMTQgYW5kIDE1KSBpbiBoZWFkZXIgc2hvdWxkIGJlIGFsd2F5cyBkaWZmZXJlbnQgZnJvbSAwIChMYXllciBJIG9yIExheWVyIElJIG9yIExheWVyIElJSSlcbiAgICAvLyBNb3JlIGluZm8gaHR0cDovL3d3dy5tcDMtdGVjaC5vcmcvcHJvZ3JhbW1lci9mcmFtZV9oZWFkZXIuaHRtbFxuICAgIGlmIChvZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgdGhpcy5pc0hlYWRlclBhdHRlcm4oZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIHByb2JlOiBmdW5jdGlvbiBwcm9iZShkYXRhLCBvZmZzZXQpIHtcbiAgICAvLyBzYW1lIGFzIGlzSGVhZGVyIGJ1dCB3ZSBhbHNvIGNoZWNrIHRoYXQgTVBFRyBmcmFtZSBmb2xsb3dzIGxhc3QgTVBFRyBmcmFtZVxuICAgIC8vIG9yIGVuZCBvZiBkYXRhIGlzIHJlYWNoZWRcbiAgICBpZiAob2Zmc2V0ICsgMSA8IGRhdGEubGVuZ3RoICYmIHRoaXMuaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgIC8vIE1QRUcgaGVhZGVyIExlbmd0aFxuICAgICAgdmFyIGhlYWRlckxlbmd0aCA9IDQ7XG4gICAgICAvLyBNUEVHIGZyYW1lIExlbmd0aFxuICAgICAgdmFyIGhlYWRlciA9IHRoaXMucGFyc2VIZWFkZXIoZGF0YSwgb2Zmc2V0KTtcbiAgICAgIHZhciBmcmFtZUxlbmd0aCA9IGhlYWRlckxlbmd0aDtcbiAgICAgIGlmIChoZWFkZXIgJiYgaGVhZGVyLmZyYW1lTGVuZ3RoKSB7XG4gICAgICAgIGZyYW1lTGVuZ3RoID0gaGVhZGVyLmZyYW1lTGVuZ3RoO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3T2Zmc2V0ID0gb2Zmc2V0ICsgZnJhbWVMZW5ndGg7XG4gICAgICBpZiAobmV3T2Zmc2V0ID09PSBkYXRhLmxlbmd0aCB8fCBuZXdPZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgdGhpcy5pc0hlYWRlclBhdHRlcm4oZGF0YSwgbmV3T2Zmc2V0KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBtcGVnYXVkaW8gPSAoTXBlZ0F1ZGlvKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2RlbXV4L2V4cC1nb2xvbWIuanNcbmZ1bmN0aW9uIGV4cF9nb2xvbWJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBQYXJzZXIgZm9yIGV4cG9uZW50aWFsIEdvbG9tYiBjb2RlcywgYSB2YXJpYWJsZS1iaXR3aWR0aCBudW1iZXIgZW5jb2Rpbmcgc2NoZW1lIHVzZWQgYnkgaDI2NC5cbiovXG5cblxuXG52YXIgZXhwX2dvbG9tYl9FeHBHb2xvbWIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEV4cEdvbG9tYihkYXRhKSB7XG4gICAgZXhwX2dvbG9tYl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgRXhwR29sb21iKTtcblxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgLy8gdGhlIG51bWJlciBvZiBieXRlcyBsZWZ0IHRvIGV4YW1pbmUgaW4gdGhpcy5kYXRhXG4gICAgdGhpcy5ieXRlc0F2YWlsYWJsZSA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAvLyB0aGUgY3VycmVudCB3b3JkIGJlaW5nIGV4YW1pbmVkXG4gICAgdGhpcy53b3JkID0gMDsgLy8gOnVpbnRcbiAgICAvLyB0aGUgbnVtYmVyIG9mIGJpdHMgbGVmdCB0byBleGFtaW5lIGluIHRoZSBjdXJyZW50IHdvcmRcbiAgICB0aGlzLmJpdHNBdmFpbGFibGUgPSAwOyAvLyA6dWludFxuICB9XG5cbiAgLy8gKCk6dm9pZFxuXG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5sb2FkV29yZCA9IGZ1bmN0aW9uIGxvYWRXb3JkKCkge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhLFxuICAgICAgICBieXRlc0F2YWlsYWJsZSA9IHRoaXMuYnl0ZXNBdmFpbGFibGUsXG4gICAgICAgIHBvc2l0aW9uID0gZGF0YS5ieXRlTGVuZ3RoIC0gYnl0ZXNBdmFpbGFibGUsXG4gICAgICAgIHdvcmtpbmdCeXRlcyA9IG5ldyBVaW50OEFycmF5KDQpLFxuICAgICAgICBhdmFpbGFibGVCeXRlcyA9IE1hdGgubWluKDQsIGJ5dGVzQXZhaWxhYmxlKTtcbiAgICBpZiAoYXZhaWxhYmxlQnl0ZXMgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbm8gYnl0ZXMgYXZhaWxhYmxlJyk7XG4gICAgfVxuXG4gICAgd29ya2luZ0J5dGVzLnNldChkYXRhLnN1YmFycmF5KHBvc2l0aW9uLCBwb3NpdGlvbiArIGF2YWlsYWJsZUJ5dGVzKSk7XG4gICAgdGhpcy53b3JkID0gbmV3IERhdGFWaWV3KHdvcmtpbmdCeXRlcy5idWZmZXIpLmdldFVpbnQzMigwKTtcbiAgICAvLyB0cmFjayB0aGUgYW1vdW50IG9mIHRoaXMuZGF0YSB0aGF0IGhhcyBiZWVuIHByb2Nlc3NlZFxuICAgIHRoaXMuYml0c0F2YWlsYWJsZSA9IGF2YWlsYWJsZUJ5dGVzICogODtcbiAgICB0aGlzLmJ5dGVzQXZhaWxhYmxlIC09IGF2YWlsYWJsZUJ5dGVzO1xuICB9O1xuXG4gIC8vIChjb3VudDppbnQpOnZvaWRcblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUuc2tpcEJpdHMgPSBmdW5jdGlvbiBza2lwQml0cyhjb3VudCkge1xuICAgIHZhciBza2lwQnl0ZXMgPSB2b2lkIDA7IC8vIDppbnRcbiAgICBpZiAodGhpcy5iaXRzQXZhaWxhYmxlID4gY291bnQpIHtcbiAgICAgIHRoaXMud29yZCA8PD0gY291bnQ7XG4gICAgICB0aGlzLmJpdHNBdmFpbGFibGUgLT0gY291bnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50IC09IHRoaXMuYml0c0F2YWlsYWJsZTtcbiAgICAgIHNraXBCeXRlcyA9IGNvdW50ID4+IDM7XG4gICAgICBjb3VudCAtPSBza2lwQnl0ZXMgPj4gMztcbiAgICAgIHRoaXMuYnl0ZXNBdmFpbGFibGUgLT0gc2tpcEJ5dGVzO1xuICAgICAgdGhpcy5sb2FkV29yZCgpO1xuICAgICAgdGhpcy53b3JkIDw8PSBjb3VudDtcbiAgICAgIHRoaXMuYml0c0F2YWlsYWJsZSAtPSBjb3VudDtcbiAgICB9XG4gIH07XG5cbiAgLy8gKHNpemU6aW50KTp1aW50XG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRCaXRzID0gZnVuY3Rpb24gcmVhZEJpdHMoc2l6ZSkge1xuICAgIHZhciBiaXRzID0gTWF0aC5taW4odGhpcy5iaXRzQXZhaWxhYmxlLCBzaXplKSxcbiAgICAgICAgLy8gOnVpbnRcbiAgICB2YWx1ID0gdGhpcy53b3JkID4+PiAzMiAtIGJpdHM7IC8vIDp1aW50XG4gICAgaWYgKHNpemUgPiAzMikge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ0Nhbm5vdCByZWFkIG1vcmUgdGhhbiAzMiBiaXRzIGF0IGEgdGltZScpO1xuICAgIH1cblxuICAgIHRoaXMuYml0c0F2YWlsYWJsZSAtPSBiaXRzO1xuICAgIGlmICh0aGlzLmJpdHNBdmFpbGFibGUgPiAwKSB7XG4gICAgICB0aGlzLndvcmQgPDw9IGJpdHM7XG4gICAgfSBlbHNlIGlmICh0aGlzLmJ5dGVzQXZhaWxhYmxlID4gMCkge1xuICAgICAgdGhpcy5sb2FkV29yZCgpO1xuICAgIH1cblxuICAgIGJpdHMgPSBzaXplIC0gYml0cztcbiAgICBpZiAoYml0cyA+IDAgJiYgdGhpcy5iaXRzQXZhaWxhYmxlKSB7XG4gICAgICByZXR1cm4gdmFsdSA8PCBiaXRzIHwgdGhpcy5yZWFkQml0cyhiaXRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbHU7XG4gICAgfVxuICB9O1xuXG4gIC8vICgpOnVpbnRcblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUuc2tpcExaID0gZnVuY3Rpb24gc2tpcExaKCkge1xuICAgIHZhciBsZWFkaW5nWmVyb0NvdW50ID0gdm9pZCAwOyAvLyA6dWludFxuICAgIGZvciAobGVhZGluZ1plcm9Db3VudCA9IDA7IGxlYWRpbmdaZXJvQ291bnQgPCB0aGlzLmJpdHNBdmFpbGFibGU7ICsrbGVhZGluZ1plcm9Db3VudCkge1xuICAgICAgaWYgKCh0aGlzLndvcmQgJiAweDgwMDAwMDAwID4+PiBsZWFkaW5nWmVyb0NvdW50KSAhPT0gMCkge1xuICAgICAgICAvLyB0aGUgZmlyc3QgYml0IG9mIHdvcmtpbmcgd29yZCBpcyAxXG4gICAgICAgIHRoaXMud29yZCA8PD0gbGVhZGluZ1plcm9Db3VudDtcbiAgICAgICAgdGhpcy5iaXRzQXZhaWxhYmxlIC09IGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgICAgIHJldHVybiBsZWFkaW5nWmVyb0NvdW50O1xuICAgICAgfVxuICAgIH1cbiAgICAvLyB3ZSBleGhhdXN0ZWQgd29yZCBhbmQgc3RpbGwgaGF2ZSBub3QgZm91bmQgYSAxXG4gICAgdGhpcy5sb2FkV29yZCgpO1xuICAgIHJldHVybiBsZWFkaW5nWmVyb0NvdW50ICsgdGhpcy5za2lwTFooKTtcbiAgfTtcblxuICAvLyAoKTp2b2lkXG5cblxuICBFeHBHb2xvbWIucHJvdG90eXBlLnNraXBVRUcgPSBmdW5jdGlvbiBza2lwVUVHKCkge1xuICAgIHRoaXMuc2tpcEJpdHMoMSArIHRoaXMuc2tpcExaKCkpO1xuICB9O1xuXG4gIC8vICgpOnZvaWRcblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUuc2tpcEVHID0gZnVuY3Rpb24gc2tpcEVHKCkge1xuICAgIHRoaXMuc2tpcEJpdHMoMSArIHRoaXMuc2tpcExaKCkpO1xuICB9O1xuXG4gIC8vICgpOnVpbnRcblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZFVFRyA9IGZ1bmN0aW9uIHJlYWRVRUcoKSB7XG4gICAgdmFyIGNseiA9IHRoaXMuc2tpcExaKCk7IC8vIDp1aW50XG4gICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoY2x6ICsgMSkgLSAxO1xuICB9O1xuXG4gIC8vICgpOmludFxuXG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5yZWFkRUcgPSBmdW5jdGlvbiByZWFkRUcoKSB7XG4gICAgdmFyIHZhbHUgPSB0aGlzLnJlYWRVRUcoKTsgLy8gOmludFxuICAgIGlmICgweDAxICYgdmFsdSkge1xuICAgICAgLy8gdGhlIG51bWJlciBpcyBvZGQgaWYgdGhlIGxvdyBvcmRlciBiaXQgaXMgc2V0XG4gICAgICByZXR1cm4gMSArIHZhbHUgPj4+IDE7IC8vIGFkZCAxIHRvIG1ha2UgaXQgZXZlbiwgYW5kIGRpdmlkZSBieSAyXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAtMSAqICh2YWx1ID4+PiAxKTsgLy8gZGl2aWRlIGJ5IHR3byB0aGVuIG1ha2UgaXQgbmVnYXRpdmVcbiAgICB9XG4gIH07XG5cbiAgLy8gU29tZSBjb252ZW5pZW5jZSBmdW5jdGlvbnNcbiAgLy8gOkJvb2xlYW5cblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZEJvb2xlYW4gPSBmdW5jdGlvbiByZWFkQm9vbGVhbigpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkQml0cygxKSA9PT0gMTtcbiAgfTtcblxuICAvLyAoKTppbnRcblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZFVCeXRlID0gZnVuY3Rpb24gcmVhZFVCeXRlKCkge1xuICAgIHJldHVybiB0aGlzLnJlYWRCaXRzKDgpO1xuICB9O1xuXG4gIC8vICgpOmludFxuXG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5yZWFkVVNob3J0ID0gZnVuY3Rpb24gcmVhZFVTaG9ydCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkQml0cygxNik7XG4gIH07XG4gIC8vICgpOmludFxuXG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5yZWFkVUludCA9IGZ1bmN0aW9uIHJlYWRVSW50KCkge1xuICAgIHJldHVybiB0aGlzLnJlYWRCaXRzKDMyKTtcbiAgfTtcblxuICAvKipcbiAgICogQWR2YW5jZSB0aGUgRXhwR29sb21iIGRlY29kZXIgcGFzdCBhIHNjYWxpbmcgbGlzdC4gVGhlIHNjYWxpbmdcbiAgICogbGlzdCBpcyBvcHRpb25hbGx5IHRyYW5zbWl0dGVkIGFzIHBhcnQgb2YgYSBzZXF1ZW5jZSBwYXJhbWV0ZXJcbiAgICogc2V0IGFuZCBpcyBub3QgcmVsZXZhbnQgdG8gdHJhbnNtdXhpbmcuXG4gICAqIEBwYXJhbSBjb3VudCB7bnVtYmVyfSB0aGUgbnVtYmVyIG9mIGVudHJpZXMgaW4gdGhpcyBzY2FsaW5nIGxpc3RcbiAgICogQHNlZSBSZWNvbW1lbmRhdGlvbiBJVFUtVCBILjI2NCwgU2VjdGlvbiA3LjMuMi4xLjEuMVxuICAgKi9cblxuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUuc2tpcFNjYWxpbmdMaXN0ID0gZnVuY3Rpb24gc2tpcFNjYWxpbmdMaXN0KGNvdW50KSB7XG4gICAgdmFyIGxhc3RTY2FsZSA9IDgsXG4gICAgICAgIG5leHRTY2FsZSA9IDgsXG4gICAgICAgIGogPSB2b2lkIDAsXG4gICAgICAgIGRlbHRhU2NhbGUgPSB2b2lkIDA7XG4gICAgZm9yIChqID0gMDsgaiA8IGNvdW50OyBqKyspIHtcbiAgICAgIGlmIChuZXh0U2NhbGUgIT09IDApIHtcbiAgICAgICAgZGVsdGFTY2FsZSA9IHRoaXMucmVhZEVHKCk7XG4gICAgICAgIG5leHRTY2FsZSA9IChsYXN0U2NhbGUgKyBkZWx0YVNjYWxlICsgMjU2KSAlIDI1NjtcbiAgICAgIH1cbiAgICAgIGxhc3RTY2FsZSA9IG5leHRTY2FsZSA9PT0gMCA/IGxhc3RTY2FsZSA6IG5leHRTY2FsZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlYWQgYSBzZXF1ZW5jZSBwYXJhbWV0ZXIgc2V0IGFuZCByZXR1cm4gc29tZSBpbnRlcmVzdGluZyB2aWRlb1xuICAgKiBwcm9wZXJ0aWVzLiBBIHNlcXVlbmNlIHBhcmFtZXRlciBzZXQgaXMgdGhlIEgyNjQgbWV0YWRhdGEgdGhhdFxuICAgKiBkZXNjcmliZXMgdGhlIHByb3BlcnRpZXMgb2YgdXBjb21pbmcgdmlkZW8gZnJhbWVzLlxuICAgKiBAcGFyYW0gZGF0YSB7VWludDhBcnJheX0gdGhlIGJ5dGVzIG9mIGEgc2VxdWVuY2UgcGFyYW1ldGVyIHNldFxuICAgKiBAcmV0dXJuIHtvYmplY3R9IGFuIG9iamVjdCB3aXRoIGNvbmZpZ3VyYXRpb24gcGFyc2VkIGZyb20gdGhlXG4gICAqIHNlcXVlbmNlIHBhcmFtZXRlciBzZXQsIGluY2x1ZGluZyB0aGUgZGltZW5zaW9ucyBvZiB0aGVcbiAgICogYXNzb2NpYXRlZCB2aWRlbyBmcmFtZXMuXG4gICAqL1xuXG5cbiAgRXhwR29sb21iLnByb3RvdHlwZS5yZWFkU1BTID0gZnVuY3Rpb24gcmVhZFNQUygpIHtcbiAgICB2YXIgZnJhbWVDcm9wTGVmdE9mZnNldCA9IDAsXG4gICAgICAgIGZyYW1lQ3JvcFJpZ2h0T2Zmc2V0ID0gMCxcbiAgICAgICAgZnJhbWVDcm9wVG9wT2Zmc2V0ID0gMCxcbiAgICAgICAgZnJhbWVDcm9wQm90dG9tT2Zmc2V0ID0gMCxcbiAgICAgICAgcHJvZmlsZUlkYyA9IHZvaWQgMCxcbiAgICAgICAgcHJvZmlsZUNvbXBhdCA9IHZvaWQgMCxcbiAgICAgICAgbGV2ZWxJZGMgPSB2b2lkIDAsXG4gICAgICAgIG51bVJlZkZyYW1lc0luUGljT3JkZXJDbnRDeWNsZSA9IHZvaWQgMCxcbiAgICAgICAgcGljV2lkdGhJbk1ic01pbnVzMSA9IHZvaWQgMCxcbiAgICAgICAgcGljSGVpZ2h0SW5NYXBVbml0c01pbnVzMSA9IHZvaWQgMCxcbiAgICAgICAgZnJhbWVNYnNPbmx5RmxhZyA9IHZvaWQgMCxcbiAgICAgICAgc2NhbGluZ0xpc3RDb3VudCA9IHZvaWQgMCxcbiAgICAgICAgaSA9IHZvaWQgMCxcbiAgICAgICAgcmVhZFVCeXRlID0gdGhpcy5yZWFkVUJ5dGUuYmluZCh0aGlzKSxcbiAgICAgICAgcmVhZEJpdHMgPSB0aGlzLnJlYWRCaXRzLmJpbmQodGhpcyksXG4gICAgICAgIHJlYWRVRUcgPSB0aGlzLnJlYWRVRUcuYmluZCh0aGlzKSxcbiAgICAgICAgcmVhZEJvb2xlYW4gPSB0aGlzLnJlYWRCb29sZWFuLmJpbmQodGhpcyksXG4gICAgICAgIHNraXBCaXRzID0gdGhpcy5za2lwQml0cy5iaW5kKHRoaXMpLFxuICAgICAgICBza2lwRUcgPSB0aGlzLnNraXBFRy5iaW5kKHRoaXMpLFxuICAgICAgICBza2lwVUVHID0gdGhpcy5za2lwVUVHLmJpbmQodGhpcyksXG4gICAgICAgIHNraXBTY2FsaW5nTGlzdCA9IHRoaXMuc2tpcFNjYWxpbmdMaXN0LmJpbmQodGhpcyk7XG5cbiAgICByZWFkVUJ5dGUoKTtcbiAgICBwcm9maWxlSWRjID0gcmVhZFVCeXRlKCk7IC8vIHByb2ZpbGVfaWRjXG4gICAgcHJvZmlsZUNvbXBhdCA9IHJlYWRCaXRzKDUpOyAvLyBjb25zdHJhaW50X3NldFswLTRdX2ZsYWcsIHUoNSlcbiAgICBza2lwQml0cygzKTsgLy8gcmVzZXJ2ZWRfemVyb18zYml0cyB1KDMpLFxuICAgIGxldmVsSWRjID0gcmVhZFVCeXRlKCk7IC8vIGxldmVsX2lkYyB1KDgpXG4gICAgc2tpcFVFRygpOyAvLyBzZXFfcGFyYW1ldGVyX3NldF9pZFxuICAgIC8vIHNvbWUgcHJvZmlsZXMgaGF2ZSBtb3JlIG9wdGlvbmFsIGRhdGEgd2UgZG9uJ3QgbmVlZFxuICAgIGlmIChwcm9maWxlSWRjID09PSAxMDAgfHwgcHJvZmlsZUlkYyA9PT0gMTEwIHx8IHByb2ZpbGVJZGMgPT09IDEyMiB8fCBwcm9maWxlSWRjID09PSAyNDQgfHwgcHJvZmlsZUlkYyA9PT0gNDQgfHwgcHJvZmlsZUlkYyA9PT0gODMgfHwgcHJvZmlsZUlkYyA9PT0gODYgfHwgcHJvZmlsZUlkYyA9PT0gMTE4IHx8IHByb2ZpbGVJZGMgPT09IDEyOCkge1xuICAgICAgdmFyIGNocm9tYUZvcm1hdElkYyA9IHJlYWRVRUcoKTtcbiAgICAgIGlmIChjaHJvbWFGb3JtYXRJZGMgPT09IDMpIHtcbiAgICAgICAgc2tpcEJpdHMoMSk7XG4gICAgICB9IC8vIHNlcGFyYXRlX2NvbG91cl9wbGFuZV9mbGFnXG5cbiAgICAgIHNraXBVRUcoKTsgLy8gYml0X2RlcHRoX2x1bWFfbWludXM4XG4gICAgICBza2lwVUVHKCk7IC8vIGJpdF9kZXB0aF9jaHJvbWFfbWludXM4XG4gICAgICBza2lwQml0cygxKTsgLy8gcXBwcmltZV95X3plcm9fdHJhbnNmb3JtX2J5cGFzc19mbGFnXG4gICAgICBpZiAocmVhZEJvb2xlYW4oKSkge1xuICAgICAgICAvLyBzZXFfc2NhbGluZ19tYXRyaXhfcHJlc2VudF9mbGFnXG4gICAgICAgIHNjYWxpbmdMaXN0Q291bnQgPSBjaHJvbWFGb3JtYXRJZGMgIT09IDMgPyA4IDogMTI7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzY2FsaW5nTGlzdENvdW50OyBpKyspIHtcbiAgICAgICAgICBpZiAocmVhZEJvb2xlYW4oKSkge1xuICAgICAgICAgICAgLy8gc2VxX3NjYWxpbmdfbGlzdF9wcmVzZW50X2ZsYWdbIGkgXVxuICAgICAgICAgICAgaWYgKGkgPCA2KSB7XG4gICAgICAgICAgICAgIHNraXBTY2FsaW5nTGlzdCgxNik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBza2lwU2NhbGluZ0xpc3QoNjQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBza2lwVUVHKCk7IC8vIGxvZzJfbWF4X2ZyYW1lX251bV9taW51czRcbiAgICB2YXIgcGljT3JkZXJDbnRUeXBlID0gcmVhZFVFRygpO1xuICAgIGlmIChwaWNPcmRlckNudFR5cGUgPT09IDApIHtcbiAgICAgIHJlYWRVRUcoKTsgLy8gbG9nMl9tYXhfcGljX29yZGVyX2NudF9sc2JfbWludXM0XG4gICAgfSBlbHNlIGlmIChwaWNPcmRlckNudFR5cGUgPT09IDEpIHtcbiAgICAgIHNraXBCaXRzKDEpOyAvLyBkZWx0YV9waWNfb3JkZXJfYWx3YXlzX3plcm9fZmxhZ1xuICAgICAgc2tpcEVHKCk7IC8vIG9mZnNldF9mb3Jfbm9uX3JlZl9waWNcbiAgICAgIHNraXBFRygpOyAvLyBvZmZzZXRfZm9yX3RvcF90b19ib3R0b21fZmllbGRcbiAgICAgIG51bVJlZkZyYW1lc0luUGljT3JkZXJDbnRDeWNsZSA9IHJlYWRVRUcoKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBudW1SZWZGcmFtZXNJblBpY09yZGVyQ250Q3ljbGU7IGkrKykge1xuICAgICAgICBza2lwRUcoKTtcbiAgICAgIH0gLy8gb2Zmc2V0X2Zvcl9yZWZfZnJhbWVbIGkgXVxuICAgIH1cbiAgICBza2lwVUVHKCk7IC8vIG1heF9udW1fcmVmX2ZyYW1lc1xuICAgIHNraXBCaXRzKDEpOyAvLyBnYXBzX2luX2ZyYW1lX251bV92YWx1ZV9hbGxvd2VkX2ZsYWdcbiAgICBwaWNXaWR0aEluTWJzTWludXMxID0gcmVhZFVFRygpO1xuICAgIHBpY0hlaWdodEluTWFwVW5pdHNNaW51czEgPSByZWFkVUVHKCk7XG4gICAgZnJhbWVNYnNPbmx5RmxhZyA9IHJlYWRCaXRzKDEpO1xuICAgIGlmIChmcmFtZU1ic09ubHlGbGFnID09PSAwKSB7XG4gICAgICBza2lwQml0cygxKTtcbiAgICB9IC8vIG1iX2FkYXB0aXZlX2ZyYW1lX2ZpZWxkX2ZsYWdcblxuICAgIHNraXBCaXRzKDEpOyAvLyBkaXJlY3RfOHg4X2luZmVyZW5jZV9mbGFnXG4gICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgIC8vIGZyYW1lX2Nyb3BwaW5nX2ZsYWdcbiAgICAgIGZyYW1lQ3JvcExlZnRPZmZzZXQgPSByZWFkVUVHKCk7XG4gICAgICBmcmFtZUNyb3BSaWdodE9mZnNldCA9IHJlYWRVRUcoKTtcbiAgICAgIGZyYW1lQ3JvcFRvcE9mZnNldCA9IHJlYWRVRUcoKTtcbiAgICAgIGZyYW1lQ3JvcEJvdHRvbU9mZnNldCA9IHJlYWRVRUcoKTtcbiAgICB9XG4gICAgdmFyIHBpeGVsUmF0aW8gPSBbMSwgMV07XG4gICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgIC8vIHZ1aV9wYXJhbWV0ZXJzX3ByZXNlbnRfZmxhZ1xuICAgICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgLy8gYXNwZWN0X3JhdGlvX2luZm9fcHJlc2VudF9mbGFnXG4gICAgICAgIHZhciBhc3BlY3RSYXRpb0lkYyA9IHJlYWRVQnl0ZSgpO1xuICAgICAgICBzd2l0Y2ggKGFzcGVjdFJhdGlvSWRjKSB7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxLCAxXTticmVhaztcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzEyLCAxMV07YnJlYWs7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxMCwgMTFdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMTYsIDExXTticmVhaztcbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzQwLCAzM107YnJlYWs7XG4gICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsyNCwgMTFdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMjAsIDExXTticmVhaztcbiAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzMyLCAxMV07YnJlYWs7XG4gICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFs4MCwgMzNdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzE4LCAxMV07YnJlYWs7XG4gICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMTUsIDExXTticmVhaztcbiAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFs2NCwgMzNdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzE2MCwgOTldO2JyZWFrO1xuICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzQsIDNdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzMsIDJdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gWzIsIDFdO2JyZWFrO1xuICAgICAgICAgIGNhc2UgMjU1OlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBwaXhlbFJhdGlvID0gW3JlYWRVQnl0ZSgpIDw8IDggfCByZWFkVUJ5dGUoKSwgcmVhZFVCeXRlKCkgPDwgOCB8IHJlYWRVQnl0ZSgpXTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiBNYXRoLmNlaWwoKHBpY1dpZHRoSW5NYnNNaW51czEgKyAxKSAqIDE2IC0gZnJhbWVDcm9wTGVmdE9mZnNldCAqIDIgLSBmcmFtZUNyb3BSaWdodE9mZnNldCAqIDIpLFxuICAgICAgaGVpZ2h0OiAoMiAtIGZyYW1lTWJzT25seUZsYWcpICogKHBpY0hlaWdodEluTWFwVW5pdHNNaW51czEgKyAxKSAqIDE2IC0gKGZyYW1lTWJzT25seUZsYWcgPyAyIDogNCkgKiAoZnJhbWVDcm9wVG9wT2Zmc2V0ICsgZnJhbWVDcm9wQm90dG9tT2Zmc2V0KSxcbiAgICAgIHBpeGVsUmF0aW86IHBpeGVsUmF0aW9cbiAgICB9O1xuICB9O1xuXG4gIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZFNsaWNlVHlwZSA9IGZ1bmN0aW9uIHJlYWRTbGljZVR5cGUoKSB7XG4gICAgLy8gc2tpcCBOQUx1IHR5cGVcbiAgICB0aGlzLnJlYWRVQnl0ZSgpO1xuICAgIC8vIGRpc2NhcmQgZmlyc3RfbWJfaW5fc2xpY2VcbiAgICB0aGlzLnJlYWRVRUcoKTtcbiAgICAvLyByZXR1cm4gc2xpY2VfdHlwZVxuICAgIHJldHVybiB0aGlzLnJlYWRVRUcoKTtcbiAgfTtcblxuICByZXR1cm4gRXhwR29sb21iO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBleHBfZ29sb21iID0gKGV4cF9nb2xvbWJfRXhwR29sb21iKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2RlbXV4L3NhbXBsZS1hZXMuanNcbmZ1bmN0aW9uIHNhbXBsZV9hZXNfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBTQU1QTEUtQUVTIGRlY3J5cHRlclxuKi9cblxuXG5cbnZhciBzYW1wbGVfYWVzX1NhbXBsZUFlc0RlY3J5cHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2FtcGxlQWVzRGVjcnlwdGVyKG9ic2VydmVyLCBjb25maWcsIGRlY3J5cHRkYXRhLCBkaXNjYXJkRVBCKSB7XG4gICAgc2FtcGxlX2Flc19fY2xhc3NDYWxsQ2hlY2sodGhpcywgU2FtcGxlQWVzRGVjcnlwdGVyKTtcblxuICAgIHRoaXMuZGVjcnlwdGRhdGEgPSBkZWNyeXB0ZGF0YTtcbiAgICB0aGlzLmRpc2NhcmRFUEIgPSBkaXNjYXJkRVBCO1xuICAgIHRoaXMuZGVjcnlwdGVyID0gbmV3IGNyeXB0X2RlY3J5cHRlcltcImFcIiAvKiBkZWZhdWx0ICovXShvYnNlcnZlciwgY29uZmlnLCB7IHJlbW92ZVBLQ1M3UGFkZGluZzogZmFsc2UgfSk7XG4gIH1cblxuICBTYW1wbGVBZXNEZWNyeXB0ZXIucHJvdG90eXBlLmRlY3J5cHRCdWZmZXIgPSBmdW5jdGlvbiBkZWNyeXB0QnVmZmVyKGVuY3J5cHRlZERhdGEsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5kZWNyeXB0ZXIuZGVjcnlwdChlbmNyeXB0ZWREYXRhLCB0aGlzLmRlY3J5cHRkYXRhLmtleS5idWZmZXIsIHRoaXMuZGVjcnlwdGRhdGEuaXYuYnVmZmVyLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgLy8gQUFDIC0gZW5jcnlwdCBhbGwgZnVsbCAxNiBieXRlcyBibG9ja3Mgc3RhcnRpbmcgZnJvbSBvZmZzZXQgMTZcblxuXG4gIFNhbXBsZUFlc0RlY3J5cHRlci5wcm90b3R5cGUuZGVjcnlwdEFhY1NhbXBsZSA9IGZ1bmN0aW9uIGRlY3J5cHRBYWNTYW1wbGUoc2FtcGxlcywgc2FtcGxlSW5kZXgsIGNhbGxiYWNrLCBzeW5jKSB7XG4gICAgdmFyIGN1clVuaXQgPSBzYW1wbGVzW3NhbXBsZUluZGV4XS51bml0O1xuICAgIHZhciBlbmNyeXB0ZWREYXRhID0gY3VyVW5pdC5zdWJhcnJheSgxNiwgY3VyVW5pdC5sZW5ndGggLSBjdXJVbml0Lmxlbmd0aCAlIDE2KTtcbiAgICB2YXIgZW5jcnlwdGVkQnVmZmVyID0gZW5jcnlwdGVkRGF0YS5idWZmZXIuc2xpY2UoZW5jcnlwdGVkRGF0YS5ieXRlT2Zmc2V0LCBlbmNyeXB0ZWREYXRhLmJ5dGVPZmZzZXQgKyBlbmNyeXB0ZWREYXRhLmxlbmd0aCk7XG5cbiAgICB2YXIgbG9jYWx0aGlzID0gdGhpcztcbiAgICB0aGlzLmRlY3J5cHRCdWZmZXIoZW5jcnlwdGVkQnVmZmVyLCBmdW5jdGlvbiAoZGVjcnlwdGVkRGF0YSkge1xuICAgICAgZGVjcnlwdGVkRGF0YSA9IG5ldyBVaW50OEFycmF5KGRlY3J5cHRlZERhdGEpO1xuICAgICAgY3VyVW5pdC5zZXQoZGVjcnlwdGVkRGF0YSwgMTYpO1xuXG4gICAgICBpZiAoIXN5bmMpIHtcbiAgICAgICAgbG9jYWx0aGlzLmRlY3J5cHRBYWNTYW1wbGVzKHNhbXBsZXMsIHNhbXBsZUluZGV4ICsgMSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIFNhbXBsZUFlc0RlY3J5cHRlci5wcm90b3R5cGUuZGVjcnlwdEFhY1NhbXBsZXMgPSBmdW5jdGlvbiBkZWNyeXB0QWFjU2FtcGxlcyhzYW1wbGVzLCBzYW1wbGVJbmRleCwgY2FsbGJhY2spIHtcbiAgICBmb3IgKDs7IHNhbXBsZUluZGV4KyspIHtcbiAgICAgIGlmIChzYW1wbGVJbmRleCA+PSBzYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzYW1wbGVzW3NhbXBsZUluZGV4XS51bml0Lmxlbmd0aCA8IDMyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3luYyA9IHRoaXMuZGVjcnlwdGVyLmlzU3luYygpO1xuXG4gICAgICB0aGlzLmRlY3J5cHRBYWNTYW1wbGUoc2FtcGxlcywgc2FtcGxlSW5kZXgsIGNhbGxiYWNrLCBzeW5jKTtcblxuICAgICAgaWYgKCFzeW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQVZDIC0gZW5jcnlwdCBvbmUgMTYgYnl0ZXMgYmxvY2sgb3V0IG9mIHRlbiwgc3RhcnRpbmcgZnJvbSBvZmZzZXQgMzJcblxuXG4gIFNhbXBsZUFlc0RlY3J5cHRlci5wcm90b3R5cGUuZ2V0QXZjRW5jcnlwdGVkRGF0YSA9IGZ1bmN0aW9uIGdldEF2Y0VuY3J5cHRlZERhdGEoZGVjb2RlZERhdGEpIHtcbiAgICB2YXIgZW5jcnlwdGVkRGF0YUxlbiA9IE1hdGguZmxvb3IoKGRlY29kZWREYXRhLmxlbmd0aCAtIDQ4KSAvIDE2MCkgKiAxNiArIDE2O1xuICAgIHZhciBlbmNyeXB0ZWREYXRhID0gbmV3IEludDhBcnJheShlbmNyeXB0ZWREYXRhTGVuKTtcbiAgICB2YXIgb3V0cHV0UG9zID0gMDtcbiAgICBmb3IgKHZhciBpbnB1dFBvcyA9IDMyOyBpbnB1dFBvcyA8PSBkZWNvZGVkRGF0YS5sZW5ndGggLSAxNjsgaW5wdXRQb3MgKz0gMTYwLCBvdXRwdXRQb3MgKz0gMTYpIHtcbiAgICAgIGVuY3J5cHRlZERhdGEuc2V0KGRlY29kZWREYXRhLnN1YmFycmF5KGlucHV0UG9zLCBpbnB1dFBvcyArIDE2KSwgb3V0cHV0UG9zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW5jcnlwdGVkRGF0YTtcbiAgfTtcblxuICBTYW1wbGVBZXNEZWNyeXB0ZXIucHJvdG90eXBlLmdldEF2Y0RlY3J5cHRlZFVuaXQgPSBmdW5jdGlvbiBnZXRBdmNEZWNyeXB0ZWRVbml0KGRlY29kZWREYXRhLCBkZWNyeXB0ZWREYXRhKSB7XG4gICAgZGVjcnlwdGVkRGF0YSA9IG5ldyBVaW50OEFycmF5KGRlY3J5cHRlZERhdGEpO1xuICAgIHZhciBpbnB1dFBvcyA9IDA7XG4gICAgZm9yICh2YXIgb3V0cHV0UG9zID0gMzI7IG91dHB1dFBvcyA8PSBkZWNvZGVkRGF0YS5sZW5ndGggLSAxNjsgb3V0cHV0UG9zICs9IDE2MCwgaW5wdXRQb3MgKz0gMTYpIHtcbiAgICAgIGRlY29kZWREYXRhLnNldChkZWNyeXB0ZWREYXRhLnN1YmFycmF5KGlucHV0UG9zLCBpbnB1dFBvcyArIDE2KSwgb3V0cHV0UG9zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVjb2RlZERhdGE7XG4gIH07XG5cbiAgU2FtcGxlQWVzRGVjcnlwdGVyLnByb3RvdHlwZS5kZWNyeXB0QXZjU2FtcGxlID0gZnVuY3Rpb24gZGVjcnlwdEF2Y1NhbXBsZShzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4LCBjYWxsYmFjaywgY3VyVW5pdCwgc3luYykge1xuICAgIHZhciBkZWNvZGVkRGF0YSA9IHRoaXMuZGlzY2FyZEVQQihjdXJVbml0LmRhdGEpO1xuICAgIHZhciBlbmNyeXB0ZWREYXRhID0gdGhpcy5nZXRBdmNFbmNyeXB0ZWREYXRhKGRlY29kZWREYXRhKTtcbiAgICB2YXIgbG9jYWx0aGlzID0gdGhpcztcblxuICAgIHRoaXMuZGVjcnlwdEJ1ZmZlcihlbmNyeXB0ZWREYXRhLmJ1ZmZlciwgZnVuY3Rpb24gKGRlY3J5cHRlZERhdGEpIHtcbiAgICAgIGN1clVuaXQuZGF0YSA9IGxvY2FsdGhpcy5nZXRBdmNEZWNyeXB0ZWRVbml0KGRlY29kZWREYXRhLCBkZWNyeXB0ZWREYXRhKTtcblxuICAgICAgaWYgKCFzeW5jKSB7XG4gICAgICAgIGxvY2FsdGhpcy5kZWNyeXB0QXZjU2FtcGxlcyhzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4ICsgMSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIFNhbXBsZUFlc0RlY3J5cHRlci5wcm90b3R5cGUuZGVjcnlwdEF2Y1NhbXBsZXMgPSBmdW5jdGlvbiBkZWNyeXB0QXZjU2FtcGxlcyhzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4LCBjYWxsYmFjaykge1xuICAgIGZvciAoOzsgc2FtcGxlSW5kZXgrKywgdW5pdEluZGV4ID0gMCkge1xuICAgICAgaWYgKHNhbXBsZUluZGV4ID49IHNhbXBsZXMubGVuZ3RoKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGN1clVuaXRzID0gc2FtcGxlc1tzYW1wbGVJbmRleF0udW5pdHM7XG4gICAgICBmb3IgKDs7IHVuaXRJbmRleCsrKSB7XG4gICAgICAgIGlmICh1bml0SW5kZXggPj0gY3VyVW5pdHMubGVuZ3RoKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VyVW5pdCA9IGN1clVuaXRzW3VuaXRJbmRleF07XG4gICAgICAgIGlmIChjdXJVbml0Lmxlbmd0aCA8PSA0OCB8fCBjdXJVbml0LnR5cGUgIT09IDEgJiYgY3VyVW5pdC50eXBlICE9PSA1KSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3luYyA9IHRoaXMuZGVjcnlwdGVyLmlzU3luYygpO1xuXG4gICAgICAgIHRoaXMuZGVjcnlwdEF2Y1NhbXBsZShzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4LCBjYWxsYmFjaywgY3VyVW5pdCwgc3luYyk7XG5cbiAgICAgICAgaWYgKCFzeW5jKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBTYW1wbGVBZXNEZWNyeXB0ZXI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHNhbXBsZV9hZXMgPSAoc2FtcGxlX2Flc19TYW1wbGVBZXNEZWNyeXB0ZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGVtdXgvdHNkZW11eGVyLmpzXG5mdW5jdGlvbiB0c2RlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBoaWdobHkgb3B0aW1pemVkIFRTIGRlbXV4ZXI6XG4gKiBwYXJzZSBQQVQsIFBNVFxuICogZXh0cmFjdCBQRVMgcGFja2V0IGZyb20gYXVkaW8gYW5kIHZpZGVvIFBJRHNcbiAqIGV4dHJhY3QgQVZDL0gyNjQgTkFMIHVuaXRzIGFuZCBBQUMvQURUUyBzYW1wbGVzIGZyb20gUEVTIHBhY2tldFxuICogdHJpZ2dlciB0aGUgcmVtdXhlciB1cG9uIHBhcnNpbmcgY29tcGxldGlvblxuICogaXQgYWxzbyB0cmllcyB0byB3b3JrYXJvdW5kIGFzIGJlc3QgYXMgaXQgY2FuIGF1ZGlvIGNvZGVjIHN3aXRjaCAoSEUtQUFDIHRvIEFBQyBhbmQgdmljZSB2ZXJzYSksIHdpdGhvdXQgaGF2aW5nIHRvIHJlc3RhcnQgdGhlIE1lZGlhU291cmNlLlxuICogaXQgYWxzbyBjb250cm9scyB0aGUgcmVtdXhpbmcgcHJvY2VzcyA6XG4gKiB1cG9uIGRpc2NvbnRpbnVpdHkgb3IgbGV2ZWwgc3dpdGNoIGRldGVjdGlvbiwgaXQgd2lsbCBhbHNvIG5vdGlmaWVzIHRoZSByZW11eGVyIHNvIHRoYXQgaXQgY2FuIHJlc2V0IGl0cyBzdGF0ZS5cbiovXG5cblxuXG5cblxuXG4vLyBpbXBvcnQgSGV4IGZyb20gJy4uL3V0aWxzL2hleCc7XG5cblxuXG4vLyBXZSBhcmUgdXNpbmcgZml4ZWQgdHJhY2sgSURzIGZvciBkcml2aW5nIHRoZSBNUDQgcmVtdXhlclxuLy8gaW5zdGVhZCBvZiBmb2xsb3dpbmcgdGhlIFRTIFBJRHMuXG4vLyBUaGVyZSBpcyBubyByZWFzb24gbm90IHRvIGRvIHRoaXMgYW5kIHNvbWUgYnJvd3NlcnMvU291cmNlQnVmZmVyLWRlbXV4ZXJzXG4vLyBtYXkgbm90IGxpa2UgaWYgdGhlcmUgYXJlIFRyYWNrSUQgXCJzd2l0Y2hlc1wiXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzEzMzFcbi8vIEhlcmUgd2UgYXJlIG1hcHBpbmcgb3VyIGludGVybmFsIHRyYWNrIHR5cGVzIHRvIGNvbnN0YW50IE1QNCB0cmFjayBJRHNcbi8vIFdpdGggTVNFIGN1cnJlbnRseSBvbmUgY2FuIG9ubHkgaGF2ZSBvbmUgdHJhY2sgb2YgZWFjaCwgYW5kIHdlIGFyZSBtdXhpbmdcbi8vIHdoYXRldmVyIHZpZGVvL2F1ZGlvIHJlbmRpdGlvbiBpbiB0aGVtLlxudmFyIFJlbXV4ZXJUcmFja0lkQ29uZmlnID0ge1xuICB2aWRlbzogMSxcbiAgYXVkaW86IDIsXG4gIGlkMzogMyxcbiAgdGV4dDogNFxufTtcblxudmFyIHRzZGVtdXhlcl9UU0RlbXV4ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRTRGVtdXhlcihvYnNlcnZlciwgcmVtdXhlciwgY29uZmlnLCB0eXBlU3VwcG9ydGVkKSB7XG4gICAgdHNkZW11eGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBUU0RlbXV4ZXIpO1xuXG4gICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMudHlwZVN1cHBvcnRlZCA9IHR5cGVTdXBwb3J0ZWQ7XG4gICAgdGhpcy5yZW11eGVyID0gcmVtdXhlcjtcbiAgICB0aGlzLnNhbXBsZUFlcyA9IG51bGw7XG4gIH1cblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLnNldERlY3J5cHREYXRhID0gZnVuY3Rpb24gc2V0RGVjcnlwdERhdGEoZGVjcnlwdGRhdGEpIHtcbiAgICBpZiAoZGVjcnlwdGRhdGEgIT0gbnVsbCAmJiBkZWNyeXB0ZGF0YS5rZXkgIT0gbnVsbCAmJiBkZWNyeXB0ZGF0YS5tZXRob2QgPT09ICdTQU1QTEUtQUVTJykge1xuICAgICAgdGhpcy5zYW1wbGVBZXMgPSBuZXcgc2FtcGxlX2Flcyh0aGlzLm9ic2VydmVyLCB0aGlzLmNvbmZpZywgZGVjcnlwdGRhdGEsIHRoaXMuZGlzY2FyZEVQQik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2FtcGxlQWVzID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb2JlID0gZnVuY3Rpb24gcHJvYmUoZGF0YSkge1xuICAgIHZhciBzeW5jT2Zmc2V0ID0gVFNEZW11eGVyLl9zeW5jT2Zmc2V0KGRhdGEpO1xuICAgIGlmIChzeW5jT2Zmc2V0IDwgMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3luY09mZnNldCkge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdNUEVHMi1UUyBkZXRlY3RlZCBidXQgZmlyc3Qgc3luYyB3b3JkIGZvdW5kIEAgb2Zmc2V0ICcgKyBzeW5jT2Zmc2V0ICsgJywganVuayBhaGVhZCA/Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBUU0RlbXV4ZXIuX3N5bmNPZmZzZXQgPSBmdW5jdGlvbiBfc3luY09mZnNldChkYXRhKSB7XG4gICAgLy8gc2NhbiAxMDAwIGZpcnN0IGJ5dGVzXG4gICAgdmFyIHNjYW53aW5kb3cgPSBNYXRoLm1pbigxMDAwLCBkYXRhLmxlbmd0aCAtIDMgKiAxODgpO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IHNjYW53aW5kb3cpIHtcbiAgICAgIC8vIGEgVFMgZnJhZ21lbnQgc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3QgMyBUUyBwYWNrZXRzLCBhIFBBVCwgYSBQTVQsIGFuZCBvbmUgUElELCBlYWNoIHN0YXJ0aW5nIHdpdGggMHg0N1xuICAgICAgaWYgKGRhdGFbaV0gPT09IDB4NDcgJiYgZGF0YVtpICsgMTg4XSA9PT0gMHg0NyAmJiBkYXRhW2kgKyAyICogMTg4XSA9PT0gMHg0Nykge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdHJhY2sgbW9kZWwgaW50ZXJuYWwgdG8gZGVtdXhlciB1c2VkIHRvIGRyaXZlIHJlbXV4aW5nIGlucHV0XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlICdhdWRpbycgfCAndmlkZW8nIHwgJ2lkMycgfCAndGV4dCdcbiAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uXG4gICAqIEByZXR1cm4ge29iamVjdH0gVFNEZW11eGVyJ3MgaW50ZXJuYWwgdHJhY2sgbW9kZWxcbiAgICovXG5cblxuICBUU0RlbXV4ZXIuY3JlYXRlVHJhY2sgPSBmdW5jdGlvbiBjcmVhdGVUcmFjayh0eXBlLCBkdXJhdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICBjb250YWluZXI6IHR5cGUgPT09ICd2aWRlbycgfHwgdHlwZSA9PT0gJ2F1ZGlvJyA/ICd2aWRlby9tcDJ0JyA6IHVuZGVmaW5lZCxcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBpZDogUmVtdXhlclRyYWNrSWRDb25maWdbdHlwZV0sXG4gICAgICBwaWQ6IC0xLFxuICAgICAgaW5wdXRUaW1lU2NhbGU6IDkwMDAwLFxuICAgICAgc2VxdWVuY2VOdW1iZXI6IDAsXG4gICAgICBzYW1wbGVzOiBbXSxcbiAgICAgIGxlbjogMCxcbiAgICAgIGRyb3BwZWQ6IHR5cGUgPT09ICd2aWRlbycgPyAwIDogdW5kZWZpbmVkLFxuICAgICAgaXNBQUM6IHR5cGUgPT09ICdhdWRpbycgPyB0cnVlIDogdW5kZWZpbmVkLFxuICAgICAgZHVyYXRpb246IHR5cGUgPT09ICdhdWRpbycgPyBkdXJhdGlvbiA6IHVuZGVmaW5lZFxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGEgbmV3IGluaXQgc2VnbWVudCBvbiB0aGUgZGVtdXhlci9yZW11eGVyIGludGVyZmFjZS4gTmVlZGVkIGZvciBkaXNjb250aW51aXRpZXMvdHJhY2stc3dpdGNoZXMgKG9yIGF0IHN0cmVhbSBzdGFydClcbiAgICogUmVzZXRzIGFsbCBpbnRlcm5hbCB0cmFjayBpbnN0YW5jZXMgb2YgdGhlIGRlbXV4ZXIuXG4gICAqXG4gICAqIEBvdmVycmlkZSBJbXBsZW1lbnRzIGdlbmVyaWMgZGVtdXhpbmcvcmVtdXhpbmcgaW50ZXJmYWNlIChzZWUgRGVtdXhlcklubGluZSlcbiAgICogQHBhcmFtIHtvYmplY3R9IGluaXRTZWdtZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdWRpb0NvZGVjXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2aWRlb0NvZGVjXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiAoaW4gVFMgdGltZXNjYWxlID0gOTBrSHopXG4gICAqL1xuXG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5yZXNldEluaXRTZWdtZW50ID0gZnVuY3Rpb24gcmVzZXRJbml0U2VnbWVudChpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgZHVyYXRpb24pIHtcbiAgICB0aGlzLnBtdFBhcnNlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3BtdElkID0gLTE7XG5cbiAgICB0aGlzLl9hdmNUcmFjayA9IFRTRGVtdXhlci5jcmVhdGVUcmFjaygndmlkZW8nLCBkdXJhdGlvbik7XG4gICAgdGhpcy5fYXVkaW9UcmFjayA9IFRTRGVtdXhlci5jcmVhdGVUcmFjaygnYXVkaW8nLCBkdXJhdGlvbik7XG4gICAgdGhpcy5faWQzVHJhY2sgPSBUU0RlbXV4ZXIuY3JlYXRlVHJhY2soJ2lkMycsIGR1cmF0aW9uKTtcbiAgICB0aGlzLl90eHRUcmFjayA9IFRTRGVtdXhlci5jcmVhdGVUcmFjaygndGV4dCcsIGR1cmF0aW9uKTtcblxuICAgIC8vIGZsdXNoIGFueSBwYXJ0aWFsIGNvbnRlbnRcbiAgICB0aGlzLmFhY092ZXJGbG93ID0gbnVsbDtcbiAgICB0aGlzLmFhY0xhc3RQVFMgPSBudWxsO1xuICAgIHRoaXMuYXZjU2FtcGxlID0gbnVsbDtcbiAgICB0aGlzLmF1ZGlvQ29kZWMgPSBhdWRpb0NvZGVjO1xuICAgIHRoaXMudmlkZW9Db2RlYyA9IHZpZGVvQ29kZWM7XG4gICAgdGhpcy5fZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgfTtcblxuICAvKipcbiAgICpcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuXG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5yZXNldFRpbWVTdGFtcCA9IGZ1bmN0aW9uIHJlc2V0VGltZVN0YW1wKCkge307XG5cbiAgLy8gZmVlZCBpbmNvbWluZyBkYXRhIHRvIHRoZSBmcm9udCBvZiB0aGUgcGFyc2luZyBwaXBlbGluZVxuXG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQoZGF0YSwgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgdmFyIHN0YXJ0ID0gdm9pZCAwLFxuICAgICAgICBsZW4gPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgc3R0ID0gdm9pZCAwLFxuICAgICAgICBwaWQgPSB2b2lkIDAsXG4gICAgICAgIGF0ZiA9IHZvaWQgMCxcbiAgICAgICAgb2Zmc2V0ID0gdm9pZCAwLFxuICAgICAgICBwZXMgPSB2b2lkIDAsXG4gICAgICAgIHVua25vd25QSURzID0gZmFsc2U7XG4gICAgdGhpcy5jb250aWd1b3VzID0gY29udGlndW91cztcbiAgICB2YXIgcG10UGFyc2VkID0gdGhpcy5wbXRQYXJzZWQsXG4gICAgICAgIGF2Y1RyYWNrID0gdGhpcy5fYXZjVHJhY2ssXG4gICAgICAgIGF1ZGlvVHJhY2sgPSB0aGlzLl9hdWRpb1RyYWNrLFxuICAgICAgICBpZDNUcmFjayA9IHRoaXMuX2lkM1RyYWNrLFxuICAgICAgICBhdmNJZCA9IGF2Y1RyYWNrLnBpZCxcbiAgICAgICAgYXVkaW9JZCA9IGF1ZGlvVHJhY2sucGlkLFxuICAgICAgICBpZDNJZCA9IGlkM1RyYWNrLnBpZCxcbiAgICAgICAgcG10SWQgPSB0aGlzLl9wbXRJZCxcbiAgICAgICAgYXZjRGF0YSA9IGF2Y1RyYWNrLnBlc0RhdGEsXG4gICAgICAgIGF1ZGlvRGF0YSA9IGF1ZGlvVHJhY2sucGVzRGF0YSxcbiAgICAgICAgaWQzRGF0YSA9IGlkM1RyYWNrLnBlc0RhdGEsXG4gICAgICAgIHBhcnNlUEFUID0gdGhpcy5fcGFyc2VQQVQsXG4gICAgICAgIHBhcnNlUE1UID0gdGhpcy5fcGFyc2VQTVQsXG4gICAgICAgIHBhcnNlUEVTID0gdGhpcy5fcGFyc2VQRVMsXG4gICAgICAgIHBhcnNlQVZDUEVTID0gdGhpcy5fcGFyc2VBVkNQRVMuYmluZCh0aGlzKSxcbiAgICAgICAgcGFyc2VBQUNQRVMgPSB0aGlzLl9wYXJzZUFBQ1BFUy5iaW5kKHRoaXMpLFxuICAgICAgICBwYXJzZU1QRUdQRVMgPSB0aGlzLl9wYXJzZU1QRUdQRVMuYmluZCh0aGlzKSxcbiAgICAgICAgcGFyc2VJRDNQRVMgPSB0aGlzLl9wYXJzZUlEM1BFUy5iaW5kKHRoaXMpO1xuXG4gICAgdmFyIHN5bmNPZmZzZXQgPSBUU0RlbXV4ZXIuX3N5bmNPZmZzZXQoZGF0YSk7XG5cbiAgICAvLyBkb24ndCBwYXJzZSBsYXN0IFRTIHBhY2tldCBpZiBpbmNvbXBsZXRlXG4gICAgbGVuIC09IChsZW4gKyBzeW5jT2Zmc2V0KSAlIDE4ODtcblxuICAgIC8vIGxvb3AgdGhyb3VnaCBUUyBwYWNrZXRzXG4gICAgZm9yIChzdGFydCA9IHN5bmNPZmZzZXQ7IHN0YXJ0IDwgbGVuOyBzdGFydCArPSAxODgpIHtcbiAgICAgIGlmIChkYXRhW3N0YXJ0XSA9PT0gMHg0Nykge1xuICAgICAgICBzdHQgPSAhIShkYXRhW3N0YXJ0ICsgMV0gJiAweDQwKTtcbiAgICAgICAgLy8gcGlkIGlzIGEgMTMtYml0IGZpZWxkIHN0YXJ0aW5nIGF0IHRoZSBsYXN0IGJpdCBvZiBUU1sxXVxuICAgICAgICBwaWQgPSAoKGRhdGFbc3RhcnQgKyAxXSAmIDB4MWYpIDw8IDgpICsgZGF0YVtzdGFydCArIDJdO1xuICAgICAgICBhdGYgPSAoZGF0YVtzdGFydCArIDNdICYgMHgzMCkgPj4gNDtcbiAgICAgICAgLy8gaWYgYW4gYWRhcHRpb24gZmllbGQgaXMgcHJlc2VudCwgaXRzIGxlbmd0aCBpcyBzcGVjaWZpZWQgYnkgdGhlIGZpZnRoIGJ5dGUgb2YgdGhlIFRTIHBhY2tldCBoZWFkZXIuXG4gICAgICAgIGlmIChhdGYgPiAxKSB7XG4gICAgICAgICAgb2Zmc2V0ID0gc3RhcnQgKyA1ICsgZGF0YVtzdGFydCArIDRdO1xuICAgICAgICAgIC8vIGNvbnRpbnVlIGlmIHRoZXJlIGlzIG9ubHkgYWRhcHRhdGlvbiBmaWVsZFxuICAgICAgICAgIGlmIChvZmZzZXQgPT09IHN0YXJ0ICsgMTg4KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2Zmc2V0ID0gc3RhcnQgKyA0O1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAocGlkKSB7XG4gICAgICAgICAgY2FzZSBhdmNJZDpcbiAgICAgICAgICAgIGlmIChzdHQpIHtcbiAgICAgICAgICAgICAgaWYgKGF2Y0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGF2Y0RhdGEpKSAmJiBwZXMucHRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJzZUFWQ1BFUyhwZXMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGF2Y0RhdGEgPSB7IGRhdGE6IFtdLCBzaXplOiAwIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXZjRGF0YSkge1xuICAgICAgICAgICAgICBhdmNEYXRhLmRhdGEucHVzaChkYXRhLnN1YmFycmF5KG9mZnNldCwgc3RhcnQgKyAxODgpKTtcbiAgICAgICAgICAgICAgYXZjRGF0YS5zaXplICs9IHN0YXJ0ICsgMTg4IC0gb2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBhdWRpb0lkOlxuICAgICAgICAgICAgaWYgKHN0dCkge1xuICAgICAgICAgICAgICBpZiAoYXVkaW9EYXRhICYmIChwZXMgPSBwYXJzZVBFUyhhdWRpb0RhdGEpKSAmJiBwZXMucHRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXVkaW9UcmFjay5pc0FBQykge1xuICAgICAgICAgICAgICAgICAgcGFyc2VBQUNQRVMocGVzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGFyc2VNUEVHUEVTKHBlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGF1ZGlvRGF0YSA9IHsgZGF0YTogW10sIHNpemU6IDAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdWRpb0RhdGEpIHtcbiAgICAgICAgICAgICAgYXVkaW9EYXRhLmRhdGEucHVzaChkYXRhLnN1YmFycmF5KG9mZnNldCwgc3RhcnQgKyAxODgpKTtcbiAgICAgICAgICAgICAgYXVkaW9EYXRhLnNpemUgKz0gc3RhcnQgKyAxODggLSBvZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIGlkM0lkOlxuICAgICAgICAgICAgaWYgKHN0dCkge1xuICAgICAgICAgICAgICBpZiAoaWQzRGF0YSAmJiAocGVzID0gcGFyc2VQRVMoaWQzRGF0YSkpICYmIHBlcy5wdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhcnNlSUQzUEVTKHBlcyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZDNEYXRhID0geyBkYXRhOiBbXSwgc2l6ZTogMCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlkM0RhdGEpIHtcbiAgICAgICAgICAgICAgaWQzRGF0YS5kYXRhLnB1c2goZGF0YS5zdWJhcnJheShvZmZzZXQsIHN0YXJ0ICsgMTg4KSk7XG4gICAgICAgICAgICAgIGlkM0RhdGEuc2l6ZSArPSBzdGFydCArIDE4OCAtIG9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGlmIChzdHQpIHtcbiAgICAgICAgICAgICAgb2Zmc2V0ICs9IGRhdGFbb2Zmc2V0XSArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBtdElkID0gdGhpcy5fcG10SWQgPSBwYXJzZVBBVChkYXRhLCBvZmZzZXQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBwbXRJZDpcbiAgICAgICAgICAgIGlmIChzdHQpIHtcbiAgICAgICAgICAgICAgb2Zmc2V0ICs9IGRhdGFbb2Zmc2V0XSArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYXJzZWRQSURzID0gcGFyc2VQTVQoZGF0YSwgb2Zmc2V0LCB0aGlzLnR5cGVTdXBwb3J0ZWQubXBlZyA9PT0gdHJ1ZSB8fCB0aGlzLnR5cGVTdXBwb3J0ZWQubXAzID09PSB0cnVlLCB0aGlzLnNhbXBsZUFlcyAhPSBudWxsKTtcblxuICAgICAgICAgICAgLy8gb25seSB1cGRhdGUgdHJhY2sgaWQgaWYgdHJhY2sgUElEIGZvdW5kIHdoaWxlIHBhcnNpbmcgUE1UXG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRvIGF2b2lkIHJlc2V0dGluZyB0aGUgUElEIHRvIC0xIGluIGNhc2VcbiAgICAgICAgICAgIC8vIHRyYWNrIFBJRCB0cmFuc2llbnRseSBkaXNhcHBlYXJzIGZyb20gdGhlIHN0cmVhbVxuICAgICAgICAgICAgLy8gdGhpcyBjb3VsZCBoYXBwZW4gaW4gY2FzZSBvZiB0cmFuc2llbnQgbWlzc2luZyBhdWRpbyBzYW1wbGVzIGZvciBleGFtcGxlXG4gICAgICAgICAgICAvLyBOT1RFIHRoaXMgaXMgb25seSB0aGUgUElEIG9mIHRoZSB0cmFjayBhcyBmb3VuZCBpbiBUUyxcbiAgICAgICAgICAgIC8vIGJ1dCB3ZSBhcmUgbm90IHVzaW5nIHRoaXMgZm9yIE1QNCB0cmFjayBJRHMuXG4gICAgICAgICAgICBhdmNJZCA9IHBhcnNlZFBJRHMuYXZjO1xuICAgICAgICAgICAgaWYgKGF2Y0lkID4gMCkge1xuICAgICAgICAgICAgICBhdmNUcmFjay5waWQgPSBhdmNJZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXVkaW9JZCA9IHBhcnNlZFBJRHMuYXVkaW87XG4gICAgICAgICAgICBpZiAoYXVkaW9JZCA+IDApIHtcbiAgICAgICAgICAgICAgYXVkaW9UcmFjay5waWQgPSBhdWRpb0lkO1xuICAgICAgICAgICAgICBhdWRpb1RyYWNrLmlzQUFDID0gcGFyc2VkUElEcy5pc0FBQztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkM0lkID0gcGFyc2VkUElEcy5pZDM7XG4gICAgICAgICAgICBpZiAoaWQzSWQgPiAwKSB7XG4gICAgICAgICAgICAgIGlkM1RyYWNrLnBpZCA9IGlkM0lkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodW5rbm93blBJRHMgJiYgIXBtdFBhcnNlZCkge1xuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3JlcGFyc2UgZnJvbSBiZWdpbm5pbmcnKTtcbiAgICAgICAgICAgICAgdW5rbm93blBJRHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgLy8gd2Ugc2V0IGl0IHRvIC0xODgsIHRoZSArPSAxODggaW4gdGhlIGZvciBsb29wIHdpbGwgcmVzZXQgc3RhcnQgdG8gMFxuICAgICAgICAgICAgICBzdGFydCA9IHN5bmNPZmZzZXQgLSAxODg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwbXRQYXJzZWQgPSB0aGlzLnBtdFBhcnNlZCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgIGNhc2UgMHgxZmZmOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHVua25vd25QSURzID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19QQVJTSU5HX0VSUk9SLCBmYXRhbDogZmFsc2UsIHJlYXNvbjogJ1RTIHBhY2tldCBkaWQgbm90IHN0YXJ0IHdpdGggMHg0NycgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHRyeSB0byBwYXJzZSBsYXN0IFBFUyBwYWNrZXRzXG4gICAgaWYgKGF2Y0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGF2Y0RhdGEpKSAmJiBwZXMucHRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhcnNlQVZDUEVTKHBlcywgdHJ1ZSk7XG4gICAgICBhdmNUcmFjay5wZXNEYXRhID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZWl0aGVyIGF2Y0RhdGEgbnVsbCBvciBQRVMgdHJ1bmNhdGVkLCBrZWVwIGl0IGZvciBuZXh0IGZyYWcgcGFyc2luZ1xuICAgICAgYXZjVHJhY2sucGVzRGF0YSA9IGF2Y0RhdGE7XG4gICAgfVxuXG4gICAgaWYgKGF1ZGlvRGF0YSAmJiAocGVzID0gcGFyc2VQRVMoYXVkaW9EYXRhKSkgJiYgcGVzLnB0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoYXVkaW9UcmFjay5pc0FBQykge1xuICAgICAgICBwYXJzZUFBQ1BFUyhwZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VNUEVHUEVTKHBlcyk7XG4gICAgICB9XG5cbiAgICAgIGF1ZGlvVHJhY2sucGVzRGF0YSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhdWRpb0RhdGEgJiYgYXVkaW9EYXRhLnNpemUpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsYXN0IEFBQyBQRVMgcGFja2V0IHRydW5jYXRlZCxtaWdodCBvdmVybGFwIGJldHdlZW4gZnJhZ21lbnRzJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGVpdGhlciBhdWRpb0RhdGEgbnVsbCBvciBQRVMgdHJ1bmNhdGVkLCBrZWVwIGl0IGZvciBuZXh0IGZyYWcgcGFyc2luZ1xuICAgICAgYXVkaW9UcmFjay5wZXNEYXRhID0gYXVkaW9EYXRhO1xuICAgIH1cblxuICAgIGlmIChpZDNEYXRhICYmIChwZXMgPSBwYXJzZVBFUyhpZDNEYXRhKSkgJiYgcGVzLnB0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwYXJzZUlEM1BFUyhwZXMpO1xuICAgICAgaWQzVHJhY2sucGVzRGF0YSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVpdGhlciBpZDNEYXRhIG51bGwgb3IgUEVTIHRydW5jYXRlZCwga2VlcCBpdCBmb3IgbmV4dCBmcmFnIHBhcnNpbmdcbiAgICAgIGlkM1RyYWNrLnBlc0RhdGEgPSBpZDNEYXRhO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnNhbXBsZUFlcyA9PSBudWxsKSB7XG4gICAgICB0aGlzLnJlbXV4ZXIucmVtdXgoYXVkaW9UcmFjaywgYXZjVHJhY2ssIGlkM1RyYWNrLCB0aGlzLl90eHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWNyeXB0QW5kUmVtdXgoYXVkaW9UcmFjaywgYXZjVHJhY2ssIGlkM1RyYWNrLCB0aGlzLl90eHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5kZWNyeXB0QW5kUmVtdXggPSBmdW5jdGlvbiBkZWNyeXB0QW5kUmVtdXgoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgaWYgKGF1ZGlvVHJhY2suc2FtcGxlcyAmJiBhdWRpb1RyYWNrLmlzQUFDKSB7XG4gICAgICB2YXIgbG9jYWx0aGlzID0gdGhpcztcbiAgICAgIHRoaXMuc2FtcGxlQWVzLmRlY3J5cHRBYWNTYW1wbGVzKGF1ZGlvVHJhY2suc2FtcGxlcywgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2NhbHRoaXMuZGVjcnlwdEFuZFJlbXV4QXZjKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIGlkM1RyYWNrLCB0ZXh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWNyeXB0QW5kUmVtdXhBdmMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5kZWNyeXB0QW5kUmVtdXhBdmMgPSBmdW5jdGlvbiBkZWNyeXB0QW5kUmVtdXhBdmMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgaWYgKHZpZGVvVHJhY2suc2FtcGxlcykge1xuICAgICAgdmFyIGxvY2FsdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLnNhbXBsZUFlcy5kZWNyeXB0QXZjU2FtcGxlcyh2aWRlb1RyYWNrLnNhbXBsZXMsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9jYWx0aGlzLnJlbXV4ZXIucmVtdXgoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbXV4ZXIucmVtdXgoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLl9pbml0UFRTID0gdGhpcy5faW5pdERUUyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9kdXJhdGlvbiA9IDA7XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VQQVQgPSBmdW5jdGlvbiBfcGFyc2VQQVQoZGF0YSwgb2Zmc2V0KSB7XG4gICAgLy8gc2tpcCB0aGUgUFNJIGhlYWRlciBhbmQgcGFyc2UgdGhlIGZpcnN0IFBNVCBlbnRyeVxuICAgIHJldHVybiAoZGF0YVtvZmZzZXQgKyAxMF0gJiAweDFGKSA8PCA4IHwgZGF0YVtvZmZzZXQgKyAxMV07XG4gICAgLy8gbG9nZ2VyLmxvZygnUE1UIFBJRDonICArIHRoaXMuX3BtdElkKTtcbiAgfTtcblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZVBNVCA9IGZ1bmN0aW9uIF9wYXJzZVBNVChkYXRhLCBvZmZzZXQsIG1wZWdTdXBwb3J0ZWQsIGlzU2FtcGxlQWVzKSB7XG4gICAgdmFyIHNlY3Rpb25MZW5ndGggPSB2b2lkIDAsXG4gICAgICAgIHRhYmxlRW5kID0gdm9pZCAwLFxuICAgICAgICBwcm9ncmFtSW5mb0xlbmd0aCA9IHZvaWQgMCxcbiAgICAgICAgcGlkID0gdm9pZCAwLFxuICAgICAgICByZXN1bHQgPSB7IGF1ZGlvOiAtMSwgYXZjOiAtMSwgaWQzOiAtMSwgaXNBQUM6IHRydWUgfTtcbiAgICBzZWN0aW9uTGVuZ3RoID0gKGRhdGFbb2Zmc2V0ICsgMV0gJiAweDBmKSA8PCA4IHwgZGF0YVtvZmZzZXQgKyAyXTtcbiAgICB0YWJsZUVuZCA9IG9mZnNldCArIDMgKyBzZWN0aW9uTGVuZ3RoIC0gNDtcbiAgICAvLyB0byBkZXRlcm1pbmUgd2hlcmUgdGhlIHRhYmxlIGlzLCB3ZSBoYXZlIHRvIGZpZ3VyZSBvdXQgaG93XG4gICAgLy8gbG9uZyB0aGUgcHJvZ3JhbSBpbmZvIGRlc2NyaXB0b3JzIGFyZVxuICAgIHByb2dyYW1JbmZvTGVuZ3RoID0gKGRhdGFbb2Zmc2V0ICsgMTBdICYgMHgwZikgPDwgOCB8IGRhdGFbb2Zmc2V0ICsgMTFdO1xuICAgIC8vIGFkdmFuY2UgdGhlIG9mZnNldCB0byB0aGUgZmlyc3QgZW50cnkgaW4gdGhlIG1hcHBpbmcgdGFibGVcbiAgICBvZmZzZXQgKz0gMTIgKyBwcm9ncmFtSW5mb0xlbmd0aDtcbiAgICB3aGlsZSAob2Zmc2V0IDwgdGFibGVFbmQpIHtcbiAgICAgIHBpZCA9IChkYXRhW29mZnNldCArIDFdICYgMHgxRikgPDwgOCB8IGRhdGFbb2Zmc2V0ICsgMl07XG4gICAgICBzd2l0Y2ggKGRhdGFbb2Zmc2V0XSkge1xuICAgICAgICBjYXNlIDB4Y2Y6XG4gICAgICAgICAgLy8gU0FNUExFLUFFUyBBQUNcbiAgICAgICAgICBpZiAoIWlzU2FtcGxlQWVzKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3Vua293biBzdHJlYW0gdHlwZTonICsgZGF0YVtvZmZzZXRdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXG4gICAgICAgIC8vIElTTy9JRUMgMTM4MTgtNyBBRFRTIEFBQyAoTVBFRy0yIGxvd2VyIGJpdC1yYXRlIGF1ZGlvKVxuICAgICAgICBjYXNlIDB4MGY6XG4gICAgICAgICAgLy8gbG9nZ2VyLmxvZygnQUFDIFBJRDonICArIHBpZCk7XG4gICAgICAgICAgaWYgKHJlc3VsdC5hdWRpbyA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hdWRpbyA9IHBpZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvLyBQYWNrZXRpemVkIG1ldGFkYXRhIChJRDMpXG4gICAgICAgIGNhc2UgMHgxNTpcbiAgICAgICAgICAvLyBsb2dnZXIubG9nKCdJRDMgUElEOicgICsgcGlkKTtcbiAgICAgICAgICBpZiAocmVzdWx0LmlkMyA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlc3VsdC5pZDMgPSBwaWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAweGRiOlxuICAgICAgICAgIC8vIFNBTVBMRS1BRVMgQVZDXG4gICAgICAgICAgaWYgKCFpc1NhbXBsZUFlcykge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCd1bmtvd24gc3RyZWFtIHR5cGU6JyArIGRhdGFbb2Zmc2V0XSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblxuICAgICAgICAvLyBJVFUtVCBSZWMuIEguMjY0IGFuZCBJU08vSUVDIDE0NDk2LTEwIChsb3dlciBiaXQtcmF0ZSB2aWRlbylcbiAgICAgICAgY2FzZSAweDFiOlxuICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ0FWQyBQSUQ6JyAgKyBwaWQpO1xuICAgICAgICAgIGlmIChyZXN1bHQuYXZjID09PSAtMSkge1xuICAgICAgICAgICAgcmVzdWx0LmF2YyA9IHBpZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvLyBJU08vSUVDIDExMTcyLTMgKE1QRUctMSBhdWRpbylcbiAgICAgICAgLy8gb3IgSVNPL0lFQyAxMzgxOC0zIChNUEVHLTIgaGFsdmVkIHNhbXBsZSByYXRlIGF1ZGlvKVxuICAgICAgICBjYXNlIDB4MDM6XG4gICAgICAgIGNhc2UgMHgwNDpcbiAgICAgICAgICAvLyBsb2dnZXIubG9nKCdNUEVHIFBJRDonICArIHBpZCk7XG4gICAgICAgICAgaWYgKCFtcGVnU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ01QRUcgYXVkaW8gZm91bmQsIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyIGZvciBub3cnKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5hdWRpbyA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hdWRpbyA9IHBpZDtcbiAgICAgICAgICAgIHJlc3VsdC5pc0FBQyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDB4MjQ6XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignSEVWQyBzdHJlYW0gdHlwZSBmb3VuZCwgbm90IHN1cHBvcnRlZCBmb3Igbm93Jyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3Vua293biBzdHJlYW0gdHlwZTonICsgZGF0YVtvZmZzZXRdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIG1vdmUgdG8gdGhlIG5leHQgdGFibGUgZW50cnlcbiAgICAgIC8vIHNraXAgcGFzdCB0aGUgZWxlbWVudGFyeSBzdHJlYW0gZGVzY3JpcHRvcnMsIGlmIHByZXNlbnRcbiAgICAgIG9mZnNldCArPSAoKGRhdGFbb2Zmc2V0ICsgM10gJiAweDBGKSA8PCA4IHwgZGF0YVtvZmZzZXQgKyA0XSkgKyA1O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUuX3BhcnNlUEVTID0gZnVuY3Rpb24gX3BhcnNlUEVTKHN0cmVhbSkge1xuICAgIHZhciBpID0gMCxcbiAgICAgICAgZnJhZyA9IHZvaWQgMCxcbiAgICAgICAgcGVzRmxhZ3MgPSB2b2lkIDAsXG4gICAgICAgIHBlc1ByZWZpeCA9IHZvaWQgMCxcbiAgICAgICAgcGVzTGVuID0gdm9pZCAwLFxuICAgICAgICBwZXNIZHJMZW4gPSB2b2lkIDAsXG4gICAgICAgIHBlc0RhdGEgPSB2b2lkIDAsXG4gICAgICAgIHBlc1B0cyA9IHZvaWQgMCxcbiAgICAgICAgcGVzRHRzID0gdm9pZCAwLFxuICAgICAgICBwYXlsb2FkU3RhcnRPZmZzZXQgPSB2b2lkIDAsXG4gICAgICAgIGRhdGEgPSBzdHJlYW0uZGF0YTtcbiAgICAvLyBzYWZldHkgY2hlY2tcbiAgICBpZiAoIXN0cmVhbSB8fCBzdHJlYW0uc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gd2UgbWlnaHQgbmVlZCB1cCB0byAxOSBieXRlcyB0byByZWFkIFBFUyBoZWFkZXJcbiAgICAvLyBpZiBmaXJzdCBjaHVuayBvZiBkYXRhIGlzIGxlc3MgdGhhbiAxOSBieXRlcywgbGV0J3MgbWVyZ2UgaXQgd2l0aCBmb2xsb3dpbmcgb25lcyB1bnRpbCB3ZSBnZXQgMTkgYnl0ZXNcbiAgICAvLyB1c3VhbGx5IG9ubHkgb25lIG1lcmdlIGlzIG5lZWRlZCAoYW5kIHRoaXMgaXMgcmFyZSAuLi4pXG4gICAgd2hpbGUgKGRhdGFbMF0ubGVuZ3RoIDwgMTkgJiYgZGF0YS5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgbmV3RGF0YSA9IG5ldyBVaW50OEFycmF5KGRhdGFbMF0ubGVuZ3RoICsgZGF0YVsxXS5sZW5ndGgpO1xuICAgICAgbmV3RGF0YS5zZXQoZGF0YVswXSk7XG4gICAgICBuZXdEYXRhLnNldChkYXRhWzFdLCBkYXRhWzBdLmxlbmd0aCk7XG4gICAgICBkYXRhWzBdID0gbmV3RGF0YTtcbiAgICAgIGRhdGEuc3BsaWNlKDEsIDEpO1xuICAgIH1cbiAgICAvLyByZXRyaWV2ZSBQVFMvRFRTIGZyb20gZmlyc3QgZnJhZ21lbnRcbiAgICBmcmFnID0gZGF0YVswXTtcbiAgICBwZXNQcmVmaXggPSAoZnJhZ1swXSA8PCAxNikgKyAoZnJhZ1sxXSA8PCA4KSArIGZyYWdbMl07XG4gICAgaWYgKHBlc1ByZWZpeCA9PT0gMSkge1xuICAgICAgcGVzTGVuID0gKGZyYWdbNF0gPDwgOCkgKyBmcmFnWzVdO1xuICAgICAgLy8gaWYgUEVTIHBhcnNlZCBsZW5ndGggaXMgbm90IHplcm8gYW5kIGdyZWF0ZXIgdGhhbiB0b3RhbCByZWNlaXZlZCBsZW5ndGgsIHN0b3AgcGFyc2luZy4gUEVTIG1pZ2h0IGJlIHRydW5jYXRlZFxuICAgICAgLy8gbWludXMgNiA6IFBFUyBoZWFkZXIgc2l6ZVxuICAgICAgaWYgKHBlc0xlbiAmJiBwZXNMZW4gPiBzdHJlYW0uc2l6ZSAtIDYpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHBlc0ZsYWdzID0gZnJhZ1s3XTtcbiAgICAgIGlmIChwZXNGbGFncyAmIDB4QzApIHtcbiAgICAgICAgLyogUEVTIGhlYWRlciBkZXNjcmliZWQgaGVyZSA6IGh0dHA6Ly9kdmQuc291cmNlZm9yZ2UubmV0L2R2ZGluZm8vcGVzLWhkci5odG1sXG4gICAgICAgICAgICBhcyBQVFMgLyBEVFMgaXMgMzMgYml0IHdlIGNhbm5vdCB1c2UgYml0d2lzZSBvcGVyYXRvciBpbiBKUyxcbiAgICAgICAgICAgIGFzIEJpdHdpc2Ugb3BlcmF0b3JzIHRyZWF0IHRoZWlyIG9wZXJhbmRzIGFzIGEgc2VxdWVuY2Ugb2YgMzIgYml0cyAqL1xuICAgICAgICBwZXNQdHMgPSAoZnJhZ1s5XSAmIDB4MEUpICogNTM2ODcwOTEyICsgLy8gMSA8PCAyOVxuICAgICAgICAoZnJhZ1sxMF0gJiAweEZGKSAqIDQxOTQzMDQgKyAvLyAxIDw8IDIyXG4gICAgICAgIChmcmFnWzExXSAmIDB4RkUpICogMTYzODQgKyAvLyAxIDw8IDE0XG4gICAgICAgIChmcmFnWzEyXSAmIDB4RkYpICogMTI4ICsgLy8gMSA8PCA3XG4gICAgICAgIChmcmFnWzEzXSAmIDB4RkUpIC8gMjtcbiAgICAgICAgLy8gY2hlY2sgaWYgZ3JlYXRlciB0aGFuIDJeMzIgLTFcbiAgICAgICAgaWYgKHBlc1B0cyA+IDQyOTQ5NjcyOTUpIHtcbiAgICAgICAgICAvLyBkZWNyZW1lbnQgMl4zM1xuICAgICAgICAgIHBlc1B0cyAtPSA4NTg5OTM0NTkyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwZXNGbGFncyAmIDB4NDApIHtcbiAgICAgICAgICBwZXNEdHMgPSAoZnJhZ1sxNF0gJiAweDBFKSAqIDUzNjg3MDkxMiArIC8vIDEgPDwgMjlcbiAgICAgICAgICAoZnJhZ1sxNV0gJiAweEZGKSAqIDQxOTQzMDQgKyAvLyAxIDw8IDIyXG4gICAgICAgICAgKGZyYWdbMTZdICYgMHhGRSkgKiAxNjM4NCArIC8vIDEgPDwgMTRcbiAgICAgICAgICAoZnJhZ1sxN10gJiAweEZGKSAqIDEyOCArIC8vIDEgPDwgN1xuICAgICAgICAgIChmcmFnWzE4XSAmIDB4RkUpIC8gMjtcbiAgICAgICAgICAvLyBjaGVjayBpZiBncmVhdGVyIHRoYW4gMl4zMiAtMVxuICAgICAgICAgIGlmIChwZXNEdHMgPiA0Mjk0OTY3Mjk1KSB7XG4gICAgICAgICAgICAvLyBkZWNyZW1lbnQgMl4zM1xuICAgICAgICAgICAgcGVzRHRzIC09IDg1ODk5MzQ1OTI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwZXNQdHMgLSBwZXNEdHMgPiA2MCAqIDkwMDAwKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKE1hdGgucm91bmQoKHBlc1B0cyAtIHBlc0R0cykgLyA5MDAwMCkgKyAncyBkZWx0YSBiZXR3ZWVuIFBUUyBhbmQgRFRTLCBhbGlnbiB0aGVtJyk7XG4gICAgICAgICAgICBwZXNQdHMgPSBwZXNEdHM7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlc0R0cyA9IHBlc1B0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcGVzSGRyTGVuID0gZnJhZ1s4XTtcbiAgICAgIC8vIDkgYnl0ZXMgOiA2IGJ5dGVzIGZvciBQRVMgaGVhZGVyICsgMyBieXRlcyBmb3IgUEVTIGV4dGVuc2lvblxuICAgICAgcGF5bG9hZFN0YXJ0T2Zmc2V0ID0gcGVzSGRyTGVuICsgOTtcblxuICAgICAgc3RyZWFtLnNpemUgLT0gcGF5bG9hZFN0YXJ0T2Zmc2V0O1xuICAgICAgLy8gcmVhc3NlbWJsZSBQRVMgcGFja2V0XG4gICAgICBwZXNEYXRhID0gbmV3IFVpbnQ4QXJyYXkoc3RyZWFtLnNpemUpO1xuICAgICAgZm9yICh2YXIgaiA9IDAsIGRhdGFMZW4gPSBkYXRhLmxlbmd0aDsgaiA8IGRhdGFMZW47IGorKykge1xuICAgICAgICBmcmFnID0gZGF0YVtqXTtcbiAgICAgICAgdmFyIGxlbiA9IGZyYWcuYnl0ZUxlbmd0aDtcbiAgICAgICAgaWYgKHBheWxvYWRTdGFydE9mZnNldCkge1xuICAgICAgICAgIGlmIChwYXlsb2FkU3RhcnRPZmZzZXQgPiBsZW4pIHtcbiAgICAgICAgICAgIC8vIHRyaW0gZnVsbCBmcmFnIGlmIFBFUyBoZWFkZXIgYmlnZ2VyIHRoYW4gZnJhZ1xuICAgICAgICAgICAgcGF5bG9hZFN0YXJ0T2Zmc2V0IC09IGxlbjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0cmltIHBhcnRpYWwgZnJhZyBpZiBQRVMgaGVhZGVyIHNtYWxsZXIgdGhhbiBmcmFnXG4gICAgICAgICAgICBmcmFnID0gZnJhZy5zdWJhcnJheShwYXlsb2FkU3RhcnRPZmZzZXQpO1xuICAgICAgICAgICAgbGVuIC09IHBheWxvYWRTdGFydE9mZnNldDtcbiAgICAgICAgICAgIHBheWxvYWRTdGFydE9mZnNldCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBlc0RhdGEuc2V0KGZyYWcsIGkpO1xuICAgICAgICBpICs9IGxlbjtcbiAgICAgIH1cbiAgICAgIGlmIChwZXNMZW4pIHtcbiAgICAgICAgLy8gcGF5bG9hZCBzaXplIDogcmVtb3ZlIFBFUyBoZWFkZXIgKyBQRVMgZXh0ZW5zaW9uXG4gICAgICAgIHBlc0xlbiAtPSBwZXNIZHJMZW4gKyAzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgZGF0YTogcGVzRGF0YSwgcHRzOiBwZXNQdHMsIGR0czogcGVzRHRzLCBsZW46IHBlc0xlbiB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5wdXNoQWNjZXNVbml0ID0gZnVuY3Rpb24gcHVzaEFjY2VzVW5pdChhdmNTYW1wbGUsIGF2Y1RyYWNrKSB7XG4gICAgaWYgKGF2Y1NhbXBsZS51bml0cy5sZW5ndGggJiYgYXZjU2FtcGxlLmZyYW1lKSB7XG4gICAgICB2YXIgc2FtcGxlcyA9IGF2Y1RyYWNrLnNhbXBsZXM7XG4gICAgICB2YXIgbmJTYW1wbGVzID0gc2FtcGxlcy5sZW5ndGg7XG4gICAgICAvLyBvbmx5IHB1c2ggQVZDIHNhbXBsZSBpZiBzdGFydGluZyB3aXRoIGEga2V5ZnJhbWUgaXMgbm90IG1hbmRhdG9yeSBPUlxuICAgICAgLy8gICAgaWYga2V5ZnJhbWUgYWxyZWFkeSBmb3VuZCBpbiB0aGlzIGZyYWdtZW50IE9SXG4gICAgICAvLyAgICAgICBrZXlmcmFtZSBmb3VuZCBpbiBsYXN0IGZyYWdtZW50ICh0cmFjay5zcHMpIEFORFxuICAgICAgLy8gICAgICAgICAgc2FtcGxlcyBhbHJlYWR5IGFwcGVuZGVkICh3ZSBhbHJlYWR5IGZvdW5kIGEga2V5ZnJhbWUgaW4gdGhpcyBmcmFnbWVudCkgT1IgZnJhZ21lbnQgaXMgY29udGlndW91c1xuICAgICAgaWYgKCF0aGlzLmNvbmZpZy5mb3JjZUtleUZyYW1lT25EaXNjb250aW51aXR5IHx8IGF2Y1NhbXBsZS5rZXkgPT09IHRydWUgfHwgYXZjVHJhY2suc3BzICYmIChuYlNhbXBsZXMgfHwgdGhpcy5jb250aWd1b3VzKSkge1xuICAgICAgICBhdmNTYW1wbGUuaWQgPSBuYlNhbXBsZXM7XG4gICAgICAgIHNhbXBsZXMucHVzaChhdmNTYW1wbGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZHJvcHBlZCBzYW1wbGVzLCB0cmFjayBpdFxuICAgICAgICBhdmNUcmFjay5kcm9wcGVkKys7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhdmNTYW1wbGUuZGVidWcubGVuZ3RoKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coYXZjU2FtcGxlLnB0cyArICcvJyArIGF2Y1NhbXBsZS5kdHMgKyAnOicgKyBhdmNTYW1wbGUuZGVidWcpO1xuICAgIH1cbiAgfTtcblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZUFWQ1BFUyA9IGZ1bmN0aW9uIF9wYXJzZUFWQ1BFUyhwZXMsIGxhc3QpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy8gbG9nZ2VyLmxvZygncGFyc2UgbmV3IFBFUycpO1xuICAgIHZhciB0cmFjayA9IHRoaXMuX2F2Y1RyYWNrLFxuICAgICAgICB1bml0cyA9IHRoaXMuX3BhcnNlQVZDTkFMdShwZXMuZGF0YSksXG4gICAgICAgIGRlYnVnID0gZmFsc2UsXG4gICAgICAgIGV4cEdvbG9tYkRlY29kZXIgPSB2b2lkIDAsXG4gICAgICAgIGF2Y1NhbXBsZSA9IHRoaXMuYXZjU2FtcGxlLFxuICAgICAgICBwdXNoID0gdm9pZCAwLFxuICAgICAgICBzcHNmb3VuZCA9IGZhbHNlLFxuICAgICAgICBpID0gdm9pZCAwLFxuICAgICAgICBwdXNoQWNjZXNVbml0ID0gdGhpcy5wdXNoQWNjZXNVbml0LmJpbmQodGhpcyksXG4gICAgICAgIGNyZWF0ZUFWQ1NhbXBsZSA9IGZ1bmN0aW9uIGNyZWF0ZUFWQ1NhbXBsZShrZXksIHB0cywgZHRzLCBkZWJ1Zykge1xuICAgICAgcmV0dXJuIHsga2V5OiBrZXksIHB0czogcHRzLCBkdHM6IGR0cywgdW5pdHM6IFtdLCBkZWJ1ZzogZGVidWcgfTtcbiAgICB9O1xuICAgIC8vIGZyZWUgcGVzLmRhdGEgdG8gc2F2ZSB1cCBzb21lIG1lbW9yeVxuICAgIHBlcy5kYXRhID0gbnVsbDtcblxuICAgIC8vIGlmIG5ldyBOQUwgdW5pdHMgZm91bmQgYW5kIGxhc3Qgc2FtcGxlIHN0aWxsIHRoZXJlLCBsZXQncyBwdXNoIC4uLlxuICAgIC8vIHRoaXMgaGVscHMgcGFyc2luZyBzdHJlYW1zIHdpdGggbWlzc2luZyBBVUQgKG9ubHkgZG8gdGhpcyBpZiBBVUQgbmV2ZXIgZm91bmQpXG4gICAgaWYgKGF2Y1NhbXBsZSAmJiB1bml0cy5sZW5ndGggJiYgIXRyYWNrLmF1ZEZvdW5kKSB7XG4gICAgICBwdXNoQWNjZXNVbml0KGF2Y1NhbXBsZSwgdHJhY2spO1xuICAgICAgYXZjU2FtcGxlID0gdGhpcy5hdmNTYW1wbGUgPSBjcmVhdGVBVkNTYW1wbGUoZmFsc2UsIHBlcy5wdHMsIHBlcy5kdHMsICcnKTtcbiAgICB9XG5cbiAgICB1bml0cy5mb3JFYWNoKGZ1bmN0aW9uICh1bml0KSB7XG4gICAgICBzd2l0Y2ggKHVuaXQudHlwZSkge1xuICAgICAgICAvLyBORFJcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgIGlmICghYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICBhdmNTYW1wbGUgPSBfdGhpcy5hdmNTYW1wbGUgPSBjcmVhdGVBVkNTYW1wbGUodHJ1ZSwgcGVzLnB0cywgcGVzLmR0cywgJycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICAgICAgYXZjU2FtcGxlLmRlYnVnICs9ICdORFIgJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhdmNTYW1wbGUuZnJhbWUgPSB0cnVlO1xuICAgICAgICAgIHZhciBkYXRhID0gdW5pdC5kYXRhO1xuICAgICAgICAgIC8vIG9ubHkgY2hlY2sgc2xpY2UgdHlwZSB0byBkZXRlY3QgS0YgaW4gY2FzZSBTUFMgZm91bmQgaW4gc2FtZSBwYWNrZXQgKGFueSBrZXlmcmFtZSBpcyBwcmVjZWRlZCBieSBTUFMgLi4uKVxuICAgICAgICAgIGlmIChzcHNmb3VuZCAmJiBkYXRhLmxlbmd0aCA+IDQpIHtcbiAgICAgICAgICAgIC8vIHJldHJpZXZlIHNsaWNlIHR5cGUgYnkgcGFyc2luZyBiZWdpbm5pbmcgb2YgTkFMIHVuaXQgKGZvbGxvdyBIMjY0IHNwZWMsIHNsaWNlX2hlYWRlciBkZWZpbml0aW9uKSB0byBkZXRlY3Qga2V5ZnJhbWUgZW1iZWRkZWQgaW4gTkRSXG4gICAgICAgICAgICB2YXIgc2xpY2VUeXBlID0gbmV3IGV4cF9nb2xvbWIoZGF0YSkucmVhZFNsaWNlVHlwZSgpO1xuICAgICAgICAgICAgLy8gMiA6IEkgc2xpY2UsIDQgOiBTSSBzbGljZSwgNyA6IEkgc2xpY2UsIDk6IFNJIHNsaWNlXG4gICAgICAgICAgICAvLyBTSSBzbGljZSA6IEEgc2xpY2UgdGhhdCBpcyBjb2RlZCB1c2luZyBpbnRyYSBwcmVkaWN0aW9uIG9ubHkgYW5kIHVzaW5nIHF1YW50aXNhdGlvbiBvZiB0aGUgcHJlZGljdGlvbiBzYW1wbGVzLlxuICAgICAgICAgICAgLy8gQW4gU0kgc2xpY2UgY2FuIGJlIGNvZGVkIHN1Y2ggdGhhdCBpdHMgZGVjb2RlZCBzYW1wbGVzIGNhbiBiZSBjb25zdHJ1Y3RlZCBpZGVudGljYWxseSB0byBhbiBTUCBzbGljZS5cbiAgICAgICAgICAgIC8vIEkgc2xpY2U6IEEgc2xpY2UgdGhhdCBpcyBub3QgYW4gU0kgc2xpY2UgdGhhdCBpcyBkZWNvZGVkIHVzaW5nIGludHJhIHByZWRpY3Rpb24gb25seS5cbiAgICAgICAgICAgIC8vIGlmIChzbGljZVR5cGUgPT09IDIgfHwgc2xpY2VUeXBlID09PSA3KSB7XG4gICAgICAgICAgICBpZiAoc2xpY2VUeXBlID09PSAyIHx8IHNsaWNlVHlwZSA9PT0gNCB8fCBzbGljZVR5cGUgPT09IDcgfHwgc2xpY2VUeXBlID09PSA5KSB7XG4gICAgICAgICAgICAgIGF2Y1NhbXBsZS5rZXkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gSURSXG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBwdXNoID0gdHJ1ZTtcbiAgICAgICAgICAvLyBoYW5kbGUgUEVTIG5vdCBzdGFydGluZyB3aXRoIEFVRFxuICAgICAgICAgIGlmICghYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICBhdmNTYW1wbGUgPSBfdGhpcy5hdmNTYW1wbGUgPSBjcmVhdGVBVkNTYW1wbGUodHJ1ZSwgcGVzLnB0cywgcGVzLmR0cywgJycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICAgICAgYXZjU2FtcGxlLmRlYnVnICs9ICdJRFIgJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhdmNTYW1wbGUua2V5ID0gdHJ1ZTtcbiAgICAgICAgICBhdmNTYW1wbGUuZnJhbWUgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBTRUlcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgIGlmIChkZWJ1ZyAmJiBhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgIGF2Y1NhbXBsZS5kZWJ1ZyArPSAnU0VJICc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXhwR29sb21iRGVjb2RlciA9IG5ldyBleHBfZ29sb21iKF90aGlzLmRpc2NhcmRFUEIodW5pdC5kYXRhKSk7XG5cbiAgICAgICAgICAvLyBza2lwIGZyYW1lVHlwZVxuICAgICAgICAgIGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG5cbiAgICAgICAgICB2YXIgcGF5bG9hZFR5cGUgPSAwO1xuICAgICAgICAgIHZhciBwYXlsb2FkU2l6ZSA9IDA7XG4gICAgICAgICAgdmFyIGVuZE9mQ2FwdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgYiA9IDA7XG5cbiAgICAgICAgICB3aGlsZSAoIWVuZE9mQ2FwdGlvbnMgJiYgZXhwR29sb21iRGVjb2Rlci5ieXRlc0F2YWlsYWJsZSA+IDEpIHtcbiAgICAgICAgICAgIHBheWxvYWRUeXBlID0gMDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgYiA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgICAgICAgIHBheWxvYWRUeXBlICs9IGI7XG4gICAgICAgICAgICB9IHdoaWxlIChiID09PSAweEZGKTtcblxuICAgICAgICAgICAgLy8gUGFyc2UgcGF5bG9hZCBzaXplLlxuICAgICAgICAgICAgcGF5bG9hZFNpemUgPSAwO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBiID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKTtcbiAgICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gYjtcbiAgICAgICAgICAgIH0gd2hpbGUgKGIgPT09IDB4RkYpO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiB0aGVyZSBjYW4gYmUgbW9yZSB0aGFuIG9uZSBwYXlsb2FkIGluIGFuIFNFSSBwYWNrZXQuLi5cbiAgICAgICAgICAgIC8vIFRPRE86IG5lZWQgdG8gcmVhZCB0eXBlIGFuZCBzaXplIGluIGEgd2hpbGUgbG9vcCB0byBnZXQgdGhlbSBhbGxcbiAgICAgICAgICAgIGlmIChwYXlsb2FkVHlwZSA9PT0gNCAmJiBleHBHb2xvbWJEZWNvZGVyLmJ5dGVzQXZhaWxhYmxlICE9PSAwKSB7XG4gICAgICAgICAgICAgIGVuZE9mQ2FwdGlvbnMgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIHZhciBjb3VudHJ5Q29kZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG5cbiAgICAgICAgICAgICAgaWYgKGNvdW50cnlDb2RlID09PSAxODEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvdmlkZXJDb2RlID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVVNob3J0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocHJvdmlkZXJDb2RlID09PSA0OSkge1xuICAgICAgICAgICAgICAgICAgdmFyIHVzZXJTdHJ1Y3R1cmUgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVSW50KCk7XG5cbiAgICAgICAgICAgICAgICAgIGlmICh1c2VyU3RydWN0dXJlID09PSAweDQ3NDEzOTM0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1c2VyRGF0YVR5cGUgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJhdyBDRUEtNjA4IGJ5dGVzIHdyYXBwZWQgaW4gQ0VBLTcwOCBwYWNrZXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJEYXRhVHlwZSA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWNvbmRCeXRlID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbENDcyA9IDMxICYgZmlyc3RCeXRlO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBieXRlQXJyYXkgPSBbZmlyc3RCeXRlLCBzZWNvbmRCeXRlXTtcblxuICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b3RhbENDczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAzIGJ5dGVzIHBlciBDQ1xuICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZUFycmF5LnB1c2goZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBieXRlQXJyYXkucHVzaChleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVBcnJheS5wdXNoKGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9pbnNlcnRTYW1wbGVJbk9yZGVyKF90aGlzLl90eHRUcmFjay5zYW1wbGVzLCB7IHR5cGU6IDMsIHB0czogcGVzLnB0cywgYnl0ZXM6IGJ5dGVBcnJheSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkU2l6ZSA8IGV4cEdvbG9tYkRlY29kZXIuYnl0ZXNBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBheWxvYWRTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICBleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBTUFNcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgIHNwc2ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoZGVidWcgJiYgYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ1NQUyAnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghdHJhY2suc3BzKSB7XG4gICAgICAgICAgICBleHBHb2xvbWJEZWNvZGVyID0gbmV3IGV4cF9nb2xvbWIodW5pdC5kYXRhKTtcbiAgICAgICAgICAgIHZhciBjb25maWcgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRTUFMoKTtcbiAgICAgICAgICAgIHRyYWNrLndpZHRoID0gY29uZmlnLndpZHRoO1xuICAgICAgICAgICAgdHJhY2suaGVpZ2h0ID0gY29uZmlnLmhlaWdodDtcbiAgICAgICAgICAgIHRyYWNrLnBpeGVsUmF0aW8gPSBjb25maWcucGl4ZWxSYXRpbztcbiAgICAgICAgICAgIHRyYWNrLnNwcyA9IFt1bml0LmRhdGFdO1xuICAgICAgICAgICAgdHJhY2suZHVyYXRpb24gPSBfdGhpcy5fZHVyYXRpb247XG4gICAgICAgICAgICB2YXIgY29kZWNhcnJheSA9IHVuaXQuZGF0YS5zdWJhcnJheSgxLCA0KTtcbiAgICAgICAgICAgIHZhciBjb2RlY3N0cmluZyA9ICdhdmMxLic7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICAgIHZhciBoID0gY29kZWNhcnJheVtpXS50b1N0cmluZygxNik7XG4gICAgICAgICAgICAgIGlmIChoLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICBoID0gJzAnICsgaDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvZGVjc3RyaW5nICs9IGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFjay5jb2RlYyA9IGNvZGVjc3RyaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gUFBTXG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICBwdXNoID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoZGVidWcgJiYgYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ1BQUyAnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghdHJhY2sucHBzKSB7XG4gICAgICAgICAgICB0cmFjay5wcHMgPSBbdW5pdC5kYXRhXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gQVVEXG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBwdXNoID0gZmFsc2U7XG4gICAgICAgICAgdHJhY2suYXVkRm91bmQgPSB0cnVlO1xuICAgICAgICAgIGlmIChhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgIHB1c2hBY2Nlc1VuaXQoYXZjU2FtcGxlLCB0cmFjayk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYXZjU2FtcGxlID0gX3RoaXMuYXZjU2FtcGxlID0gY3JlYXRlQVZDU2FtcGxlKGZhbHNlLCBwZXMucHRzLCBwZXMuZHRzLCBkZWJ1ZyA/ICdBVUQgJyA6ICcnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gRmlsbGVyIERhdGFcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICBwdXNoID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcHVzaCA9IGZhbHNlO1xuICAgICAgICAgIGlmIChhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgIGF2Y1NhbXBsZS5kZWJ1ZyArPSAndW5rbm93biBOQUwgJyArIHVuaXQudHlwZSArICcgJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChhdmNTYW1wbGUgJiYgcHVzaCkge1xuICAgICAgICB2YXIgX3VuaXRzID0gYXZjU2FtcGxlLnVuaXRzO1xuICAgICAgICBfdW5pdHMucHVzaCh1bml0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBpZiBsYXN0IFBFUyBwYWNrZXQsIHB1c2ggc2FtcGxlc1xuICAgIGlmIChsYXN0ICYmIGF2Y1NhbXBsZSkge1xuICAgICAgcHVzaEFjY2VzVW5pdChhdmNTYW1wbGUsIHRyYWNrKTtcbiAgICAgIHRoaXMuYXZjU2FtcGxlID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5faW5zZXJ0U2FtcGxlSW5PcmRlciA9IGZ1bmN0aW9uIF9pbnNlcnRTYW1wbGVJbk9yZGVyKGFyciwgZGF0YSkge1xuICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICBpZiAoZGF0YS5wdHMgPj0gYXJyW2xlbiAtIDFdLnB0cykge1xuICAgICAgICBhcnIucHVzaChkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIHBvcyA9IGxlbiAtIDE7IHBvcyA+PSAwOyBwb3MtLSkge1xuICAgICAgICAgIGlmIChkYXRhLnB0cyA8IGFycltwb3NdLnB0cykge1xuICAgICAgICAgICAgYXJyLnNwbGljZShwb3MsIDAsIGRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyci5wdXNoKGRhdGEpO1xuICAgIH1cbiAgfTtcblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLl9nZXRMYXN0TmFsVW5pdCA9IGZ1bmN0aW9uIF9nZXRMYXN0TmFsVW5pdCgpIHtcbiAgICB2YXIgYXZjU2FtcGxlID0gdGhpcy5hdmNTYW1wbGUsXG4gICAgICAgIGxhc3RVbml0ID0gdm9pZCAwO1xuICAgIC8vIHRyeSB0byBmYWxsYmFjayB0byBwcmV2aW91cyBzYW1wbGUgaWYgY3VycmVudCBvbmUgaXMgZW1wdHlcbiAgICBpZiAoIWF2Y1NhbXBsZSB8fCBhdmNTYW1wbGUudW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB2YXIgdHJhY2sgPSB0aGlzLl9hdmNUcmFjayxcbiAgICAgICAgICBzYW1wbGVzID0gdHJhY2suc2FtcGxlcztcbiAgICAgIGF2Y1NhbXBsZSA9IHNhbXBsZXNbc2FtcGxlcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgaWYgKGF2Y1NhbXBsZSkge1xuICAgICAgdmFyIHVuaXRzID0gYXZjU2FtcGxlLnVuaXRzO1xuICAgICAgbGFzdFVuaXQgPSB1bml0c1t1bml0cy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIGxhc3RVbml0O1xuICB9O1xuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUuX3BhcnNlQVZDTkFMdSA9IGZ1bmN0aW9uIF9wYXJzZUFWQ05BTHUoYXJyYXkpIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIGxlbiA9IGFycmF5LmJ5dGVMZW5ndGgsXG4gICAgICAgIHZhbHVlID0gdm9pZCAwLFxuICAgICAgICBvdmVyZmxvdyA9IHZvaWQgMCxcbiAgICAgICAgdHJhY2sgPSB0aGlzLl9hdmNUcmFjayxcbiAgICAgICAgc3RhdGUgPSB0cmFjay5uYWx1U3RhdGUgfHwgMCxcbiAgICAgICAgbGFzdFN0YXRlID0gc3RhdGU7XG4gICAgdmFyIHVuaXRzID0gW10sXG4gICAgICAgIHVuaXQgPSB2b2lkIDAsXG4gICAgICAgIHVuaXRUeXBlID0gdm9pZCAwLFxuICAgICAgICBsYXN0VW5pdFN0YXJ0ID0gLTEsXG4gICAgICAgIGxhc3RVbml0VHlwZSA9IHZvaWQgMDtcbiAgICAvLyBsb2dnZXIubG9nKCdQRVM6JyArIEhleC5oZXhEdW1wKGFycmF5KSk7XG5cbiAgICBpZiAoc3RhdGUgPT09IC0xKSB7XG4gICAgICAvLyBzcGVjaWFsIHVzZSBjYXNlIHdoZXJlIHdlIGZvdW5kIDMgb3IgNC1ieXRlIHN0YXJ0IGNvZGVzIGV4YWN0bHkgYXQgdGhlIGVuZCBvZiBwcmV2aW91cyBQRVMgcGFja2V0XG4gICAgICBsYXN0VW5pdFN0YXJ0ID0gMDtcbiAgICAgIC8vIE5BTHUgdHlwZSBpcyB2YWx1ZSByZWFkIGZyb20gb2Zmc2V0IDBcbiAgICAgIGxhc3RVbml0VHlwZSA9IGFycmF5WzBdICYgMHgxZjtcbiAgICAgIHN0YXRlID0gMDtcbiAgICAgIGkgPSAxO1xuICAgIH1cblxuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICB2YWx1ZSA9IGFycmF5W2krK107XG4gICAgICAvLyBvcHRpbWl6YXRpb24uIHN0YXRlIDAgYW5kIDEgYXJlIHRoZSBwcmVkb21pbmFudCBjYXNlLiBsZXQncyBoYW5kbGUgdGhlbSBvdXRzaWRlIG9mIHRoZSBzd2l0Y2gvY2FzZVxuICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICBzdGF0ZSA9IHZhbHVlID8gMCA6IDE7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlID09PSAxKSB7XG4gICAgICAgIHN0YXRlID0gdmFsdWUgPyAwIDogMjtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBoZXJlIHdlIGhhdmUgc3RhdGUgZWl0aGVyIGVxdWFsIHRvIDIgb3IgM1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICBzdGF0ZSA9IDM7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAxKSB7XG4gICAgICAgIGlmIChsYXN0VW5pdFN0YXJ0ID49IDApIHtcbiAgICAgICAgICB1bml0ID0geyBkYXRhOiBhcnJheS5zdWJhcnJheShsYXN0VW5pdFN0YXJ0LCBpIC0gc3RhdGUgLSAxKSwgdHlwZTogbGFzdFVuaXRUeXBlIH07XG4gICAgICAgICAgLy8gbG9nZ2VyLmxvZygncHVzaGluZyBOQUxVLCB0eXBlL3NpemU6JyArIHVuaXQudHlwZSArICcvJyArIHVuaXQuZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICB1bml0cy5wdXNoKHVuaXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGxhc3RVbml0U3RhcnQgaXMgdW5kZWZpbmVkID0+IHRoaXMgaXMgdGhlIGZpcnN0IHN0YXJ0IGNvZGUgZm91bmQgaW4gdGhpcyBQRVMgcGFja2V0XG4gICAgICAgICAgLy8gZmlyc3QgY2hlY2sgaWYgc3RhcnQgY29kZSBkZWxpbWl0ZXIgaXMgb3ZlcmxhcHBpbmcgYmV0d2VlbiAyIFBFUyBwYWNrZXRzLFxuICAgICAgICAgIC8vIGllIGl0IHN0YXJ0ZWQgaW4gbGFzdCBwYWNrZXQgKGxhc3RTdGF0ZSBub3QgemVybylcbiAgICAgICAgICAvLyBhbmQgZW5kZWQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGlzIFBFUyBwYWNrZXQgKGkgPD0gNCAtIGxhc3RTdGF0ZSlcbiAgICAgICAgICB2YXIgbGFzdFVuaXQgPSB0aGlzLl9nZXRMYXN0TmFsVW5pdCgpO1xuICAgICAgICAgIGlmIChsYXN0VW5pdCkge1xuICAgICAgICAgICAgaWYgKGxhc3RTdGF0ZSAmJiBpIDw9IDQgLSBsYXN0U3RhdGUpIHtcbiAgICAgICAgICAgICAgLy8gc3RhcnQgZGVsaW1pdGVyIG92ZXJsYXBwaW5nIGJldHdlZW4gUEVTIHBhY2tldHNcbiAgICAgICAgICAgICAgLy8gc3RyaXAgc3RhcnQgZGVsaW1pdGVyIGJ5dGVzIGZyb20gdGhlIGVuZCBvZiBsYXN0IE5BTCB1bml0XG4gICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGxhc3RVbml0IGhhZCBhIHN0YXRlIGRpZmZlcmVudCBmcm9tIHplcm9cbiAgICAgICAgICAgICAgaWYgKGxhc3RVbml0LnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyaXAgbGFzdCBieXRlc1xuICAgICAgICAgICAgICAgIGxhc3RVbml0LmRhdGEgPSBsYXN0VW5pdC5kYXRhLnN1YmFycmF5KDAsIGxhc3RVbml0LmRhdGEuYnl0ZUxlbmd0aCAtIGxhc3RTdGF0ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIE5BTCB1bml0cyBhcmUgbm90IHN0YXJ0aW5nIHJpZ2h0IGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIFBFUyBwYWNrZXQsIHB1c2ggcHJlY2VkaW5nIGRhdGEgaW50byBwcmV2aW91cyBOQUwgdW5pdC5cbiAgICAgICAgICAgIG92ZXJmbG93ID0gaSAtIHN0YXRlIC0gMTtcbiAgICAgICAgICAgIGlmIChvdmVyZmxvdyA+IDApIHtcbiAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnZmlyc3QgTkFMVSBmb3VuZCB3aXRoIG92ZXJmbG93OicgKyBvdmVyZmxvdyk7XG4gICAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgVWludDhBcnJheShsYXN0VW5pdC5kYXRhLmJ5dGVMZW5ndGggKyBvdmVyZmxvdyk7XG4gICAgICAgICAgICAgIHRtcC5zZXQobGFzdFVuaXQuZGF0YSwgMCk7XG4gICAgICAgICAgICAgIHRtcC5zZXQoYXJyYXkuc3ViYXJyYXkoMCwgb3ZlcmZsb3cpLCBsYXN0VW5pdC5kYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgICBsYXN0VW5pdC5kYXRhID0gdG1wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiB3ZSBjYW4gcmVhZCB1bml0IHR5cGVcbiAgICAgICAgaWYgKGkgPCBsZW4pIHtcbiAgICAgICAgICB1bml0VHlwZSA9IGFycmF5W2ldICYgMHgxZjtcbiAgICAgICAgICAvLyBsb2dnZXIubG9nKCdmaW5kIE5BTFUgQCBvZmZzZXQ6JyArIGkgKyAnLHR5cGU6JyArIHVuaXRUeXBlKTtcbiAgICAgICAgICBsYXN0VW5pdFN0YXJ0ID0gaTtcbiAgICAgICAgICBsYXN0VW5pdFR5cGUgPSB1bml0VHlwZTtcbiAgICAgICAgICBzdGF0ZSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm90IGVub3VnaCBieXRlIHRvIHJlYWQgdW5pdCB0eXBlLiBsZXQncyByZWFkIGl0IG9uIG5leHQgUEVTIHBhcnNpbmdcbiAgICAgICAgICBzdGF0ZSA9IC0xO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZSA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsYXN0VW5pdFN0YXJ0ID49IDAgJiYgc3RhdGUgPj0gMCkge1xuICAgICAgdW5pdCA9IHsgZGF0YTogYXJyYXkuc3ViYXJyYXkobGFzdFVuaXRTdGFydCwgbGVuKSwgdHlwZTogbGFzdFVuaXRUeXBlLCBzdGF0ZTogc3RhdGUgfTtcbiAgICAgIHVuaXRzLnB1c2godW5pdCk7XG4gICAgICAvLyBsb2dnZXIubG9nKCdwdXNoaW5nIE5BTFUsIHR5cGUvc2l6ZS9zdGF0ZTonICsgdW5pdC50eXBlICsgJy8nICsgdW5pdC5kYXRhLmJ5dGVMZW5ndGggKyAnLycgKyBzdGF0ZSk7XG4gICAgfVxuICAgIC8vIG5vIE5BTHUgZm91bmRcbiAgICBpZiAodW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBhcHBlbmQgcGVzLmRhdGEgdG8gcHJldmlvdXMgTkFMIHVuaXRcbiAgICAgIHZhciBfbGFzdFVuaXQgPSB0aGlzLl9nZXRMYXN0TmFsVW5pdCgpO1xuICAgICAgaWYgKF9sYXN0VW5pdCkge1xuICAgICAgICB2YXIgX3RtcCA9IG5ldyBVaW50OEFycmF5KF9sYXN0VW5pdC5kYXRhLmJ5dGVMZW5ndGggKyBhcnJheS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgX3RtcC5zZXQoX2xhc3RVbml0LmRhdGEsIDApO1xuICAgICAgICBfdG1wLnNldChhcnJheSwgX2xhc3RVbml0LmRhdGEuYnl0ZUxlbmd0aCk7XG4gICAgICAgIF9sYXN0VW5pdC5kYXRhID0gX3RtcDtcbiAgICAgIH1cbiAgICB9XG4gICAgdHJhY2submFsdVN0YXRlID0gc3RhdGU7XG4gICAgcmV0dXJuIHVuaXRzO1xuICB9O1xuXG4gIC8qKlxuICAgKiByZW1vdmUgRW11bGF0aW9uIFByZXZlbnRpb24gYnl0ZXMgZnJvbSBhIFJCU1BcbiAgICovXG5cblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLmRpc2NhcmRFUEIgPSBmdW5jdGlvbiBkaXNjYXJkRVBCKGRhdGEpIHtcbiAgICB2YXIgbGVuZ3RoID0gZGF0YS5ieXRlTGVuZ3RoLFxuICAgICAgICBFUEJQb3NpdGlvbnMgPSBbXSxcbiAgICAgICAgaSA9IDEsXG4gICAgICAgIG5ld0xlbmd0aCA9IHZvaWQgMCxcbiAgICAgICAgbmV3RGF0YSA9IHZvaWQgMDtcblxuICAgIC8vIEZpbmQgYWxsIGBFbXVsYXRpb24gUHJldmVudGlvbiBCeXRlc2BcbiAgICB3aGlsZSAoaSA8IGxlbmd0aCAtIDIpIHtcbiAgICAgIGlmIChkYXRhW2ldID09PSAwICYmIGRhdGFbaSArIDFdID09PSAwICYmIGRhdGFbaSArIDJdID09PSAweDAzKSB7XG4gICAgICAgIEVQQlBvc2l0aW9ucy5wdXNoKGkgKyAyKTtcbiAgICAgICAgaSArPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIG5vIEVtdWxhdGlvbiBQcmV2ZW50aW9uIEJ5dGVzIHdlcmUgZm91bmQganVzdCByZXR1cm4gdGhlIG9yaWdpbmFsXG4gICAgLy8gYXJyYXlcbiAgICBpZiAoRVBCUG9zaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IGFycmF5IHRvIGhvbGQgdGhlIE5BTCB1bml0IGRhdGFcbiAgICBuZXdMZW5ndGggPSBsZW5ndGggLSBFUEJQb3NpdGlvbnMubGVuZ3RoO1xuICAgIG5ld0RhdGEgPSBuZXcgVWludDhBcnJheShuZXdMZW5ndGgpO1xuICAgIHZhciBzb3VyY2VJbmRleCA9IDA7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbmV3TGVuZ3RoOyBzb3VyY2VJbmRleCsrLCBpKyspIHtcbiAgICAgIGlmIChzb3VyY2VJbmRleCA9PT0gRVBCUG9zaXRpb25zWzBdKSB7XG4gICAgICAgIC8vIFNraXAgdGhpcyBieXRlXG4gICAgICAgIHNvdXJjZUluZGV4Kys7XG4gICAgICAgIC8vIFJlbW92ZSB0aGlzIHBvc2l0aW9uIGluZGV4XG4gICAgICAgIEVQQlBvc2l0aW9ucy5zaGlmdCgpO1xuICAgICAgfVxuICAgICAgbmV3RGF0YVtpXSA9IGRhdGFbc291cmNlSW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gbmV3RGF0YTtcbiAgfTtcblxuICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZUFBQ1BFUyA9IGZ1bmN0aW9uIF9wYXJzZUFBQ1BFUyhwZXMpIHtcbiAgICB2YXIgdHJhY2sgPSB0aGlzLl9hdWRpb1RyYWNrLFxuICAgICAgICBkYXRhID0gcGVzLmRhdGEsXG4gICAgICAgIHB0cyA9IHBlcy5wdHMsXG4gICAgICAgIHN0YXJ0T2Zmc2V0ID0gMCxcbiAgICAgICAgYWFjT3ZlckZsb3cgPSB0aGlzLmFhY092ZXJGbG93LFxuICAgICAgICBhYWNMYXN0UFRTID0gdGhpcy5hYWNMYXN0UFRTLFxuICAgICAgICBmcmFtZUR1cmF0aW9uID0gdm9pZCAwLFxuICAgICAgICBmcmFtZUluZGV4ID0gdm9pZCAwLFxuICAgICAgICBvZmZzZXQgPSB2b2lkIDAsXG4gICAgICAgIHN0YW1wID0gdm9pZCAwLFxuICAgICAgICBsZW4gPSB2b2lkIDA7XG4gICAgaWYgKGFhY092ZXJGbG93KSB7XG4gICAgICB2YXIgdG1wID0gbmV3IFVpbnQ4QXJyYXkoYWFjT3ZlckZsb3cuYnl0ZUxlbmd0aCArIGRhdGEuYnl0ZUxlbmd0aCk7XG4gICAgICB0bXAuc2V0KGFhY092ZXJGbG93LCAwKTtcbiAgICAgIHRtcC5zZXQoZGF0YSwgYWFjT3ZlckZsb3cuYnl0ZUxlbmd0aCk7XG4gICAgICAvLyBsb2dnZXIubG9nKGBBQUM6IGFwcGVuZCBvdmVyZmxvd2luZyAke2FhY092ZXJGbG93LmJ5dGVMZW5ndGh9IGJ5dGVzIHRvIGJlZ2lubmluZyBvZiBuZXcgUEVTYCk7XG4gICAgICBkYXRhID0gdG1wO1xuICAgIH1cbiAgICAvLyBsb29rIGZvciBBRFRTIGhlYWRlciAoMHhGRkZ4KVxuICAgIGZvciAob2Zmc2V0ID0gc3RhcnRPZmZzZXQsIGxlbiA9IGRhdGEubGVuZ3RoOyBvZmZzZXQgPCBsZW4gLSAxOyBvZmZzZXQrKykge1xuICAgICAgaWYgKGlzSGVhZGVyKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGlmIEFEVFMgaGVhZGVyIGRvZXMgbm90IHN0YXJ0IHN0cmFpZ2h0IGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgUEVTIHBheWxvYWQsIHJhaXNlIGFuIGVycm9yXG4gICAgaWYgKG9mZnNldCkge1xuICAgICAgdmFyIHJlYXNvbiA9IHZvaWQgMCxcbiAgICAgICAgICBmYXRhbCA9IHZvaWQgMDtcbiAgICAgIGlmIChvZmZzZXQgPCBsZW4gLSAxKSB7XG4gICAgICAgIHJlYXNvbiA9ICdBQUMgUEVTIGRpZCBub3Qgc3RhcnQgd2l0aCBBRFRTIGhlYWRlcixvZmZzZXQ6JyArIG9mZnNldDtcbiAgICAgICAgZmF0YWwgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlYXNvbiA9ICdubyBBRFRTIGhlYWRlciBmb3VuZCBpbiBBQUMgUEVTJztcbiAgICAgICAgZmF0YWwgPSB0cnVlO1xuICAgICAgfVxuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybigncGFyc2luZyBlcnJvcjonICsgcmVhc29uKTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX1BBUlNJTkdfRVJST1IsIGZhdGFsOiBmYXRhbCwgcmVhc29uOiByZWFzb24gfSk7XG4gICAgICBpZiAoZmF0YWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGluaXRUcmFja0NvbmZpZyh0cmFjaywgdGhpcy5vYnNlcnZlciwgZGF0YSwgb2Zmc2V0LCB0aGlzLmF1ZGlvQ29kZWMpO1xuICAgIGZyYW1lSW5kZXggPSAwO1xuICAgIGZyYW1lRHVyYXRpb24gPSBnZXRGcmFtZUR1cmF0aW9uKHRyYWNrLnNhbXBsZXJhdGUpO1xuXG4gICAgLy8gaWYgbGFzdCBBQUMgZnJhbWUgaXMgb3ZlcmZsb3dpbmcsIHdlIHNob3VsZCBlbnN1cmUgdGltZXN0YW1wcyBhcmUgY29udGlndW91czpcbiAgICAvLyBmaXJzdCBzYW1wbGUgUFRTIHNob3VsZCBiZSBlcXVhbCB0byBsYXN0IHNhbXBsZSBQVFMgKyBmcmFtZUR1cmF0aW9uXG4gICAgaWYgKGFhY092ZXJGbG93ICYmIGFhY0xhc3RQVFMpIHtcbiAgICAgIHZhciBuZXdQVFMgPSBhYWNMYXN0UFRTICsgZnJhbWVEdXJhdGlvbjtcbiAgICAgIGlmIChNYXRoLmFicyhuZXdQVFMgLSBwdHMpID4gMSkge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0FBQzogYWxpZ24gUFRTIGZvciBvdmVybGFwcGluZyBmcmFtZXMgYnkgJyArIE1hdGgucm91bmQoKG5ld1BUUyAtIHB0cykgLyA5MCkpO1xuICAgICAgICBwdHMgPSBuZXdQVFM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc2NhbiBmb3IgYWFjIHNhbXBsZXNcbiAgICB3aGlsZSAob2Zmc2V0IDwgbGVuKSB7XG4gICAgICBpZiAoaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSAmJiBvZmZzZXQgKyA1IDwgbGVuKSB7XG4gICAgICAgIHZhciBmcmFtZSA9IGFwcGVuZEZyYW1lKHRyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCk7XG4gICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgIC8vIGxvZ2dlci5sb2coYCR7TWF0aC5yb3VuZChmcmFtZS5zYW1wbGUucHRzKX0gOiBBQUNgKTtcbiAgICAgICAgICBvZmZzZXQgKz0gZnJhbWUubGVuZ3RoO1xuICAgICAgICAgIHN0YW1wID0gZnJhbWUuc2FtcGxlLnB0cztcbiAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbG9nZ2VyLmxvZygnVW5hYmxlIHRvIHBhcnNlIEFBQyBmcmFtZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBub3RoaW5nIGZvdW5kLCBrZWVwIGxvb2tpbmdcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9mZnNldCA8IGxlbikge1xuICAgICAgYWFjT3ZlckZsb3cgPSBkYXRhLnN1YmFycmF5KG9mZnNldCwgbGVuKTtcbiAgICAgIC8vIGxvZ2dlci5sb2coYEFBQzogb3ZlcmZsb3cgZGV0ZWN0ZWQ6JHtsZW4tb2Zmc2V0fWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBhYWNPdmVyRmxvdyA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5hYWNPdmVyRmxvdyA9IGFhY092ZXJGbG93O1xuICAgIHRoaXMuYWFjTGFzdFBUUyA9IHN0YW1wO1xuICB9O1xuXG4gIFRTRGVtdXhlci5wcm90b3R5cGUuX3BhcnNlTVBFR1BFUyA9IGZ1bmN0aW9uIF9wYXJzZU1QRUdQRVMocGVzKSB7XG4gICAgdmFyIGRhdGEgPSBwZXMuZGF0YTtcbiAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgdmFyIGZyYW1lSW5kZXggPSAwO1xuICAgIHZhciBvZmZzZXQgPSAwO1xuICAgIHZhciBwdHMgPSBwZXMucHRzO1xuXG4gICAgd2hpbGUgKG9mZnNldCA8IGxlbmd0aCkge1xuICAgICAgaWYgKG1wZWdhdWRpby5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgIHZhciBmcmFtZSA9IG1wZWdhdWRpby5hcHBlbmRGcmFtZSh0aGlzLl9hdWRpb1RyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCk7XG4gICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgIG9mZnNldCArPSBmcmFtZS5sZW5ndGg7XG4gICAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ1VuYWJsZSB0byBwYXJzZSBNcGVnIGF1ZGlvIGZyYW1lJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5vdGhpbmcgZm91bmQsIGtlZXAgbG9va2luZ1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VJRDNQRVMgPSBmdW5jdGlvbiBfcGFyc2VJRDNQRVMocGVzKSB7XG4gICAgdGhpcy5faWQzVHJhY2suc2FtcGxlcy5wdXNoKHBlcyk7XG4gIH07XG5cbiAgcmV0dXJuIFRTRGVtdXhlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgdHNkZW11eGVyID0gKHRzZGVtdXhlcl9UU0RlbXV4ZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGVtdXgvbXAzZGVtdXhlci5qc1xuZnVuY3Rpb24gbXAzZGVtdXhlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIE1QMyBkZW11eGVyXG4gKi9cblxuXG5cblxudmFyIG1wM2RlbXV4ZXJfTVAzRGVtdXhlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTVAzRGVtdXhlcihvYnNlcnZlciwgcmVtdXhlciwgY29uZmlnKSB7XG4gICAgbXAzZGVtdXhlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgTVAzRGVtdXhlcik7XG5cbiAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5yZW11eGVyID0gcmVtdXhlcjtcbiAgfVxuXG4gIE1QM0RlbXV4ZXIucHJvdG90eXBlLnJlc2V0SW5pdFNlZ21lbnQgPSBmdW5jdGlvbiByZXNldEluaXRTZWdtZW50KGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCBkdXJhdGlvbikge1xuICAgIHRoaXMuX2F1ZGlvVHJhY2sgPSB7IGNvbnRhaW5lcjogJ2F1ZGlvL21wZWcnLCB0eXBlOiAnYXVkaW8nLCBpZDogLTEsIHNlcXVlbmNlTnVtYmVyOiAwLCBpc0FBQzogZmFsc2UsIHNhbXBsZXM6IFtdLCBsZW46IDAsIG1hbmlmZXN0Q29kZWM6IGF1ZGlvQ29kZWMsIGR1cmF0aW9uOiBkdXJhdGlvbiwgaW5wdXRUaW1lU2NhbGU6IDkwMDAwIH07XG4gIH07XG5cbiAgTVAzRGVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiByZXNldFRpbWVTdGFtcCgpIHt9O1xuXG4gIE1QM0RlbXV4ZXIucHJvYmUgPSBmdW5jdGlvbiBwcm9iZShkYXRhKSB7XG4gICAgLy8gY2hlY2sgaWYgZGF0YSBjb250YWlucyBJRDMgdGltZXN0YW1wIGFuZCBNUEVHIHN5bmMgd29yZFxuICAgIHZhciBvZmZzZXQgPSB2b2lkIDAsXG4gICAgICAgIGxlbmd0aCA9IHZvaWQgMDtcbiAgICB2YXIgaWQzRGF0YSA9IGlkM1tcImFcIiAvKiBkZWZhdWx0ICovXS5nZXRJRDNEYXRhKGRhdGEsIDApO1xuICAgIGlmIChpZDNEYXRhICYmIGlkM1tcImFcIiAvKiBkZWZhdWx0ICovXS5nZXRUaW1lU3RhbXAoaWQzRGF0YSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gTG9vayBmb3IgTVBFRyBoZWFkZXIgfCAxMTExIDExMTEgfCAxMTFYIFhZWlggfCB3aGVyZSBYIGNhbiBiZSBlaXRoZXIgMCBvciAxIGFuZCBZIG9yIFogc2hvdWxkIGJlIDFcbiAgICAgIC8vIExheWVyIGJpdHMgKHBvc2l0aW9uIDE0IGFuZCAxNSkgaW4gaGVhZGVyIHNob3VsZCBiZSBhbHdheXMgZGlmZmVyZW50IGZyb20gMCAoTGF5ZXIgSSBvciBMYXllciBJSSBvciBMYXllciBJSUkpXG4gICAgICAvLyBNb3JlIGluZm8gaHR0cDovL3d3dy5tcDMtdGVjaC5vcmcvcHJvZ3JhbW1lci9mcmFtZV9oZWFkZXIuaHRtbFxuICAgICAgZm9yIChvZmZzZXQgPSBpZDNEYXRhLmxlbmd0aCwgbGVuZ3RoID0gTWF0aC5taW4oZGF0YS5sZW5ndGggLSAxLCBvZmZzZXQgKyAxMDApOyBvZmZzZXQgPCBsZW5ndGg7IG9mZnNldCsrKSB7XG4gICAgICAgIGlmIChtcGVnYXVkaW8ucHJvYmUoZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTVBFRyBBdWRpbyBzeW5jIHdvcmQgZm91bmQgIScpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvLyBmZWVkIGluY29taW5nIGRhdGEgdG8gdGhlIGZyb250IG9mIHRoZSBwYXJzaW5nIHBpcGVsaW5lXG5cblxuICBNUDNEZW11eGVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQoZGF0YSwgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgdmFyIGlkM0RhdGEgPSBpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uZ2V0SUQzRGF0YShkYXRhLCAwKTtcbiAgICB2YXIgdGltZXN0YW1wID0gaWQzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldFRpbWVTdGFtcChpZDNEYXRhKTtcbiAgICB2YXIgcHRzID0gdGltZXN0YW1wID8gOTAgKiB0aW1lc3RhbXAgOiB0aW1lT2Zmc2V0ICogOTAwMDA7XG4gICAgdmFyIG9mZnNldCA9IGlkM0RhdGEubGVuZ3RoO1xuICAgIHZhciBsZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICB2YXIgZnJhbWVJbmRleCA9IDAsXG4gICAgICAgIHN0YW1wID0gMDtcbiAgICB2YXIgdHJhY2sgPSB0aGlzLl9hdWRpb1RyYWNrO1xuXG4gICAgdmFyIGlkM1NhbXBsZXMgPSBbeyBwdHM6IHB0cywgZHRzOiBwdHMsIGRhdGE6IGlkM0RhdGEgfV07XG5cbiAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAobXBlZ2F1ZGlvLmlzSGVhZGVyKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgdmFyIGZyYW1lID0gbXBlZ2F1ZGlvLmFwcGVuZEZyYW1lKHRyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCk7XG4gICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgIG9mZnNldCArPSBmcmFtZS5sZW5ndGg7XG4gICAgICAgICAgc3RhbXAgPSBmcmFtZS5zYW1wbGUucHRzO1xuICAgICAgICAgIGZyYW1lSW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBsb2dnZXIubG9nKCdVbmFibGUgdG8gcGFyc2UgTXBlZyBhdWRpbyBmcmFtZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlkM1tcImFcIiAvKiBkZWZhdWx0ICovXS5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgIGlkM0RhdGEgPSBpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uZ2V0SUQzRGF0YShkYXRhLCBvZmZzZXQpO1xuICAgICAgICBpZDNTYW1wbGVzLnB1c2goeyBwdHM6IHN0YW1wLCBkdHM6IHN0YW1wLCBkYXRhOiBpZDNEYXRhIH0pO1xuICAgICAgICBvZmZzZXQgKz0gaWQzRGF0YS5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBub3RoaW5nIGZvdW5kLCBrZWVwIGxvb2tpbmdcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZW11eGVyLnJlbXV4KHRyYWNrLCB7IHNhbXBsZXM6IFtdIH0sIHsgc2FtcGxlczogaWQzU2FtcGxlcywgaW5wdXRUaW1lU2NhbGU6IDkwMDAwIH0sIHsgc2FtcGxlczogW10gfSwgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgfTtcblxuICBNUDNEZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHt9O1xuXG4gIHJldHVybiBNUDNEZW11eGVyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBtcDNkZW11eGVyID0gKG1wM2RlbXV4ZXJfTVAzRGVtdXhlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9yZW11eC9hYWMtaGVscGVyLmpzXG5mdW5jdGlvbiBhYWNfaGVscGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogIEFBQyBoZWxwZXJcbiAqL1xuXG52YXIgQUFDID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBQUMoKSB7XG4gICAgYWFjX2hlbHBlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQUFDKTtcbiAgfVxuXG4gIEFBQy5nZXRTaWxlbnRGcmFtZSA9IGZ1bmN0aW9uIGdldFNpbGVudEZyYW1lKGNvZGVjLCBjaGFubmVsQ291bnQpIHtcbiAgICBzd2l0Y2ggKGNvZGVjKSB7XG4gICAgICBjYXNlICdtcDRhLjQwLjInOlxuICAgICAgICBpZiAoY2hhbm5lbENvdW50ID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIzLCAweDgwXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAyKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDIxLCAweDAwLCAweDQ5LCAweDkwLCAweDAyLCAweDE5LCAweDAwLCAweDIzLCAweDgwXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAzKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDhlXSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA0KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDgwLCAweDJjLCAweDgwLCAweDA4LCAweDAyLCAweDM4XSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA1KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDgyLCAweDMwLCAweDA0LCAweDk5LCAweDAwLCAweDIxLCAweDkwLCAweDAyLCAweDM4XSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA2KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDgyLCAweDMwLCAweDA0LCAweDk5LCAweDAwLCAweDIxLCAweDkwLCAweDAyLCAweDAwLCAweGIyLCAweDAwLCAweDIwLCAweDA4LCAweGUwXSk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIC8vIGhhbmRsZSBIRS1BQUMgYmVsb3cgKG1wNGEuNDAuNSAvIG1wNGEuNDAuMjkpXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoY2hhbm5lbENvdW50ID09PSAxKSB7XG4gICAgICAgICAgLy8gZmZtcGVnIC15IC1mIGxhdmZpIC1pIFwiYWV2YWxzcmM9MDpkPTAuMDVcIiAtYzphIGxpYmZka19hYWMgLXByb2ZpbGU6YSBhYWNfaGUgLWI6YSA0ayBvdXRwdXQuYWFjICYmIGhleGR1bXAgLXYgLWUgJzE2LzEgXCIweCV4LFwiIFwiXFxuXCInIC12IG91dHB1dC5hYWNcbiAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MSwgMHg0MCwgMHgyMiwgMHg4MCwgMHhhMywgMHg0ZSwgMHhlNiwgMHg4MCwgMHhiYSwgMHg4LCAweDAsIDB4MCwgMHgwLCAweDFjLCAweDYsIDB4ZjEsIDB4YzEsIDB4YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1ZV0pO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gMikge1xuICAgICAgICAgIC8vIGZmbXBlZyAteSAtZiBsYXZmaSAtaSBcImFldmFsc3JjPTB8MDpkPTAuMDVcIiAtYzphIGxpYmZka19hYWMgLXByb2ZpbGU6YSBhYWNfaGVfdjIgLWI6YSA0ayBvdXRwdXQuYWFjICYmIGhleGR1bXAgLXYgLWUgJzE2LzEgXCIweCV4LFwiIFwiXFxuXCInIC12IG91dHB1dC5hYWNcbiAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MSwgMHg0MCwgMHgyMiwgMHg4MCwgMHhhMywgMHg1ZSwgMHhlNiwgMHg4MCwgMHhiYSwgMHg4LCAweDAsIDB4MCwgMHgwLCAweDAsIDB4OTUsIDB4MCwgMHg2LCAweGYxLCAweGExLCAweGEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWVdKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDMpIHtcbiAgICAgICAgICAvLyBmZm1wZWcgLXkgLWYgbGF2ZmkgLWkgXCJhZXZhbHNyYz0wfDB8MDpkPTAuMDVcIiAtYzphIGxpYmZka19hYWMgLXByb2ZpbGU6YSBhYWNfaGVfdjIgLWI6YSA0ayBvdXRwdXQuYWFjICYmIGhleGR1bXAgLXYgLWUgJzE2LzEgXCIweCV4LFwiIFwiXFxuXCInIC12IG91dHB1dC5hYWNcbiAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MSwgMHg0MCwgMHgyMiwgMHg4MCwgMHhhMywgMHg1ZSwgMHhlNiwgMHg4MCwgMHhiYSwgMHg4LCAweDAsIDB4MCwgMHgwLCAweDAsIDB4OTUsIDB4MCwgMHg2LCAweGYxLCAweGExLCAweGEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWVdKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEFBQztcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgYWFjX2hlbHBlciA9IChBQUMpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvcmVtdXgvbXA0LWdlbmVyYXRvci5qc1xuZnVuY3Rpb24gbXA0X2dlbmVyYXRvcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIEdlbmVyYXRlIE1QNCBCb3hcbiovXG5cbnZhciBVSU5UMzJfTUFYID0gTWF0aC5wb3coMiwgMzIpIC0gMTtcblxudmFyIE1QNCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTVA0KCkge1xuICAgIG1wNF9nZW5lcmF0b3JfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1QNCk7XG4gIH1cblxuICBNUDQuaW5pdCA9IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgTVA0LnR5cGVzID0ge1xuICAgICAgYXZjMTogW10sIC8vIGNvZGluZ25hbWVcbiAgICAgIGF2Y0M6IFtdLFxuICAgICAgYnRydDogW10sXG4gICAgICBkaW5mOiBbXSxcbiAgICAgIGRyZWY6IFtdLFxuICAgICAgZXNkczogW10sXG4gICAgICBmdHlwOiBbXSxcbiAgICAgIGhkbHI6IFtdLFxuICAgICAgbWRhdDogW10sXG4gICAgICBtZGhkOiBbXSxcbiAgICAgIG1kaWE6IFtdLFxuICAgICAgbWZoZDogW10sXG4gICAgICBtaW5mOiBbXSxcbiAgICAgIG1vb2Y6IFtdLFxuICAgICAgbW9vdjogW10sXG4gICAgICBtcDRhOiBbXSxcbiAgICAgICcubXAzJzogW10sXG4gICAgICBtdmV4OiBbXSxcbiAgICAgIG12aGQ6IFtdLFxuICAgICAgcGFzcDogW10sXG4gICAgICBzZHRwOiBbXSxcbiAgICAgIHN0Ymw6IFtdLFxuICAgICAgc3RjbzogW10sXG4gICAgICBzdHNjOiBbXSxcbiAgICAgIHN0c2Q6IFtdLFxuICAgICAgc3RzejogW10sXG4gICAgICBzdHRzOiBbXSxcbiAgICAgIHRmZHQ6IFtdLFxuICAgICAgdGZoZDogW10sXG4gICAgICB0cmFmOiBbXSxcbiAgICAgIHRyYWs6IFtdLFxuICAgICAgdHJ1bjogW10sXG4gICAgICB0cmV4OiBbXSxcbiAgICAgIHRraGQ6IFtdLFxuICAgICAgdm1oZDogW10sXG4gICAgICBzbWhkOiBbXVxuICAgIH07XG5cbiAgICB2YXIgaSA9IHZvaWQgMDtcbiAgICBmb3IgKGkgaW4gTVA0LnR5cGVzKSB7XG4gICAgICBpZiAoTVA0LnR5cGVzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIE1QNC50eXBlc1tpXSA9IFtpLmNoYXJDb2RlQXQoMCksIGkuY2hhckNvZGVBdCgxKSwgaS5jaGFyQ29kZUF0KDIpLCBpLmNoYXJDb2RlQXQoMyldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB2aWRlb0hkbHIgPSBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZFxuICAgIDB4NzYsIDB4NjksIDB4NjQsIDB4NjUsIC8vIGhhbmRsZXJfdHlwZTogJ3ZpZGUnXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHg1NiwgMHg2OSwgMHg2NCwgMHg2NSwgMHg2ZiwgMHg0OCwgMHg2MSwgMHg2ZSwgMHg2NCwgMHg2YywgMHg2NSwgMHg3MiwgMHgwMCAvLyBuYW1lOiAnVmlkZW9IYW5kbGVyJ1xuICAgIF0pO1xuXG4gICAgdmFyIGF1ZGlvSGRsciA9IG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHByZV9kZWZpbmVkXG4gICAgMHg3MywgMHg2ZiwgMHg3NSwgMHg2ZSwgLy8gaGFuZGxlcl90eXBlOiAnc291bidcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDUzLCAweDZmLCAweDc1LCAweDZlLCAweDY0LCAweDQ4LCAweDYxLCAweDZlLCAweDY0LCAweDZjLCAweDY1LCAweDcyLCAweDAwIC8vIG5hbWU6ICdTb3VuZEhhbmRsZXInXG4gICAgXSk7XG5cbiAgICBNUDQuSERMUl9UWVBFUyA9IHtcbiAgICAgICd2aWRlbyc6IHZpZGVvSGRscixcbiAgICAgICdhdWRpbyc6IGF1ZGlvSGRsclxuICAgIH07XG5cbiAgICB2YXIgZHJlZiA9IG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIC8vIGVudHJ5X2NvdW50XG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwYywgLy8gZW50cnlfc2l6ZVxuICAgIDB4NzUsIDB4NzIsIDB4NmMsIDB4MjAsIC8vICd1cmwnIHR5cGVcbiAgICAweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAweDAwLCAweDAwLCAweDAxIC8vIGVudHJ5X2ZsYWdzXG4gICAgXSk7XG5cbiAgICB2YXIgc3RjbyA9IG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwIC8vIGVudHJ5X2NvdW50XG4gICAgXSk7XG5cbiAgICBNUDQuU1RUUyA9IE1QNC5TVFNDID0gTVA0LlNUQ08gPSBzdGNvO1xuXG4gICAgTVA0LlNUU1ogPSBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvblxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gc2FtcGxlX3NpemVcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwIC8vIHNhbXBsZV9jb3VudFxuICAgIF0pO1xuICAgIE1QNC5WTUhEID0gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb25cbiAgICAweDAwLCAweDAwLCAweDAxLCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIC8vIGdyYXBoaWNzbW9kZVxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAgLy8gb3Bjb2xvclxuICAgIF0pO1xuICAgIE1QNC5TTUhEID0gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb25cbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIC8vIGJhbGFuY2VcbiAgICAweDAwLCAweDAwIC8vIHJlc2VydmVkXG4gICAgXSk7XG5cbiAgICBNUDQuU1RTRCA9IG5ldyBVaW50OEFycmF5KFsweDAwLCAvLyB2ZXJzaW9uIDBcbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBmbGFnc1xuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDFdKTsgLy8gZW50cnlfY291bnRcblxuICAgIHZhciBtYWpvckJyYW5kID0gbmV3IFVpbnQ4QXJyYXkoWzEwNSwgMTE1LCAxMTEsIDEwOV0pOyAvLyBpc29tXG4gICAgdmFyIGF2YzFCcmFuZCA9IG5ldyBVaW50OEFycmF5KFs5NywgMTE4LCA5OSwgNDldKTsgLy8gYXZjMVxuICAgIHZhciBtaW5vclZlcnNpb24gPSBuZXcgVWludDhBcnJheShbMCwgMCwgMCwgMV0pO1xuXG4gICAgTVA0LkZUWVAgPSBNUDQuYm94KE1QNC50eXBlcy5mdHlwLCBtYWpvckJyYW5kLCBtaW5vclZlcnNpb24sIG1ham9yQnJhbmQsIGF2YzFCcmFuZCk7XG4gICAgTVA0LkRJTkYgPSBNUDQuYm94KE1QNC50eXBlcy5kaW5mLCBNUDQuYm94KE1QNC50eXBlcy5kcmVmLCBkcmVmKSk7XG4gIH07XG5cbiAgTVA0LmJveCA9IGZ1bmN0aW9uIGJveCh0eXBlKSB7XG4gICAgdmFyIHBheWxvYWQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxuICAgICAgICBzaXplID0gOCxcbiAgICAgICAgaSA9IHBheWxvYWQubGVuZ3RoLFxuICAgICAgICBsZW4gPSBpLFxuICAgICAgICByZXN1bHQgPSB2b2lkIDA7XG4gICAgLy8gY2FsY3VsYXRlIHRoZSB0b3RhbCBzaXplIHdlIG5lZWQgdG8gYWxsb2NhdGVcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBzaXplICs9IHBheWxvYWRbaV0uYnl0ZUxlbmd0aDtcbiAgICB9XG5cbiAgICByZXN1bHQgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICByZXN1bHRbMF0gPSBzaXplID4+IDI0ICYgMHhmZjtcbiAgICByZXN1bHRbMV0gPSBzaXplID4+IDE2ICYgMHhmZjtcbiAgICByZXN1bHRbMl0gPSBzaXplID4+IDggJiAweGZmO1xuICAgIHJlc3VsdFszXSA9IHNpemUgJiAweGZmO1xuICAgIHJlc3VsdC5zZXQodHlwZSwgNCk7XG4gICAgLy8gY29weSB0aGUgcGF5bG9hZCBpbnRvIHRoZSByZXN1bHRcbiAgICBmb3IgKGkgPSAwLCBzaXplID0gODsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAvLyBjb3B5IHBheWxvYWRbaV0gYXJyYXkgQCBvZmZzZXQgc2l6ZVxuICAgICAgcmVzdWx0LnNldChwYXlsb2FkW2ldLCBzaXplKTtcbiAgICAgIHNpemUgKz0gcGF5bG9hZFtpXS5ieXRlTGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIE1QNC5oZGxyID0gZnVuY3Rpb24gaGRscih0eXBlKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLmhkbHIsIE1QNC5IRExSX1RZUEVTW3R5cGVdKTtcbiAgfTtcblxuICBNUDQubWRhdCA9IGZ1bmN0aW9uIG1kYXQoZGF0YSkge1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGF0LCBkYXRhKTtcbiAgfTtcblxuICBNUDQubWRoZCA9IGZ1bmN0aW9uIG1kaGQodGltZXNjYWxlLCBkdXJhdGlvbikge1xuICAgIGR1cmF0aW9uICo9IHRpbWVzY2FsZTtcbiAgICB2YXIgdXBwZXJXb3JkRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gKFVJTlQzMl9NQVggKyAxKSk7XG4gICAgdmFyIGxvd2VyV29yZER1cmF0aW9uID0gTWF0aC5mbG9vcihkdXJhdGlvbiAlIChVSU5UMzJfTUFYICsgMSkpO1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGhkLCBuZXcgVWludDhBcnJheShbMHgwMSwgLy8gdmVyc2lvbiAxXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAyLCAvLyBjcmVhdGlvbl90aW1lXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMywgLy8gbW9kaWZpY2F0aW9uX3RpbWVcbiAgICB0aW1lc2NhbGUgPj4gMjQgJiAweEZGLCB0aW1lc2NhbGUgPj4gMTYgJiAweEZGLCB0aW1lc2NhbGUgPj4gOCAmIDB4RkYsIHRpbWVzY2FsZSAmIDB4RkYsIC8vIHRpbWVzY2FsZVxuICAgIHVwcGVyV29yZER1cmF0aW9uID4+IDI0LCB1cHBlcldvcmREdXJhdGlvbiA+PiAxNiAmIDB4RkYsIHVwcGVyV29yZER1cmF0aW9uID4+IDggJiAweEZGLCB1cHBlcldvcmREdXJhdGlvbiAmIDB4RkYsIGxvd2VyV29yZER1cmF0aW9uID4+IDI0LCBsb3dlcldvcmREdXJhdGlvbiA+PiAxNiAmIDB4RkYsIGxvd2VyV29yZER1cmF0aW9uID4+IDggJiAweEZGLCBsb3dlcldvcmREdXJhdGlvbiAmIDB4RkYsIDB4NTUsIDB4YzQsIC8vICd1bmQnIGxhbmd1YWdlICh1bmRldGVybWluZWQpXG4gICAgMHgwMCwgMHgwMF0pKTtcbiAgfTtcblxuICBNUDQubWRpYSA9IGZ1bmN0aW9uIG1kaWEodHJhY2spIHtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWRpYSwgTVA0Lm1kaGQodHJhY2sudGltZXNjYWxlLCB0cmFjay5kdXJhdGlvbiksIE1QNC5oZGxyKHRyYWNrLnR5cGUpLCBNUDQubWluZih0cmFjaykpO1xuICB9O1xuXG4gIE1QNC5tZmhkID0gZnVuY3Rpb24gbWZoZChzZXF1ZW5jZU51bWJlcikge1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZmhkLCBuZXcgVWludDhBcnJheShbMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICBzZXF1ZW5jZU51bWJlciA+PiAyNCwgc2VxdWVuY2VOdW1iZXIgPj4gMTYgJiAweEZGLCBzZXF1ZW5jZU51bWJlciA+PiA4ICYgMHhGRiwgc2VxdWVuY2VOdW1iZXIgJiAweEZGIC8vIHNlcXVlbmNlX251bWJlclxuICAgIF0pKTtcbiAgfTtcblxuICBNUDQubWluZiA9IGZ1bmN0aW9uIG1pbmYodHJhY2spIHtcbiAgICBpZiAodHJhY2sudHlwZSA9PT0gJ2F1ZGlvJykge1xuICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1pbmYsIE1QNC5ib3goTVA0LnR5cGVzLnNtaGQsIE1QNC5TTUhEKSwgTVA0LkRJTkYsIE1QNC5zdGJsKHRyYWNrKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5taW5mLCBNUDQuYm94KE1QNC50eXBlcy52bWhkLCBNUDQuVk1IRCksIE1QNC5ESU5GLCBNUDQuc3RibCh0cmFjaykpO1xuICAgIH1cbiAgfTtcblxuICBNUDQubW9vZiA9IGZ1bmN0aW9uIG1vb2Yoc24sIGJhc2VNZWRpYURlY29kZVRpbWUsIHRyYWNrKSB7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1vb2YsIE1QNC5tZmhkKHNuKSwgTVA0LnRyYWYodHJhY2ssIGJhc2VNZWRpYURlY29kZVRpbWUpKTtcbiAgfTtcbiAgLyoqXG4gICogQHBhcmFtIHRyYWNrcy4uLiAob3B0aW9uYWwpIHthcnJheX0gdGhlIHRyYWNrcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBtb3ZpZVxuICAqL1xuXG5cbiAgTVA0Lm1vb3YgPSBmdW5jdGlvbiBtb292KHRyYWNrcykge1xuICAgIHZhciBpID0gdHJhY2tzLmxlbmd0aCxcbiAgICAgICAgYm94ZXMgPSBbXTtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGJveGVzW2ldID0gTVA0LnRyYWsodHJhY2tzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTVA0LmJveC5hcHBseShudWxsLCBbTVA0LnR5cGVzLm1vb3YsIE1QNC5tdmhkKHRyYWNrc1swXS50aW1lc2NhbGUsIHRyYWNrc1swXS5kdXJhdGlvbildLmNvbmNhdChib3hlcykuY29uY2F0KE1QNC5tdmV4KHRyYWNrcykpKTtcbiAgfTtcblxuICBNUDQubXZleCA9IGZ1bmN0aW9uIG12ZXgodHJhY2tzKSB7XG4gICAgdmFyIGkgPSB0cmFja3MubGVuZ3RoLFxuICAgICAgICBib3hlcyA9IFtdO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgYm94ZXNbaV0gPSBNUDQudHJleCh0cmFja3NbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiBNUDQuYm94LmFwcGx5KG51bGwsIFtNUDQudHlwZXMubXZleF0uY29uY2F0KGJveGVzKSk7XG4gIH07XG5cbiAgTVA0Lm12aGQgPSBmdW5jdGlvbiBtdmhkKHRpbWVzY2FsZSwgZHVyYXRpb24pIHtcbiAgICBkdXJhdGlvbiAqPSB0aW1lc2NhbGU7XG4gICAgdmFyIHVwcGVyV29yZER1cmF0aW9uID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIChVSU5UMzJfTUFYICsgMSkpO1xuICAgIHZhciBsb3dlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gJSAoVUlOVDMyX01BWCArIDEpKTtcbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShbMHgwMSwgLy8gdmVyc2lvbiAxXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAyLCAvLyBjcmVhdGlvbl90aW1lXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMywgLy8gbW9kaWZpY2F0aW9uX3RpbWVcbiAgICB0aW1lc2NhbGUgPj4gMjQgJiAweEZGLCB0aW1lc2NhbGUgPj4gMTYgJiAweEZGLCB0aW1lc2NhbGUgPj4gOCAmIDB4RkYsIHRpbWVzY2FsZSAmIDB4RkYsIC8vIHRpbWVzY2FsZVxuICAgIHVwcGVyV29yZER1cmF0aW9uID4+IDI0LCB1cHBlcldvcmREdXJhdGlvbiA+PiAxNiAmIDB4RkYsIHVwcGVyV29yZER1cmF0aW9uID4+IDggJiAweEZGLCB1cHBlcldvcmREdXJhdGlvbiAmIDB4RkYsIGxvd2VyV29yZER1cmF0aW9uID4+IDI0LCBsb3dlcldvcmREdXJhdGlvbiA+PiAxNiAmIDB4RkYsIGxvd2VyV29yZER1cmF0aW9uID4+IDggJiAweEZGLCBsb3dlcldvcmREdXJhdGlvbiAmIDB4RkYsIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsIC8vIDEuMCByYXRlXG4gICAgMHgwMSwgMHgwMCwgLy8gMS4wIHZvbHVtZVxuICAgIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHRyYW5zZm9ybWF0aW9uOiB1bml0eSBtYXRyaXhcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZFxuICAgIDB4ZmYsIDB4ZmYsIDB4ZmYsIDB4ZmYgLy8gbmV4dF90cmFja19JRFxuICAgIF0pO1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tdmhkLCBieXRlcyk7XG4gIH07XG5cbiAgTVA0LnNkdHAgPSBmdW5jdGlvbiBzZHRwKHRyYWNrKSB7XG4gICAgdmFyIHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzIHx8IFtdLFxuICAgICAgICBieXRlcyA9IG5ldyBVaW50OEFycmF5KDQgKyBzYW1wbGVzLmxlbmd0aCksXG4gICAgICAgIGZsYWdzID0gdm9pZCAwLFxuICAgICAgICBpID0gdm9pZCAwO1xuICAgIC8vIGxlYXZlIHRoZSBmdWxsIGJveCBoZWFkZXIgKDQgYnl0ZXMpIGFsbCB6ZXJvXG4gICAgLy8gd3JpdGUgdGhlIHNhbXBsZSB0YWJsZVxuICAgIGZvciAoaSA9IDA7IGkgPCBzYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmbGFncyA9IHNhbXBsZXNbaV0uZmxhZ3M7XG4gICAgICBieXRlc1tpICsgNF0gPSBmbGFncy5kZXBlbmRzT24gPDwgNCB8IGZsYWdzLmlzRGVwZW5kZWRPbiA8PCAyIHwgZmxhZ3MuaGFzUmVkdW5kYW5jeTtcbiAgICB9XG5cbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc2R0cCwgYnl0ZXMpO1xuICB9O1xuXG4gIE1QNC5zdGJsID0gZnVuY3Rpb24gc3RibCh0cmFjaykge1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5zdGJsLCBNUDQuc3RzZCh0cmFjayksIE1QNC5ib3goTVA0LnR5cGVzLnN0dHMsIE1QNC5TVFRTKSwgTVA0LmJveChNUDQudHlwZXMuc3RzYywgTVA0LlNUU0MpLCBNUDQuYm94KE1QNC50eXBlcy5zdHN6LCBNUDQuU1RTWiksIE1QNC5ib3goTVA0LnR5cGVzLnN0Y28sIE1QNC5TVENPKSk7XG4gIH07XG5cbiAgTVA0LmF2YzEgPSBmdW5jdGlvbiBhdmMxKHRyYWNrKSB7XG4gICAgdmFyIHNwcyA9IFtdLFxuICAgICAgICBwcHMgPSBbXSxcbiAgICAgICAgaSA9IHZvaWQgMCxcbiAgICAgICAgZGF0YSA9IHZvaWQgMCxcbiAgICAgICAgbGVuID0gdm9pZCAwO1xuICAgIC8vIGFzc2VtYmxlIHRoZSBTUFNzXG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdHJhY2suc3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkYXRhID0gdHJhY2suc3BzW2ldO1xuICAgICAgbGVuID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgc3BzLnB1c2gobGVuID4+PiA4ICYgMHhGRik7XG4gICAgICBzcHMucHVzaChsZW4gJiAweEZGKTtcblxuICAgICAgLy8gU1BTXG4gICAgICBzcHMgPSBzcHMuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGEpKTtcbiAgICB9XG5cbiAgICAvLyBhc3NlbWJsZSB0aGUgUFBTc1xuICAgIGZvciAoaSA9IDA7IGkgPCB0cmFjay5wcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRhdGEgPSB0cmFjay5wcHNbaV07XG4gICAgICBsZW4gPSBkYXRhLmJ5dGVMZW5ndGg7XG4gICAgICBwcHMucHVzaChsZW4gPj4+IDggJiAweEZGKTtcbiAgICAgIHBwcy5wdXNoKGxlbiAmIDB4RkYpO1xuXG4gICAgICBwcHMgPSBwcHMuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGEpKTtcbiAgICB9XG5cbiAgICB2YXIgYXZjYyA9IE1QNC5ib3goTVA0LnR5cGVzLmF2Y0MsIG5ldyBVaW50OEFycmF5KFsweDAxLCAvLyB2ZXJzaW9uXG4gICAgc3BzWzNdLCAvLyBwcm9maWxlXG4gICAgc3BzWzRdLCAvLyBwcm9maWxlIGNvbXBhdFxuICAgIHNwc1s1XSwgLy8gbGV2ZWxcbiAgICAweGZjIHwgMywgLy8gbGVuZ3RoU2l6ZU1pbnVzT25lLCBoYXJkLWNvZGVkIHRvIDQgYnl0ZXNcbiAgICAweEUwIHwgdHJhY2suc3BzLmxlbmd0aCAvLyAzYml0IHJlc2VydmVkICgxMTEpICsgbnVtT2ZTZXF1ZW5jZVBhcmFtZXRlclNldHNcbiAgICBdLmNvbmNhdChzcHMpLmNvbmNhdChbdHJhY2sucHBzLmxlbmd0aCAvLyBudW1PZlBpY3R1cmVQYXJhbWV0ZXJTZXRzXG4gICAgXSkuY29uY2F0KHBwcykpKSxcbiAgICAgICAgLy8gXCJQUFNcIlxuICAgIHdpZHRoID0gdHJhY2sud2lkdGgsXG4gICAgICAgIGhlaWdodCA9IHRyYWNrLmhlaWdodCxcbiAgICAgICAgaFNwYWNpbmcgPSB0cmFjay5waXhlbFJhdGlvWzBdLFxuICAgICAgICB2U3BhY2luZyA9IHRyYWNrLnBpeGVsUmF0aW9bMV07XG5cbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuYXZjMSwgbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAxLCAvLyBkYXRhX3JlZmVyZW5jZV9pbmRleFxuICAgIDB4MDAsIDB4MDAsIC8vIHByZV9kZWZpbmVkXG4gICAgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBwcmVfZGVmaW5lZFxuICAgIHdpZHRoID4+IDggJiAweEZGLCB3aWR0aCAmIDB4ZmYsIC8vIHdpZHRoXG4gICAgaGVpZ2h0ID4+IDggJiAweEZGLCBoZWlnaHQgJiAweGZmLCAvLyBoZWlnaHRcbiAgICAweDAwLCAweDQ4LCAweDAwLCAweDAwLCAvLyBob3JpenJlc29sdXRpb25cbiAgICAweDAwLCAweDQ4LCAweDAwLCAweDAwLCAvLyB2ZXJ0cmVzb2x1dGlvblxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMSwgLy8gZnJhbWVfY291bnRcbiAgICAweDEyLCAweDY0LCAweDYxLCAweDY5LCAweDZDLCAvLyBkYWlseW1vdGlvbi9obHMuanNcbiAgICAweDc5LCAweDZELCAweDZGLCAweDc0LCAweDY5LCAweDZGLCAweDZFLCAweDJGLCAweDY4LCAweDZDLCAweDczLCAweDJFLCAweDZBLCAweDczLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBjb21wcmVzc29ybmFtZVxuICAgIDB4MDAsIDB4MTgsIC8vIGRlcHRoID0gMjRcbiAgICAweDExLCAweDExXSksIC8vIHByZV9kZWZpbmVkID0gLTFcbiAgICBhdmNjLCBNUDQuYm94KE1QNC50eXBlcy5idHJ0LCBuZXcgVWludDhBcnJheShbMHgwMCwgMHgxYywgMHg5YywgMHg4MCwgLy8gYnVmZmVyU2l6ZURCXG4gICAgMHgwMCwgMHgyZCwgMHhjNiwgMHhjMCwgLy8gbWF4Qml0cmF0ZVxuICAgIDB4MDAsIDB4MmQsIDB4YzYsIDB4YzBdKSksIC8vIGF2Z0JpdHJhdGVcbiAgICBNUDQuYm94KE1QNC50eXBlcy5wYXNwLCBuZXcgVWludDhBcnJheShbaFNwYWNpbmcgPj4gMjQsIC8vIGhTcGFjaW5nXG4gICAgaFNwYWNpbmcgPj4gMTYgJiAweEZGLCBoU3BhY2luZyA+PiA4ICYgMHhGRiwgaFNwYWNpbmcgJiAweEZGLCB2U3BhY2luZyA+PiAyNCwgLy8gdlNwYWNpbmdcbiAgICB2U3BhY2luZyA+PiAxNiAmIDB4RkYsIHZTcGFjaW5nID4+IDggJiAweEZGLCB2U3BhY2luZyAmIDB4RkZdKSkpO1xuICB9O1xuXG4gIE1QNC5lc2RzID0gZnVuY3Rpb24gZXNkcyh0cmFjaykge1xuICAgIHZhciBjb25maWdsZW4gPSB0cmFjay5jb25maWcubGVuZ3RoO1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcblxuICAgIDB4MDMsIC8vIGRlc2NyaXB0b3JfdHlwZVxuICAgIDB4MTcgKyBjb25maWdsZW4sIC8vIGxlbmd0aFxuICAgIDB4MDAsIDB4MDEsIC8vIGVzX2lkXG4gICAgMHgwMCwgLy8gc3RyZWFtX3ByaW9yaXR5XG5cbiAgICAweDA0LCAvLyBkZXNjcmlwdG9yX3R5cGVcbiAgICAweDBmICsgY29uZmlnbGVuLCAvLyBsZW5ndGhcbiAgICAweDQwLCAvLyBjb2RlYyA6IG1wZWc0X2F1ZGlvXG4gICAgMHgxNSwgLy8gc3RyZWFtX3R5cGVcbiAgICAweDAwLCAweDAwLCAweDAwLCAvLyBidWZmZXJfc2l6ZVxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIC8vIG1heEJpdHJhdGVcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBhdmdCaXRyYXRlXG5cbiAgICAweDA1IC8vIGRlc2NyaXB0b3JfdHlwZVxuICAgIF0uY29uY2F0KFtjb25maWdsZW5dKS5jb25jYXQodHJhY2suY29uZmlnKS5jb25jYXQoWzB4MDYsIDB4MDEsIDB4MDJdKSk7IC8vIEdBU3BlY2lmaWNDb25maWcpKTsgLy8gbGVuZ3RoICsgYXVkaW8gY29uZmlnIGRlc2NyaXB0b3JcbiAgfTtcblxuICBNUDQubXA0YSA9IGZ1bmN0aW9uIG1wNGEodHJhY2spIHtcbiAgICB2YXIgc2FtcGxlcmF0ZSA9IHRyYWNrLnNhbXBsZXJhdGU7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1wNGEsIG5ldyBVaW50OEFycmF5KFsweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMSwgLy8gZGF0YV9yZWZlcmVuY2VfaW5kZXhcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIHRyYWNrLmNoYW5uZWxDb3VudCwgLy8gY2hhbm5lbGNvdW50XG4gICAgMHgwMCwgMHgxMCwgLy8gc2FtcGxlU2l6ZToxNmJpdHNcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZDJcbiAgICBzYW1wbGVyYXRlID4+IDggJiAweEZGLCBzYW1wbGVyYXRlICYgMHhmZiwgLy9cbiAgICAweDAwLCAweDAwXSksIE1QNC5ib3goTVA0LnR5cGVzLmVzZHMsIE1QNC5lc2RzKHRyYWNrKSkpO1xuICB9O1xuXG4gIE1QNC5tcDMgPSBmdW5jdGlvbiBtcDModHJhY2spIHtcbiAgICB2YXIgc2FtcGxlcmF0ZSA9IHRyYWNrLnNhbXBsZXJhdGU7XG4gICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzWycubXAzJ10sIG5ldyBVaW50OEFycmF5KFsweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMSwgLy8gZGF0YV9yZWZlcmVuY2VfaW5kZXhcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIHRyYWNrLmNoYW5uZWxDb3VudCwgLy8gY2hhbm5lbGNvdW50XG4gICAgMHgwMCwgMHgxMCwgLy8gc2FtcGxlU2l6ZToxNmJpdHNcbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZDJcbiAgICBzYW1wbGVyYXRlID4+IDggJiAweEZGLCBzYW1wbGVyYXRlICYgMHhmZiwgLy9cbiAgICAweDAwLCAweDAwXSkpO1xuICB9O1xuXG4gIE1QNC5zdHNkID0gZnVuY3Rpb24gc3RzZCh0cmFjaykge1xuICAgIGlmICh0cmFjay50eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICBpZiAoIXRyYWNrLmlzQUFDICYmIHRyYWNrLmNvZGVjID09PSAnbXAzJykge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc3RzZCwgTVA0LlNUU0QsIE1QNC5tcDModHJhY2spKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5TVFNELCBNUDQubXA0YSh0cmFjaykpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc3RzZCwgTVA0LlNUU0QsIE1QNC5hdmMxKHRyYWNrKSk7XG4gICAgfVxuICB9O1xuXG4gIE1QNC50a2hkID0gZnVuY3Rpb24gdGtoZCh0cmFjaykge1xuICAgIHZhciBpZCA9IHRyYWNrLmlkLFxuICAgICAgICBkdXJhdGlvbiA9IHRyYWNrLmR1cmF0aW9uICogdHJhY2sudGltZXNjYWxlLFxuICAgICAgICB3aWR0aCA9IHRyYWNrLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSB0cmFjay5oZWlnaHQsXG4gICAgICAgIHVwcGVyV29yZER1cmF0aW9uID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIChVSU5UMzJfTUFYICsgMSkpLFxuICAgICAgICBsb3dlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gJSAoVUlOVDMyX01BWCArIDEpKTtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudGtoZCwgbmV3IFVpbnQ4QXJyYXkoWzB4MDEsIC8vIHZlcnNpb24gMVxuICAgIDB4MDAsIDB4MDAsIDB4MDcsIC8vIGZsYWdzXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMiwgLy8gY3JlYXRpb25fdGltZVxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDMsIC8vIG1vZGlmaWNhdGlvbl90aW1lXG4gICAgaWQgPj4gMjQgJiAweEZGLCBpZCA+PiAxNiAmIDB4RkYsIGlkID4+IDggJiAweEZGLCBpZCAmIDB4RkYsIC8vIHRyYWNrX0lEXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gcmVzZXJ2ZWRcbiAgICB1cHBlcldvcmREdXJhdGlvbiA+PiAyNCwgdXBwZXJXb3JkRHVyYXRpb24gPj4gMTYgJiAweEZGLCB1cHBlcldvcmREdXJhdGlvbiA+PiA4ICYgMHhGRiwgdXBwZXJXb3JkRHVyYXRpb24gJiAweEZGLCBsb3dlcldvcmREdXJhdGlvbiA+PiAyNCwgbG93ZXJXb3JkRHVyYXRpb24gPj4gMTYgJiAweEZGLCBsb3dlcldvcmREdXJhdGlvbiA+PiA4ICYgMHhGRiwgbG93ZXJXb3JkRHVyYXRpb24gJiAweEZGLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyByZXNlcnZlZFxuICAgIDB4MDAsIDB4MDAsIC8vIGxheWVyXG4gICAgMHgwMCwgMHgwMCwgLy8gYWx0ZXJuYXRlX2dyb3VwXG4gICAgMHgwMCwgMHgwMCwgLy8gbm9uLWF1ZGlvIHRyYWNrIHZvbHVtZVxuICAgIDB4MDAsIDB4MDAsIC8vIHJlc2VydmVkXG4gICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHg0MCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gdHJhbnNmb3JtYXRpb246IHVuaXR5IG1hdHJpeFxuICAgIHdpZHRoID4+IDggJiAweEZGLCB3aWR0aCAmIDB4RkYsIDB4MDAsIDB4MDAsIC8vIHdpZHRoXG4gICAgaGVpZ2h0ID4+IDggJiAweEZGLCBoZWlnaHQgJiAweEZGLCAweDAwLCAweDAwIC8vIGhlaWdodFxuICAgIF0pKTtcbiAgfTtcblxuICBNUDQudHJhZiA9IGZ1bmN0aW9uIHRyYWYodHJhY2ssIGJhc2VNZWRpYURlY29kZVRpbWUpIHtcbiAgICB2YXIgc2FtcGxlRGVwZW5kZW5jeVRhYmxlID0gTVA0LnNkdHAodHJhY2spLFxuICAgICAgICBpZCA9IHRyYWNrLmlkLFxuICAgICAgICB1cHBlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID0gTWF0aC5mbG9vcihiYXNlTWVkaWFEZWNvZGVUaW1lIC8gKFVJTlQzMl9NQVggKyAxKSksXG4gICAgICAgIGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPSBNYXRoLmZsb29yKGJhc2VNZWRpYURlY29kZVRpbWUgJSAoVUlOVDMyX01BWCArIDEpKTtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJhZiwgTVA0LmJveChNUDQudHlwZXMudGZoZCwgbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIC8vIHZlcnNpb24gMFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgaWQgPj4gMjQsIGlkID4+IDE2ICYgMFhGRiwgaWQgPj4gOCAmIDBYRkYsIGlkICYgMHhGRl0pIC8vIHRyYWNrX0lEXG4gICAgKSwgTVA0LmJveChNUDQudHlwZXMudGZkdCwgbmV3IFVpbnQ4QXJyYXkoWzB4MDEsIC8vIHZlcnNpb24gMVxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIC8vIGZsYWdzXG4gICAgdXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA+PiAyNCwgdXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA+PiAxNiAmIDBYRkYsIHVwcGVyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPj4gOCAmIDBYRkYsIHVwcGVyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgJiAweEZGLCBsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDI0LCBsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDE2ICYgMFhGRiwgbG93ZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA+PiA4ICYgMFhGRiwgbG93ZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSAmIDB4RkZdKSksIE1QNC50cnVuKHRyYWNrLCBzYW1wbGVEZXBlbmRlbmN5VGFibGUubGVuZ3RoICsgMTYgKyAvLyB0ZmhkXG4gICAgMjAgKyAvLyB0ZmR0XG4gICAgOCArIC8vIHRyYWYgaGVhZGVyXG4gICAgMTYgKyAvLyBtZmhkXG4gICAgOCArIC8vIG1vb2YgaGVhZGVyXG4gICAgOCksIC8vIG1kYXQgaGVhZGVyXG4gICAgc2FtcGxlRGVwZW5kZW5jeVRhYmxlKTtcbiAgfTtcblxuICAvKipcbiAgICogR2VuZXJhdGUgYSB0cmFjayBib3guXG4gICAqIEBwYXJhbSB0cmFjayB7b2JqZWN0fSBhIHRyYWNrIGRlZmluaXRpb25cbiAgICogQHJldHVybiB7VWludDhBcnJheX0gdGhlIHRyYWNrIGJveFxuICAgKi9cblxuXG4gIE1QNC50cmFrID0gZnVuY3Rpb24gdHJhayh0cmFjaykge1xuICAgIHRyYWNrLmR1cmF0aW9uID0gdHJhY2suZHVyYXRpb24gfHwgMHhmZmZmZmZmZjtcbiAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJhaywgTVA0LnRraGQodHJhY2spLCBNUDQubWRpYSh0cmFjaykpO1xuICB9O1xuXG4gIE1QNC50cmV4ID0gZnVuY3Rpb24gdHJleCh0cmFjaykge1xuICAgIHZhciBpZCA9IHRyYWNrLmlkO1xuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50cmV4LCBuZXcgVWludDhBcnJheShbMHgwMCwgLy8gdmVyc2lvbiAwXG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZmxhZ3NcbiAgICBpZCA+PiAyNCwgaWQgPj4gMTYgJiAwWEZGLCBpZCA+PiA4ICYgMFhGRiwgaWQgJiAweEZGLCAvLyB0cmFja19JRFxuICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsIC8vIGRlZmF1bHRfc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4XG4gICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgLy8gZGVmYXVsdF9zYW1wbGVfZHVyYXRpb25cbiAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAvLyBkZWZhdWx0X3NhbXBsZV9zaXplXG4gICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMSAvLyBkZWZhdWx0X3NhbXBsZV9mbGFnc1xuICAgIF0pKTtcbiAgfTtcblxuICBNUDQudHJ1biA9IGZ1bmN0aW9uIHRydW4odHJhY2ssIG9mZnNldCkge1xuICAgIHZhciBzYW1wbGVzID0gdHJhY2suc2FtcGxlcyB8fCBbXSxcbiAgICAgICAgbGVuID0gc2FtcGxlcy5sZW5ndGgsXG4gICAgICAgIGFycmF5bGVuID0gMTIgKyAxNiAqIGxlbixcbiAgICAgICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheWxlbiksXG4gICAgICAgIGkgPSB2b2lkIDAsXG4gICAgICAgIHNhbXBsZSA9IHZvaWQgMCxcbiAgICAgICAgZHVyYXRpb24gPSB2b2lkIDAsXG4gICAgICAgIHNpemUgPSB2b2lkIDAsXG4gICAgICAgIGZsYWdzID0gdm9pZCAwLFxuICAgICAgICBjdHMgPSB2b2lkIDA7XG4gICAgb2Zmc2V0ICs9IDggKyBhcnJheWxlbjtcbiAgICBhcnJheS5zZXQoWzB4MDAsIC8vIHZlcnNpb24gMFxuICAgIDB4MDAsIDB4MGYsIDB4MDEsIC8vIGZsYWdzXG4gICAgbGVuID4+PiAyNCAmIDB4RkYsIGxlbiA+Pj4gMTYgJiAweEZGLCBsZW4gPj4+IDggJiAweEZGLCBsZW4gJiAweEZGLCAvLyBzYW1wbGVfY291bnRcbiAgICBvZmZzZXQgPj4+IDI0ICYgMHhGRiwgb2Zmc2V0ID4+PiAxNiAmIDB4RkYsIG9mZnNldCA+Pj4gOCAmIDB4RkYsIG9mZnNldCAmIDB4RkYgLy8gZGF0YV9vZmZzZXRcbiAgICBdLCAwKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHNhbXBsZSA9IHNhbXBsZXNbaV07XG4gICAgICBkdXJhdGlvbiA9IHNhbXBsZS5kdXJhdGlvbjtcbiAgICAgIHNpemUgPSBzYW1wbGUuc2l6ZTtcbiAgICAgIGZsYWdzID0gc2FtcGxlLmZsYWdzO1xuICAgICAgY3RzID0gc2FtcGxlLmN0cztcbiAgICAgIGFycmF5LnNldChbZHVyYXRpb24gPj4+IDI0ICYgMHhGRiwgZHVyYXRpb24gPj4+IDE2ICYgMHhGRiwgZHVyYXRpb24gPj4+IDggJiAweEZGLCBkdXJhdGlvbiAmIDB4RkYsIC8vIHNhbXBsZV9kdXJhdGlvblxuICAgICAgc2l6ZSA+Pj4gMjQgJiAweEZGLCBzaXplID4+PiAxNiAmIDB4RkYsIHNpemUgPj4+IDggJiAweEZGLCBzaXplICYgMHhGRiwgLy8gc2FtcGxlX3NpemVcbiAgICAgIGZsYWdzLmlzTGVhZGluZyA8PCAyIHwgZmxhZ3MuZGVwZW5kc09uLCBmbGFncy5pc0RlcGVuZGVkT24gPDwgNiB8IGZsYWdzLmhhc1JlZHVuZGFuY3kgPDwgNCB8IGZsYWdzLnBhZGRpbmdWYWx1ZSA8PCAxIHwgZmxhZ3MuaXNOb25TeW5jLCBmbGFncy5kZWdyYWRQcmlvICYgMHhGMCA8PCA4LCBmbGFncy5kZWdyYWRQcmlvICYgMHgwRiwgLy8gc2FtcGxlX2ZsYWdzXG4gICAgICBjdHMgPj4+IDI0ICYgMHhGRiwgY3RzID4+PiAxNiAmIDB4RkYsIGN0cyA+Pj4gOCAmIDB4RkYsIGN0cyAmIDB4RkYgLy8gc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0XG4gICAgICBdLCAxMiArIDE2ICogaSk7XG4gICAgfVxuICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50cnVuLCBhcnJheSk7XG4gIH07XG5cbiAgTVA0LmluaXRTZWdtZW50ID0gZnVuY3Rpb24gaW5pdFNlZ21lbnQodHJhY2tzKSB7XG4gICAgaWYgKCFNUDQudHlwZXMpIHtcbiAgICAgIE1QNC5pbml0KCk7XG4gICAgfVxuXG4gICAgdmFyIG1vdmllID0gTVA0Lm1vb3YodHJhY2tzKSxcbiAgICAgICAgcmVzdWx0ID0gdm9pZCAwO1xuICAgIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KE1QNC5GVFlQLmJ5dGVMZW5ndGggKyBtb3ZpZS5ieXRlTGVuZ3RoKTtcbiAgICByZXN1bHQuc2V0KE1QNC5GVFlQKTtcbiAgICByZXN1bHQuc2V0KG1vdmllLCBNUDQuRlRZUC5ieXRlTGVuZ3RoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHJldHVybiBNUDQ7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIG1wNF9nZW5lcmF0b3IgPSAoTVA0KTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3JlbXV4L21wNC1yZW11eGVyLmpzXG5mdW5jdGlvbiBtcDRfcmVtdXhlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIGZNUDQgcmVtdXhlclxuKi9cblxuXG5cblxuXG5cblxuXG5cbi8vIDEwIHNlY29uZHNcbnZhciBNQVhfU0lMRU5UX0ZSQU1FX0RVUkFUSU9OID0gMTAgKiAxMDAwO1xuXG52YXIgbXA0X3JlbXV4ZXJfTVA0UmVtdXhlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTVA0UmVtdXhlcihvYnNlcnZlciwgY29uZmlnLCB0eXBlU3VwcG9ydGVkLCB2ZW5kb3IpIHtcbiAgICBtcDRfcmVtdXhlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgTVA0UmVtdXhlcik7XG5cbiAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy50eXBlU3VwcG9ydGVkID0gdHlwZVN1cHBvcnRlZDtcbiAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICB0aGlzLmlzU2FmYXJpID0gdmVuZG9yICYmIHZlbmRvci5pbmRleE9mKCdBcHBsZScpID4gLTEgJiYgdXNlckFnZW50ICYmICF1c2VyQWdlbnQubWF0Y2goJ0NyaU9TJyk7XG4gICAgdGhpcy5JU0dlbmVyYXRlZCA9IGZhbHNlO1xuICB9XG5cbiAgTVA0UmVtdXhlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7fTtcblxuICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZXNldFRpbWVTdGFtcCA9IGZ1bmN0aW9uIHJlc2V0VGltZVN0YW1wKGRlZmF1bHRUaW1lU3RhbXApIHtcbiAgICB0aGlzLl9pbml0UFRTID0gdGhpcy5faW5pdERUUyA9IGRlZmF1bHRUaW1lU3RhbXA7XG4gIH07XG5cbiAgTVA0UmVtdXhlci5wcm90b3R5cGUucmVzZXRJbml0U2VnbWVudCA9IGZ1bmN0aW9uIHJlc2V0SW5pdFNlZ21lbnQoKSB7XG4gICAgdGhpcy5JU0dlbmVyYXRlZCA9IGZhbHNlO1xuICB9O1xuXG4gIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4ID0gZnVuY3Rpb24gcmVtdXgoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgLy8gZ2VuZXJhdGUgSW5pdCBTZWdtZW50IGlmIG5lZWRlZFxuICAgIGlmICghdGhpcy5JU0dlbmVyYXRlZCkge1xuICAgICAgdGhpcy5nZW5lcmF0ZUlTKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIHRpbWVPZmZzZXQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLklTR2VuZXJhdGVkKSB7XG4gICAgICB2YXIgbmJBdWRpb1NhbXBsZXMgPSBhdWRpb1RyYWNrLnNhbXBsZXMubGVuZ3RoO1xuICAgICAgdmFyIG5iVmlkZW9TYW1wbGVzID0gdmlkZW9UcmFjay5zYW1wbGVzLmxlbmd0aDtcbiAgICAgIHZhciBhdWRpb1RpbWVPZmZzZXQgPSB0aW1lT2Zmc2V0O1xuICAgICAgdmFyIHZpZGVvVGltZU9mZnNldCA9IHRpbWVPZmZzZXQ7XG4gICAgICBpZiAobmJBdWRpb1NhbXBsZXMgJiYgbmJWaWRlb1NhbXBsZXMpIHtcbiAgICAgICAgLy8gdGltZU9mZnNldCBpcyBleHBlY3RlZCB0byBiZSB0aGUgb2Zmc2V0IG9mIHRoZSBmaXJzdCB0aW1lc3RhbXAgb2YgdGhpcyBmcmFnbWVudCAoZmlyc3QgRFRTKVxuICAgICAgICAvLyBpZiBmaXJzdCBhdWRpbyBEVFMgaXMgbm90IGFsaWduZWQgd2l0aCBmaXJzdCB2aWRlbyBEVFMgdGhlbiB3ZSBuZWVkIHRvIHRha2UgdGhhdCBpbnRvIGFjY291bnRcbiAgICAgICAgLy8gd2hlbiBwcm92aWRpbmcgdGltZU9mZnNldCB0byByZW11eEF1ZGlvIC8gcmVtdXhWaWRlby4gaWYgd2UgZG9uJ3QgZG8gdGhhdCwgdGhlcmUgbWlnaHQgYmUgYSBwZXJtYW5lbnQgLyBzbWFsbFxuICAgICAgICAvLyBkcmlmdCBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlbyBzdHJlYW1zXG4gICAgICAgIHZhciBhdWRpb3ZpZGVvRGVsdGFEdHMgPSAoYXVkaW9UcmFjay5zYW1wbGVzWzBdLmR0cyAtIHZpZGVvVHJhY2suc2FtcGxlc1swXS5kdHMpIC8gdmlkZW9UcmFjay5pbnB1dFRpbWVTY2FsZTtcbiAgICAgICAgYXVkaW9UaW1lT2Zmc2V0ICs9IE1hdGgubWF4KDAsIGF1ZGlvdmlkZW9EZWx0YUR0cyk7XG4gICAgICAgIHZpZGVvVGltZU9mZnNldCArPSBNYXRoLm1heCgwLCAtYXVkaW92aWRlb0RlbHRhRHRzKTtcbiAgICAgIH1cbiAgICAgIC8vIFB1cnBvc2VmdWxseSByZW11eGluZyBhdWRpbyBiZWZvcmUgdmlkZW8sIHNvIHRoYXQgcmVtdXhWaWRlbyBjYW4gdXNlIG5leHRBdWRpb1B0cywgd2hpY2ggaXNcbiAgICAgIC8vIGNhbGN1bGF0ZWQgaW4gcmVtdXhBdWRpby5cbiAgICAgIC8vIGxvZ2dlci5sb2coJ25iIEFBQyBzYW1wbGVzOicgKyBhdWRpb1RyYWNrLnNhbXBsZXMubGVuZ3RoKTtcbiAgICAgIGlmIChuYkF1ZGlvU2FtcGxlcykge1xuICAgICAgICAvLyBpZiBpbml0U2VnbWVudCB3YXMgZ2VuZXJhdGVkIHdpdGhvdXQgdmlkZW8gc2FtcGxlcywgcmVnZW5lcmF0ZSBpdCBhZ2FpblxuICAgICAgICBpZiAoIWF1ZGlvVHJhY2sudGltZXNjYWxlKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybigncmVnZW5lcmF0ZSBJbml0U2VnbWVudCBhcyBhdWRpbyBkZXRlY3RlZCcpO1xuICAgICAgICAgIHRoaXMuZ2VuZXJhdGVJUyhhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCB0aW1lT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXVkaW9EYXRhID0gdGhpcy5yZW11eEF1ZGlvKGF1ZGlvVHJhY2ssIGF1ZGlvVGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgICAgLy8gbG9nZ2VyLmxvZygnbmIgQVZDIHNhbXBsZXM6JyArIHZpZGVvVHJhY2suc2FtcGxlcy5sZW5ndGgpO1xuICAgICAgICBpZiAobmJWaWRlb1NhbXBsZXMpIHtcbiAgICAgICAgICB2YXIgYXVkaW9UcmFja0xlbmd0aCA9IHZvaWQgMDtcbiAgICAgICAgICBpZiAoYXVkaW9EYXRhKSB7XG4gICAgICAgICAgICBhdWRpb1RyYWNrTGVuZ3RoID0gYXVkaW9EYXRhLmVuZFBUUyAtIGF1ZGlvRGF0YS5zdGFydFBUUztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBpZiBpbml0U2VnbWVudCB3YXMgZ2VuZXJhdGVkIHdpdGhvdXQgdmlkZW8gc2FtcGxlcywgcmVnZW5lcmF0ZSBpdCBhZ2FpblxuICAgICAgICAgIGlmICghdmlkZW9UcmFjay50aW1lc2NhbGUpIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ3JlZ2VuZXJhdGUgSW5pdFNlZ21lbnQgYXMgdmlkZW8gZGV0ZWN0ZWQnKTtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVJUyhhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCB0aW1lT2Zmc2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5yZW11eFZpZGVvKHZpZGVvVHJhY2ssIHZpZGVvVGltZU9mZnNldCwgY29udGlndW91cywgYXVkaW9UcmFja0xlbmd0aCwgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbG9nZ2VyLmxvZygnbmIgQVZDIHNhbXBsZXM6JyArIHZpZGVvVHJhY2suc2FtcGxlcy5sZW5ndGgpO1xuICAgICAgICBpZiAobmJWaWRlb1NhbXBsZXMpIHtcbiAgICAgICAgICB2YXIgdmlkZW9EYXRhID0gdGhpcy5yZW11eFZpZGVvKHZpZGVvVHJhY2ssIHZpZGVvVGltZU9mZnNldCwgY29udGlndW91cywgMCwgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgICAgICBpZiAodmlkZW9EYXRhICYmIGF1ZGlvVHJhY2suY29kZWMpIHtcbiAgICAgICAgICAgIHRoaXMucmVtdXhFbXB0eUF1ZGlvKGF1ZGlvVHJhY2ssIGF1ZGlvVGltZU9mZnNldCwgY29udGlndW91cywgdmlkZW9EYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gbG9nZ2VyLmxvZygnbmIgSUQzIHNhbXBsZXM6JyArIGF1ZGlvVHJhY2suc2FtcGxlcy5sZW5ndGgpO1xuICAgIGlmIChpZDNUcmFjay5zYW1wbGVzLmxlbmd0aCkge1xuICAgICAgdGhpcy5yZW11eElEMyhpZDNUcmFjaywgdGltZU9mZnNldCk7XG4gICAgfVxuXG4gICAgLy8gbG9nZ2VyLmxvZygnbmIgSUQzIHNhbXBsZXM6JyArIGF1ZGlvVHJhY2suc2FtcGxlcy5sZW5ndGgpO1xuICAgIGlmICh0ZXh0VHJhY2suc2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMucmVtdXhUZXh0KHRleHRUcmFjaywgdGltZU9mZnNldCk7XG4gICAgfVxuXG4gICAgLy8gbm90aWZ5IGVuZCBvZiBwYXJzaW5nXG4gICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNFRCk7XG4gIH07XG5cbiAgTVA0UmVtdXhlci5wcm90b3R5cGUuZ2VuZXJhdGVJUyA9IGZ1bmN0aW9uIGdlbmVyYXRlSVMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgdGltZU9mZnNldCkge1xuICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXIsXG4gICAgICAgIGF1ZGlvU2FtcGxlcyA9IGF1ZGlvVHJhY2suc2FtcGxlcyxcbiAgICAgICAgdmlkZW9TYW1wbGVzID0gdmlkZW9UcmFjay5zYW1wbGVzLFxuICAgICAgICB0eXBlU3VwcG9ydGVkID0gdGhpcy50eXBlU3VwcG9ydGVkLFxuICAgICAgICBjb250YWluZXIgPSAnYXVkaW8vbXA0JyxcbiAgICAgICAgdHJhY2tzID0ge30sXG4gICAgICAgIGRhdGEgPSB7IHRyYWNrczogdHJhY2tzIH0sXG4gICAgICAgIGNvbXB1dGVQVFNEVFMgPSB0aGlzLl9pbml0UFRTID09PSB1bmRlZmluZWQsXG4gICAgICAgIGluaXRQVFMgPSB2b2lkIDAsXG4gICAgICAgIGluaXREVFMgPSB2b2lkIDA7XG5cbiAgICBpZiAoY29tcHV0ZVBUU0RUUykge1xuICAgICAgaW5pdFBUUyA9IGluaXREVFMgPSBJbmZpbml0eTtcbiAgICB9XG5cbiAgICBpZiAoYXVkaW9UcmFjay5jb25maWcgJiYgYXVkaW9TYW1wbGVzLmxlbmd0aCkge1xuICAgICAgLy8gbGV0J3MgdXNlIGF1ZGlvIHNhbXBsaW5nIHJhdGUgYXMgTVA0IHRpbWUgc2NhbGUuXG4gICAgICAvLyByYXRpb25hbGUgaXMgdGhhdCB0aGVyZSBpcyBhIGludGVnZXIgbmIgb2YgYXVkaW8gZnJhbWVzIHBlciBhdWRpbyBzYW1wbGUgKDEwMjQgZm9yIEFBQylcbiAgICAgIC8vIHVzaW5nIGF1ZGlvIHNhbXBsaW5nIHJhdGUgaGVyZSBoZWxwcyBoYXZpbmcgYW4gaW50ZWdlciBNUDQgZnJhbWUgZHVyYXRpb25cbiAgICAgIC8vIHRoaXMgYXZvaWRzIHBvdGVudGlhbCByb3VuZGluZyBpc3N1ZSBhbmQgQVYgc3luYyBpc3N1ZVxuICAgICAgYXVkaW9UcmFjay50aW1lc2NhbGUgPSBhdWRpb1RyYWNrLnNhbXBsZXJhdGU7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2F1ZGlvIHNhbXBsaW5nIHJhdGUgOiAnICsgYXVkaW9UcmFjay5zYW1wbGVyYXRlKTtcbiAgICAgIGlmICghYXVkaW9UcmFjay5pc0FBQykge1xuICAgICAgICBpZiAodHlwZVN1cHBvcnRlZC5tcGVnKSB7XG4gICAgICAgICAgLy8gQ2hyb21lIGFuZCBTYWZhcmlcbiAgICAgICAgICBjb250YWluZXIgPSAnYXVkaW8vbXBlZyc7XG4gICAgICAgICAgYXVkaW9UcmFjay5jb2RlYyA9ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVTdXBwb3J0ZWQubXAzKSB7XG4gICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgIGF1ZGlvVHJhY2suY29kZWMgPSAnbXAzJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdHJhY2tzLmF1ZGlvID0ge1xuICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgY29kZWM6IGF1ZGlvVHJhY2suY29kZWMsXG4gICAgICAgIGluaXRTZWdtZW50OiAhYXVkaW9UcmFjay5pc0FBQyAmJiB0eXBlU3VwcG9ydGVkLm1wZWcgPyBuZXcgVWludDhBcnJheSgpIDogbXA0X2dlbmVyYXRvci5pbml0U2VnbWVudChbYXVkaW9UcmFja10pLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIGNoYW5uZWxDb3VudDogYXVkaW9UcmFjay5jaGFubmVsQ291bnRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmIChjb21wdXRlUFRTRFRTKSB7XG4gICAgICAgIC8vIHJlbWVtYmVyIGZpcnN0IFBUUyBvZiB0aGlzIGRlbXV4aW5nIGNvbnRleHQuIGZvciBhdWRpbywgUFRTID0gRFRTXG4gICAgICAgIGluaXRQVFMgPSBpbml0RFRTID0gYXVkaW9TYW1wbGVzWzBdLnB0cyAtIGF1ZGlvVHJhY2suaW5wdXRUaW1lU2NhbGUgKiB0aW1lT2Zmc2V0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2aWRlb1RyYWNrLnNwcyAmJiB2aWRlb1RyYWNrLnBwcyAmJiB2aWRlb1NhbXBsZXMubGVuZ3RoKSB7XG4gICAgICAvLyBsZXQncyB1c2UgaW5wdXQgdGltZSBzY2FsZSBhcyBNUDQgdmlkZW8gdGltZXNjYWxlXG4gICAgICAvLyB3ZSB1c2UgaW5wdXQgdGltZSBzY2FsZSBzdHJhaWdodCBhd2F5IHRvIGF2b2lkIHJvdW5kaW5nIGlzc3VlcyBvbiBmcmFtZSBkdXJhdGlvbiAvIGN0cyBjb21wdXRhdGlvblxuICAgICAgdmFyIGlucHV0VGltZVNjYWxlID0gdmlkZW9UcmFjay5pbnB1dFRpbWVTY2FsZTtcbiAgICAgIHZpZGVvVHJhY2sudGltZXNjYWxlID0gaW5wdXRUaW1lU2NhbGU7XG4gICAgICB0cmFja3MudmlkZW8gPSB7XG4gICAgICAgIGNvbnRhaW5lcjogJ3ZpZGVvL21wNCcsXG4gICAgICAgIGNvZGVjOiB2aWRlb1RyYWNrLmNvZGVjLFxuICAgICAgICBpbml0U2VnbWVudDogbXA0X2dlbmVyYXRvci5pbml0U2VnbWVudChbdmlkZW9UcmFja10pLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIHdpZHRoOiB2aWRlb1RyYWNrLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogdmlkZW9UcmFjay5oZWlnaHRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmIChjb21wdXRlUFRTRFRTKSB7XG4gICAgICAgIGluaXRQVFMgPSBNYXRoLm1pbihpbml0UFRTLCB2aWRlb1NhbXBsZXNbMF0ucHRzIC0gaW5wdXRUaW1lU2NhbGUgKiB0aW1lT2Zmc2V0KTtcbiAgICAgICAgaW5pdERUUyA9IE1hdGgubWluKGluaXREVFMsIHZpZGVvU2FtcGxlc1swXS5kdHMgLSBpbnB1dFRpbWVTY2FsZSAqIHRpbWVPZmZzZXQpO1xuICAgICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLklOSVRfUFRTX0ZPVU5ELCB7IGluaXRQVFM6IGluaXRQVFMgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5rZXlzKHRyYWNrcykubGVuZ3RoKSB7XG4gICAgICBvYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfSU5JVF9TRUdNRU5ULCBkYXRhKTtcbiAgICAgIHRoaXMuSVNHZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgaWYgKGNvbXB1dGVQVFNEVFMpIHtcbiAgICAgICAgdGhpcy5faW5pdFBUUyA9IGluaXRQVFM7XG4gICAgICAgIHRoaXMuX2luaXREVFMgPSBpbml0RFRTO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfUEFSU0lOR19FUlJPUiwgZmF0YWw6IGZhbHNlLCByZWFzb246ICdubyBhdWRpby92aWRlbyBzYW1wbGVzIGZvdW5kJyB9KTtcbiAgICB9XG4gIH07XG5cbiAgTVA0UmVtdXhlci5wcm90b3R5cGUucmVtdXhWaWRlbyA9IGZ1bmN0aW9uIHJlbXV4VmlkZW8odHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGF1ZGlvVHJhY2tMZW5ndGgsIGFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgIHZhciBvZmZzZXQgPSA4LFxuICAgICAgICB0aW1lU2NhbGUgPSB0cmFjay50aW1lc2NhbGUsXG4gICAgICAgIG1wNFNhbXBsZUR1cmF0aW9uID0gdm9pZCAwLFxuICAgICAgICBtZGF0ID0gdm9pZCAwLFxuICAgICAgICBtb29mID0gdm9pZCAwLFxuICAgICAgICBmaXJzdFBUUyA9IHZvaWQgMCxcbiAgICAgICAgZmlyc3REVFMgPSB2b2lkIDAsXG4gICAgICAgIG5leHREVFMgPSB2b2lkIDAsXG4gICAgICAgIGxhc3RQVFMgPSB2b2lkIDAsXG4gICAgICAgIGxhc3REVFMgPSB2b2lkIDAsXG4gICAgICAgIGlucHV0U2FtcGxlcyA9IHRyYWNrLnNhbXBsZXMsXG4gICAgICAgIG91dHB1dFNhbXBsZXMgPSBbXSxcbiAgICAgICAgbmJTYW1wbGVzID0gaW5wdXRTYW1wbGVzLmxlbmd0aCxcbiAgICAgICAgcHRzTm9ybWFsaXplID0gdGhpcy5fUFRTTm9ybWFsaXplLFxuICAgICAgICBpbml0RFRTID0gdGhpcy5faW5pdERUUztcblxuICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhY2suc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgIC8vICAgbGV0IGF2Y1NhbXBsZSA9IHRyYWNrLnNhbXBsZXNbaV07XG4gICAgLy8gICBsZXQgdW5pdHMgPSBhdmNTYW1wbGUudW5pdHM7XG4gICAgLy8gICBsZXQgdW5pdHNTdHJpbmcgPSAnJztcbiAgICAvLyAgIGZvciAobGV0IGogPSAwOyBqIDwgdW5pdHMubGVuZ3RoIDsgaisrKSB7XG4gICAgLy8gICAgIHVuaXRzU3RyaW5nICs9IHVuaXRzW2pdLnR5cGUgKyAnLCc7XG4gICAgLy8gICAgIGlmICh1bml0c1tqXS5kYXRhLmxlbmd0aCA8IDUwMCkge1xuICAgIC8vICAgICAgIHVuaXRzU3RyaW5nICs9IEhleC5oZXhEdW1wKHVuaXRzW2pdLmRhdGEpO1xuICAgIC8vICAgICB9XG4gICAgLy8gICB9XG4gICAgLy8gICBsb2dnZXIubG9nKGF2Y1NhbXBsZS5wdHMgKyAnLycgKyBhdmNTYW1wbGUuZHRzICsgJywnICsgdW5pdHNTdHJpbmcgKyBhdmNTYW1wbGUudW5pdHMubGVuZ3RoKTtcbiAgICAvLyB9XG5cbiAgICAvLyBpZiBwYXJzZWQgZnJhZ21lbnQgaXMgY29udGlndW91cyB3aXRoIGxhc3Qgb25lLCBsZXQncyB1c2UgbGFzdCBEVFMgdmFsdWUgYXMgcmVmZXJlbmNlXG4gICAgdmFyIG5leHRBdmNEdHMgPSB0aGlzLm5leHRBdmNEdHM7XG5cbiAgICB2YXIgaXNTYWZhcmkgPSB0aGlzLmlzU2FmYXJpO1xuXG4gICAgaWYgKG5iU2FtcGxlcyA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNhZmFyaSBkb2VzIG5vdCBsaWtlIG92ZXJsYXBwaW5nIERUUyBvbiBjb25zZWN1dGl2ZSBmcmFnbWVudHMuIGxldCdzIHVzZSBuZXh0QXZjRHRzIHRvIG92ZXJjb21lIHRoaXMgaWYgZnJhZ21lbnRzIGFyZSBjb25zZWN1dGl2ZVxuICAgIGlmIChpc1NhZmFyaSkge1xuICAgICAgLy8gYWxzbyBjb25zaWRlciBjb25zZWN1dGl2ZSBmcmFnbWVudHMgYXMgYmVpbmcgY29udGlndW91cyAoZXZlbiBpZiBhIGxldmVsIHN3aXRjaCBvY2N1cnMpLFxuICAgICAgLy8gZm9yIHNha2Ugb2YgY2xhcml0eTpcbiAgICAgIC8vIGNvbnNlY3V0aXZlIGZyYWdtZW50cyBhcmUgZnJhZ3Mgd2l0aFxuICAgICAgLy8gIC0gbGVzcyB0aGFuIDEwMG1zIGdhcHMgYmV0d2VlbiBuZXcgdGltZSBvZmZzZXQgKGlmIGFjY3VyYXRlKSBhbmQgbmV4dCBleHBlY3RlZCBQVFMgT1JcbiAgICAgIC8vICAtIGxlc3MgdGhhbiAyMDAgbXMgUFRTIGdhcHMgKHRpbWVTY2FsZS81KVxuICAgICAgY29udGlndW91cyB8PSBpbnB1dFNhbXBsZXMubGVuZ3RoICYmIG5leHRBdmNEdHMgJiYgKGFjY3VyYXRlVGltZU9mZnNldCAmJiBNYXRoLmFicyh0aW1lT2Zmc2V0IC0gbmV4dEF2Y0R0cyAvIHRpbWVTY2FsZSkgPCAwLjEgfHwgTWF0aC5hYnMoaW5wdXRTYW1wbGVzWzBdLnB0cyAtIG5leHRBdmNEdHMgLSBpbml0RFRTKSA8IHRpbWVTY2FsZSAvIDUpO1xuICAgIH1cblxuICAgIGlmICghY29udGlndW91cykge1xuICAgICAgLy8gaWYgbm90IGNvbnRpZ3VvdXMsIGxldCdzIHVzZSB0YXJnZXQgdGltZU9mZnNldFxuICAgICAgbmV4dEF2Y0R0cyA9IHRpbWVPZmZzZXQgKiB0aW1lU2NhbGU7XG4gICAgfVxuXG4gICAgLy8gUFRTIGlzIGNvZGVkIG9uIDMzYml0cywgYW5kIGNhbiBsb29wIGZyb20gLTJeMzIgdG8gMl4zMlxuICAgIC8vIHB0c05vcm1hbGl6ZSB3aWxsIG1ha2UgUFRTL0RUUyB2YWx1ZSBtb25vdG9uaWMsIHdlIHVzZSBsYXN0IGtub3duIERUUyB2YWx1ZSBhcyByZWZlcmVuY2UgdmFsdWVcbiAgICBpbnB1dFNhbXBsZXMuZm9yRWFjaChmdW5jdGlvbiAoc2FtcGxlKSB7XG4gICAgICBzYW1wbGUucHRzID0gcHRzTm9ybWFsaXplKHNhbXBsZS5wdHMgLSBpbml0RFRTLCBuZXh0QXZjRHRzKTtcbiAgICAgIHNhbXBsZS5kdHMgPSBwdHNOb3JtYWxpemUoc2FtcGxlLmR0cyAtIGluaXREVFMsIG5leHRBdmNEdHMpO1xuICAgIH0pO1xuXG4gICAgLy8gc29ydCB2aWRlbyBzYW1wbGVzIGJ5IERUUyB0aGVuIFBUUyB0aGVuIGRlbXV4IGlkIG9yZGVyXG4gICAgaW5wdXRTYW1wbGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHZhciBkZWx0YWR0cyA9IGEuZHRzIC0gYi5kdHM7XG4gICAgICB2YXIgZGVsdGFwdHMgPSBhLnB0cyAtIGIucHRzO1xuICAgICAgcmV0dXJuIGRlbHRhZHRzIHx8IGRlbHRhcHRzIHx8IGEuaWQgLSBiLmlkO1xuICAgIH0pO1xuXG4gICAgLy8gaGFuZGxlIGJyb2tlbiBzdHJlYW1zIHdpdGggUFRTIDwgRFRTLCB0b2xlcmFuY2UgdXAgMjAwbXMgKDE4MDAwIGluIDkwa0h6IHRpbWVzY2FsZSlcbiAgICB2YXIgUFRTRFRTc2hpZnQgPSBpbnB1dFNhbXBsZXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4ocHJldiwgY3Vyci5wdHMgLSBjdXJyLmR0cyksIC0xODAwMCk7XG4gICAgfSwgMCk7XG4gICAgaWYgKFBUU0RUU3NoaWZ0IDwgMCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignUFRTIDwgRFRTIGRldGVjdGVkIGluIHZpZGVvIHNhbXBsZXMsIHNoaWZ0aW5nIERUUyBieSAnICsgTWF0aC5yb3VuZChQVFNEVFNzaGlmdCAvIDkwKSArICcgbXMgdG8gb3ZlcmNvbWUgdGhpcyBpc3N1ZScpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dFNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5wdXRTYW1wbGVzW2ldLmR0cyArPSBQVFNEVFNzaGlmdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb21wdXRlIGZpcnN0IERUUyBhbmQgbGFzdCBEVFMsIG5vcm1hbGl6ZSB0aGVtIGFnYWluc3QgcmVmZXJlbmNlIHZhbHVlXG4gICAgdmFyIHNhbXBsZSA9IGlucHV0U2FtcGxlc1swXTtcbiAgICBmaXJzdERUUyA9IE1hdGgubWF4KHNhbXBsZS5kdHMsIDApO1xuICAgIGZpcnN0UFRTID0gTWF0aC5tYXgoc2FtcGxlLnB0cywgMCk7XG5cbiAgICAvLyBjaGVjayB0aW1lc3RhbXAgY29udGludWl0eSBhY2Nyb3NzIGNvbnNlY3V0aXZlIGZyYWdtZW50cyAodGhpcyBpcyB0byByZW1vdmUgaW50ZXItZnJhZ21lbnQgZ2FwL2hvbGUpXG4gICAgdmFyIGRlbHRhID0gTWF0aC5yb3VuZCgoZmlyc3REVFMgLSBuZXh0QXZjRHRzKSAvIDkwKTtcbiAgICAvLyBpZiBmcmFnbWVudCBhcmUgY29udGlndW91cywgZGV0ZWN0IGhvbGUvb3ZlcmxhcHBpbmcgYmV0d2VlbiBmcmFnbWVudHNcbiAgICBpZiAoY29udGlndW91cykge1xuICAgICAgaWYgKGRlbHRhKSB7XG4gICAgICAgIGlmIChkZWx0YSA+IDEpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0FWQzonICsgZGVsdGEgKyAnIG1zIGhvbGUgYmV0d2VlbiBmcmFnbWVudHMgZGV0ZWN0ZWQsZmlsbGluZyBpdCcpO1xuICAgICAgICB9IGVsc2UgaWYgKGRlbHRhIDwgLTEpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0FWQzonICsgLWRlbHRhICsgJyBtcyBvdmVybGFwcGluZyBiZXR3ZWVuIGZyYWdtZW50cyBkZXRlY3RlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGhvbGUvZ2FwIDogc2V0IERUUyB0byBuZXh0IGV4cGVjdGVkIERUU1xuICAgICAgICBmaXJzdERUUyA9IG5leHRBdmNEdHM7XG4gICAgICAgIGlucHV0U2FtcGxlc1swXS5kdHMgPSBmaXJzdERUUztcbiAgICAgICAgLy8gb2Zmc2V0IFBUUyBhcyB3ZWxsLCBlbnN1cmUgdGhhdCBQVFMgaXMgc21hbGxlciBvciBlcXVhbCB0aGFuIG5ldyBEVFNcbiAgICAgICAgZmlyc3RQVFMgPSBNYXRoLm1heChmaXJzdFBUUyAtIGRlbHRhLCBuZXh0QXZjRHRzKTtcbiAgICAgICAgaW5wdXRTYW1wbGVzWzBdLnB0cyA9IGZpcnN0UFRTO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1ZpZGVvL1BUUy9EVFMgYWRqdXN0ZWQ6ICcgKyBNYXRoLnJvdW5kKGZpcnN0UFRTIC8gOTApICsgJy8nICsgTWF0aC5yb3VuZChmaXJzdERUUyAvIDkwKSArICcsZGVsdGE6JyArIGRlbHRhICsgJyBtcycpO1xuICAgICAgfVxuICAgIH1cbiAgICBuZXh0RFRTID0gZmlyc3REVFM7XG5cbiAgICAvLyBjb21wdXRlIGxhc3RQVFMvbGFzdERUU1xuICAgIHNhbXBsZSA9IGlucHV0U2FtcGxlc1tpbnB1dFNhbXBsZXMubGVuZ3RoIC0gMV07XG4gICAgbGFzdERUUyA9IE1hdGgubWF4KHNhbXBsZS5kdHMsIDApO1xuICAgIGxhc3RQVFMgPSBNYXRoLm1heChzYW1wbGUucHRzLCAwLCBsYXN0RFRTKTtcblxuICAgIC8vIG9uIFNhZmFyaSBsZXQncyBzaWduYWwgdGhlIHNhbWUgc2FtcGxlIGR1cmF0aW9uIGZvciBhbGwgc2FtcGxlc1xuICAgIC8vIHNhbXBsZSBkdXJhdGlvbiAoYXMgZXhwZWN0ZWQgYnkgdHJ1biBNUDQgYm94ZXMpLCBzaG91bGQgYmUgdGhlIGRlbHRhIGJldHdlZW4gc2FtcGxlIERUU1xuICAgIC8vIHNldCB0aGlzIGNvbnN0YW50IGR1cmF0aW9uIGFzIGJlaW5nIHRoZSBhdmcgZGVsdGEgYmV0d2VlbiBjb25zZWN1dGl2ZSBEVFMuXG4gICAgaWYgKGlzU2FmYXJpKSB7XG4gICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IE1hdGgucm91bmQoKGxhc3REVFMgLSBmaXJzdERUUykgLyAoaW5wdXRTYW1wbGVzLmxlbmd0aCAtIDEpKTtcbiAgICB9XG5cbiAgICB2YXIgbmJOYWx1ID0gMCxcbiAgICAgICAgbmFsdUxlbiA9IDA7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG5iU2FtcGxlczsgX2krKykge1xuICAgICAgLy8gY29tcHV0ZSB0b3RhbC9hdmMgc2FtcGxlIGxlbmd0aCBhbmQgbmIgb2YgTkFMIHVuaXRzXG4gICAgICB2YXIgX3NhbXBsZSA9IGlucHV0U2FtcGxlc1tfaV0sXG4gICAgICAgICAgdW5pdHMgPSBfc2FtcGxlLnVuaXRzLFxuICAgICAgICAgIG5iVW5pdHMgPSB1bml0cy5sZW5ndGgsXG4gICAgICAgICAgc2FtcGxlTGVuID0gMDtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmJVbml0czsgaisrKSB7XG4gICAgICAgIHNhbXBsZUxlbiArPSB1bml0c1tqXS5kYXRhLmxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgbmFsdUxlbiArPSBzYW1wbGVMZW47XG4gICAgICBuYk5hbHUgKz0gbmJVbml0cztcbiAgICAgIF9zYW1wbGUubGVuZ3RoID0gc2FtcGxlTGVuO1xuXG4gICAgICAvLyBub3JtYWxpemUgUFRTL0RUU1xuICAgICAgaWYgKGlzU2FmYXJpKSB7XG4gICAgICAgIC8vIHNhbXBsZSBEVFMgaXMgY29tcHV0ZWQgdXNpbmcgYSBjb25zdGFudCBkZWNvZGluZyBvZmZzZXQgKG1wNFNhbXBsZUR1cmF0aW9uKSBiZXR3ZWVuIHNhbXBsZXNcbiAgICAgICAgX3NhbXBsZS5kdHMgPSBmaXJzdERUUyArIF9pICogbXA0U2FtcGxlRHVyYXRpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlbnN1cmUgc2FtcGxlIG1vbm90b25pYyBEVFNcbiAgICAgICAgX3NhbXBsZS5kdHMgPSBNYXRoLm1heChfc2FtcGxlLmR0cywgZmlyc3REVFMpO1xuICAgICAgfVxuICAgICAgLy8gZW5zdXJlIHRoYXQgY29tcHV0ZWQgdmFsdWUgaXMgZ3JlYXRlciBvciBlcXVhbCB0aGFuIHNhbXBsZSBEVFNcbiAgICAgIF9zYW1wbGUucHRzID0gTWF0aC5tYXgoX3NhbXBsZS5wdHMsIF9zYW1wbGUuZHRzKTtcbiAgICB9XG5cbiAgICAvKiBjb25jYXRlbmF0ZSB0aGUgdmlkZW8gZGF0YSBhbmQgY29uc3RydWN0IHRoZSBtZGF0IGluIHBsYWNlXG4gICAgICAobmVlZCA4IG1vcmUgYnl0ZXMgdG8gZmlsbCBsZW5ndGggYW5kIG1wZGF0IHR5cGUpICovXG4gICAgdmFyIG1kYXRTaXplID0gbmFsdUxlbiArIDQgKiBuYk5hbHUgKyA4O1xuICAgIHRyeSB7XG4gICAgICBtZGF0ID0gbmV3IFVpbnQ4QXJyYXkobWRhdFNpemUpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTVVYX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5SRU1VWF9BTExPQ19FUlJPUiwgZmF0YWw6IGZhbHNlLCBieXRlczogbWRhdFNpemUsIHJlYXNvbjogJ2ZhaWwgYWxsb2NhdGluZyB2aWRlbyBtZGF0ICcgKyBtZGF0U2l6ZSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcobWRhdC5idWZmZXIpO1xuICAgIHZpZXcuc2V0VWludDMyKDAsIG1kYXRTaXplKTtcbiAgICBtZGF0LnNldChtcDRfZ2VuZXJhdG9yLnR5cGVzLm1kYXQsIDQpO1xuXG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgbmJTYW1wbGVzOyBfaTIrKykge1xuICAgICAgdmFyIGF2Y1NhbXBsZSA9IGlucHV0U2FtcGxlc1tfaTJdLFxuICAgICAgICAgIGF2Y1NhbXBsZVVuaXRzID0gYXZjU2FtcGxlLnVuaXRzLFxuICAgICAgICAgIG1wNFNhbXBsZUxlbmd0aCA9IDAsXG4gICAgICAgICAgY29tcG9zaXRpb25UaW1lT2Zmc2V0ID0gdm9pZCAwO1xuICAgICAgLy8gY29udmVydCBOQUxVIGJpdHN0cmVhbSB0byBNUDQgZm9ybWF0IChwcmVwZW5kIE5BTFUgd2l0aCBzaXplIGZpZWxkKVxuICAgICAgZm9yICh2YXIgX2ogPSAwLCBfbmJVbml0cyA9IGF2Y1NhbXBsZVVuaXRzLmxlbmd0aDsgX2ogPCBfbmJVbml0czsgX2orKykge1xuICAgICAgICB2YXIgdW5pdCA9IGF2Y1NhbXBsZVVuaXRzW19qXSxcbiAgICAgICAgICAgIHVuaXREYXRhID0gdW5pdC5kYXRhLFxuICAgICAgICAgICAgdW5pdERhdGFMZW4gPSB1bml0LmRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgdmlldy5zZXRVaW50MzIob2Zmc2V0LCB1bml0RGF0YUxlbik7XG4gICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICBtZGF0LnNldCh1bml0RGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IHVuaXREYXRhTGVuO1xuICAgICAgICBtcDRTYW1wbGVMZW5ndGggKz0gNCArIHVuaXREYXRhTGVuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzU2FmYXJpKSB7XG4gICAgICAgIC8vIGV4cGVjdGVkIHNhbXBsZSBkdXJhdGlvbiBpcyB0aGUgRGVjb2RpbmcgVGltZXN0YW1wIGRpZmYgb2YgY29uc2VjdXRpdmUgc2FtcGxlc1xuICAgICAgICBpZiAoX2kyIDwgbmJTYW1wbGVzIC0gMSkge1xuICAgICAgICAgIG1wNFNhbXBsZUR1cmF0aW9uID0gaW5wdXRTYW1wbGVzW19pMiArIDFdLmR0cyAtIGF2Y1NhbXBsZS5kdHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnLFxuICAgICAgICAgICAgICBsYXN0RnJhbWVEdXJhdGlvbiA9IGF2Y1NhbXBsZS5kdHMgLSBpbnB1dFNhbXBsZXNbX2kyID4gMCA/IF9pMiAtIDEgOiBfaTJdLmR0cztcbiAgICAgICAgICBpZiAoY29uZmlnLnN0cmV0Y2hTaG9ydFZpZGVvVHJhY2spIHtcbiAgICAgICAgICAgIC8vIEluIHNvbWUgY2FzZXMsIGEgc2VnbWVudCdzIGF1ZGlvIHRyYWNrIGR1cmF0aW9uIG1heSBleGNlZWQgdGhlIHZpZGVvIHRyYWNrIGR1cmF0aW9uLlxuICAgICAgICAgICAgLy8gU2luY2Ugd2UndmUgYWxyZWFkeSByZW11eGVkIGF1ZGlvLCBhbmQgd2Uga25vdyBob3cgbG9uZyB0aGUgYXVkaW8gdHJhY2sgaXMsIHdlIGxvb2sgdG9cbiAgICAgICAgICAgIC8vIHNlZSBpZiB0aGUgZGVsdGEgdG8gdGhlIG5leHQgc2VnbWVudCBpcyBsb25nZXIgdGhhbiBtYXhCdWZmZXJIb2xlLlxuICAgICAgICAgICAgLy8gSWYgc28sIHBsYXliYWNrIHdvdWxkIHBvdGVudGlhbGx5IGdldCBzdHVjaywgc28gd2UgYXJ0aWZpY2lhbGx5IGluZmxhdGVcbiAgICAgICAgICAgIC8vIHRoZSBkdXJhdGlvbiBvZiB0aGUgbGFzdCBmcmFtZSB0byBtaW5pbWl6ZSBhbnkgcG90ZW50aWFsIGdhcCBiZXR3ZWVuIHNlZ21lbnRzLlxuICAgICAgICAgICAgdmFyIG1heEJ1ZmZlckhvbGUgPSBjb25maWcubWF4QnVmZmVySG9sZSxcbiAgICAgICAgICAgICAgICBnYXBUb2xlcmFuY2UgPSBNYXRoLmZsb29yKG1heEJ1ZmZlckhvbGUgKiB0aW1lU2NhbGUpLFxuICAgICAgICAgICAgICAgIGRlbHRhVG9GcmFtZUVuZCA9IChhdWRpb1RyYWNrTGVuZ3RoID8gZmlyc3RQVFMgKyBhdWRpb1RyYWNrTGVuZ3RoICogdGltZVNjYWxlIDogdGhpcy5uZXh0QXVkaW9QdHMpIC0gYXZjU2FtcGxlLnB0cztcbiAgICAgICAgICAgIGlmIChkZWx0YVRvRnJhbWVFbmQgPiBnYXBUb2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgLy8gV2Ugc3VidHJhY3QgbGFzdEZyYW1lRHVyYXRpb24gZnJvbSBkZWx0YVRvRnJhbWVFbmQgdG8gdHJ5IHRvIHByZXZlbnQgYW55IHZpZGVvXG4gICAgICAgICAgICAgIC8vIGZyYW1lIG92ZXJsYXAuIG1heEJ1ZmZlckhvbGUgc2hvdWxkIGJlID4+IGxhc3RGcmFtZUR1cmF0aW9uIGFueXdheS5cbiAgICAgICAgICAgICAgbXA0U2FtcGxlRHVyYXRpb24gPSBkZWx0YVRvRnJhbWVFbmQgLSBsYXN0RnJhbWVEdXJhdGlvbjtcbiAgICAgICAgICAgICAgaWYgKG1wNFNhbXBsZUR1cmF0aW9uIDwgMCkge1xuICAgICAgICAgICAgICAgIG1wNFNhbXBsZUR1cmF0aW9uID0gbGFzdEZyYW1lRHVyYXRpb247XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0l0IGlzIGFwcHJveGltYXRlbHkgJyArIGRlbHRhVG9GcmFtZUVuZCAvIDkwICsgJyBtcyB0byB0aGUgbmV4dCBzZWdtZW50OyB1c2luZyBkdXJhdGlvbiAnICsgbXA0U2FtcGxlRHVyYXRpb24gLyA5MCArICcgbXMgZm9yIHRoZSBsYXN0IHZpZGVvIGZyYW1lLicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbXA0U2FtcGxlRHVyYXRpb24gPSBsYXN0RnJhbWVEdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbXA0U2FtcGxlRHVyYXRpb24gPSBsYXN0RnJhbWVEdXJhdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29tcG9zaXRpb25UaW1lT2Zmc2V0ID0gTWF0aC5yb3VuZChhdmNTYW1wbGUucHRzIC0gYXZjU2FtcGxlLmR0cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wb3NpdGlvblRpbWVPZmZzZXQgPSBNYXRoLm1heCgwLCBtcDRTYW1wbGVEdXJhdGlvbiAqIE1hdGgucm91bmQoKGF2Y1NhbXBsZS5wdHMgLSBhdmNTYW1wbGUuZHRzKSAvIG1wNFNhbXBsZUR1cmF0aW9uKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbnNvbGUubG9nKCdQVFMvRFRTL2luaXREVFMvbm9ybVBUUy9ub3JtRFRTL3JlbGF0aXZlIFBUUyA6ICR7YXZjU2FtcGxlLnB0c30vJHthdmNTYW1wbGUuZHRzfS8ke2luaXREVFN9LyR7cHRzbm9ybX0vJHtkdHNub3JtfS8keyhhdmNTYW1wbGUucHRzLzQyOTQ5NjcyOTYpLnRvRml4ZWQoMyl9Jyk7XG4gICAgICBvdXRwdXRTYW1wbGVzLnB1c2goe1xuICAgICAgICBzaXplOiBtcDRTYW1wbGVMZW5ndGgsXG4gICAgICAgIC8vIGNvbnN0YW50IGR1cmF0aW9uXG4gICAgICAgIGR1cmF0aW9uOiBtcDRTYW1wbGVEdXJhdGlvbixcbiAgICAgICAgY3RzOiBjb21wb3NpdGlvblRpbWVPZmZzZXQsXG4gICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgaXNMZWFkaW5nOiAwLFxuICAgICAgICAgIGlzRGVwZW5kZWRPbjogMCxcbiAgICAgICAgICBoYXNSZWR1bmRhbmN5OiAwLFxuICAgICAgICAgIGRlZ3JhZFByaW86IDAsXG4gICAgICAgICAgZGVwZW5kc09uOiBhdmNTYW1wbGUua2V5ID8gMiA6IDEsXG4gICAgICAgICAgaXNOb25TeW5jOiBhdmNTYW1wbGUua2V5ID8gMCA6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIG5leHQgQVZDIHNhbXBsZSBEVFMgc2hvdWxkIGJlIGVxdWFsIHRvIGxhc3Qgc2FtcGxlIERUUyArIGxhc3Qgc2FtcGxlIGR1cmF0aW9uIChpbiBQRVMgdGltZXNjYWxlKVxuICAgIHRoaXMubmV4dEF2Y0R0cyA9IGxhc3REVFMgKyBtcDRTYW1wbGVEdXJhdGlvbjtcbiAgICB2YXIgZHJvcHBlZCA9IHRyYWNrLmRyb3BwZWQ7XG4gICAgdHJhY2subGVuID0gMDtcbiAgICB0cmFjay5uYk5hbHUgPSAwO1xuICAgIHRyYWNrLmRyb3BwZWQgPSAwO1xuICAgIGlmIChvdXRwdXRTYW1wbGVzLmxlbmd0aCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSkge1xuICAgICAgdmFyIGZsYWdzID0gb3V0cHV0U2FtcGxlc1swXS5mbGFncztcbiAgICAgIC8vIGNocm9tZSB3b3JrYXJvdW5kLCBtYXJrIGZpcnN0IHNhbXBsZSBhcyBiZWluZyBhIFJhbmRvbSBBY2Nlc3MgUG9pbnQgdG8gYXZvaWQgc291cmNlYnVmZmVyIGFwcGVuZCBpc3N1ZVxuICAgICAgLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTIyOTQxMlxuICAgICAgZmxhZ3MuZGVwZW5kc09uID0gMjtcbiAgICAgIGZsYWdzLmlzTm9uU3luYyA9IDA7XG4gICAgfVxuICAgIHRyYWNrLnNhbXBsZXMgPSBvdXRwdXRTYW1wbGVzO1xuICAgIG1vb2YgPSBtcDRfZ2VuZXJhdG9yLm1vb2YodHJhY2suc2VxdWVuY2VOdW1iZXIrKywgZmlyc3REVFMsIHRyYWNrKTtcbiAgICB0cmFjay5zYW1wbGVzID0gW107XG5cbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIGRhdGExOiBtb29mLFxuICAgICAgZGF0YTI6IG1kYXQsXG4gICAgICBzdGFydFBUUzogZmlyc3RQVFMgLyB0aW1lU2NhbGUsXG4gICAgICBlbmRQVFM6IChsYXN0UFRTICsgbXA0U2FtcGxlRHVyYXRpb24pIC8gdGltZVNjYWxlLFxuICAgICAgc3RhcnREVFM6IGZpcnN0RFRTIC8gdGltZVNjYWxlLFxuICAgICAgZW5kRFRTOiB0aGlzLm5leHRBdmNEdHMgLyB0aW1lU2NhbGUsXG4gICAgICB0eXBlOiAndmlkZW8nLFxuICAgICAgaGFzQXVkaW86IGZhbHNlLFxuICAgICAgaGFzVmlkZW86IHRydWUsXG4gICAgICBuYjogb3V0cHV0U2FtcGxlcy5sZW5ndGgsXG4gICAgICBkcm9wcGVkOiBkcm9wcGVkXG4gICAgfTtcbiAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19EQVRBLCBkYXRhKTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZW11eEF1ZGlvID0gZnVuY3Rpb24gcmVtdXhBdWRpbyh0cmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgdmFyIGlucHV0VGltZVNjYWxlID0gdHJhY2suaW5wdXRUaW1lU2NhbGUsXG4gICAgICAgIG1wNHRpbWVTY2FsZSA9IHRyYWNrLnRpbWVzY2FsZSxcbiAgICAgICAgc2NhbGVGYWN0b3IgPSBpbnB1dFRpbWVTY2FsZSAvIG1wNHRpbWVTY2FsZSxcbiAgICAgICAgbXA0U2FtcGxlRHVyYXRpb24gPSB0cmFjay5pc0FBQyA/IDEwMjQgOiAxMTUyLFxuICAgICAgICBpbnB1dFNhbXBsZUR1cmF0aW9uID0gbXA0U2FtcGxlRHVyYXRpb24gKiBzY2FsZUZhY3RvcixcbiAgICAgICAgcHRzTm9ybWFsaXplID0gdGhpcy5fUFRTTm9ybWFsaXplLFxuICAgICAgICBpbml0RFRTID0gdGhpcy5faW5pdERUUyxcbiAgICAgICAgcmF3TVBFRyA9ICF0cmFjay5pc0FBQyAmJiB0aGlzLnR5cGVTdXBwb3J0ZWQubXBlZztcblxuICAgIHZhciBvZmZzZXQgPSB2b2lkIDAsXG4gICAgICAgIG1wNFNhbXBsZSA9IHZvaWQgMCxcbiAgICAgICAgZmlsbEZyYW1lID0gdm9pZCAwLFxuICAgICAgICBtZGF0ID0gdm9pZCAwLFxuICAgICAgICBtb29mID0gdm9pZCAwLFxuICAgICAgICBmaXJzdFBUUyA9IHZvaWQgMCxcbiAgICAgICAgbGFzdFBUUyA9IHZvaWQgMCxcbiAgICAgICAgaW5wdXRTYW1wbGVzID0gdHJhY2suc2FtcGxlcyxcbiAgICAgICAgb3V0cHV0U2FtcGxlcyA9IFtdLFxuICAgICAgICBuZXh0QXVkaW9QdHMgPSB0aGlzLm5leHRBdWRpb1B0cztcblxuICAgIC8vIGZvciBhdWRpbyBzYW1wbGVzLCBhbHNvIGNvbnNpZGVyIGNvbnNlY3V0aXZlIGZyYWdtZW50cyBhcyBiZWluZyBjb250aWd1b3VzIChldmVuIGlmIGEgbGV2ZWwgc3dpdGNoIG9jY3VycyksXG4gICAgLy8gZm9yIHNha2Ugb2YgY2xhcml0eTpcbiAgICAvLyBjb25zZWN1dGl2ZSBmcmFnbWVudHMgYXJlIGZyYWdzIHdpdGhcbiAgICAvLyAgLSBsZXNzIHRoYW4gMTAwbXMgZ2FwcyBiZXR3ZWVuIG5ldyB0aW1lIG9mZnNldCAoaWYgYWNjdXJhdGUpIGFuZCBuZXh0IGV4cGVjdGVkIFBUUyBPUlxuICAgIC8vICAtIGxlc3MgdGhhbiAyMCBhdWRpbyBmcmFtZXMgZGlzdGFuY2VcbiAgICAvLyBjb250aWd1b3VzIGZyYWdtZW50cyBhcmUgY29uc2VjdXRpdmUgZnJhZ21lbnRzIGZyb20gc2FtZSBxdWFsaXR5IGxldmVsIChzYW1lIGxldmVsLCBuZXcgU04gPSBvbGQgU04gKyAxKVxuICAgIC8vIHRoaXMgaGVscHMgZW5zdXJpbmcgYXVkaW8gY29udGludWl0eVxuICAgIC8vIGFuZCB0aGlzIGFsc28gYXZvaWRzIGF1ZGlvIGdsaXRjaGVzL2N1dCB3aGVuIHN3aXRjaGluZyBxdWFsaXR5LCBvciByZXBvcnRpbmcgd3JvbmcgZHVyYXRpb24gb24gZmlyc3QgYXVkaW8gZnJhbWVcbiAgICBjb250aWd1b3VzIHw9IGlucHV0U2FtcGxlcy5sZW5ndGggJiYgbmV4dEF1ZGlvUHRzICYmIChhY2N1cmF0ZVRpbWVPZmZzZXQgJiYgTWF0aC5hYnModGltZU9mZnNldCAtIG5leHRBdWRpb1B0cyAvIGlucHV0VGltZVNjYWxlKSA8IDAuMSB8fCBNYXRoLmFicyhpbnB1dFNhbXBsZXNbMF0ucHRzIC0gbmV4dEF1ZGlvUHRzIC0gaW5pdERUUykgPCAyMCAqIGlucHV0U2FtcGxlRHVyYXRpb24pO1xuXG4gICAgLy8gY29tcHV0ZSBub3JtYWxpemVkIFBUU1xuICAgIGlucHV0U2FtcGxlcy5mb3JFYWNoKGZ1bmN0aW9uIChzYW1wbGUpIHtcbiAgICAgIHNhbXBsZS5wdHMgPSBzYW1wbGUuZHRzID0gcHRzTm9ybWFsaXplKHNhbXBsZS5wdHMgLSBpbml0RFRTLCB0aW1lT2Zmc2V0ICogaW5wdXRUaW1lU2NhbGUpO1xuICAgIH0pO1xuXG4gICAgLy8gZmlsdGVyIG91dCBzYW1wbGUgd2l0aCBuZWdhdGl2ZSBQVFMgdGhhdCBhcmUgbm90IHBsYXlhYmxlIGFueXdheVxuICAgIC8vIGlmIHdlIGRvbid0IHJlbW92ZSB0aGVzZSBuZWdhdGl2ZSBzYW1wbGVzLCB0aGV5IHdpbGwgc2hpZnQgYWxsIGF1ZGlvIHNhbXBsZXMgZm9yd2FyZC5cbiAgICAvLyBsZWFkaW5nIHRvIGF1ZGlvIG92ZXJsYXAgYmV0d2VlbiBjdXJyZW50IC8gbmV4dCBmcmFnbWVudFxuICAgIGlucHV0U2FtcGxlcyA9IGlucHV0U2FtcGxlcy5maWx0ZXIoZnVuY3Rpb24gKHNhbXBsZSkge1xuICAgICAgcmV0dXJuIHNhbXBsZS5wdHMgPj0gMDtcbiAgICB9KTtcblxuICAgIC8vIGluIGNhc2UgYWxsIHNhbXBsZXMgaGF2ZSBuZWdhdGl2ZSBQVFMsIGFuZCBoYXZlIGJlZW4gZmlsdGVyZWQgb3V0LCByZXR1cm4gbm93XG4gICAgaWYgKGlucHV0U2FtcGxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWNvbnRpZ3VvdXMpIHtcbiAgICAgIGlmICghYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgICAgIC8vIGlmIGZyYWcgYXJlIG1vdCBjb250aWd1b3VzIGFuZCBpZiB3ZSBjYW50IHRydXN0IHRpbWUgb2Zmc2V0LCBsZXQncyB1c2UgZmlyc3Qgc2FtcGxlIFBUUyBhcyBuZXh0IGF1ZGlvIFBUU1xuICAgICAgICBuZXh0QXVkaW9QdHMgPSBpbnB1dFNhbXBsZXNbMF0ucHRzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgdGltZU9mZnNldCBpcyBhY2N1cmF0ZSwgbGV0J3MgdXNlIGl0IGFzIHByZWRpY3RlZCBuZXh0IGF1ZGlvIFBUU1xuICAgICAgICBuZXh0QXVkaW9QdHMgPSB0aW1lT2Zmc2V0ICogaW5wdXRUaW1lU2NhbGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGF1ZGlvIHRyYWNrIGlzIG1pc3Npbmcgc2FtcGxlcywgdGhlIGZyYW1lcyBzZWVtIHRvIGdldCBcImxlZnQtc2hpZnRlZFwiIHdpdGhpbiB0aGVcbiAgICAvLyByZXN1bHRpbmcgbXA0IHNlZ21lbnQsIGNhdXNpbmcgc3luYyBpc3N1ZXMgYW5kIGxlYXZpbmcgZ2FwcyBhdCB0aGUgZW5kIG9mIHRoZSBhdWRpbyBzZWdtZW50LlxuICAgIC8vIEluIGFuIGVmZm9ydCB0byBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmcsIHdlIGluamVjdCBmcmFtZXMgaGVyZSB3aGVyZSB0aGVyZSBhcmUgZ2Fwcy5cbiAgICAvLyBXaGVuIHBvc3NpYmxlLCB3ZSBpbmplY3QgYSBzaWxlbnQgZnJhbWU7IHdoZW4gdGhhdCdzIG5vdCBwb3NzaWJsZSwgd2UgZHVwbGljYXRlIHRoZSBsYXN0XG4gICAgLy8gZnJhbWUuXG5cbiAgICBpZiAodHJhY2suaXNBQUMpIHtcbiAgICAgIHZhciBtYXhBdWRpb0ZyYW1lc0RyaWZ0ID0gdGhpcy5jb25maWcubWF4QXVkaW9GcmFtZXNEcmlmdDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBuZXh0UHRzID0gbmV4dEF1ZGlvUHRzOyBpIDwgaW5wdXRTYW1wbGVzLmxlbmd0aDspIHtcbiAgICAgICAgLy8gRmlyc3QsIGxldCdzIHNlZSBob3cgZmFyIG9mZiB0aGlzIGZyYW1lIGlzIGZyb20gd2hlcmUgd2UgZXhwZWN0IGl0IHRvIGJlXG4gICAgICAgIHZhciBzYW1wbGUgPSBpbnB1dFNhbXBsZXNbaV0sXG4gICAgICAgICAgICBkZWx0YTtcbiAgICAgICAgdmFyIHB0cyA9IHNhbXBsZS5wdHM7XG4gICAgICAgIGRlbHRhID0gcHRzIC0gbmV4dFB0cztcblxuICAgICAgICB2YXIgZHVyYXRpb24gPSBNYXRoLmFicygxMDAwICogZGVsdGEgLyBpbnB1dFRpbWVTY2FsZSk7XG5cbiAgICAgICAgLy8gSWYgd2UncmUgb3ZlcmxhcHBpbmcgYnkgbW9yZSB0aGFuIGEgZHVyYXRpb24sIGRyb3AgdGhpcyBzYW1wbGVcbiAgICAgICAgaWYgKGRlbHRhIDw9IC1tYXhBdWRpb0ZyYW1lc0RyaWZ0ICogaW5wdXRTYW1wbGVEdXJhdGlvbikge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ0Ryb3BwaW5nIDEgYXVkaW8gZnJhbWUgQCAnICsgKG5leHRQdHMgLyBpbnB1dFRpbWVTY2FsZSkudG9GaXhlZCgzKSArICdzIGR1ZSB0byAnICsgTWF0aC5yb3VuZChkdXJhdGlvbikgKyAnIG1zIG92ZXJsYXAuJyk7XG4gICAgICAgICAgaW5wdXRTYW1wbGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICB0cmFjay5sZW4gLT0gc2FtcGxlLnVuaXQubGVuZ3RoO1xuICAgICAgICAgIC8vIERvbid0IHRvdWNoIG5leHRQdHNOb3JtIG9yIGlcbiAgICAgICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJyYWNlLXN0eWxlXG5cbiAgICAgICAgLy8gSW5zZXJ0IG1pc3NpbmcgZnJhbWVzIGlmOlxuICAgICAgICAvLyAxOiBXZSdyZSBtb3JlIHRoYW4gbWF4QXVkaW9GcmFtZXNEcmlmdCBmcmFtZSBhd2F5XG4gICAgICAgIC8vIDI6IE5vdCBtb3JlIHRoYW4gTUFYX1NJTEVOVF9GUkFNRV9EVVJBVElPTiBhd2F5XG4gICAgICAgIC8vIDM6IGN1cnJlbnRUaW1lIChha2EgbmV4dFB0c05vcm0pIGlzIG5vdCAwXG4gICAgICAgIGVsc2UgaWYgKGRlbHRhID49IG1heEF1ZGlvRnJhbWVzRHJpZnQgKiBpbnB1dFNhbXBsZUR1cmF0aW9uICYmIGR1cmF0aW9uIDwgTUFYX1NJTEVOVF9GUkFNRV9EVVJBVElPTiAmJiBuZXh0UHRzKSB7XG4gICAgICAgICAgICB2YXIgbWlzc2luZyA9IE1hdGgucm91bmQoZGVsdGEgLyBpbnB1dFNhbXBsZUR1cmF0aW9uKTtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ0luamVjdGluZyAnICsgbWlzc2luZyArICcgYXVkaW8gZnJhbWUgQCAnICsgKG5leHRQdHMgLyBpbnB1dFRpbWVTY2FsZSkudG9GaXhlZCgzKSArICdzIGR1ZSB0byAnICsgTWF0aC5yb3VuZCgxMDAwICogZGVsdGEgLyBpbnB1dFRpbWVTY2FsZSkgKyAnIG1zIGdhcC4nKTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWlzc2luZzsgaisrKSB7XG4gICAgICAgICAgICAgIHZhciBuZXdTdGFtcCA9IE1hdGgubWF4KG5leHRQdHMsIDApO1xuICAgICAgICAgICAgICBmaWxsRnJhbWUgPSBhYWNfaGVscGVyLmdldFNpbGVudEZyYW1lKHRyYWNrLm1hbmlmZXN0Q29kZWMgfHwgdHJhY2suY29kZWMsIHRyYWNrLmNoYW5uZWxDb3VudCk7XG4gICAgICAgICAgICAgIGlmICghZmlsbEZyYW1lKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdVbmFibGUgdG8gZ2V0IHNpbGVudCBmcmFtZSBmb3IgZ2l2ZW4gYXVkaW8gY29kZWM7IGR1cGxpY2F0aW5nIGxhc3QgZnJhbWUgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSBzYW1wbGUudW5pdC5zdWJhcnJheSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlucHV0U2FtcGxlcy5zcGxpY2UoaSwgMCwgeyB1bml0OiBmaWxsRnJhbWUsIHB0czogbmV3U3RhbXAsIGR0czogbmV3U3RhbXAgfSk7XG4gICAgICAgICAgICAgIHRyYWNrLmxlbiArPSBmaWxsRnJhbWUubGVuZ3RoO1xuICAgICAgICAgICAgICBuZXh0UHRzICs9IGlucHV0U2FtcGxlRHVyYXRpb247XG4gICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRqdXN0IHNhbXBsZSB0byBuZXh0IGV4cGVjdGVkIHB0c1xuICAgICAgICAgICAgc2FtcGxlLnB0cyA9IHNhbXBsZS5kdHMgPSBuZXh0UHRzO1xuICAgICAgICAgICAgbmV4dFB0cyArPSBpbnB1dFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIGp1c3QgYWRqdXN0IHB0c1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA+IDAuMSAqIGlucHV0U2FtcGxlRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZyhgSW52YWxpZCBmcmFtZSBkZWx0YSAke01hdGgucm91bmQoZGVsdGEgKyBpbnB1dFNhbXBsZUR1cmF0aW9uKX0gYXQgUFRTICR7TWF0aC5yb3VuZChwdHMgLyA5MCl9IChzaG91bGQgYmUgJHtNYXRoLnJvdW5kKGlucHV0U2FtcGxlRHVyYXRpb24pfSkuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYW1wbGUucHRzID0gc2FtcGxlLmR0cyA9IG5leHRQdHM7XG4gICAgICAgICAgICBuZXh0UHRzICs9IGlucHV0U2FtcGxlRHVyYXRpb247XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9qMiA9IDAsIF9uYlNhbXBsZXMgPSBpbnB1dFNhbXBsZXMubGVuZ3RoOyBfajIgPCBfbmJTYW1wbGVzOyBfajIrKykge1xuICAgICAgdmFyIGF1ZGlvU2FtcGxlID0gaW5wdXRTYW1wbGVzW19qMl07XG4gICAgICB2YXIgdW5pdCA9IGF1ZGlvU2FtcGxlLnVuaXQ7XG4gICAgICB2YXIgX3B0cyA9IGF1ZGlvU2FtcGxlLnB0cztcbiAgICAgIC8vIGxvZ2dlci5sb2coYEF1ZGlvL1BUUzoke01hdGgucm91bmQocHRzLzkwKX1gKTtcbiAgICAgIC8vIGlmIG5vdCBmaXJzdCBzYW1wbGVcbiAgICAgIGlmIChsYXN0UFRTICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbXA0U2FtcGxlLmR1cmF0aW9uID0gTWF0aC5yb3VuZCgoX3B0cyAtIGxhc3RQVFMpIC8gc2NhbGVGYWN0b3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9kZWx0YSA9IE1hdGgucm91bmQoMTAwMCAqIChfcHRzIC0gbmV4dEF1ZGlvUHRzKSAvIGlucHV0VGltZVNjYWxlKSxcbiAgICAgICAgICAgIG51bU1pc3NpbmdGcmFtZXMgPSAwO1xuICAgICAgICAvLyBpZiBmcmFnbWVudCBhcmUgY29udGlndW91cywgZGV0ZWN0IGhvbGUvb3ZlcmxhcHBpbmcgYmV0d2VlbiBmcmFnbWVudHNcbiAgICAgICAgLy8gY29udGlndW91cyBmcmFnbWVudHMgYXJlIGNvbnNlY3V0aXZlIGZyYWdtZW50cyBmcm9tIHNhbWUgcXVhbGl0eSBsZXZlbCAoc2FtZSBsZXZlbCwgbmV3IFNOID0gb2xkIFNOICsgMSlcbiAgICAgICAgaWYgKGNvbnRpZ3VvdXMgJiYgdHJhY2suaXNBQUMpIHtcbiAgICAgICAgICAvLyBsb2cgZGVsdGFcbiAgICAgICAgICBpZiAoX2RlbHRhKSB7XG4gICAgICAgICAgICBpZiAoX2RlbHRhID4gMCAmJiBfZGVsdGEgPCBNQVhfU0lMRU5UX0ZSQU1FX0RVUkFUSU9OKSB7XG4gICAgICAgICAgICAgIG51bU1pc3NpbmdGcmFtZXMgPSBNYXRoLnJvdW5kKChfcHRzIC0gbmV4dEF1ZGlvUHRzKSAvIGlucHV0U2FtcGxlRHVyYXRpb24pO1xuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coX2RlbHRhICsgJyBtcyBob2xlIGJldHdlZW4gQUFDIHNhbXBsZXMgZGV0ZWN0ZWQsZmlsbGluZyBpdCcpO1xuICAgICAgICAgICAgICBpZiAobnVtTWlzc2luZ0ZyYW1lcyA+IDApIHtcbiAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSBhYWNfaGVscGVyLmdldFNpbGVudEZyYW1lKHRyYWNrLm1hbmlmZXN0Q29kZWMgfHwgdHJhY2suY29kZWMsIHRyYWNrLmNoYW5uZWxDb3VudCk7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxsRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgIGZpbGxGcmFtZSA9IHVuaXQuc3ViYXJyYXkoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cmFjay5sZW4gKz0gbnVtTWlzc2luZ0ZyYW1lcyAqIGZpbGxGcmFtZS5sZW5ndGg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBmcmFtZSBvdmVybGFwLCBvdmVybGFwcGluZyBmb3IgbW9yZSB0aGFuIGhhbGYgYSBmcmFtZSBkdXJhaW9uXG4gICAgICAgICAgICB9IGVsc2UgaWYgKF9kZWx0YSA8IC0xMikge1xuICAgICAgICAgICAgICAvLyBkcm9wIG92ZXJsYXBwaW5nIGF1ZGlvIGZyYW1lcy4uLiBicm93c2VyIHdpbGwgZGVhbCB3aXRoIGl0XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnZHJvcCBvdmVybGFwcGluZyBBQUMgc2FtcGxlLCBleHBlY3RlZC9wYXJzZWQvZGVsdGE6JyArIChuZXh0QXVkaW9QdHMgLyBpbnB1dFRpbWVTY2FsZSkudG9GaXhlZCgzKSArICdzLycgKyAoX3B0cyAvIGlucHV0VGltZVNjYWxlKS50b0ZpeGVkKDMpICsgJ3MvJyArIC1fZGVsdGEgKyAnbXMnKTtcbiAgICAgICAgICAgICAgdHJhY2subGVuIC09IHVuaXQuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZXQgUFRTL0RUUyB0byBleHBlY3RlZCBQVFMvRFRTXG4gICAgICAgICAgICBfcHRzID0gbmV4dEF1ZGlvUHRzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZW1lbWJlciBmaXJzdCBQVFMgb2Ygb3VyIGF1ZGlvU2FtcGxlc1xuICAgICAgICBmaXJzdFBUUyA9IF9wdHM7XG4gICAgICAgIGlmICh0cmFjay5sZW4gPiAwKSB7XG4gICAgICAgICAgLyogY29uY2F0ZW5hdGUgdGhlIGF1ZGlvIGRhdGEgYW5kIGNvbnN0cnVjdCB0aGUgbWRhdCBpbiBwbGFjZVxuICAgICAgICAgICAgKG5lZWQgOCBtb3JlIGJ5dGVzIHRvIGZpbGwgbGVuZ3RoIGFuZCBtZGF0IHR5cGUpICovXG4gICAgICAgICAgdmFyIG1kYXRTaXplID0gcmF3TVBFRyA/IHRyYWNrLmxlbiA6IHRyYWNrLmxlbiArIDg7XG4gICAgICAgICAgb2Zmc2V0ID0gcmF3TVBFRyA/IDAgOiA4O1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtZGF0ID0gbmV3IFVpbnQ4QXJyYXkobWRhdFNpemUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTVVYX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5SRU1VWF9BTExPQ19FUlJPUiwgZmF0YWw6IGZhbHNlLCBieXRlczogbWRhdFNpemUsIHJlYXNvbjogJ2ZhaWwgYWxsb2NhdGluZyBhdWRpbyBtZGF0ICcgKyBtZGF0U2l6ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFyYXdNUEVHKSB7XG4gICAgICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhtZGF0LmJ1ZmZlcik7XG4gICAgICAgICAgICB2aWV3LnNldFVpbnQzMigwLCBtZGF0U2l6ZSk7XG4gICAgICAgICAgICBtZGF0LnNldChtcDRfZ2VuZXJhdG9yLnR5cGVzLm1kYXQsIDQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBubyBhdWRpbyBzYW1wbGVzXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IG51bU1pc3NpbmdGcmFtZXM7IF9pMysrKSB7XG4gICAgICAgICAgZmlsbEZyYW1lID0gYWFjX2hlbHBlci5nZXRTaWxlbnRGcmFtZSh0cmFjay5tYW5pZmVzdENvZGVjIHx8IHRyYWNrLmNvZGVjLCB0cmFjay5jaGFubmVsQ291bnQpO1xuICAgICAgICAgIGlmICghZmlsbEZyYW1lKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1VuYWJsZSB0byBnZXQgc2lsZW50IGZyYW1lIGZvciBnaXZlbiBhdWRpbyBjb2RlYzsgZHVwbGljYXRpbmcgdGhpcyBmcmFtZSBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgZmlsbEZyYW1lID0gdW5pdC5zdWJhcnJheSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZGF0LnNldChmaWxsRnJhbWUsIG9mZnNldCk7XG4gICAgICAgICAgb2Zmc2V0ICs9IGZpbGxGcmFtZS5ieXRlTGVuZ3RoO1xuICAgICAgICAgIG1wNFNhbXBsZSA9IHtcbiAgICAgICAgICAgIHNpemU6IGZpbGxGcmFtZS5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgY3RzOiAwLFxuICAgICAgICAgICAgZHVyYXRpb246IDEwMjQsXG4gICAgICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgICBpc0xlYWRpbmc6IDAsXG4gICAgICAgICAgICAgIGlzRGVwZW5kZWRPbjogMCxcbiAgICAgICAgICAgICAgaGFzUmVkdW5kYW5jeTogMCxcbiAgICAgICAgICAgICAgZGVncmFkUHJpbzogMCxcbiAgICAgICAgICAgICAgZGVwZW5kc09uOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBvdXRwdXRTYW1wbGVzLnB1c2gobXA0U2FtcGxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbWRhdC5zZXQodW5pdCwgb2Zmc2V0KTtcbiAgICAgIHZhciB1bml0TGVuID0gdW5pdC5ieXRlTGVuZ3RoO1xuICAgICAgb2Zmc2V0ICs9IHVuaXRMZW47XG4gICAgICAvLyBjb25zb2xlLmxvZygnUFRTL0RUUy9pbml0RFRTL25vcm1QVFMvbm9ybURUUy9yZWxhdGl2ZSBQVFMgOiAke2F1ZGlvU2FtcGxlLnB0c30vJHthdWRpb1NhbXBsZS5kdHN9LyR7aW5pdERUU30vJHtwdHNub3JtfS8ke2R0c25vcm19LyR7KGF1ZGlvU2FtcGxlLnB0cy80Mjk0OTY3Mjk2KS50b0ZpeGVkKDMpfScpO1xuICAgICAgbXA0U2FtcGxlID0ge1xuICAgICAgICBzaXplOiB1bml0TGVuLFxuICAgICAgICBjdHM6IDAsXG4gICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICBmbGFnczoge1xuICAgICAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgICAgICBpc0RlcGVuZGVkT246IDAsXG4gICAgICAgICAgaGFzUmVkdW5kYW5jeTogMCxcbiAgICAgICAgICBkZWdyYWRQcmlvOiAwLFxuICAgICAgICAgIGRlcGVuZHNPbjogMVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgb3V0cHV0U2FtcGxlcy5wdXNoKG1wNFNhbXBsZSk7XG4gICAgICBsYXN0UFRTID0gX3B0cztcbiAgICB9XG4gICAgdmFyIGxhc3RTYW1wbGVEdXJhdGlvbiA9IDA7XG4gICAgdmFyIG5iU2FtcGxlcyA9IG91dHB1dFNhbXBsZXMubGVuZ3RoO1xuICAgIC8vIHNldCBsYXN0IHNhbXBsZSBkdXJhdGlvbiBhcyBiZWluZyBpZGVudGljYWwgdG8gcHJldmlvdXMgc2FtcGxlXG4gICAgaWYgKG5iU2FtcGxlcyA+PSAyKSB7XG4gICAgICBsYXN0U2FtcGxlRHVyYXRpb24gPSBvdXRwdXRTYW1wbGVzW25iU2FtcGxlcyAtIDJdLmR1cmF0aW9uO1xuICAgICAgbXA0U2FtcGxlLmR1cmF0aW9uID0gbGFzdFNhbXBsZUR1cmF0aW9uO1xuICAgIH1cbiAgICBpZiAobmJTYW1wbGVzKSB7XG4gICAgICAvLyBuZXh0IGF1ZGlvIHNhbXBsZSBQVFMgc2hvdWxkIGJlIGVxdWFsIHRvIGxhc3Qgc2FtcGxlIFBUUyArIGR1cmF0aW9uXG4gICAgICB0aGlzLm5leHRBdWRpb1B0cyA9IG5leHRBdWRpb1B0cyA9IGxhc3RQVFMgKyBzY2FsZUZhY3RvciAqIGxhc3RTYW1wbGVEdXJhdGlvbjtcbiAgICAgIC8vIGxvZ2dlci5sb2coJ0F1ZGlvL1BUUy9QVFNlbmQ6JyArIGF1ZGlvU2FtcGxlLnB0cy50b0ZpeGVkKDApICsgJy8nICsgdGhpcy5uZXh0QWFjRHRzLnRvRml4ZWQoMCkpO1xuICAgICAgdHJhY2subGVuID0gMDtcbiAgICAgIHRyYWNrLnNhbXBsZXMgPSBvdXRwdXRTYW1wbGVzO1xuICAgICAgaWYgKHJhd01QRUcpIHtcbiAgICAgICAgbW9vZiA9IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb29mID0gbXA0X2dlbmVyYXRvci5tb29mKHRyYWNrLnNlcXVlbmNlTnVtYmVyKyssIGZpcnN0UFRTIC8gc2NhbGVGYWN0b3IsIHRyYWNrKTtcbiAgICAgIH1cblxuICAgICAgdHJhY2suc2FtcGxlcyA9IFtdO1xuICAgICAgdmFyIHN0YXJ0ID0gZmlyc3RQVFMgLyBpbnB1dFRpbWVTY2FsZTtcbiAgICAgIHZhciBlbmQgPSBuZXh0QXVkaW9QdHMgLyBpbnB1dFRpbWVTY2FsZTtcbiAgICAgIHZhciBhdWRpb0RhdGEgPSB7XG4gICAgICAgIGRhdGExOiBtb29mLFxuICAgICAgICBkYXRhMjogbWRhdCxcbiAgICAgICAgc3RhcnRQVFM6IHN0YXJ0LFxuICAgICAgICBlbmRQVFM6IGVuZCxcbiAgICAgICAgc3RhcnREVFM6IHN0YXJ0LFxuICAgICAgICBlbmREVFM6IGVuZCxcbiAgICAgICAgdHlwZTogJ2F1ZGlvJyxcbiAgICAgICAgaGFzQXVkaW86IHRydWUsXG4gICAgICAgIGhhc1ZpZGVvOiBmYWxzZSxcbiAgICAgICAgbmI6IG5iU2FtcGxlc1xuICAgICAgfTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX0RBVEEsIGF1ZGlvRGF0YSk7XG4gICAgICByZXR1cm4gYXVkaW9EYXRhO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZW11eEVtcHR5QXVkaW8gPSBmdW5jdGlvbiByZW11eEVtcHR5QXVkaW8odHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIHZpZGVvRGF0YSkge1xuICAgIHZhciBpbnB1dFRpbWVTY2FsZSA9IHRyYWNrLmlucHV0VGltZVNjYWxlLFxuICAgICAgICBtcDR0aW1lU2NhbGUgPSB0cmFjay5zYW1wbGVyYXRlID8gdHJhY2suc2FtcGxlcmF0ZSA6IGlucHV0VGltZVNjYWxlLFxuICAgICAgICBzY2FsZUZhY3RvciA9IGlucHV0VGltZVNjYWxlIC8gbXA0dGltZVNjYWxlLFxuICAgICAgICBuZXh0QXVkaW9QdHMgPSB0aGlzLm5leHRBdWRpb1B0cyxcblxuXG4gICAgLy8gc3luYyB3aXRoIHZpZGVvJ3MgdGltZXN0YW1wXG4gICAgc3RhcnREVFMgPSAobmV4dEF1ZGlvUHRzICE9PSB1bmRlZmluZWQgPyBuZXh0QXVkaW9QdHMgOiB2aWRlb0RhdGEuc3RhcnREVFMgKiBpbnB1dFRpbWVTY2FsZSkgKyB0aGlzLl9pbml0RFRTLFxuICAgICAgICBlbmREVFMgPSB2aWRlb0RhdGEuZW5kRFRTICogaW5wdXRUaW1lU2NhbGUgKyB0aGlzLl9pbml0RFRTLFxuXG4gICAgLy8gb25lIHNhbXBsZSdzIGR1cmF0aW9uIHZhbHVlXG4gICAgc2FtcGxlRHVyYXRpb24gPSAxMDI0LFxuICAgICAgICBmcmFtZUR1cmF0aW9uID0gc2NhbGVGYWN0b3IgKiBzYW1wbGVEdXJhdGlvbixcblxuXG4gICAgLy8gc2FtcGxlcyBjb3VudCBvZiB0aGlzIHNlZ21lbnQncyBkdXJhdGlvblxuICAgIG5iU2FtcGxlcyA9IE1hdGguY2VpbCgoZW5kRFRTIC0gc3RhcnREVFMpIC8gZnJhbWVEdXJhdGlvbiksXG5cblxuICAgIC8vIHNpbGVudCBmcmFtZVxuICAgIHNpbGVudEZyYW1lID0gYWFjX2hlbHBlci5nZXRTaWxlbnRGcmFtZSh0cmFjay5tYW5pZmVzdENvZGVjIHx8IHRyYWNrLmNvZGVjLCB0cmFjay5jaGFubmVsQ291bnQpO1xuXG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybigncmVtdXggZW1wdHkgQXVkaW8nKTtcbiAgICAvLyBDYW4ndCByZW11eCBpZiB3ZSBjYW4ndCBnZW5lcmF0ZSBhIHNpbGVudCBmcmFtZS4uLlxuICAgIGlmICghc2lsZW50RnJhbWUpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLnRyYWNlKCdVbmFibGUgdG8gcmVtdXhFbXB0eUF1ZGlvIHNpbmNlIHdlIHdlcmUgdW5hYmxlIHRvIGdldCBhIHNpbGVudCBmcmFtZSBmb3IgZ2l2ZW4gYXVkaW8gY29kZWMhJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHNhbXBsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5iU2FtcGxlczsgaSsrKSB7XG4gICAgICB2YXIgc3RhbXAgPSBzdGFydERUUyArIGkgKiBmcmFtZUR1cmF0aW9uO1xuICAgICAgc2FtcGxlcy5wdXNoKHsgdW5pdDogc2lsZW50RnJhbWUsIHB0czogc3RhbXAsIGR0czogc3RhbXAgfSk7XG4gICAgICB0cmFjay5sZW4gKz0gc2lsZW50RnJhbWUubGVuZ3RoO1xuICAgIH1cbiAgICB0cmFjay5zYW1wbGVzID0gc2FtcGxlcztcblxuICAgIHRoaXMucmVtdXhBdWRpbyh0cmFjaywgdGltZU9mZnNldCwgY29udGlndW91cyk7XG4gIH07XG5cbiAgTVA0UmVtdXhlci5wcm90b3R5cGUucmVtdXhJRDMgPSBmdW5jdGlvbiByZW11eElEMyh0cmFjaywgdGltZU9mZnNldCkge1xuICAgIHZhciBsZW5ndGggPSB0cmFjay5zYW1wbGVzLmxlbmd0aCxcbiAgICAgICAgc2FtcGxlID0gdm9pZCAwO1xuICAgIHZhciBpbnB1dFRpbWVTY2FsZSA9IHRyYWNrLmlucHV0VGltZVNjYWxlO1xuICAgIHZhciBpbml0UFRTID0gdGhpcy5faW5pdFBUUztcbiAgICB2YXIgaW5pdERUUyA9IHRoaXMuX2luaXREVFM7XG4gICAgLy8gY29uc3VtZSBzYW1wbGVzXG4gICAgaWYgKGxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBzYW1wbGUgPSB0cmFjay5zYW1wbGVzW2luZGV4XTtcbiAgICAgICAgLy8gc2V0dGluZyBpZDMgcHRzLCBkdHMgdG8gcmVsYXRpdmUgdGltZVxuICAgICAgICAvLyB1c2luZyB0aGlzLl9pbml0UFRTIGFuZCB0aGlzLl9pbml0RFRTIHRvIGNhbGN1bGF0ZSByZWxhdGl2ZSB0aW1lXG4gICAgICAgIHNhbXBsZS5wdHMgPSAoc2FtcGxlLnB0cyAtIGluaXRQVFMpIC8gaW5wdXRUaW1lU2NhbGU7XG4gICAgICAgIHNhbXBsZS5kdHMgPSAoc2FtcGxlLmR0cyAtIGluaXREVFMpIC8gaW5wdXRUaW1lU2NhbGU7XG4gICAgICB9XG4gICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19NRVRBREFUQSwge1xuICAgICAgICBzYW1wbGVzOiB0cmFjay5zYW1wbGVzXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0cmFjay5zYW1wbGVzID0gW107XG4gICAgdGltZU9mZnNldCA9IHRpbWVPZmZzZXQ7XG4gIH07XG5cbiAgTVA0UmVtdXhlci5wcm90b3R5cGUucmVtdXhUZXh0ID0gZnVuY3Rpb24gcmVtdXhUZXh0KHRyYWNrLCB0aW1lT2Zmc2V0KSB7XG4gICAgdHJhY2suc2FtcGxlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5wdHMgLSBiLnB0cztcbiAgICB9KTtcblxuICAgIHZhciBsZW5ndGggPSB0cmFjay5zYW1wbGVzLmxlbmd0aCxcbiAgICAgICAgc2FtcGxlID0gdm9pZCAwO1xuICAgIHZhciBpbnB1dFRpbWVTY2FsZSA9IHRyYWNrLmlucHV0VGltZVNjYWxlO1xuICAgIHZhciBpbml0UFRTID0gdGhpcy5faW5pdFBUUztcbiAgICAvLyBjb25zdW1lIHNhbXBsZXNcbiAgICBpZiAobGVuZ3RoKSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHNhbXBsZSA9IHRyYWNrLnNhbXBsZXNbaW5kZXhdO1xuICAgICAgICAvLyBzZXR0aW5nIHRleHQgcHRzLCBkdHMgdG8gcmVsYXRpdmUgdGltZVxuICAgICAgICAvLyB1c2luZyB0aGlzLl9pbml0UFRTIGFuZCB0aGlzLl9pbml0RFRTIHRvIGNhbGN1bGF0ZSByZWxhdGl2ZSB0aW1lXG4gICAgICAgIHNhbXBsZS5wdHMgPSAoc2FtcGxlLnB0cyAtIGluaXRQVFMpIC8gaW5wdXRUaW1lU2NhbGU7XG4gICAgICB9XG4gICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19VU0VSREFUQSwge1xuICAgICAgICBzYW1wbGVzOiB0cmFjay5zYW1wbGVzXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0cmFjay5zYW1wbGVzID0gW107XG4gICAgdGltZU9mZnNldCA9IHRpbWVPZmZzZXQ7XG4gIH07XG5cbiAgTVA0UmVtdXhlci5wcm90b3R5cGUuX1BUU05vcm1hbGl6ZSA9IGZ1bmN0aW9uIF9QVFNOb3JtYWxpemUodmFsdWUsIHJlZmVyZW5jZSkge1xuICAgIHZhciBvZmZzZXQgPSB2b2lkIDA7XG4gICAgaWYgKHJlZmVyZW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKHJlZmVyZW5jZSA8IHZhbHVlKSB7XG4gICAgICAvLyAtIDJeMzNcbiAgICAgIG9mZnNldCA9IC04NTg5OTM0NTkyO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyArIDJeMzNcbiAgICAgIG9mZnNldCA9IDg1ODk5MzQ1OTI7XG4gICAgfVxuICAgIC8qIFBUUyBpcyAzM2JpdCAoZnJvbSAwIHRvIDJeMzMgLTEpXG4gICAgICBpZiBkaWZmIGJldHdlZW4gdmFsdWUgYW5kIHJlZmVyZW5jZSBpcyBiaWdnZXIgdGhhbiBoYWxmIG9mIHRoZSBhbXBsaXR1ZGUgKDJeMzIpIHRoZW4gaXQgbWVhbnMgdGhhdFxuICAgICAgUFRTIGxvb3Bpbmcgb2NjdXJlZC4gZmlsbCB0aGUgZ2FwICovXG4gICAgd2hpbGUgKE1hdGguYWJzKHZhbHVlIC0gcmVmZXJlbmNlKSA+IDQyOTQ5NjcyOTYpIHtcbiAgICAgIHZhbHVlICs9IG9mZnNldDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgcmV0dXJuIE1QNFJlbXV4ZXI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIG1wNF9yZW11eGVyID0gKG1wNF9yZW11eGVyX01QNFJlbXV4ZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvcmVtdXgvcGFzc3Rocm91Z2gtcmVtdXhlci5qc1xuZnVuY3Rpb24gcGFzc3Rocm91Z2hfcmVtdXhlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIHBhc3N0aHJvdWdoIHJlbXV4ZXJcbiovXG5cblxudmFyIHBhc3N0aHJvdWdoX3JlbXV4ZXJfUGFzc1Rocm91Z2hSZW11eGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQYXNzVGhyb3VnaFJlbXV4ZXIob2JzZXJ2ZXIpIHtcbiAgICBwYXNzdGhyb3VnaF9yZW11eGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXNzVGhyb3VnaFJlbXV4ZXIpO1xuXG4gICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICB9XG5cbiAgUGFzc1Rocm91Z2hSZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHt9O1xuXG4gIFBhc3NUaHJvdWdoUmVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiByZXNldFRpbWVTdGFtcCgpIHt9O1xuXG4gIFBhc3NUaHJvdWdoUmVtdXhlci5wcm90b3R5cGUucmVzZXRJbml0U2VnbWVudCA9IGZ1bmN0aW9uIHJlc2V0SW5pdFNlZ21lbnQoKSB7fTtcblxuICBQYXNzVGhyb3VnaFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4ID0gZnVuY3Rpb24gcmVtdXgoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0LCByYXdEYXRhKSB7XG4gICAgdmFyIG9ic2VydmVyID0gdGhpcy5vYnNlcnZlcjtcbiAgICB2YXIgc3RyZWFtVHlwZSA9ICcnO1xuICAgIGlmIChhdWRpb1RyYWNrKSB7XG4gICAgICBzdHJlYW1UeXBlICs9ICdhdWRpbyc7XG4gICAgfVxuXG4gICAgaWYgKHZpZGVvVHJhY2spIHtcbiAgICAgIHN0cmVhbVR5cGUgKz0gJ3ZpZGVvJztcbiAgICB9XG5cbiAgICBvYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfREFUQSwge1xuICAgICAgZGF0YTE6IHJhd0RhdGEsXG4gICAgICBzdGFydFBUUzogdGltZU9mZnNldCxcbiAgICAgIHN0YXJ0RFRTOiB0aW1lT2Zmc2V0LFxuICAgICAgdHlwZTogc3RyZWFtVHlwZSxcbiAgICAgIGhhc0F1ZGlvOiAhIWF1ZGlvVHJhY2ssXG4gICAgICBoYXNWaWRlbzogISF2aWRlb1RyYWNrLFxuICAgICAgbmI6IDEsXG4gICAgICBkcm9wcGVkOiAwXG4gICAgfSk7XG4gICAgLy8gbm90aWZ5IGVuZCBvZiBwYXJzaW5nXG4gICAgb2JzZXJ2ZXIudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTRUQpO1xuICB9O1xuXG4gIHJldHVybiBQYXNzVGhyb3VnaFJlbXV4ZXI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHBhc3N0aHJvdWdoX3JlbXV4ZXIgPSAocGFzc3Rocm91Z2hfcmVtdXhlcl9QYXNzVGhyb3VnaFJlbXV4ZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGVtdXgvZGVtdXhlci1pbmxpbmUuanNcbmZ1bmN0aW9uIGRlbXV4ZXJfaW5saW5lX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICpcbiAqIGlubGluZSBkZW11eGVyOiBwcm9iZSBmcmFnbWVudHMgYW5kIGluc3RhbnRpYXRlXG4gKiBhcHByb3ByaWF0ZSBkZW11eGVyIGRlcGVuZGluZyBvbiBjb250ZW50IHR5cGUgKFRTRGVtdXhlciwgQUFDRGVtdXhlciwgLi4uKVxuICpcbiAqL1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vLyBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzExMjM3MjU5LzU4OTQ5M1xudmFyIGdsb2JhbCA9IE9iamVjdChnZXRfc2VsZl9zY29wZVtcImFcIiAvKiBnZXRTZWxmU2NvcGUgKi9dKSgpOyAvLyBzYWZlZ3VhcmQgZm9yIGNvZGUgdGhhdCBtaWdodCBydW4gYm90aCBvbiB3b3JrZXIgYW5kIG1haW4gdGhyZWFkXG52YXIgcGVyZm9ybWFuY2UgPSBnbG9iYWwucGVyZm9ybWFuY2U7XG5cbnZhciBkZW11eGVyX2lubGluZV9EZW11eGVySW5saW5lID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBEZW11eGVySW5saW5lKG9ic2VydmVyLCB0eXBlU3VwcG9ydGVkLCBjb25maWcsIHZlbmRvcikge1xuICAgIGRlbXV4ZXJfaW5saW5lX19jbGFzc0NhbGxDaGVjayh0aGlzLCBEZW11eGVySW5saW5lKTtcblxuICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICB0aGlzLnR5cGVTdXBwb3J0ZWQgPSB0eXBlU3VwcG9ydGVkO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMudmVuZG9yID0gdmVuZG9yO1xuICB9XG5cbiAgRGVtdXhlcklubGluZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdmFyIGRlbXV4ZXIgPSB0aGlzLmRlbXV4ZXI7XG4gICAgaWYgKGRlbXV4ZXIpIHtcbiAgICAgIGRlbXV4ZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgfTtcblxuICBEZW11eGVySW5saW5lLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaChkYXRhLCBkZWNyeXB0ZGF0YSwgaW5pdFNlZ21lbnQsIGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMsIHRpbWVPZmZzZXQsIGRpc2NvbnRpbnVpdHksIHRyYWNrU3dpdGNoLCBjb250aWd1b3VzLCBkdXJhdGlvbiwgYWNjdXJhdGVUaW1lT2Zmc2V0LCBkZWZhdWx0SW5pdFBUUykge1xuICAgIGlmIChkYXRhLmJ5dGVMZW5ndGggPiAwICYmIGRlY3J5cHRkYXRhICE9IG51bGwgJiYgZGVjcnlwdGRhdGEua2V5ICE9IG51bGwgJiYgZGVjcnlwdGRhdGEubWV0aG9kID09PSAnQUVTLTEyOCcpIHtcbiAgICAgIHZhciBkZWNyeXB0ZXIgPSB0aGlzLmRlY3J5cHRlcjtcbiAgICAgIGlmIChkZWNyeXB0ZXIgPT0gbnVsbCkge1xuICAgICAgICBkZWNyeXB0ZXIgPSB0aGlzLmRlY3J5cHRlciA9IG5ldyBjcnlwdF9kZWNyeXB0ZXJbXCJhXCIgLyogZGVmYXVsdCAqL10odGhpcy5vYnNlcnZlciwgdGhpcy5jb25maWcpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbG9jYWx0aGlzID0gdGhpcztcbiAgICAgIC8vIHBlcmZvcm1hbmNlLm5vdygpIG5vdCBhdmFpbGFibGUgb24gV2ViV29ya2VyLCBhdCBsZWFzdCBvbiBTYWZhcmkgRGVza3RvcFxuICAgICAgdmFyIHN0YXJ0VGltZSA9IHZvaWQgMDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIH1cbiAgICAgIGRlY3J5cHRlci5kZWNyeXB0KGRhdGEsIGRlY3J5cHRkYXRhLmtleS5idWZmZXIsIGRlY3J5cHRkYXRhLml2LmJ1ZmZlciwgZnVuY3Rpb24gKGRlY3J5cHRlZERhdGEpIHtcbiAgICAgICAgdmFyIGVuZFRpbWUgPSB2b2lkIDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGVuZFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB9XG4gICAgICAgIGxvY2FsdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0RFQ1JZUFRFRCwgeyBzdGF0czogeyB0c3RhcnQ6IHN0YXJ0VGltZSwgdGRlY3J5cHQ6IGVuZFRpbWUgfSB9KTtcbiAgICAgICAgbG9jYWx0aGlzLnB1c2hEZWNyeXB0ZWQobmV3IFVpbnQ4QXJyYXkoZGVjcnlwdGVkRGF0YSksIGRlY3J5cHRkYXRhLCBuZXcgVWludDhBcnJheShpbml0U2VnbWVudCksIGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMsIHRpbWVPZmZzZXQsIGRpc2NvbnRpbnVpdHksIHRyYWNrU3dpdGNoLCBjb250aWd1b3VzLCBkdXJhdGlvbiwgYWNjdXJhdGVUaW1lT2Zmc2V0LCBkZWZhdWx0SW5pdFBUUyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wdXNoRGVjcnlwdGVkKG5ldyBVaW50OEFycmF5KGRhdGEpLCBkZWNyeXB0ZGF0YSwgbmV3IFVpbnQ4QXJyYXkoaW5pdFNlZ21lbnQpLCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCB0aW1lT2Zmc2V0LCBkaXNjb250aW51aXR5LCB0cmFja1N3aXRjaCwgY29udGlndW91cywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFMpO1xuICAgIH1cbiAgfTtcblxuICBEZW11eGVySW5saW5lLnByb3RvdHlwZS5wdXNoRGVjcnlwdGVkID0gZnVuY3Rpb24gcHVzaERlY3J5cHRlZChkYXRhLCBkZWNyeXB0ZGF0YSwgaW5pdFNlZ21lbnQsIGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMsIHRpbWVPZmZzZXQsIGRpc2NvbnRpbnVpdHksIHRyYWNrU3dpdGNoLCBjb250aWd1b3VzLCBkdXJhdGlvbiwgYWNjdXJhdGVUaW1lT2Zmc2V0LCBkZWZhdWx0SW5pdFBUUykge1xuICAgIHZhciBkZW11eGVyID0gdGhpcy5kZW11eGVyO1xuICAgIGlmICghZGVtdXhlciB8fFxuICAgIC8vIGluIGNhc2Ugb2YgY29udGludWl0eSBjaGFuZ2UsIG9yIHRyYWNrIHN3aXRjaFxuICAgIC8vIHdlIG1pZ2h0IHN3aXRjaCBmcm9tIGNvbnRlbnQgdHlwZSAoQUFDIGNvbnRhaW5lciB0byBUUyBjb250YWluZXIsIG9yIFRTIHRvIGZtcDQgZm9yIGV4YW1wbGUpXG4gICAgLy8gc28gbGV0J3MgY2hlY2sgdGhhdCBjdXJyZW50IGRlbXV4ZXIgaXMgc3RpbGwgdmFsaWRcbiAgICAoZGlzY29udGludWl0eSB8fCB0cmFja1N3aXRjaCkgJiYgIXRoaXMucHJvYmUoZGF0YSkpIHtcbiAgICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXI7XG4gICAgICB2YXIgdHlwZVN1cHBvcnRlZCA9IHRoaXMudHlwZVN1cHBvcnRlZDtcbiAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICAgIC8vIHByb2Jpbmcgb3JkZXIgaXMgVFMvQUFDL01QMy9NUDRcbiAgICAgIHZhciBtdXhDb25maWcgPSBbeyBkZW11eDogdHNkZW11eGVyLCByZW11eDogbXA0X3JlbXV4ZXIgfSwgeyBkZW11eDogbXA0ZGVtdXhlcltcImFcIiAvKiBkZWZhdWx0ICovXSwgcmVtdXg6IHBhc3N0aHJvdWdoX3JlbXV4ZXIgfSwgeyBkZW11eDogYWFjZGVtdXhlciwgcmVtdXg6IG1wNF9yZW11eGVyIH0sIHsgZGVtdXg6IG1wM2RlbXV4ZXIsIHJlbXV4OiBtcDRfcmVtdXhlciB9XTtcblxuICAgICAgLy8gcHJvYmUgZm9yIGNvbnRlbnQgdHlwZVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG11eENvbmZpZy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgbXV4ID0gbXV4Q29uZmlnW2ldO1xuICAgICAgICB2YXIgcHJvYmUgPSBtdXguZGVtdXgucHJvYmU7XG4gICAgICAgIGlmIChwcm9iZShkYXRhKSkge1xuICAgICAgICAgIHZhciBfcmVtdXhlciA9IHRoaXMucmVtdXhlciA9IG5ldyBtdXgucmVtdXgob2JzZXJ2ZXIsIGNvbmZpZywgdHlwZVN1cHBvcnRlZCwgdGhpcy52ZW5kb3IpO1xuICAgICAgICAgIGRlbXV4ZXIgPSBuZXcgbXV4LmRlbXV4KG9ic2VydmVyLCBfcmVtdXhlciwgY29uZmlnLCB0eXBlU3VwcG9ydGVkKTtcbiAgICAgICAgICB0aGlzLnByb2JlID0gcHJvYmU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghZGVtdXhlcikge1xuICAgICAgICBvYnNlcnZlci50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfUEFSU0lOR19FUlJPUiwgZmF0YWw6IHRydWUsIHJlYXNvbjogJ25vIGRlbXV4IG1hdGNoaW5nIHdpdGggY29udGVudCBmb3VuZCcgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGVtdXhlciA9IGRlbXV4ZXI7XG4gICAgfVxuICAgIHZhciByZW11eGVyID0gdGhpcy5yZW11eGVyO1xuXG4gICAgaWYgKGRpc2NvbnRpbnVpdHkgfHwgdHJhY2tTd2l0Y2gpIHtcbiAgICAgIGRlbXV4ZXIucmVzZXRJbml0U2VnbWVudChpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgZHVyYXRpb24pO1xuICAgICAgcmVtdXhlci5yZXNldEluaXRTZWdtZW50KCk7XG4gICAgfVxuICAgIGlmIChkaXNjb250aW51aXR5KSB7XG4gICAgICBkZW11eGVyLnJlc2V0VGltZVN0YW1wKGRlZmF1bHRJbml0UFRTKTtcbiAgICAgIHJlbXV4ZXIucmVzZXRUaW1lU3RhbXAoZGVmYXVsdEluaXRQVFMpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRlbXV4ZXIuc2V0RGVjcnlwdERhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGRlbXV4ZXIuc2V0RGVjcnlwdERhdGEoZGVjcnlwdGRhdGEpO1xuICAgIH1cblxuICAgIGRlbXV4ZXIuYXBwZW5kKGRhdGEsIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gIH07XG5cbiAgcmV0dXJuIERlbXV4ZXJJbmxpbmU7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGRlbXV4ZXJfaW5saW5lID0gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoZGVtdXhlcl9pbmxpbmVfRGVtdXhlcklubGluZSk7XG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY3Vlc19uYW1lc3BhY2VPYmplY3QgPSB7fTtcbl9fd2VicGFja19yZXF1aXJlX18uZChjdWVzX25hbWVzcGFjZU9iamVjdCwgXCJuZXdDdWVcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBuZXdDdWU7IH0pO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3VybC10b29sa2l0L3NyYy91cmwtdG9vbGtpdC5qc1xudmFyIHVybF90b29sa2l0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciB1cmxfdG9vbGtpdF9kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih1cmxfdG9vbGtpdCk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvZXJyb3JzLmpzXG52YXIgZXJyb3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLWlzRmluaXRlLmpzXG52YXIgbnVtYmVyX2lzRmluaXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9ldmVudHMuanNcbnZhciBldmVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL3V0aWxzL2xvZ2dlci5qc1xudmFyIGxvZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2V2ZW50LWhhbmRsZXIuanNcbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLypcbipcbiogQWxsIG9iamVjdHMgaW4gdGhlIGV2ZW50IGhhbmRsaW5nIGNoYWluIHNob3VsZCBpbmhlcml0IGZyb20gdGhpcyBjbGFzc1xuKlxuKi9cblxuXG5cblxuXG52YXIgRk9SQklEREVOX0VWRU5UX05BTUVTID0gbmV3IFNldChbJ2hsc0V2ZW50R2VuZXJpYycsICdobHNIYW5kbGVyRGVzdHJveWluZycsICdobHNIYW5kbGVyRGVzdHJveWVkJ10pO1xuXG52YXIgZXZlbnRfaGFuZGxlcl9FdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEV2ZW50SGFuZGxlcihobHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRIYW5kbGVyKTtcblxuICAgIHRoaXMuaGxzID0gaGxzO1xuICAgIHRoaXMub25FdmVudCA9IHRoaXMub25FdmVudC5iaW5kKHRoaXMpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGV2ZW50cyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGV2ZW50c1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdGhpcy5oYW5kbGVkRXZlbnRzID0gZXZlbnRzO1xuICAgIHRoaXMudXNlR2VuZXJpY0hhbmRsZXIgPSB0cnVlO1xuXG4gICAgdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpO1xuICB9XG5cbiAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB0aGlzLm9uSGFuZGxlckRlc3Ryb3lpbmcoKTtcbiAgICB0aGlzLnVucmVnaXN0ZXJMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLm9uSGFuZGxlckRlc3Ryb3llZCgpO1xuICB9O1xuXG4gIEV2ZW50SGFuZGxlci5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWluZyA9IGZ1bmN0aW9uIG9uSGFuZGxlckRlc3Ryb3lpbmcoKSB7fTtcblxuICBFdmVudEhhbmRsZXIucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3llZCA9IGZ1bmN0aW9uIG9uSGFuZGxlckRlc3Ryb3llZCgpIHt9O1xuXG4gIEV2ZW50SGFuZGxlci5wcm90b3R5cGUuaXNFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiBpc0V2ZW50SGFuZGxlcigpIHtcbiAgICByZXR1cm4gX3R5cGVvZih0aGlzLmhhbmRsZWRFdmVudHMpID09PSAnb2JqZWN0JyAmJiB0aGlzLmhhbmRsZWRFdmVudHMubGVuZ3RoICYmIHR5cGVvZiB0aGlzLm9uRXZlbnQgPT09ICdmdW5jdGlvbic7XG4gIH07XG5cbiAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5yZWdpc3Rlckxpc3RlbmVycyA9IGZ1bmN0aW9uIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgIGlmICh0aGlzLmlzRXZlbnRIYW5kbGVyKCkpIHtcbiAgICAgIHRoaXMuaGFuZGxlZEV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoRk9SQklEREVOX0VWRU5UX05BTUVTLmhhcyhldmVudCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvcmJpZGRlbiBldmVudC1uYW1lOiAnICsgZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5obHMub24oZXZlbnQsIHRoaXMub25FdmVudCk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9XG4gIH07XG5cbiAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS51bnJlZ2lzdGVyTGlzdGVuZXJzID0gZnVuY3Rpb24gdW5yZWdpc3Rlckxpc3RlbmVycygpIHtcbiAgICBpZiAodGhpcy5pc0V2ZW50SGFuZGxlcigpKSB7XG4gICAgICB0aGlzLmhhbmRsZWRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5obHMub2ZmKGV2ZW50LCB0aGlzLm9uRXZlbnQpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBhcmd1bWVudHM6IGV2ZW50IChzdHJpbmcpLCBkYXRhIChhbnkpXG4gICAqL1xuXG5cbiAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5vbkV2ZW50ID0gZnVuY3Rpb24gb25FdmVudChldmVudCwgZGF0YSkge1xuICAgIHRoaXMub25FdmVudEdlbmVyaWMoZXZlbnQsIGRhdGEpO1xuICB9O1xuXG4gIEV2ZW50SGFuZGxlci5wcm90b3R5cGUub25FdmVudEdlbmVyaWMgPSBmdW5jdGlvbiBvbkV2ZW50R2VuZXJpYyhldmVudCwgZGF0YSkge1xuICAgIHZhciBldmVudFRvRnVuY3Rpb24gPSBmdW5jdGlvbiBldmVudFRvRnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgIHZhciBmdW5jTmFtZSA9ICdvbicgKyBldmVudC5yZXBsYWNlKCdobHMnLCAnJyk7XG4gICAgICBpZiAodHlwZW9mIHRoaXNbZnVuY05hbWVdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXZlbnQgJyArIGV2ZW50ICsgJyBoYXMgbm8gZ2VuZXJpYyBoYW5kbGVyIGluIHRoaXMgJyArIHRoaXMuY29uc3RydWN0b3IubmFtZSArICcgY2xhc3MgKHRyaWVkICcgKyBmdW5jTmFtZSArICcpJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzW2Z1bmNOYW1lXS5iaW5kKHRoaXMsIGRhdGEpO1xuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgIGV2ZW50VG9GdW5jdGlvbi5jYWxsKHRoaXMsIGV2ZW50LCBkYXRhKS5jYWxsKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignQW4gaW50ZXJuYWwgZXJyb3IgaGFwcGVuZWQgd2hpbGUgaGFuZGxpbmcgZXZlbnQgJyArIGV2ZW50ICsgJy4gRXJyb3IgbWVzc2FnZTogXCInICsgZXJyLm1lc3NhZ2UgKyAnXCIuIEhlcmUgaXMgYSBzdGFja3RyYWNlOicsIGVycik7XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uT1RIRVJfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLklOVEVSTkFMX0VYQ0VQVElPTiwgZmF0YWw6IGZhbHNlLCBldmVudDogZXZlbnQsIGVycjogZXJyIH0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gRXZlbnRIYW5kbGVyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBldmVudF9oYW5kbGVyID0gKGV2ZW50X2hhbmRsZXJfRXZlbnRIYW5kbGVyKTtcbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvZGVtdXgvbXA0ZGVtdXhlci5qc1xudmFyIG1wNGRlbXV4ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9sb2FkZXIvbGV2ZWwta2V5LmpzXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBsZXZlbF9rZXlfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXG5cbnZhciBsZXZlbF9rZXlfTGV2ZWxLZXkgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIExldmVsS2V5KCkge1xuICAgIGxldmVsX2tleV9fY2xhc3NDYWxsQ2hlY2sodGhpcywgTGV2ZWxLZXkpO1xuXG4gICAgdGhpcy5tZXRob2QgPSBudWxsO1xuICAgIHRoaXMua2V5ID0gbnVsbDtcbiAgICB0aGlzLml2ID0gbnVsbDtcbiAgICB0aGlzLl91cmkgPSBudWxsO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExldmVsS2V5LCBbe1xuICAgIGtleTogJ3VyaScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAoIXRoaXMuX3VyaSAmJiB0aGlzLnJlbHVyaSkge1xuICAgICAgICB0aGlzLl91cmkgPSB1cmxfdG9vbGtpdF9kZWZhdWx0LmEuYnVpbGRBYnNvbHV0ZVVSTCh0aGlzLmJhc2V1cmksIHRoaXMucmVsdXJpLCB7IGFsd2F5c05vcm1hbGl6ZTogdHJ1ZSB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX3VyaTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGV2ZWxLZXk7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGxldmVsX2tleSA9IChsZXZlbF9rZXlfTGV2ZWxLZXkpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvbG9hZGVyL2ZyYWdtZW50LmpzXG5cblxudmFyIGZyYWdtZW50X19jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gZnJhZ21lbnRfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXG5cblxuXG52YXIgZnJhZ21lbnRfRnJhZ21lbnQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZyYWdtZW50KCkge1xuICAgIHZhciBfZWxlbWVudGFyeVN0cmVhbXM7XG5cbiAgICBmcmFnbWVudF9fY2xhc3NDYWxsQ2hlY2sodGhpcywgRnJhZ21lbnQpO1xuXG4gICAgdGhpcy5fdXJsID0gbnVsbDtcbiAgICB0aGlzLl9ieXRlUmFuZ2UgPSBudWxsO1xuICAgIHRoaXMuX2RlY3J5cHRkYXRhID0gbnVsbDtcbiAgICB0aGlzLnRhZ0xpc3QgPSBbXTtcbiAgICB0aGlzLnByb2dyYW1EYXRlVGltZSA9IG51bGw7XG4gICAgdGhpcy5yYXdQcm9ncmFtRGF0ZVRpbWUgPSBudWxsO1xuXG4gICAgLy8gSG9sZHMgdGhlIHR5cGVzIG9mIGRhdGEgdGhpcyBmcmFnbWVudCBzdXBwb3J0c1xuICAgIHRoaXMuX2VsZW1lbnRhcnlTdHJlYW1zID0gKF9lbGVtZW50YXJ5U3RyZWFtcyA9IHt9LCBfZWxlbWVudGFyeVN0cmVhbXNbRnJhZ21lbnQuRWxlbWVudGFyeVN0cmVhbVR5cGVzLkFVRElPXSA9IGZhbHNlLCBfZWxlbWVudGFyeVN0cmVhbXNbRnJhZ21lbnQuRWxlbWVudGFyeVN0cmVhbVR5cGVzLlZJREVPXSA9IGZhbHNlLCBfZWxlbWVudGFyeVN0cmVhbXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIGB0eXBlYCBwcm9wZXJ0eSBmb3IgdGhpcy5fZWxlbWVudGFyeVN0cmVhbXNcbiAgICpcbiAgICogQGVudW1cbiAgICovXG5cblxuICAvKipcbiAgICogQHBhcmFtIHtFbGVtZW50YXJ5U3RyZWFtVHlwZX0gdHlwZVxuICAgKi9cbiAgRnJhZ21lbnQucHJvdG90eXBlLmFkZEVsZW1lbnRhcnlTdHJlYW0gPSBmdW5jdGlvbiBhZGRFbGVtZW50YXJ5U3RyZWFtKHR5cGUpIHtcbiAgICB0aGlzLl9lbGVtZW50YXJ5U3RyZWFtc1t0eXBlXSA9IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RWxlbWVudGFyeVN0cmVhbVR5cGV9IHR5cGVcbiAgICovXG5cblxuICBGcmFnbWVudC5wcm90b3R5cGUuaGFzRWxlbWVudGFyeVN0cmVhbSA9IGZ1bmN0aW9uIGhhc0VsZW1lbnRhcnlTdHJlYW0odHlwZSkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50YXJ5U3RyZWFtc1t0eXBlXSA9PT0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogVXRpbGl0eSBtZXRob2QgZm9yIHBhcnNlTGV2ZWxQbGF5bGlzdCB0byBjcmVhdGUgYW4gaW5pdGlhbGl6YXRpb24gdmVjdG9yIGZvciBhIGdpdmVuIHNlZ21lbnRcbiAgICogQHJldHVybnMge1VpbnQ4QXJyYXl9XG4gICAqL1xuXG5cbiAgRnJhZ21lbnQucHJvdG90eXBlLmNyZWF0ZUluaXRpYWxpemF0aW9uVmVjdG9yID0gZnVuY3Rpb24gY3JlYXRlSW5pdGlhbGl6YXRpb25WZWN0b3Ioc2VnbWVudE51bWJlcikge1xuICAgIHZhciB1aW50OFZpZXcgPSBuZXcgVWludDhBcnJheSgxNik7XG5cbiAgICBmb3IgKHZhciBpID0gMTI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICB1aW50OFZpZXdbaV0gPSBzZWdtZW50TnVtYmVyID4+IDggKiAoMTUgLSBpKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVpbnQ4VmlldztcbiAgfTtcblxuICAvKipcbiAgICogVXRpbGl0eSBtZXRob2QgZm9yIHBhcnNlTGV2ZWxQbGF5bGlzdCB0byBnZXQgYSBmcmFnbWVudCdzIGRlY3J5cHRpb24gZGF0YSBmcm9tIHRoZSBjdXJyZW50bHkgcGFyc2VkIGVuY3J5cHRpb24ga2V5IGRhdGFcbiAgICogQHBhcmFtIGxldmVsa2V5IC0gYSBwbGF5bGlzdCdzIGVuY3J5cHRpb24gaW5mb1xuICAgKiBAcGFyYW0gc2VnbWVudE51bWJlciAtIHRoZSBmcmFnbWVudCdzIHNlZ21lbnQgbnVtYmVyXG4gICAqIEByZXR1cm5zIHsqfSAtIGFuIG9iamVjdCB0byBiZSBhcHBsaWVkIGFzIGEgZnJhZ21lbnQncyBkZWNyeXB0ZGF0YVxuICAgKi9cblxuXG4gIEZyYWdtZW50LnByb3RvdHlwZS5mcmFnbWVudERlY3J5cHRkYXRhRnJvbUxldmVsa2V5ID0gZnVuY3Rpb24gZnJhZ21lbnREZWNyeXB0ZGF0YUZyb21MZXZlbGtleShsZXZlbGtleSwgc2VnbWVudE51bWJlcikge1xuICAgIHZhciBkZWNyeXB0ZGF0YSA9IGxldmVsa2V5O1xuXG4gICAgaWYgKGxldmVsa2V5ICYmIGxldmVsa2V5Lm1ldGhvZCAmJiBsZXZlbGtleS51cmkgJiYgIWxldmVsa2V5Lml2KSB7XG4gICAgICBkZWNyeXB0ZGF0YSA9IG5ldyBsZXZlbF9rZXkoKTtcbiAgICAgIGRlY3J5cHRkYXRhLm1ldGhvZCA9IGxldmVsa2V5Lm1ldGhvZDtcbiAgICAgIGRlY3J5cHRkYXRhLmJhc2V1cmkgPSBsZXZlbGtleS5iYXNldXJpO1xuICAgICAgZGVjcnlwdGRhdGEucmVsdXJpID0gbGV2ZWxrZXkucmVsdXJpO1xuICAgICAgZGVjcnlwdGRhdGEuaXYgPSB0aGlzLmNyZWF0ZUluaXRpYWxpemF0aW9uVmVjdG9yKHNlZ21lbnROdW1iZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWNyeXB0ZGF0YTtcbiAgfTtcblxuICBmcmFnbWVudF9fY3JlYXRlQ2xhc3MoRnJhZ21lbnQsIFt7XG4gICAga2V5OiAndXJsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICghdGhpcy5fdXJsICYmIHRoaXMucmVsdXJsKSB7XG4gICAgICAgIHRoaXMuX3VybCA9IHVybF90b29sa2l0X2RlZmF1bHQuYS5idWlsZEFic29sdXRlVVJMKHRoaXMuYmFzZXVybCwgdGhpcy5yZWx1cmwsIHsgYWx3YXlzTm9ybWFsaXplOiB0cnVlIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fdXJsO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuX3VybCA9IHZhbHVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2J5dGVSYW5nZScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAoIXRoaXMuX2J5dGVSYW5nZSAmJiAhdGhpcy5yYXdCeXRlUmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYnl0ZVJhbmdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ieXRlUmFuZ2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBieXRlUmFuZ2UgPSBbXTtcbiAgICAgIGlmICh0aGlzLnJhd0J5dGVSYW5nZSkge1xuICAgICAgICB2YXIgcGFyYW1zID0gdGhpcy5yYXdCeXRlUmFuZ2Uuc3BsaXQoJ0AnLCAyKTtcbiAgICAgICAgaWYgKHBhcmFtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICB2YXIgbGFzdEJ5dGVSYW5nZUVuZE9mZnNldCA9IHRoaXMubGFzdEJ5dGVSYW5nZUVuZE9mZnNldDtcbiAgICAgICAgICBieXRlUmFuZ2VbMF0gPSBsYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0IHx8IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnl0ZVJhbmdlWzBdID0gcGFyc2VJbnQocGFyYW1zWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBieXRlUmFuZ2VbMV0gPSBwYXJzZUludChwYXJhbXNbMF0pICsgYnl0ZVJhbmdlWzBdO1xuICAgICAgICB0aGlzLl9ieXRlUmFuZ2UgPSBieXRlUmFuZ2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gYnl0ZVJhbmdlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2J5dGVSYW5nZVN0YXJ0T2Zmc2V0JyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmJ5dGVSYW5nZVswXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdieXRlUmFuZ2VFbmRPZmZzZXQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuYnl0ZVJhbmdlWzFdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RlY3J5cHRkYXRhJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICghdGhpcy5fZGVjcnlwdGRhdGEpIHtcbiAgICAgICAgdGhpcy5fZGVjcnlwdGRhdGEgPSB0aGlzLmZyYWdtZW50RGVjcnlwdGRhdGFGcm9tTGV2ZWxrZXkodGhpcy5sZXZlbGtleSwgdGhpcy5zbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9kZWNyeXB0ZGF0YTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdlbmRQcm9ncmFtRGF0ZVRpbWUnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKCFPYmplY3QobnVtYmVyX2lzRmluaXRlW1wiYVwiIC8qIGlzRmluaXRlTnVtYmVyICovXSkodGhpcy5wcm9ncmFtRGF0ZVRpbWUpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgZHVyYXRpb24gPSAhT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKHRoaXMuZHVyYXRpb24pID8gMCA6IHRoaXMuZHVyYXRpb247XG5cbiAgICAgIHJldHVybiB0aGlzLnByb2dyYW1EYXRlVGltZSArIGR1cmF0aW9uICogMTAwMDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdlbmNyeXB0ZWQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICEhKHRoaXMuZGVjcnlwdGRhdGEgJiYgdGhpcy5kZWNyeXB0ZGF0YS51cmkgIT09IG51bGwgJiYgdGhpcy5kZWNyeXB0ZGF0YS5rZXkgPT09IG51bGwpO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnRWxlbWVudGFyeVN0cmVhbVR5cGVzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIEFVRElPOiAnYXVkaW8nLFxuICAgICAgICBWSURFTzogJ3ZpZGVvJ1xuICAgICAgfTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRnJhZ21lbnQ7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGxvYWRlcl9mcmFnbWVudCA9IChmcmFnbWVudF9GcmFnbWVudCk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9sb2FkZXIvbGV2ZWwuanNcblxuXG52YXIgbGV2ZWxfX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBsZXZlbF9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgbGV2ZWxfTGV2ZWwgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIExldmVsKGJhc2VVcmwpIHtcbiAgICBsZXZlbF9fY2xhc3NDYWxsQ2hlY2sodGhpcywgTGV2ZWwpO1xuXG4gICAgLy8gUGxlYXNlIGtlZXAgcHJvcGVydGllcyBpbiBhbHBoYWJldGljYWwgb3JkZXJcbiAgICB0aGlzLmVuZENDID0gMDtcbiAgICB0aGlzLmVuZFNOID0gMDtcbiAgICB0aGlzLmZyYWdtZW50cyA9IFtdO1xuICAgIHRoaXMuaW5pdFNlZ21lbnQgPSBudWxsO1xuICAgIHRoaXMubGl2ZSA9IHRydWU7XG4gICAgdGhpcy5uZWVkU2lkeFJhbmdlcyA9IGZhbHNlO1xuICAgIHRoaXMuc3RhcnRDQyA9IDA7XG4gICAgdGhpcy5zdGFydFNOID0gMDtcbiAgICB0aGlzLnN0YXJ0VGltZU9mZnNldCA9IG51bGw7XG4gICAgdGhpcy50YXJnZXRkdXJhdGlvbiA9IDA7XG4gICAgdGhpcy50b3RhbGR1cmF0aW9uID0gMDtcbiAgICB0aGlzLnR5cGUgPSBudWxsO1xuICAgIHRoaXMudXJsID0gYmFzZVVybDtcbiAgICB0aGlzLnZlcnNpb24gPSBudWxsO1xuICB9XG5cbiAgbGV2ZWxfX2NyZWF0ZUNsYXNzKExldmVsLCBbe1xuICAgIGtleTogXCJoYXNQcm9ncmFtRGF0ZVRpbWVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAhISh0aGlzLmZyYWdtZW50c1swXSAmJiBPYmplY3QobnVtYmVyX2lzRmluaXRlW1wiYVwiIC8qIGlzRmluaXRlTnVtYmVyICovXSkodGhpcy5mcmFnbWVudHNbMF0ucHJvZ3JhbURhdGVUaW1lKSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExldmVsO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBsb2FkZXJfbGV2ZWwgPSAobGV2ZWxfTGV2ZWwpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvYXR0ci1saXN0LmpzXG5mdW5jdGlvbiBhdHRyX2xpc3RfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIERFQ0lNQUxfUkVTT0xVVElPTl9SRUdFWCA9IC9eKFxcZCspeChcXGQrKSQvOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG52YXIgQVRUUl9MSVNUX1JFR0VYID0gL1xccyooLis/KVxccyo9KCg/OlxcXCIuKj9cXFwiKXwuKj8pKD86LHwkKS9nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG5cbi8vIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20va2Fub25naWwvbm9kZS1tM3U4cGFyc2UvYmxvYi9tYXN0ZXIvYXR0cmxpc3QuanNcblxudmFyIEF0dHJMaXN0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBdHRyTGlzdChhdHRycykge1xuICAgIGF0dHJfbGlzdF9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQXR0ckxpc3QpO1xuXG4gICAgaWYgKHR5cGVvZiBhdHRycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGF0dHJzID0gQXR0ckxpc3QucGFyc2VBdHRyTGlzdChhdHRycyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgYXR0ciBpbiBhdHRycykge1xuICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KGF0dHIpKSB7XG4gICAgICAgIHRoaXNbYXR0cl0gPSBhdHRyc1thdHRyXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBBdHRyTGlzdC5wcm90b3R5cGUuZGVjaW1hbEludGVnZXIgPSBmdW5jdGlvbiBkZWNpbWFsSW50ZWdlcihhdHRyTmFtZSkge1xuICAgIHZhciBpbnRWYWx1ZSA9IHBhcnNlSW50KHRoaXNbYXR0ck5hbWVdLCAxMCk7XG4gICAgaWYgKGludFZhbHVlID4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW50VmFsdWU7XG4gIH07XG5cbiAgQXR0ckxpc3QucHJvdG90eXBlLmhleGFkZWNpbWFsSW50ZWdlciA9IGZ1bmN0aW9uIGhleGFkZWNpbWFsSW50ZWdlcihhdHRyTmFtZSkge1xuICAgIGlmICh0aGlzW2F0dHJOYW1lXSkge1xuICAgICAgdmFyIHN0cmluZ1ZhbHVlID0gKHRoaXNbYXR0ck5hbWVdIHx8ICcweCcpLnNsaWNlKDIpO1xuICAgICAgc3RyaW5nVmFsdWUgPSAoc3RyaW5nVmFsdWUubGVuZ3RoICYgMSA/ICcwJyA6ICcnKSArIHN0cmluZ1ZhbHVlO1xuXG4gICAgICB2YXIgdmFsdWUgPSBuZXcgVWludDhBcnJheShzdHJpbmdWYWx1ZS5sZW5ndGggLyAyKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nVmFsdWUubGVuZ3RoIC8gMjsgaSsrKSB7XG4gICAgICAgIHZhbHVlW2ldID0gcGFyc2VJbnQoc3RyaW5nVmFsdWUuc2xpY2UoaSAqIDIsIGkgKiAyICsgMiksIDE2KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgQXR0ckxpc3QucHJvdG90eXBlLmhleGFkZWNpbWFsSW50ZWdlckFzTnVtYmVyID0gZnVuY3Rpb24gaGV4YWRlY2ltYWxJbnRlZ2VyQXNOdW1iZXIoYXR0ck5hbWUpIHtcbiAgICB2YXIgaW50VmFsdWUgPSBwYXJzZUludCh0aGlzW2F0dHJOYW1lXSwgMTYpO1xuICAgIGlmIChpbnRWYWx1ZSA+IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGludFZhbHVlO1xuICB9O1xuXG4gIEF0dHJMaXN0LnByb3RvdHlwZS5kZWNpbWFsRmxvYXRpbmdQb2ludCA9IGZ1bmN0aW9uIGRlY2ltYWxGbG9hdGluZ1BvaW50KGF0dHJOYW1lKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpc1thdHRyTmFtZV0pO1xuICB9O1xuXG4gIEF0dHJMaXN0LnByb3RvdHlwZS5lbnVtZXJhdGVkU3RyaW5nID0gZnVuY3Rpb24gZW51bWVyYXRlZFN0cmluZyhhdHRyTmFtZSkge1xuICAgIHJldHVybiB0aGlzW2F0dHJOYW1lXTtcbiAgfTtcblxuICBBdHRyTGlzdC5wcm90b3R5cGUuZGVjaW1hbFJlc29sdXRpb24gPSBmdW5jdGlvbiBkZWNpbWFsUmVzb2x1dGlvbihhdHRyTmFtZSkge1xuICAgIHZhciByZXMgPSBERUNJTUFMX1JFU09MVVRJT05fUkVHRVguZXhlYyh0aGlzW2F0dHJOYW1lXSk7XG4gICAgaWYgKHJlcyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IHBhcnNlSW50KHJlc1sxXSwgMTApLFxuICAgICAgaGVpZ2h0OiBwYXJzZUludChyZXNbMl0sIDEwKVxuICAgIH07XG4gIH07XG5cbiAgQXR0ckxpc3QucGFyc2VBdHRyTGlzdCA9IGZ1bmN0aW9uIHBhcnNlQXR0ckxpc3QoaW5wdXQpIHtcbiAgICB2YXIgbWF0Y2ggPSB2b2lkIDAsXG4gICAgICAgIGF0dHJzID0ge307XG4gICAgQVRUUl9MSVNUX1JFR0VYLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKChtYXRjaCA9IEFUVFJfTElTVF9SRUdFWC5leGVjKGlucHV0KSkgIT09IG51bGwpIHtcbiAgICAgIHZhciB2YWx1ZSA9IG1hdGNoWzJdLFxuICAgICAgICAgIHF1b3RlID0gJ1wiJztcblxuICAgICAgaWYgKHZhbHVlLmluZGV4T2YocXVvdGUpID09PSAwICYmIHZhbHVlLmxhc3RJbmRleE9mKHF1b3RlKSA9PT0gdmFsdWUubGVuZ3RoIC0gMSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDEsIC0xKTtcbiAgICAgIH1cblxuICAgICAgYXR0cnNbbWF0Y2hbMV1dID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhdHRycztcbiAgfTtcblxuICByZXR1cm4gQXR0ckxpc3Q7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGF0dHJfbGlzdCA9IChBdHRyTGlzdCk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy91dGlscy9jb2RlY3MuanNcbi8vIGZyb20gaHR0cDovL21wNHJhLm9yZy9jb2RlY3MuaHRtbFxudmFyIHNhbXBsZUVudHJ5Q29kZXNJU08gPSB7XG4gIGF1ZGlvOiB7XG4gICAgJ2EzZHMnOiB0cnVlLFxuICAgICdhYy0zJzogdHJ1ZSxcbiAgICAnYWMtNCc6IHRydWUsXG4gICAgJ2FsYWMnOiB0cnVlLFxuICAgICdhbGF3JzogdHJ1ZSxcbiAgICAnZHJhMSc6IHRydWUsXG4gICAgJ2R0cysnOiB0cnVlLFxuICAgICdkdHMtJzogdHJ1ZSxcbiAgICAnZHRzYyc6IHRydWUsXG4gICAgJ2R0c2UnOiB0cnVlLFxuICAgICdkdHNoJzogdHJ1ZSxcbiAgICAnZWMtMyc6IHRydWUsXG4gICAgJ2VuY2EnOiB0cnVlLFxuICAgICdnNzE5JzogdHJ1ZSxcbiAgICAnZzcyNic6IHRydWUsXG4gICAgJ200YWUnOiB0cnVlLFxuICAgICdtaGExJzogdHJ1ZSxcbiAgICAnbWhhMic6IHRydWUsXG4gICAgJ21obTEnOiB0cnVlLFxuICAgICdtaG0yJzogdHJ1ZSxcbiAgICAnbWxwYSc6IHRydWUsXG4gICAgJ21wNGEnOiB0cnVlLFxuICAgICdyYXcgJzogdHJ1ZSxcbiAgICAnT3B1cyc6IHRydWUsXG4gICAgJ3NhbXInOiB0cnVlLFxuICAgICdzYXdiJzogdHJ1ZSxcbiAgICAnc2F3cCc6IHRydWUsXG4gICAgJ3NldmMnOiB0cnVlLFxuICAgICdzcWNwJzogdHJ1ZSxcbiAgICAnc3Ntdic6IHRydWUsXG4gICAgJ3R3b3MnOiB0cnVlLFxuICAgICd1bGF3JzogdHJ1ZVxuICB9LFxuICB2aWRlbzoge1xuICAgICdhdmMxJzogdHJ1ZSxcbiAgICAnYXZjMic6IHRydWUsXG4gICAgJ2F2YzMnOiB0cnVlLFxuICAgICdhdmM0JzogdHJ1ZSxcbiAgICAnYXZjcCc6IHRydWUsXG4gICAgJ2RyYWMnOiB0cnVlLFxuICAgICdkdmF2JzogdHJ1ZSxcbiAgICAnZHZoZSc6IHRydWUsXG4gICAgJ2VuY3YnOiB0cnVlLFxuICAgICdoZXYxJzogdHJ1ZSxcbiAgICAnaHZjMSc6IHRydWUsXG4gICAgJ21qcDInOiB0cnVlLFxuICAgICdtcDR2JzogdHJ1ZSxcbiAgICAnbXZjMSc6IHRydWUsXG4gICAgJ212YzInOiB0cnVlLFxuICAgICdtdmMzJzogdHJ1ZSxcbiAgICAnbXZjNCc6IHRydWUsXG4gICAgJ3Jlc3YnOiB0cnVlLFxuICAgICdydjYwJzogdHJ1ZSxcbiAgICAnczI2Myc6IHRydWUsXG4gICAgJ3N2YzEnOiB0cnVlLFxuICAgICdzdmMyJzogdHJ1ZSxcbiAgICAndmMtMSc6IHRydWUsXG4gICAgJ3ZwMDgnOiB0cnVlLFxuICAgICd2cDA5JzogdHJ1ZVxuICB9XG59O1xuXG5mdW5jdGlvbiBpc0NvZGVjVHlwZShjb2RlYywgdHlwZSkge1xuICB2YXIgdHlwZUNvZGVzID0gc2FtcGxlRW50cnlDb2Rlc0lTT1t0eXBlXTtcbiAgcmV0dXJuICEhdHlwZUNvZGVzICYmIHR5cGVDb2Rlc1tjb2RlYy5zbGljZSgwLCA0KV0gPT09IHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzQ29kZWNTdXBwb3J0ZWRJbk1wNChjb2RlYywgdHlwZSkge1xuICByZXR1cm4gd2luZG93Lk1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCgodHlwZSB8fCAndmlkZW8nKSArICcvbXA0O2NvZGVjcz1cIicgKyBjb2RlYyArICdcIicpO1xufVxuXG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2xvYWRlci9tM3U4LXBhcnNlci5qc1xuXG5cbmZ1bmN0aW9uIG0zdThfcGFyc2VyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG5cblxuXG5cblxuXG5cblxuLyoqXG4gKiBNM1U4IHBhcnNlclxuICogQG1vZHVsZVxuICovXG5cbi8vIGh0dHBzOi8vcmVnZXgxMDEuY29tIGlzIHlvdXIgZnJpZW5kXG52YXIgTUFTVEVSX1BMQVlMSVNUX1JFR0VYID0gLyNFWFQtWC1TVFJFQU0tSU5GOihbXlxcblxccl0qKVtcXHJcXG5dKyhbXlxcclxcbl0rKS9nO1xudmFyIE1BU1RFUl9QTEFZTElTVF9NRURJQV9SRUdFWCA9IC8jRVhULVgtTUVESUE6KC4qKS9nO1xuXG52YXIgTEVWRUxfUExBWUxJU1RfUkVHRVhfRkFTVCA9IG5ldyBSZWdFeHAoWy8jRVhUSU5GOlxccyooXFxkKig/OlxcLlxcZCspPykoPzosKC4qKVxccyspPy8uc291cmNlLCAvLyBkdXJhdGlvbiAoI0VYVElORjo8ZHVyYXRpb24+LDx0aXRsZT4pLCBncm91cCAxID0+IGR1cmF0aW9uLCBncm91cCAyID0+IHRpdGxlXG4vfCg/ISMpKFxcUyspLy5zb3VyY2UsIC8vIHNlZ21lbnQgVVJJLCBncm91cCAzID0+IHRoZSBVUkkgKG5vdGUgbmV3bGluZSBpcyBub3QgZWF0ZW4pXG4vfCNFWFQtWC1CWVRFUkFOR0U6KiguKykvLnNvdXJjZSwgLy8gbmV4dCBzZWdtZW50J3MgYnl0ZXJhbmdlLCBncm91cCA0ID0+IHJhbmdlIHNwZWMgKHhAeSlcbi98I0VYVC1YLVBST0dSQU0tREFURS1USU1FOiguKykvLnNvdXJjZSwgLy8gbmV4dCBzZWdtZW50J3MgcHJvZ3JhbSBkYXRlL3RpbWUgZ3JvdXAgNSA9PiB0aGUgZGF0ZXRpbWUgc3BlY1xuL3wjLiovLnNvdXJjZSAvLyBBbGwgb3RoZXIgbm9uLXNlZ21lbnQgb3JpZW50ZWQgdGFncyB3aWxsIG1hdGNoIHdpdGggYWxsIGdyb3VwcyBlbXB0eVxuXS5qb2luKCcnKSwgJ2cnKTtcblxudmFyIExFVkVMX1BMQVlMSVNUX1JFR0VYX1NMT1cgPSAvKD86KD86IyhFWFRNM1UpKXwoPzojRVhULVgtKFBMQVlMSVNULVRZUEUpOiguKykpfCg/OiNFWFQtWC0oTUVESUEtU0VRVUVOQ0UpOiAqKFxcZCspKXwoPzojRVhULVgtKFRBUkdFVERVUkFUSU9OKTogKihcXGQrKSl8KD86I0VYVC1YLShLRVkpOiguKykpfCg/OiNFWFQtWC0oU1RBUlQpOiguKykpfCg/OiNFWFQtWC0oRU5ETElTVCkpfCg/OiNFWFQtWC0oRElTQ09OVElOVUlUWS1TRVEpVUVOQ0U6KFxcZCspKXwoPzojRVhULVgtKERJUylDT05USU5VSVRZKSl8KD86I0VYVC1YLShWRVJTSU9OKTooXFxkKykpfCg/OiNFWFQtWC0oTUFQKTooLispKXwoPzooIykoW146XSopOiguKikpfCg/OigjKSguKikpKD86LiopXFxyP1xcbj8vO1xuXG52YXIgTVA0X1JFR0VYX1NVRkZJWCA9IC9cXC4obXA0fG00c3xtNHZ8bTRhKSQvaTtcblxudmFyIG0zdThfcGFyc2VyX00zVThQYXJzZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE0zVThQYXJzZXIoKSB7XG4gICAgbTN1OF9wYXJzZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE0zVThQYXJzZXIpO1xuICB9XG5cbiAgTTNVOFBhcnNlci5maW5kR3JvdXAgPSBmdW5jdGlvbiBmaW5kR3JvdXAoZ3JvdXBzLCBtZWRpYUdyb3VwSWQpIHtcbiAgICBpZiAoIWdyb3Vwcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoaW5nR3JvdXAgPSBudWxsO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBncm91cCA9IGdyb3Vwc1tpXTtcbiAgICAgIGlmIChncm91cC5pZCA9PT0gbWVkaWFHcm91cElkKSB7XG4gICAgICAgIG1hdGNoaW5nR3JvdXAgPSBncm91cDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2hpbmdHcm91cDtcbiAgfTtcblxuICBNM1U4UGFyc2VyLmNvbnZlcnRBVkMxVG9BVkNPVEkgPSBmdW5jdGlvbiBjb252ZXJ0QVZDMVRvQVZDT1RJKGNvZGVjKSB7XG4gICAgdmFyIHJlc3VsdCA9IHZvaWQgMCxcbiAgICAgICAgYXZjZGF0YSA9IGNvZGVjLnNwbGl0KCcuJyk7XG4gICAgaWYgKGF2Y2RhdGEubGVuZ3RoID4gMikge1xuICAgICAgcmVzdWx0ID0gYXZjZGF0YS5zaGlmdCgpICsgJy4nO1xuICAgICAgcmVzdWx0ICs9IHBhcnNlSW50KGF2Y2RhdGEuc2hpZnQoKSkudG9TdHJpbmcoMTYpO1xuICAgICAgcmVzdWx0ICs9ICgnMDAwJyArIHBhcnNlSW50KGF2Y2RhdGEuc2hpZnQoKSkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBjb2RlYztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBNM1U4UGFyc2VyLnJlc29sdmUgPSBmdW5jdGlvbiByZXNvbHZlKHVybCwgYmFzZVVybCkge1xuICAgIHJldHVybiB1cmxfdG9vbGtpdF9kZWZhdWx0LmEuYnVpbGRBYnNvbHV0ZVVSTChiYXNlVXJsLCB1cmwsIHsgYWx3YXlzTm9ybWFsaXplOiB0cnVlIH0pO1xuICB9O1xuXG4gIE0zVThQYXJzZXIucGFyc2VNYXN0ZXJQbGF5bGlzdCA9IGZ1bmN0aW9uIHBhcnNlTWFzdGVyUGxheWxpc3Qoc3RyaW5nLCBiYXNldXJsKSB7XG4gICAgdmFyIGxldmVscyA9IFtdLFxuICAgICAgICByZXN1bHQgPSB2b2lkIDA7XG4gICAgTUFTVEVSX1BMQVlMSVNUX1JFR0VYLmxhc3RJbmRleCA9IDA7XG5cbiAgICBmdW5jdGlvbiBzZXRDb2RlY3MoY29kZWNzLCBsZXZlbCkge1xuICAgICAgWyd2aWRlbycsICdhdWRpbyddLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIGZpbHRlcmVkID0gY29kZWNzLmZpbHRlcihmdW5jdGlvbiAoY29kZWMpIHtcbiAgICAgICAgICByZXR1cm4gaXNDb2RlY1R5cGUoY29kZWMsIHR5cGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZpbHRlcmVkLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBwcmVmZXJyZWQgPSBmaWx0ZXJlZC5maWx0ZXIoZnVuY3Rpb24gKGNvZGVjKSB7XG4gICAgICAgICAgICByZXR1cm4gY29kZWMubGFzdEluZGV4T2YoJ2F2YzEnLCAwKSA9PT0gMCB8fCBjb2RlYy5sYXN0SW5kZXhPZignbXA0YScsIDApID09PSAwO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxldmVsW3R5cGUgKyAnQ29kZWMnXSA9IHByZWZlcnJlZC5sZW5ndGggPiAwID8gcHJlZmVycmVkWzBdIDogZmlsdGVyZWRbMF07XG5cbiAgICAgICAgICAvLyByZW1vdmUgZnJvbSBsaXN0XG4gICAgICAgICAgY29kZWNzID0gY29kZWNzLmZpbHRlcihmdW5jdGlvbiAoY29kZWMpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZC5pbmRleE9mKGNvZGVjKSA9PT0gLTE7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsZXZlbC51bmtub3duQ29kZWNzID0gY29kZWNzO1xuICAgIH1cblxuICAgIHdoaWxlICgocmVzdWx0ID0gTUFTVEVSX1BMQVlMSVNUX1JFR0VYLmV4ZWMoc3RyaW5nKSkgIT0gbnVsbCkge1xuICAgICAgdmFyIGxldmVsID0ge307XG5cbiAgICAgIHZhciBhdHRycyA9IGxldmVsLmF0dHJzID0gbmV3IGF0dHJfbGlzdChyZXN1bHRbMV0pO1xuICAgICAgbGV2ZWwudXJsID0gTTNVOFBhcnNlci5yZXNvbHZlKHJlc3VsdFsyXSwgYmFzZXVybCk7XG5cbiAgICAgIHZhciByZXNvbHV0aW9uID0gYXR0cnMuZGVjaW1hbFJlc29sdXRpb24oJ1JFU09MVVRJT04nKTtcbiAgICAgIGlmIChyZXNvbHV0aW9uKSB7XG4gICAgICAgIGxldmVsLndpZHRoID0gcmVzb2x1dGlvbi53aWR0aDtcbiAgICAgICAgbGV2ZWwuaGVpZ2h0ID0gcmVzb2x1dGlvbi5oZWlnaHQ7XG4gICAgICB9XG4gICAgICBsZXZlbC5iaXRyYXRlID0gYXR0cnMuZGVjaW1hbEludGVnZXIoJ0FWRVJBR0UtQkFORFdJRFRIJykgfHwgYXR0cnMuZGVjaW1hbEludGVnZXIoJ0JBTkRXSURUSCcpO1xuICAgICAgbGV2ZWwubmFtZSA9IGF0dHJzLk5BTUU7XG5cbiAgICAgIHNldENvZGVjcyhbXS5jb25jYXQoKGF0dHJzLkNPREVDUyB8fCAnJykuc3BsaXQoL1sgLF0rLykpLCBsZXZlbCk7XG5cbiAgICAgIGlmIChsZXZlbC52aWRlb0NvZGVjICYmIGxldmVsLnZpZGVvQ29kZWMuaW5kZXhPZignYXZjMScpICE9PSAtMSkge1xuICAgICAgICBsZXZlbC52aWRlb0NvZGVjID0gTTNVOFBhcnNlci5jb252ZXJ0QVZDMVRvQVZDT1RJKGxldmVsLnZpZGVvQ29kZWMpO1xuICAgICAgfVxuXG4gICAgICBsZXZlbHMucHVzaChsZXZlbCk7XG4gICAgfVxuICAgIHJldHVybiBsZXZlbHM7XG4gIH07XG5cbiAgTTNVOFBhcnNlci5wYXJzZU1hc3RlclBsYXlsaXN0TWVkaWEgPSBmdW5jdGlvbiBwYXJzZU1hc3RlclBsYXlsaXN0TWVkaWEoc3RyaW5nLCBiYXNldXJsLCB0eXBlKSB7XG4gICAgdmFyIGF1ZGlvR3JvdXBzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBbXTtcblxuICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG4gICAgdmFyIG1lZGlhcyA9IFtdO1xuICAgIHZhciBpZCA9IDA7XG4gICAgTUFTVEVSX1BMQVlMSVNUX01FRElBX1JFR0VYLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKChyZXN1bHQgPSBNQVNURVJfUExBWUxJU1RfTUVESUFfUkVHRVguZXhlYyhzdHJpbmcpKSAhPT0gbnVsbCkge1xuICAgICAgdmFyIG1lZGlhID0ge307XG4gICAgICB2YXIgYXR0cnMgPSBuZXcgYXR0cl9saXN0KHJlc3VsdFsxXSk7XG4gICAgICBpZiAoYXR0cnMuVFlQRSA9PT0gdHlwZSkge1xuICAgICAgICBtZWRpYS5ncm91cElkID0gYXR0cnNbJ0dST1VQLUlEJ107XG4gICAgICAgIG1lZGlhLm5hbWUgPSBhdHRycy5OQU1FO1xuICAgICAgICBtZWRpYS50eXBlID0gdHlwZTtcbiAgICAgICAgbWVkaWEuZGVmYXVsdCA9IGF0dHJzLkRFRkFVTFQgPT09ICdZRVMnO1xuICAgICAgICBtZWRpYS5hdXRvc2VsZWN0ID0gYXR0cnMuQVVUT1NFTEVDVCA9PT0gJ1lFUyc7XG4gICAgICAgIG1lZGlhLmZvcmNlZCA9IGF0dHJzLkZPUkNFRCA9PT0gJ1lFUyc7XG4gICAgICAgIGlmIChhdHRycy5VUkkpIHtcbiAgICAgICAgICBtZWRpYS51cmwgPSBNM1U4UGFyc2VyLnJlc29sdmUoYXR0cnMuVVJJLCBiYXNldXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lZGlhLmxhbmcgPSBhdHRycy5MQU5HVUFHRTtcbiAgICAgICAgaWYgKCFtZWRpYS5uYW1lKSB7XG4gICAgICAgICAgbWVkaWEubmFtZSA9IG1lZGlhLmxhbmc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXVkaW9Hcm91cHMubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGdyb3VwQ29kZWMgPSBNM1U4UGFyc2VyLmZpbmRHcm91cChhdWRpb0dyb3VwcywgbWVkaWEuZ3JvdXBJZCk7XG4gICAgICAgICAgbWVkaWEuYXVkaW9Db2RlYyA9IGdyb3VwQ29kZWMgPyBncm91cENvZGVjLmNvZGVjIDogYXVkaW9Hcm91cHNbMF0uY29kZWM7XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWEuaWQgPSBpZCsrO1xuICAgICAgICBtZWRpYXMucHVzaChtZWRpYSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZWRpYXM7XG4gIH07XG5cbiAgTTNVOFBhcnNlci5wYXJzZUxldmVsUGxheWxpc3QgPSBmdW5jdGlvbiBwYXJzZUxldmVsUGxheWxpc3Qoc3RyaW5nLCBiYXNldXJsLCBpZCwgdHlwZSwgbGV2ZWxVcmxJZCkge1xuICAgIHZhciBjdXJyZW50U04gPSAwO1xuICAgIHZhciB0b3RhbGR1cmF0aW9uID0gMDtcbiAgICB2YXIgbGV2ZWwgPSBuZXcgbG9hZGVyX2xldmVsKGJhc2V1cmwpO1xuICAgIHZhciBsZXZlbGtleSA9IG5ldyBsZXZlbF9rZXkoKTtcbiAgICB2YXIgY2MgPSAwO1xuICAgIHZhciBwcmV2RnJhZyA9IG51bGw7XG4gICAgdmFyIGZyYWcgPSBuZXcgbG9hZGVyX2ZyYWdtZW50KCk7XG4gICAgdmFyIHJlc3VsdCA9IHZvaWQgMDtcbiAgICB2YXIgaSA9IHZvaWQgMDtcblxuICAgIHZhciBmaXJzdFBkdEluZGV4ID0gbnVsbDtcblxuICAgIExFVkVMX1BMQVlMSVNUX1JFR0VYX0ZBU1QubGFzdEluZGV4ID0gMDtcblxuICAgIHdoaWxlICgocmVzdWx0ID0gTEVWRUxfUExBWUxJU1RfUkVHRVhfRkFTVC5leGVjKHN0cmluZykpICE9PSBudWxsKSB7XG4gICAgICB2YXIgZHVyYXRpb24gPSByZXN1bHRbMV07XG4gICAgICBpZiAoZHVyYXRpb24pIHtcbiAgICAgICAgLy8gSU5GXG4gICAgICAgIGZyYWcuZHVyYXRpb24gPSBwYXJzZUZsb2F0KGR1cmF0aW9uKTtcbiAgICAgICAgLy8gYXZvaWQgc2xpY2VkIHN0cmluZ3MgICAgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzkzOVxuICAgICAgICB2YXIgdGl0bGUgPSAoJyAnICsgcmVzdWx0WzJdKS5zbGljZSgxKTtcbiAgICAgICAgZnJhZy50aXRsZSA9IHRpdGxlIHx8IG51bGw7XG4gICAgICAgIGZyYWcudGFnTGlzdC5wdXNoKHRpdGxlID8gWydJTkYnLCBkdXJhdGlvbiwgdGl0bGVdIDogWydJTkYnLCBkdXJhdGlvbl0pO1xuICAgICAgfSBlbHNlIGlmIChyZXN1bHRbM10pIHtcbiAgICAgICAgLy8gdXJsXG4gICAgICAgIGlmIChPYmplY3QobnVtYmVyX2lzRmluaXRlW1wiYVwiIC8qIGlzRmluaXRlTnVtYmVyICovXSkoZnJhZy5kdXJhdGlvbikpIHtcbiAgICAgICAgICB2YXIgc24gPSBjdXJyZW50U04rKztcbiAgICAgICAgICBmcmFnLnR5cGUgPSB0eXBlO1xuICAgICAgICAgIGZyYWcuc3RhcnQgPSB0b3RhbGR1cmF0aW9uO1xuICAgICAgICAgIGZyYWcubGV2ZWxrZXkgPSBsZXZlbGtleTtcbiAgICAgICAgICBmcmFnLnNuID0gc247XG4gICAgICAgICAgZnJhZy5sZXZlbCA9IGlkO1xuICAgICAgICAgIGZyYWcuY2MgPSBjYztcbiAgICAgICAgICBmcmFnLnVybElkID0gbGV2ZWxVcmxJZDtcbiAgICAgICAgICBmcmFnLmJhc2V1cmwgPSBiYXNldXJsO1xuICAgICAgICAgIC8vIGF2b2lkIHNsaWNlZCBzdHJpbmdzICAgIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy85MzlcbiAgICAgICAgICBmcmFnLnJlbHVybCA9ICgnICcgKyByZXN1bHRbM10pLnNsaWNlKDEpO1xuICAgICAgICAgIGFzc2lnblByb2dyYW1EYXRlVGltZShmcmFnLCBwcmV2RnJhZyk7XG5cbiAgICAgICAgICBsZXZlbC5mcmFnbWVudHMucHVzaChmcmFnKTtcbiAgICAgICAgICBwcmV2RnJhZyA9IGZyYWc7XG4gICAgICAgICAgdG90YWxkdXJhdGlvbiArPSBmcmFnLmR1cmF0aW9uO1xuXG4gICAgICAgICAgZnJhZyA9IG5ldyBsb2FkZXJfZnJhZ21lbnQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChyZXN1bHRbNF0pIHtcbiAgICAgICAgLy8gWC1CWVRFUkFOR0VcbiAgICAgICAgZnJhZy5yYXdCeXRlUmFuZ2UgPSAoJyAnICsgcmVzdWx0WzRdKS5zbGljZSgxKTtcbiAgICAgICAgaWYgKHByZXZGcmFnKSB7XG4gICAgICAgICAgdmFyIGxhc3RCeXRlUmFuZ2VFbmRPZmZzZXQgPSBwcmV2RnJhZy5ieXRlUmFuZ2VFbmRPZmZzZXQ7XG4gICAgICAgICAgaWYgKGxhc3RCeXRlUmFuZ2VFbmRPZmZzZXQpIHtcbiAgICAgICAgICAgIGZyYWcubGFzdEJ5dGVSYW5nZUVuZE9mZnNldCA9IGxhc3RCeXRlUmFuZ2VFbmRPZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlc3VsdFs1XSkge1xuICAgICAgICAvLyBQUk9HUkFNLURBVEUtVElNRVxuICAgICAgICAvLyBhdm9pZCBzbGljZWQgc3RyaW5ncyAgICBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9pc3N1ZXMvOTM5XG4gICAgICAgIGZyYWcucmF3UHJvZ3JhbURhdGVUaW1lID0gKCcgJyArIHJlc3VsdFs1XSkuc2xpY2UoMSk7XG4gICAgICAgIGZyYWcudGFnTGlzdC5wdXNoKFsnUFJPR1JBTS1EQVRFLVRJTUUnLCBmcmFnLnJhd1Byb2dyYW1EYXRlVGltZV0pO1xuICAgICAgICBpZiAoZmlyc3RQZHRJbmRleCA9PT0gbnVsbCkge1xuICAgICAgICAgIGZpcnN0UGR0SW5kZXggPSBsZXZlbC5mcmFnbWVudHMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSByZXN1bHRbMF0ubWF0Y2goTEVWRUxfUExBWUxJU1RfUkVHRVhfU0xPVyk7XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAocmVzdWx0W2ldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGF2b2lkIHNsaWNlZCBzdHJpbmdzICAgIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy85MzlcbiAgICAgICAgdmFyIHZhbHVlMSA9ICgnICcgKyByZXN1bHRbaSArIDFdKS5zbGljZSgxKTtcbiAgICAgICAgdmFyIHZhbHVlMiA9ICgnICcgKyByZXN1bHRbaSArIDJdKS5zbGljZSgxKTtcblxuICAgICAgICBzd2l0Y2ggKHJlc3VsdFtpXSkge1xuICAgICAgICAgIGNhc2UgJyMnOlxuICAgICAgICAgICAgZnJhZy50YWdMaXN0LnB1c2godmFsdWUyID8gW3ZhbHVlMSwgdmFsdWUyXSA6IFt2YWx1ZTFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ1BMQVlMSVNULVRZUEUnOlxuICAgICAgICAgICAgbGV2ZWwudHlwZSA9IHZhbHVlMS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnTUVESUEtU0VRVUVOQ0UnOlxuICAgICAgICAgICAgY3VycmVudFNOID0gbGV2ZWwuc3RhcnRTTiA9IHBhcnNlSW50KHZhbHVlMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdUQVJHRVREVVJBVElPTic6XG4gICAgICAgICAgICBsZXZlbC50YXJnZXRkdXJhdGlvbiA9IHBhcnNlRmxvYXQodmFsdWUxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ1ZFUlNJT04nOlxuICAgICAgICAgICAgbGV2ZWwudmVyc2lvbiA9IHBhcnNlSW50KHZhbHVlMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdFWFRNM1UnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnRU5ETElTVCc6XG4gICAgICAgICAgICBsZXZlbC5saXZlID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdESVMnOlxuICAgICAgICAgICAgY2MrKztcbiAgICAgICAgICAgIGZyYWcudGFnTGlzdC5wdXNoKFsnRElTJ10pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnRElTQ09OVElOVUlUWS1TRVEnOlxuICAgICAgICAgICAgY2MgPSBwYXJzZUludCh2YWx1ZTEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnS0VZJzpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1wYW50b3MtaHR0cC1saXZlLXN0cmVhbWluZy0wOCNzZWN0aW9uLTMuNC40XG4gICAgICAgICAgICB2YXIgZGVjcnlwdHBhcmFtcyA9IHZhbHVlMTtcbiAgICAgICAgICAgIHZhciBrZXlBdHRycyA9IG5ldyBhdHRyX2xpc3QoZGVjcnlwdHBhcmFtcyk7XG4gICAgICAgICAgICB2YXIgZGVjcnlwdG1ldGhvZCA9IGtleUF0dHJzLmVudW1lcmF0ZWRTdHJpbmcoJ01FVEhPRCcpLFxuICAgICAgICAgICAgICAgIGRlY3J5cHR1cmkgPSBrZXlBdHRycy5VUkksXG4gICAgICAgICAgICAgICAgZGVjcnlwdGl2ID0ga2V5QXR0cnMuaGV4YWRlY2ltYWxJbnRlZ2VyKCdJVicpO1xuICAgICAgICAgICAgaWYgKGRlY3J5cHRtZXRob2QpIHtcbiAgICAgICAgICAgICAgbGV2ZWxrZXkgPSBuZXcgbGV2ZWxfa2V5KCk7XG4gICAgICAgICAgICAgIGlmIChkZWNyeXB0dXJpICYmIFsnQUVTLTEyOCcsICdTQU1QTEUtQUVTJywgJ1NBTVBMRS1BRVMtQ0VOQyddLmluZGV4T2YoZGVjcnlwdG1ldGhvZCkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGxldmVsa2V5Lm1ldGhvZCA9IGRlY3J5cHRtZXRob2Q7XG4gICAgICAgICAgICAgICAgLy8gVVJJIHRvIGdldCB0aGUga2V5XG4gICAgICAgICAgICAgICAgbGV2ZWxrZXkuYmFzZXVyaSA9IGJhc2V1cmw7XG4gICAgICAgICAgICAgICAgbGV2ZWxrZXkucmVsdXJpID0gZGVjcnlwdHVyaTtcbiAgICAgICAgICAgICAgICBsZXZlbGtleS5rZXkgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vIEluaXRpYWxpemF0aW9uIFZlY3RvciAoSVYpXG4gICAgICAgICAgICAgICAgbGV2ZWxrZXkuaXYgPSBkZWNyeXB0aXY7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ1NUQVJUJzpcbiAgICAgICAgICAgIHZhciBzdGFydFBhcmFtcyA9IHZhbHVlMTtcbiAgICAgICAgICAgIHZhciBzdGFydEF0dHJzID0gbmV3IGF0dHJfbGlzdChzdGFydFBhcmFtcyk7XG4gICAgICAgICAgICB2YXIgc3RhcnRUaW1lT2Zmc2V0ID0gc3RhcnRBdHRycy5kZWNpbWFsRmxvYXRpbmdQb2ludCgnVElNRS1PRkZTRVQnKTtcbiAgICAgICAgICAgIC8vIFRJTUUtT0ZGU0VUIGNhbiBiZSAwXG4gICAgICAgICAgICBpZiAoT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKHN0YXJ0VGltZU9mZnNldCkpIHtcbiAgICAgICAgICAgICAgbGV2ZWwuc3RhcnRUaW1lT2Zmc2V0ID0gc3RhcnRUaW1lT2Zmc2V0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdNQVAnOlxuICAgICAgICAgICAgdmFyIG1hcEF0dHJzID0gbmV3IGF0dHJfbGlzdCh2YWx1ZTEpO1xuICAgICAgICAgICAgZnJhZy5yZWx1cmwgPSBtYXBBdHRycy5VUkk7XG4gICAgICAgICAgICBmcmFnLnJhd0J5dGVSYW5nZSA9IG1hcEF0dHJzLkJZVEVSQU5HRTtcbiAgICAgICAgICAgIGZyYWcuYmFzZXVybCA9IGJhc2V1cmw7XG4gICAgICAgICAgICBmcmFnLmxldmVsID0gaWQ7XG4gICAgICAgICAgICBmcmFnLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgZnJhZy5zbiA9ICdpbml0U2VnbWVudCc7XG4gICAgICAgICAgICBsZXZlbC5pbml0U2VnbWVudCA9IGZyYWc7XG4gICAgICAgICAgICBmcmFnID0gbmV3IGxvYWRlcl9mcmFnbWVudCgpO1xuICAgICAgICAgICAgZnJhZy5yYXdQcm9ncmFtRGF0ZVRpbWUgPSBsZXZlbC5pbml0U2VnbWVudC5yYXdQcm9ncmFtRGF0ZVRpbWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignbGluZSBwYXJzZWQgYnV0IG5vdCBoYW5kbGVkOiAnICsgcmVzdWx0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZyYWcgPSBwcmV2RnJhZztcbiAgICAvLyBsb2dnZXIubG9nKCdmb3VuZCAnICsgbGV2ZWwuZnJhZ21lbnRzLmxlbmd0aCArICcgZnJhZ21lbnRzJyk7XG4gICAgaWYgKGZyYWcgJiYgIWZyYWcucmVsdXJsKSB7XG4gICAgICBsZXZlbC5mcmFnbWVudHMucG9wKCk7XG4gICAgICB0b3RhbGR1cmF0aW9uIC09IGZyYWcuZHVyYXRpb247XG4gICAgfVxuICAgIGxldmVsLnRvdGFsZHVyYXRpb24gPSB0b3RhbGR1cmF0aW9uO1xuICAgIGxldmVsLmF2ZXJhZ2V0YXJnZXRkdXJhdGlvbiA9IHRvdGFsZHVyYXRpb24gLyBsZXZlbC5mcmFnbWVudHMubGVuZ3RoO1xuICAgIGxldmVsLmVuZFNOID0gY3VycmVudFNOIC0gMTtcbiAgICBsZXZlbC5zdGFydENDID0gbGV2ZWwuZnJhZ21lbnRzWzBdID8gbGV2ZWwuZnJhZ21lbnRzWzBdLmNjIDogMDtcbiAgICBsZXZlbC5lbmRDQyA9IGNjO1xuXG4gICAgaWYgKCFsZXZlbC5pbml0U2VnbWVudCAmJiBsZXZlbC5mcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgYml0IGx1cmt5IGJ1dCBITFMgcmVhbGx5IGhhcyBubyBvdGhlciB3YXkgdG8gdGVsbCB1c1xuICAgICAgLy8gaWYgdGhlIGZyYWdtZW50cyBhcmUgVFMgb3IgTVA0LCBleGNlcHQgaWYgd2UgZG93bmxvYWQgdGhlbSA6L1xuICAgICAgLy8gYnV0IHRoaXMgaXMgdG8gYmUgYWJsZSB0byBoYW5kbGUgU0lEWC5cbiAgICAgIGlmIChsZXZlbC5mcmFnbWVudHMuZXZlcnkoZnVuY3Rpb24gKGZyYWcpIHtcbiAgICAgICAgcmV0dXJuIE1QNF9SRUdFWF9TVUZGSVgudGVzdChmcmFnLnJlbHVybCk7XG4gICAgICB9KSkge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdNUDQgZnJhZ21lbnRzIGZvdW5kIGJ1dCBubyBpbml0IHNlZ21lbnQgKHByb2JhYmx5IG5vIE1BUCwgaW5jb21wbGV0ZSBNM1U4KSwgdHJ5aW5nIHRvIGZldGNoIFNJRFgnKTtcblxuICAgICAgICBmcmFnID0gbmV3IGxvYWRlcl9mcmFnbWVudCgpO1xuICAgICAgICBmcmFnLnJlbHVybCA9IGxldmVsLmZyYWdtZW50c1swXS5yZWx1cmw7XG4gICAgICAgIGZyYWcuYmFzZXVybCA9IGJhc2V1cmw7XG4gICAgICAgIGZyYWcubGV2ZWwgPSBpZDtcbiAgICAgICAgZnJhZy50eXBlID0gdHlwZTtcbiAgICAgICAgZnJhZy5zbiA9ICdpbml0U2VnbWVudCc7XG5cbiAgICAgICAgbGV2ZWwuaW5pdFNlZ21lbnQgPSBmcmFnO1xuICAgICAgICBsZXZlbC5uZWVkU2lkeFJhbmdlcyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmFja2ZpbGwgYW55IG1pc3NpbmcgUERUIHZhbHVlc1xuICAgICAgIFwiSWYgdGhlIGZpcnN0IEVYVC1YLVBST0dSQU0tREFURS1USU1FIHRhZyBpbiBhIFBsYXlsaXN0IGFwcGVhcnMgYWZ0ZXJcbiAgICAgICBvbmUgb3IgbW9yZSBNZWRpYSBTZWdtZW50IFVSSXMsIHRoZSBjbGllbnQgU0hPVUxEIGV4dHJhcG9sYXRlXG4gICAgICAgYmFja3dhcmQgZnJvbSB0aGF0IHRhZyAodXNpbmcgRVhUSU5GIGR1cmF0aW9ucyBhbmQvb3IgbWVkaWFcbiAgICAgICB0aW1lc3RhbXBzKSB0byBhc3NvY2lhdGUgZGF0ZXMgd2l0aCB0aG9zZSBzZWdtZW50cy5cIlxuICAgICAqIFdlIGhhdmUgYWxyZWFkeSBleHRyYXBvbGF0ZWQgZm9yd2FyZCwgYnV0IGFsbCBmcmFnbWVudHMgdXAgdG8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIFBEVCBkbyBub3QgaGF2ZSB0aGVpciBQRFRzXG4gICAgICogY29tcHV0ZWQuXG4gICAgICovXG4gICAgaWYgKGZpcnN0UGR0SW5kZXgpIHtcbiAgICAgIGJhY2tmaWxsUHJvZ3JhbURhdGVUaW1lcyhsZXZlbC5mcmFnbWVudHMsIGZpcnN0UGR0SW5kZXgpO1xuICAgIH1cblxuICAgIHJldHVybiBsZXZlbDtcbiAgfTtcblxuICByZXR1cm4gTTNVOFBhcnNlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgbTN1OF9wYXJzZXIgPSAobTN1OF9wYXJzZXJfTTNVOFBhcnNlcik7XG5cblxuZnVuY3Rpb24gYmFja2ZpbGxQcm9ncmFtRGF0ZVRpbWVzKGZyYWdtZW50cywgc3RhcnRJbmRleCkge1xuICB2YXIgZnJhZ1ByZXYgPSBmcmFnbWVudHNbc3RhcnRJbmRleF07XG4gIGZvciAodmFyIGkgPSBzdGFydEluZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgZnJhZyA9IGZyYWdtZW50c1tpXTtcbiAgICBmcmFnLnByb2dyYW1EYXRlVGltZSA9IGZyYWdQcmV2LnByb2dyYW1EYXRlVGltZSAtIGZyYWcuZHVyYXRpb24gKiAxMDAwO1xuICAgIGZyYWdQcmV2ID0gZnJhZztcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NpZ25Qcm9ncmFtRGF0ZVRpbWUoZnJhZywgcHJldkZyYWcpIHtcbiAgaWYgKGZyYWcucmF3UHJvZ3JhbURhdGVUaW1lKSB7XG4gICAgZnJhZy5wcm9ncmFtRGF0ZVRpbWUgPSBEYXRlLnBhcnNlKGZyYWcucmF3UHJvZ3JhbURhdGVUaW1lKTtcbiAgfSBlbHNlIGlmIChwcmV2RnJhZyAmJiBwcmV2RnJhZy5wcm9ncmFtRGF0ZVRpbWUpIHtcbiAgICBmcmFnLnByb2dyYW1EYXRlVGltZSA9IHByZXZGcmFnLmVuZFByb2dyYW1EYXRlVGltZTtcbiAgfVxuXG4gIGlmICghT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKGZyYWcucHJvZ3JhbURhdGVUaW1lKSkge1xuICAgIGZyYWcucHJvZ3JhbURhdGVUaW1lID0gbnVsbDtcbiAgICBmcmFnLnJhd1Byb2dyYW1EYXRlVGltZSA9IG51bGw7XG4gIH1cbn1cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2xvYWRlci9wbGF5bGlzdC1sb2FkZXIuanNcblxuXG52YXIgcGxheWxpc3RfbG9hZGVyX19jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gcGxheWxpc3RfbG9hZGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBQbGF5bGlzdExvYWRlciAtIGRlbGVnYXRlIGZvciBtZWRpYSBtYW5pZmVzdC9wbGF5bGlzdCBsb2FkaW5nIHRhc2tzLiBUYWtlcyBjYXJlIG9mIHBhcnNpbmcgbWVkaWEgdG8gaW50ZXJuYWwgZGF0YS1tb2RlbHMuXG4gKlxuICogT25jZSBsb2FkZWQsIGRpc3BhdGNoZXMgZXZlbnRzIHdpdGggcGFyc2VkIGRhdGEtbW9kZWxzIG9mIG1hbmlmZXN0L2xldmVscy9hdWRpby9zdWJ0aXRsZSB0cmFja3MuXG4gKlxuICogVXNlcyBsb2FkZXIocykgc2V0IGluIGNvbmZpZyB0byBkbyBhY3R1YWwgaW50ZXJuYWwgbG9hZGluZyBvZiByZXNvdXJjZSB0YXNrcy5cbiAqXG4gKiBAbW9kdWxlXG4gKlxuICovXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBfd2luZG93ID0gd2luZG93LFxuICAgIHBlcmZvcm1hbmNlID0gX3dpbmRvdy5wZXJmb3JtYW5jZTtcblxuLyoqXG4gKiBgdHlwZWAgcHJvcGVydHkgdmFsdWVzIGZvciB0aGlzIGxvYWRlcnMnIGNvbnRleHQgb2JqZWN0XG4gKiBAZW51bVxuICpcbiAqL1xuXG52YXIgQ29udGV4dFR5cGUgPSB7XG4gIE1BTklGRVNUOiAnbWFuaWZlc3QnLFxuICBMRVZFTDogJ2xldmVsJyxcbiAgQVVESU9fVFJBQ0s6ICdhdWRpb1RyYWNrJyxcbiAgU1VCVElUTEVfVFJBQ0s6ICdzdWJ0aXRsZVRyYWNrJ1xufTtcblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG52YXIgTGV2ZWxUeXBlID0ge1xuICBNQUlOOiAnbWFpbicsXG4gIEFVRElPOiAnYXVkaW8nLFxuICBTVUJUSVRMRTogJ3N1YnRpdGxlJ1xufTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuXG52YXIgcGxheWxpc3RfbG9hZGVyX1BsYXlsaXN0TG9hZGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgX2luaGVyaXRzKFBsYXlsaXN0TG9hZGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdHNcbiAgICogQHBhcmFtIHtIbHN9IGhsc1xuICAgKi9cbiAgZnVuY3Rpb24gUGxheWxpc3RMb2FkZXIoaGxzKSB7XG4gICAgcGxheWxpc3RfbG9hZGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBQbGF5bGlzdExvYWRlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRIYW5kbGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfTE9BRElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX0xPQURJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS19MT0FESU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfVFJBQ0tfTE9BRElORykpO1xuXG4gICAgX3RoaXMubG9hZGVycyA9IHt9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0NvbnRleHRUeXBlfSB0eXBlXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgUGxheWxpc3RMb2FkZXIuY2FuSGF2ZVF1YWxpdHlMZXZlbHMgPSBmdW5jdGlvbiBjYW5IYXZlUXVhbGl0eUxldmVscyh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGUgIT09IENvbnRleHRUeXBlLkFVRElPX1RSQUNLICYmIHR5cGUgIT09IENvbnRleHRUeXBlLlNVQlRJVExFX1RSQUNLO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNYXAgY29udGV4dC50eXBlIHRvIExldmVsVHlwZVxuICAgKiBAcGFyYW0ge3t0eXBlOiBDb250ZXh0VHlwZX19IGNvbnRleHRcbiAgICogQHJldHVybnMge0xldmVsVHlwZX1cbiAgICovXG5cblxuICBQbGF5bGlzdExvYWRlci5tYXBDb250ZXh0VG9MZXZlbFR5cGUgPSBmdW5jdGlvbiBtYXBDb250ZXh0VG9MZXZlbFR5cGUoY29udGV4dCkge1xuICAgIHZhciB0eXBlID0gY29udGV4dC50eXBlO1xuXG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQ29udGV4dFR5cGUuQVVESU9fVFJBQ0s6XG4gICAgICAgIHJldHVybiBMZXZlbFR5cGUuQVVESU87XG4gICAgICBjYXNlIENvbnRleHRUeXBlLlNVQlRJVExFX1RSQUNLOlxuICAgICAgICByZXR1cm4gTGV2ZWxUeXBlLlNVQlRJVExFO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIExldmVsVHlwZS5NQUlOO1xuICAgIH1cbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5nZXRSZXNwb25zZVVybCA9IGZ1bmN0aW9uIGdldFJlc3BvbnNlVXJsKHJlc3BvbnNlLCBjb250ZXh0KSB7XG4gICAgdmFyIHVybCA9IHJlc3BvbnNlLnVybDtcbiAgICAvLyByZXNwb25zZVVSTCBub3Qgc3VwcG9ydGVkIG9uIHNvbWUgYnJvd3NlcnMgKGl0IGlzIHVzZWQgdG8gZGV0ZWN0IFVSTCByZWRpcmVjdGlvbilcbiAgICAvLyBkYXRhLXVyaSBtb2RlIGFsc28gbm90IHN1cHBvcnRlZCAoYnV0IG5vIG5lZWQgdG8gZGV0ZWN0IHJlZGlyZWN0aW9uKVxuICAgIGlmICh1cmwgPT09IHVuZGVmaW5lZCB8fCB1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgLy8gZmFsbGJhY2sgdG8gaW5pdGlhbCBVUkxcbiAgICAgIHVybCA9IGNvbnRleHQudXJsO1xuICAgIH1cbiAgICByZXR1cm4gdXJsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGRlZmF1bHRzIG9yIGNvbmZpZ3VyZWQgbG9hZGVyLXR5cGUgb3ZlcmxvYWRzIChwTG9hZGVyIGFuZCBsb2FkZXIgY29uZmlnIHBhcmFtcylcbiAgICogRGVmYXVsdCBsb2FkZXIgaXMgWEhSTG9hZGVyIChzZWUgdXRpbHMpXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0XG4gICAqIEByZXR1cm5zIHtYSFJMb2FkZXJ9IG9yIG90aGVyIGNvbXBhdGlibGUgY29uZmlndXJlZCBvdmVybG9hZFxuICAgKi9cblxuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5jcmVhdGVJbnRlcm5hbExvYWRlciA9IGZ1bmN0aW9uIGNyZWF0ZUludGVybmFsTG9hZGVyKGNvbnRleHQpIHtcbiAgICB2YXIgY29uZmlnID0gdGhpcy5obHMuY29uZmlnO1xuICAgIHZhciBQTG9hZGVyID0gY29uZmlnLnBMb2FkZXI7XG4gICAgdmFyIExvYWRlciA9IGNvbmZpZy5sb2FkZXI7XG4gICAgdmFyIEludGVybmFsTG9hZGVyID0gUExvYWRlciB8fCBMb2FkZXI7XG5cbiAgICB2YXIgbG9hZGVyID0gbmV3IEludGVybmFsTG9hZGVyKGNvbmZpZyk7XG5cbiAgICBjb250ZXh0LmxvYWRlciA9IGxvYWRlcjtcbiAgICB0aGlzLmxvYWRlcnNbY29udGV4dC50eXBlXSA9IGxvYWRlcjtcblxuICAgIHJldHVybiBsb2FkZXI7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLmdldEludGVybmFsTG9hZGVyID0gZnVuY3Rpb24gZ2V0SW50ZXJuYWxMb2FkZXIoY29udGV4dCkge1xuICAgIHJldHVybiB0aGlzLmxvYWRlcnNbY29udGV4dC50eXBlXTtcbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUucmVzZXRJbnRlcm5hbExvYWRlciA9IGZ1bmN0aW9uIHJlc2V0SW50ZXJuYWxMb2FkZXIoY29udGV4dFR5cGUpIHtcbiAgICBpZiAodGhpcy5sb2FkZXJzW2NvbnRleHRUeXBlXSkge1xuICAgICAgZGVsZXRlIHRoaXMubG9hZGVyc1tjb250ZXh0VHlwZV07XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxsIGBkZXN0cm95YCBvbiBhbGwgaW50ZXJuYWwgbG9hZGVyIGluc3RhbmNlcyBtYXBwZWQgKG9uZSBwZXIgY29udGV4dCB0eXBlKVxuICAgKi9cblxuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5kZXN0cm95SW50ZXJuYWxMb2FkZXJzID0gZnVuY3Rpb24gZGVzdHJveUludGVybmFsTG9hZGVycygpIHtcbiAgICBmb3IgKHZhciBjb250ZXh0VHlwZSBpbiB0aGlzLmxvYWRlcnMpIHtcbiAgICAgIHZhciBsb2FkZXIgPSB0aGlzLmxvYWRlcnNbY29udGV4dFR5cGVdO1xuICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICBsb2FkZXIuZGVzdHJveSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlc2V0SW50ZXJuYWxMb2FkZXIoY29udGV4dFR5cGUpO1xuICAgIH1cbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5kZXN0cm95SW50ZXJuYWxMb2FkZXJzKCk7XG5cbiAgICBfRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkaW5nID0gZnVuY3Rpb24gb25NYW5pZmVzdExvYWRpbmcoZGF0YSkge1xuICAgIHRoaXMubG9hZChkYXRhLnVybCwgeyB0eXBlOiBDb250ZXh0VHlwZS5NQU5JRkVTVCwgbGV2ZWw6IDAsIGlkOiBudWxsIH0pO1xuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5vbkxldmVsTG9hZGluZyA9IGZ1bmN0aW9uIG9uTGV2ZWxMb2FkaW5nKGRhdGEpIHtcbiAgICB0aGlzLmxvYWQoZGF0YS51cmwsIHsgdHlwZTogQ29udGV4dFR5cGUuTEVWRUwsIGxldmVsOiBkYXRhLmxldmVsLCBpZDogZGF0YS5pZCB9KTtcbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUub25BdWRpb1RyYWNrTG9hZGluZyA9IGZ1bmN0aW9uIG9uQXVkaW9UcmFja0xvYWRpbmcoZGF0YSkge1xuICAgIHRoaXMubG9hZChkYXRhLnVybCwgeyB0eXBlOiBDb250ZXh0VHlwZS5BVURJT19UUkFDSywgbGV2ZWw6IG51bGwsIGlkOiBkYXRhLmlkIH0pO1xuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5vblN1YnRpdGxlVHJhY2tMb2FkaW5nID0gZnVuY3Rpb24gb25TdWJ0aXRsZVRyYWNrTG9hZGluZyhkYXRhKSB7XG4gICAgdGhpcy5sb2FkKGRhdGEudXJsLCB7IHR5cGU6IENvbnRleHRUeXBlLlNVQlRJVExFX1RSQUNLLCBsZXZlbDogbnVsbCwgaWQ6IGRhdGEuaWQgfSk7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkKHVybCwgY29udGV4dCkge1xuICAgIHZhciBjb25maWcgPSB0aGlzLmhscy5jb25maWc7XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5kZWJ1ZygnTG9hZGluZyBwbGF5bGlzdCBvZiB0eXBlICcgKyBjb250ZXh0LnR5cGUgKyAnLCBsZXZlbDogJyArIGNvbnRleHQubGV2ZWwgKyAnLCBpZDogJyArIGNvbnRleHQuaWQpO1xuXG4gICAgLy8gQ2hlY2sgaWYgYSBsb2FkZXIgZm9yIHRoaXMgY29udGV4dCBhbHJlYWR5IGV4aXN0c1xuICAgIHZhciBsb2FkZXIgPSB0aGlzLmdldEludGVybmFsTG9hZGVyKGNvbnRleHQpO1xuICAgIGlmIChsb2FkZXIpIHtcbiAgICAgIHZhciBsb2FkZXJDb250ZXh0ID0gbG9hZGVyLmNvbnRleHQ7XG4gICAgICBpZiAobG9hZGVyQ29udGV4dCAmJiBsb2FkZXJDb250ZXh0LnVybCA9PT0gdXJsKSB7XG4gICAgICAgIC8vIHNhbWUgVVJMIGNhbid0IG92ZXJsYXBcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10udHJhY2UoJ3BsYXlsaXN0IHJlcXVlc3Qgb25nb2luZycpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdhYm9ydGluZyBwcmV2aW91cyBsb2FkZXIgZm9yIHR5cGU6ICcgKyBjb250ZXh0LnR5cGUpO1xuICAgICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbWF4UmV0cnkgPSB2b2lkIDAsXG4gICAgICAgIHRpbWVvdXQgPSB2b2lkIDAsXG4gICAgICAgIHJldHJ5RGVsYXkgPSB2b2lkIDAsXG4gICAgICAgIG1heFJldHJ5RGVsYXkgPSB2b2lkIDA7XG5cbiAgICAvLyBhcHBseSBkaWZmZXJlbnQgY29uZmlncyBmb3IgcmV0cmllcyBkZXBlbmRpbmcgb25cbiAgICAvLyBjb250ZXh0IChtYW5pZmVzdCwgbGV2ZWwsIGF1ZGlvL3N1YnMgcGxheWxpc3QpXG4gICAgc3dpdGNoIChjb250ZXh0LnR5cGUpIHtcbiAgICAgIGNhc2UgQ29udGV4dFR5cGUuTUFOSUZFU1Q6XG4gICAgICAgIG1heFJldHJ5ID0gY29uZmlnLm1hbmlmZXN0TG9hZGluZ01heFJldHJ5O1xuICAgICAgICB0aW1lb3V0ID0gY29uZmlnLm1hbmlmZXN0TG9hZGluZ1RpbWVPdXQ7XG4gICAgICAgIHJldHJ5RGVsYXkgPSBjb25maWcubWFuaWZlc3RMb2FkaW5nUmV0cnlEZWxheTtcbiAgICAgICAgbWF4UmV0cnlEZWxheSA9IGNvbmZpZy5tYW5pZmVzdExvYWRpbmdNYXhSZXRyeVRpbWVvdXQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb250ZXh0VHlwZS5MRVZFTDpcbiAgICAgICAgLy8gRGlzYWJsZSBpbnRlcm5hbCBsb2FkZXIgcmV0cnkgbG9naWMsIHNpbmNlIHdlIGFyZSBtYW5hZ2luZyByZXRyaWVzIGluIExldmVsIENvbnRyb2xsZXJcbiAgICAgICAgbWF4UmV0cnkgPSAwO1xuICAgICAgICB0aW1lb3V0ID0gY29uZmlnLmxldmVsTG9hZGluZ1RpbWVPdXQ7XG4gICAgICAgIC8vIFRPRE8gSW50cm9kdWNlIHJldHJ5IHNldHRpbmdzIGZvciBhdWRpby10cmFjayBhbmQgc3VidGl0bGUtdHJhY2ssIGl0IHNob3VsZCBub3QgdXNlIGxldmVsIHJldHJ5IGNvbmZpZ1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG1heFJldHJ5ID0gY29uZmlnLmxldmVsTG9hZGluZ01heFJldHJ5O1xuICAgICAgICB0aW1lb3V0ID0gY29uZmlnLmxldmVsTG9hZGluZ1RpbWVPdXQ7XG4gICAgICAgIHJldHJ5RGVsYXkgPSBjb25maWcubGV2ZWxMb2FkaW5nUmV0cnlEZWxheTtcbiAgICAgICAgbWF4UmV0cnlEZWxheSA9IGNvbmZpZy5sZXZlbExvYWRpbmdNYXhSZXRyeVRpbWVvdXQ7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGxvYWRlciA9IHRoaXMuY3JlYXRlSW50ZXJuYWxMb2FkZXIoY29udGV4dCk7XG5cbiAgICBjb250ZXh0LnVybCA9IHVybDtcbiAgICBjb250ZXh0LnJlc3BvbnNlVHlwZSA9IGNvbnRleHQucmVzcG9uc2VUeXBlIHx8ICcnOyAvLyBGSVhNRTogKHNob3VsZCBub3QgYmUgbmVjZXNzYXJ5IHRvIGRvIHRoaXMpXG5cbiAgICB2YXIgbG9hZGVyQ29uZmlnID0ge1xuICAgICAgdGltZW91dDogdGltZW91dCxcbiAgICAgIG1heFJldHJ5OiBtYXhSZXRyeSxcbiAgICAgIHJldHJ5RGVsYXk6IHJldHJ5RGVsYXksXG4gICAgICBtYXhSZXRyeURlbGF5OiBtYXhSZXRyeURlbGF5XG4gICAgfTtcblxuICAgIHZhciBsb2FkZXJDYWxsYmFja3MgPSB7XG4gICAgICBvblN1Y2Nlc3M6IHRoaXMubG9hZHN1Y2Nlc3MuYmluZCh0aGlzKSxcbiAgICAgIG9uRXJyb3I6IHRoaXMubG9hZGVycm9yLmJpbmQodGhpcyksXG4gICAgICBvblRpbWVvdXQ6IHRoaXMubG9hZHRpbWVvdXQuYmluZCh0aGlzKVxuICAgIH07XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5kZWJ1ZygnQ2FsbGluZyBpbnRlcm5hbCBsb2FkZXIgZGVsZWdhdGUgZm9yIFVSTDogJyArIHVybCk7XG5cbiAgICBsb2FkZXIubG9hZChjb250ZXh0LCBsb2FkZXJDb25maWcsIGxvYWRlckNhbGxiYWNrcyk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUubG9hZHN1Y2Nlc3MgPSBmdW5jdGlvbiBsb2Fkc3VjY2VzcyhyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQpIHtcbiAgICB2YXIgbmV0d29ya0RldGFpbHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG5cbiAgICBpZiAoY29udGV4dC5pc1NpZHhSZXF1ZXN0KSB7XG4gICAgICB0aGlzLl9oYW5kbGVTaWR4UmVxdWVzdChyZXNwb25zZSwgY29udGV4dCk7XG4gICAgICB0aGlzLl9oYW5kbGVQbGF5bGlzdExvYWRlZChyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnJlc2V0SW50ZXJuYWxMb2FkZXIoY29udGV4dC50eXBlKTtcblxuICAgIHZhciBzdHJpbmcgPSByZXNwb25zZS5kYXRhO1xuXG4gICAgc3RhdHMudGxvYWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAvLyBzdGF0cy5tdGltZSA9IG5ldyBEYXRlKHRhcmdldC5nZXRSZXNwb25zZUhlYWRlcignTGFzdC1Nb2RpZmllZCcpKTtcblxuICAgIC8vIFZhbGlkYXRlIGlmIGl0IGlzIGFuIE0zVTggYXQgYWxsXG4gICAgaWYgKHN0cmluZy5pbmRleE9mKCcjRVhUTTNVJykgIT09IDApIHtcbiAgICAgIHRoaXMuX2hhbmRsZU1hbmlmZXN0UGFyc2luZ0Vycm9yKHJlc3BvbnNlLCBjb250ZXh0LCAnbm8gRVhUTTNVIGRlbGltaXRlcicsIG5ldHdvcmtEZXRhaWxzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBjaHVuay1saXN0IG9yIG1hc3Rlci4gaGFuZGxlIGVtcHR5IGNodW5rIGxpc3QgY2FzZSAoZmlyc3QgRVhUSU5GIG5vdCBzaWduYWxlZCwgYnV0IFRBUkdFVERVUkFUSU9OIHByZXNlbnQpXG4gICAgaWYgKHN0cmluZy5pbmRleE9mKCcjRVhUSU5GOicpID4gMCB8fCBzdHJpbmcuaW5kZXhPZignI0VYVC1YLVRBUkdFVERVUkFUSU9OOicpID4gMCkge1xuICAgICAgdGhpcy5faGFuZGxlVHJhY2tPckxldmVsUGxheWxpc3QocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hhbmRsZU1hc3RlclBsYXlsaXN0KHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpO1xuICAgIH1cbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUubG9hZGVycm9yID0gZnVuY3Rpb24gbG9hZGVycm9yKHJlc3BvbnNlLCBjb250ZXh0KSB7XG4gICAgdmFyIG5ldHdvcmtEZXRhaWxzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gICAgdGhpcy5faGFuZGxlTmV0d29ya0Vycm9yKGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzKTtcbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUubG9hZHRpbWVvdXQgPSBmdW5jdGlvbiBsb2FkdGltZW91dChzdGF0cywgY29udGV4dCkge1xuICAgIHZhciBuZXR3b3JrRGV0YWlscyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcblxuICAgIHRoaXMuX2hhbmRsZU5ldHdvcmtFcnJvcihjb250ZXh0LCBuZXR3b3JrRGV0YWlscywgdHJ1ZSk7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLl9oYW5kbGVNYXN0ZXJQbGF5bGlzdCA9IGZ1bmN0aW9uIF9oYW5kbGVNYXN0ZXJQbGF5bGlzdChyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzKSB7XG4gICAgdmFyIGhscyA9IHRoaXMuaGxzO1xuICAgIHZhciBzdHJpbmcgPSByZXNwb25zZS5kYXRhO1xuXG4gICAgdmFyIHVybCA9IFBsYXlsaXN0TG9hZGVyLmdldFJlc3BvbnNlVXJsKHJlc3BvbnNlLCBjb250ZXh0KTtcblxuICAgIHZhciBsZXZlbHMgPSBtM3U4X3BhcnNlci5wYXJzZU1hc3RlclBsYXlsaXN0KHN0cmluZywgdXJsKTtcbiAgICBpZiAoIWxldmVscy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX2hhbmRsZU1hbmlmZXN0UGFyc2luZ0Vycm9yKHJlc3BvbnNlLCBjb250ZXh0LCAnbm8gbGV2ZWwgZm91bmQgaW4gbWFuaWZlc3QnLCBuZXR3b3JrRGV0YWlscyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbXVsdGkgbGV2ZWwgcGxheWxpc3QsIHBhcnNlIGxldmVsIGluZm9cblxuICAgIHZhciBhdWRpb0dyb3VwcyA9IGxldmVscy5tYXAoZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogbGV2ZWwuYXR0cnMuQVVESU8sXG4gICAgICAgIGNvZGVjOiBsZXZlbC5hdWRpb0NvZGVjXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdmFyIGF1ZGlvVHJhY2tzID0gbTN1OF9wYXJzZXIucGFyc2VNYXN0ZXJQbGF5bGlzdE1lZGlhKHN0cmluZywgdXJsLCAnQVVESU8nLCBhdWRpb0dyb3Vwcyk7XG4gICAgdmFyIHN1YnRpdGxlcyA9IG0zdThfcGFyc2VyLnBhcnNlTWFzdGVyUGxheWxpc3RNZWRpYShzdHJpbmcsIHVybCwgJ1NVQlRJVExFUycpO1xuXG4gICAgaWYgKGF1ZGlvVHJhY2tzLmxlbmd0aCkge1xuICAgICAgLy8gY2hlY2sgaWYgd2UgaGF2ZSBmb3VuZCBhbiBhdWRpbyB0cmFjayBlbWJlZGRlZCBpbiBtYWluIHBsYXlsaXN0IChhdWRpbyB0cmFjayB3aXRob3V0IFVSSSBhdHRyaWJ1dGUpXG4gICAgICB2YXIgZW1iZWRkZWRBdWRpb0ZvdW5kID0gZmFsc2U7XG4gICAgICBhdWRpb1RyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChhdWRpb1RyYWNrKSB7XG4gICAgICAgIGlmICghYXVkaW9UcmFjay51cmwpIHtcbiAgICAgICAgICBlbWJlZGRlZEF1ZGlvRm91bmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gaWYgbm8gZW1iZWRkZWQgYXVkaW8gdHJhY2sgZGVmaW5lZCwgYnV0IGF1ZGlvIGNvZGVjIHNpZ25hbGVkIGluIHF1YWxpdHkgbGV2ZWwsXG4gICAgICAvLyB3ZSBuZWVkIHRvIHNpZ25hbCB0aGlzIG1haW4gYXVkaW8gdHJhY2sgdGhpcyBjb3VsZCBoYXBwZW4gd2l0aCBwbGF5bGlzdHMgd2l0aFxuICAgICAgLy8gYWx0IGF1ZGlvIHJlbmRpdGlvbiBpbiB3aGljaCBxdWFsaXR5IGxldmVscyAobWFpbilcbiAgICAgIC8vIGNvbnRhaW5zIGJvdGggYXVkaW8rdmlkZW8uIGJ1dCB3aXRoIG1peGVkIGF1ZGlvIHRyYWNrIG5vdCBzaWduYWxlZFxuICAgICAgaWYgKGVtYmVkZGVkQXVkaW9Gb3VuZCA9PT0gZmFsc2UgJiYgbGV2ZWxzWzBdLmF1ZGlvQ29kZWMgJiYgIWxldmVsc1swXS5hdHRycy5BVURJTykge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2F1ZGlvIGNvZGVjIHNpZ25hbGVkIGluIHF1YWxpdHkgbGV2ZWwsIGJ1dCBubyBlbWJlZGRlZCBhdWRpbyB0cmFjayBzaWduYWxlZCwgY3JlYXRlIG9uZScpO1xuICAgICAgICBhdWRpb1RyYWNrcy51bnNoaWZ0KHtcbiAgICAgICAgICB0eXBlOiAnbWFpbicsXG4gICAgICAgICAgbmFtZTogJ21haW4nXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FERUQsIHtcbiAgICAgIGxldmVsczogbGV2ZWxzLFxuICAgICAgYXVkaW9UcmFja3M6IGF1ZGlvVHJhY2tzLFxuICAgICAgc3VidGl0bGVzOiBzdWJ0aXRsZXMsXG4gICAgICB1cmw6IHVybCxcbiAgICAgIHN0YXRzOiBzdGF0cyxcbiAgICAgIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlsc1xuICAgIH0pO1xuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5faGFuZGxlVHJhY2tPckxldmVsUGxheWxpc3QgPSBmdW5jdGlvbiBfaGFuZGxlVHJhY2tPckxldmVsUGxheWxpc3QocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykge1xuICAgIHZhciBobHMgPSB0aGlzLmhscztcblxuICAgIHZhciBpZCA9IGNvbnRleHQuaWQsXG4gICAgICAgIGxldmVsID0gY29udGV4dC5sZXZlbCxcbiAgICAgICAgdHlwZSA9IGNvbnRleHQudHlwZTtcblxuXG4gICAgdmFyIHVybCA9IFBsYXlsaXN0TG9hZGVyLmdldFJlc3BvbnNlVXJsKHJlc3BvbnNlLCBjb250ZXh0KTtcblxuICAgIHZhciBsZXZlbFVybElkID0gT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKGlkKSA/IGlkIDogMDtcbiAgICB2YXIgbGV2ZWxJZCA9IE9iamVjdChudW1iZXJfaXNGaW5pdGVbXCJhXCIgLyogaXNGaW5pdGVOdW1iZXIgKi9dKShsZXZlbCkgPyBsZXZlbCA6IGxldmVsVXJsSWQ7XG4gICAgdmFyIGxldmVsVHlwZSA9IFBsYXlsaXN0TG9hZGVyLm1hcENvbnRleHRUb0xldmVsVHlwZShjb250ZXh0KTtcblxuICAgIHZhciBsZXZlbERldGFpbHMgPSBtM3U4X3BhcnNlci5wYXJzZUxldmVsUGxheWxpc3QocmVzcG9uc2UuZGF0YSwgdXJsLCBsZXZlbElkLCBsZXZlbFR5cGUsIGxldmVsVXJsSWQpO1xuXG4gICAgLy8gc2V0IHN0YXRzIG9uIGxldmVsIHN0cnVjdHVyZVxuICAgIGxldmVsRGV0YWlscy50bG9hZCA9IHN0YXRzLnRsb2FkO1xuXG4gICAgLy8gV2UgaGF2ZSBkb25lIG91ciBmaXJzdCByZXF1ZXN0IChNYW5pZmVzdC10eXBlKSBhbmQgcmVjZWl2ZVxuICAgIC8vIG5vdCBhIG1hc3RlciBwbGF5bGlzdCBidXQgYSBjaHVuay1saXN0ICh0cmFjay9sZXZlbClcbiAgICAvLyBXZSBmaXJlIHRoZSBtYW5pZmVzdC1sb2FkZWQgZXZlbnQgYW55d2F5IHdpdGggdGhlIHBhcnNlZCBsZXZlbC1kZXRhaWxzXG4gICAgLy8gYnkgY3JlYXRpbmcgYSBzaW5nbGUtbGV2ZWwgc3RydWN0dXJlIGZvciBpdC5cbiAgICBpZiAodHlwZSA9PT0gQ29udGV4dFR5cGUuTUFOSUZFU1QpIHtcbiAgICAgIHZhciBzaW5nbGVMZXZlbCA9IHtcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIGRldGFpbHM6IGxldmVsRGV0YWlsc1xuICAgICAgfTtcblxuICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX0xPQURFRCwge1xuICAgICAgICBsZXZlbHM6IFtzaW5nbGVMZXZlbF0sXG4gICAgICAgIGF1ZGlvVHJhY2tzOiBbXSxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIHN0YXRzOiBzdGF0cyxcbiAgICAgICAgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBzYXZlIHBhcnNpbmcgdGltZVxuICAgIHN0YXRzLnRwYXJzZWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgIC8vIGluIGNhc2Ugd2UgbmVlZCBTSURYIHJhbmdlc1xuICAgIC8vIHJldHVybiBlYXJseSBhZnRlciBjYWxsaW5nIGxvYWQgZm9yXG4gICAgLy8gdGhlIFNJRFggYm94LlxuICAgIGlmIChsZXZlbERldGFpbHMubmVlZFNpZHhSYW5nZXMpIHtcbiAgICAgIHZhciBzaWR4VXJsID0gbGV2ZWxEZXRhaWxzLmluaXRTZWdtZW50LnVybDtcbiAgICAgIHRoaXMubG9hZChzaWR4VXJsLCB7XG4gICAgICAgIGlzU2lkeFJlcXVlc3Q6IHRydWUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGxldmVsOiBsZXZlbCxcbiAgICAgICAgbGV2ZWxEZXRhaWxzOiBsZXZlbERldGFpbHMsXG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgcmFuZ2VTdGFydDogMCxcbiAgICAgICAgcmFuZ2VFbmQ6IDIwNDgsXG4gICAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJ1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZXh0ZW5kIHRoZSBjb250ZXh0IHdpdGggdGhlIG5ldyBsZXZlbERldGFpbHMgcHJvcGVydHlcbiAgICBjb250ZXh0LmxldmVsRGV0YWlscyA9IGxldmVsRGV0YWlscztcblxuICAgIHRoaXMuX2hhbmRsZVBsYXlsaXN0TG9hZGVkKHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpO1xuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5faGFuZGxlU2lkeFJlcXVlc3QgPSBmdW5jdGlvbiBfaGFuZGxlU2lkeFJlcXVlc3QocmVzcG9uc2UsIGNvbnRleHQpIHtcbiAgICB2YXIgc2lkeEluZm8gPSBtcDRkZW11eGVyW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnBhcnNlU2VnbWVudEluZGV4KG5ldyBVaW50OEFycmF5KHJlc3BvbnNlLmRhdGEpKTtcbiAgICBzaWR4SW5mby5yZWZlcmVuY2VzLmZvckVhY2goZnVuY3Rpb24gKHNlZ21lbnRSZWYsIGluZGV4KSB7XG4gICAgICB2YXIgc2VnUmVmSW5mbyA9IHNlZ21lbnRSZWYuaW5mbztcbiAgICAgIHZhciBmcmFnID0gY29udGV4dC5sZXZlbERldGFpbHMuZnJhZ21lbnRzW2luZGV4XTtcblxuICAgICAgaWYgKGZyYWcuYnl0ZVJhbmdlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBmcmFnLnJhd0J5dGVSYW5nZSA9IFN0cmluZygxICsgc2VnUmVmSW5mby5lbmQgLSBzZWdSZWZJbmZvLnN0YXJ0KSArICdAJyArIFN0cmluZyhzZWdSZWZJbmZvLnN0YXJ0KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnRleHQubGV2ZWxEZXRhaWxzLmluaXRTZWdtZW50LnJhd0J5dGVSYW5nZSA9IFN0cmluZyhzaWR4SW5mby5tb292RW5kT2Zmc2V0KSArICdAMCc7XG4gIH07XG5cbiAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLl9oYW5kbGVNYW5pZmVzdFBhcnNpbmdFcnJvciA9IGZ1bmN0aW9uIF9oYW5kbGVNYW5pZmVzdFBhcnNpbmdFcnJvcihyZXNwb25zZSwgY29udGV4dCwgcmVhc29uLCBuZXR3b3JrRGV0YWlscykge1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7XG4gICAgICB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTkVUV09SS19FUlJPUixcbiAgICAgIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLk1BTklGRVNUX1BBUlNJTkdfRVJST1IsXG4gICAgICBmYXRhbDogdHJ1ZSxcbiAgICAgIHVybDogcmVzcG9uc2UudXJsLFxuICAgICAgcmVhc29uOiByZWFzb24sXG4gICAgICBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHNcbiAgICB9KTtcbiAgfTtcblxuICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUuX2hhbmRsZU5ldHdvcmtFcnJvciA9IGZ1bmN0aW9uIF9oYW5kbGVOZXR3b3JrRXJyb3IoY29udGV4dCwgbmV0d29ya0RldGFpbHMpIHtcbiAgICB2YXIgdGltZW91dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5pbmZvKCdBIG5ldHdvcmsgZXJyb3Igb2NjdXJlZCB3aGlsZSBsb2FkaW5nIGEgJyArIGNvbnRleHQudHlwZSArICctdHlwZSBwbGF5bGlzdCcpO1xuXG4gICAgdmFyIGRldGFpbHMgPSB2b2lkIDA7XG4gICAgdmFyIGZhdGFsID0gdm9pZCAwO1xuXG4gICAgdmFyIGxvYWRlciA9IHRoaXMuZ2V0SW50ZXJuYWxMb2FkZXIoY29udGV4dCk7XG5cbiAgICBzd2l0Y2ggKGNvbnRleHQudHlwZSkge1xuICAgICAgY2FzZSBDb250ZXh0VHlwZS5NQU5JRkVTVDpcbiAgICAgICAgZGV0YWlscyA9IHRpbWVvdXQgPyBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5NQU5JRkVTVF9MT0FEX1RJTUVPVVQgOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5NQU5JRkVTVF9MT0FEX0VSUk9SO1xuICAgICAgICBmYXRhbCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb250ZXh0VHlwZS5MRVZFTDpcbiAgICAgICAgZGV0YWlscyA9IHRpbWVvdXQgPyBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5MRVZFTF9MT0FEX1RJTUVPVVQgOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5MRVZFTF9MT0FEX0VSUk9SO1xuICAgICAgICBmYXRhbCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29udGV4dFR5cGUuQVVESU9fVFJBQ0s6XG4gICAgICAgIGRldGFpbHMgPSB0aW1lb3V0ID8gZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uQVVESU9fVFJBQ0tfTE9BRF9USU1FT1VUIDogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uQVVESU9fVFJBQ0tfTE9BRF9FUlJPUjtcbiAgICAgICAgZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBkZXRhaWxzID0gLi4uP1xuICAgICAgICBmYXRhbCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChsb2FkZXIpIHtcbiAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgdGhpcy5yZXNldEludGVybmFsTG9hZGVyKGNvbnRleHQudHlwZSk7XG4gICAgfVxuXG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHtcbiAgICAgIHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5ORVRXT1JLX0VSUk9SLFxuICAgICAgZGV0YWlsczogZGV0YWlscyxcbiAgICAgIGZhdGFsOiBmYXRhbCxcbiAgICAgIHVybDogbG9hZGVyLnVybCxcbiAgICAgIGxvYWRlcjogbG9hZGVyLFxuICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlsc1xuICAgIH0pO1xuICB9O1xuXG4gIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5faGFuZGxlUGxheWxpc3RMb2FkZWQgPSBmdW5jdGlvbiBfaGFuZGxlUGxheWxpc3RMb2FkZWQocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykge1xuICAgIHZhciB0eXBlID0gY29udGV4dC50eXBlLFxuICAgICAgICBsZXZlbCA9IGNvbnRleHQubGV2ZWwsXG4gICAgICAgIGlkID0gY29udGV4dC5pZCxcbiAgICAgICAgbGV2ZWxEZXRhaWxzID0gY29udGV4dC5sZXZlbERldGFpbHM7XG5cblxuICAgIGlmICghbGV2ZWxEZXRhaWxzLnRhcmdldGR1cmF0aW9uKSB7XG4gICAgICB0aGlzLl9oYW5kbGVNYW5pZmVzdFBhcnNpbmdFcnJvcihyZXNwb25zZSwgY29udGV4dCwgJ2ludmFsaWQgdGFyZ2V0IGR1cmF0aW9uJywgbmV0d29ya0RldGFpbHMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjYW5IYXZlTGV2ZWxzID0gUGxheWxpc3RMb2FkZXIuY2FuSGF2ZVF1YWxpdHlMZXZlbHMoY29udGV4dC50eXBlKTtcbiAgICBpZiAoY2FuSGF2ZUxldmVscykge1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTEVWRUxfTE9BREVELCB7XG4gICAgICAgIGRldGFpbHM6IGxldmVsRGV0YWlscyxcbiAgICAgICAgbGV2ZWw6IGxldmVsIHx8IDAsXG4gICAgICAgIGlkOiBpZCB8fCAwLFxuICAgICAgICBzdGF0czogc3RhdHMsXG4gICAgICAgIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlsc1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIENvbnRleHRUeXBlLkFVRElPX1RSQUNLOlxuICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX0xPQURFRCwge1xuICAgICAgICAgICAgZGV0YWlsczogbGV2ZWxEZXRhaWxzLFxuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgc3RhdHM6IHN0YXRzLFxuICAgICAgICAgICAgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ29udGV4dFR5cGUuU1VCVElUTEVfVFJBQ0s6XG4gICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfVFJBQ0tfTE9BREVELCB7XG4gICAgICAgICAgICBkZXRhaWxzOiBsZXZlbERldGFpbHMsXG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBzdGF0czogc3RhdHMsXG4gICAgICAgICAgICBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcGxheWxpc3RfbG9hZGVyX19jcmVhdGVDbGFzcyhQbGF5bGlzdExvYWRlciwgbnVsbCwgW3tcbiAgICBrZXk6ICdDb250ZXh0VHlwZScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gQ29udGV4dFR5cGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnTGV2ZWxUeXBlJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBMZXZlbFR5cGU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBsYXlsaXN0TG9hZGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgcGxheWxpc3RfbG9hZGVyID0gKHBsYXlsaXN0X2xvYWRlcl9QbGF5bGlzdExvYWRlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9sb2FkZXIvZnJhZ21lbnQtbG9hZGVyLmpzXG5cblxuZnVuY3Rpb24gZnJhZ21lbnRfbG9hZGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGZyYWdtZW50X2xvYWRlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gZnJhZ21lbnRfbG9hZGVyX19pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKlxuICogRnJhZ21lbnQgTG9hZGVyXG4qL1xuXG5cblxuXG5cblxudmFyIGZyYWdtZW50X2xvYWRlcl9GcmFnbWVudExvYWRlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIGZyYWdtZW50X2xvYWRlcl9faW5oZXJpdHMoRnJhZ21lbnRMb2FkZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIEZyYWdtZW50TG9hZGVyKGhscykge1xuICAgIGZyYWdtZW50X2xvYWRlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgRnJhZ21lbnRMb2FkZXIpO1xuXG4gICAgdmFyIF90aGlzID0gZnJhZ21lbnRfbG9hZGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURJTkcpKTtcblxuICAgIF90aGlzLmxvYWRlcnMgPSB7fTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBGcmFnbWVudExvYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdmFyIGxvYWRlcnMgPSB0aGlzLmxvYWRlcnM7XG4gICAgZm9yICh2YXIgbG9hZGVyTmFtZSBpbiBsb2FkZXJzKSB7XG4gICAgICB2YXIgbG9hZGVyID0gbG9hZGVyc1tsb2FkZXJOYW1lXTtcbiAgICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgbG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5sb2FkZXJzID0ge307XG5cbiAgICBfRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gIH07XG5cbiAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRpbmcgPSBmdW5jdGlvbiBvbkZyYWdMb2FkaW5nKGRhdGEpIHtcbiAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZyxcbiAgICAgICAgdHlwZSA9IGZyYWcudHlwZSxcbiAgICAgICAgbG9hZGVycyA9IHRoaXMubG9hZGVycyxcbiAgICAgICAgY29uZmlnID0gdGhpcy5obHMuY29uZmlnLFxuICAgICAgICBGcmFnbWVudElMb2FkZXIgPSBjb25maWcuZkxvYWRlcixcbiAgICAgICAgRGVmYXVsdElMb2FkZXIgPSBjb25maWcubG9hZGVyO1xuXG4gICAgLy8gcmVzZXQgZnJhZ21lbnQgc3RhdGVcbiAgICBmcmFnLmxvYWRlZCA9IDA7XG5cbiAgICB2YXIgbG9hZGVyID0gbG9hZGVyc1t0eXBlXTtcbiAgICBpZiAobG9hZGVyKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdhYm9ydCBwcmV2aW91cyBmcmFnbWVudCBsb2FkZXIgZm9yIHR5cGU6ICcgKyB0eXBlKTtcbiAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgIH1cblxuICAgIGxvYWRlciA9IGxvYWRlcnNbdHlwZV0gPSBmcmFnLmxvYWRlciA9IGNvbmZpZy5mTG9hZGVyID8gbmV3IEZyYWdtZW50SUxvYWRlcihjb25maWcpIDogbmV3IERlZmF1bHRJTG9hZGVyKGNvbmZpZyk7XG5cbiAgICB2YXIgbG9hZGVyQ29udGV4dCA9IHZvaWQgMCxcbiAgICAgICAgbG9hZGVyQ29uZmlnID0gdm9pZCAwLFxuICAgICAgICBsb2FkZXJDYWxsYmFja3MgPSB2b2lkIDA7XG5cbiAgICBsb2FkZXJDb250ZXh0ID0geyB1cmw6IGZyYWcudXJsLCBmcmFnOiBmcmFnLCByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicsIHByb2dyZXNzRGF0YTogZmFsc2UgfTtcblxuICAgIHZhciBzdGFydCA9IGZyYWcuYnl0ZVJhbmdlU3RhcnRPZmZzZXQsXG4gICAgICAgIGVuZCA9IGZyYWcuYnl0ZVJhbmdlRW5kT2Zmc2V0O1xuXG4gICAgaWYgKE9iamVjdChudW1iZXJfaXNGaW5pdGVbXCJhXCIgLyogaXNGaW5pdGVOdW1iZXIgKi9dKShzdGFydCkgJiYgT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKGVuZCkpIHtcbiAgICAgIGxvYWRlckNvbnRleHQucmFuZ2VTdGFydCA9IHN0YXJ0O1xuICAgICAgbG9hZGVyQ29udGV4dC5yYW5nZUVuZCA9IGVuZDtcbiAgICB9XG5cbiAgICBsb2FkZXJDb25maWcgPSB7XG4gICAgICB0aW1lb3V0OiBjb25maWcuZnJhZ0xvYWRpbmdUaW1lT3V0LFxuICAgICAgbWF4UmV0cnk6IDAsXG4gICAgICByZXRyeURlbGF5OiAwLFxuICAgICAgbWF4UmV0cnlEZWxheTogY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnlUaW1lb3V0XG4gICAgfTtcblxuICAgIGxvYWRlckNhbGxiYWNrcyA9IHtcbiAgICAgIG9uU3VjY2VzczogdGhpcy5sb2Fkc3VjY2Vzcy5iaW5kKHRoaXMpLFxuICAgICAgb25FcnJvcjogdGhpcy5sb2FkZXJyb3IuYmluZCh0aGlzKSxcbiAgICAgIG9uVGltZW91dDogdGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpLFxuICAgICAgb25Qcm9ncmVzczogdGhpcy5sb2FkcHJvZ3Jlc3MuYmluZCh0aGlzKVxuICAgIH07XG5cbiAgICBsb2FkZXIubG9hZChsb2FkZXJDb250ZXh0LCBsb2FkZXJDb25maWcsIGxvYWRlckNhbGxiYWNrcyk7XG4gIH07XG5cbiAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmxvYWRzdWNjZXNzID0gZnVuY3Rpb24gbG9hZHN1Y2Nlc3MocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0KSB7XG4gICAgdmFyIG5ldHdvcmtEZXRhaWxzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBudWxsO1xuXG4gICAgdmFyIHBheWxvYWQgPSByZXNwb25zZS5kYXRhLFxuICAgICAgICBmcmFnID0gY29udGV4dC5mcmFnO1xuICAgIC8vIGRldGFjaCBmcmFnbWVudCBsb2FkZXIgb24gbG9hZCBzdWNjZXNzXG4gICAgZnJhZy5sb2FkZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sb2FkZXJzW2ZyYWcudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FERUQsIHsgcGF5bG9hZDogcGF5bG9hZCwgZnJhZzogZnJhZywgc3RhdHM6IHN0YXRzLCBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHMgfSk7XG4gIH07XG5cbiAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmxvYWRlcnJvciA9IGZ1bmN0aW9uIGxvYWRlcnJvcihyZXNwb25zZSwgY29udGV4dCkge1xuICAgIHZhciBuZXR3b3JrRGV0YWlscyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcblxuICAgIHZhciBmcmFnID0gY29udGV4dC5mcmFnO1xuICAgIHZhciBsb2FkZXIgPSBmcmFnLmxvYWRlcjtcbiAgICBpZiAobG9hZGVyKSB7XG4gICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICB9XG5cbiAgICB0aGlzLmxvYWRlcnNbZnJhZy50eXBlXSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgeyB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTkVUV09SS19FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT0FEX0VSUk9SLCBmYXRhbDogZmFsc2UsIGZyYWc6IGNvbnRleHQuZnJhZywgcmVzcG9uc2U6IHJlc3BvbnNlLCBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHMgfSk7XG4gIH07XG5cbiAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmxvYWR0aW1lb3V0ID0gZnVuY3Rpb24gbG9hZHRpbWVvdXQoc3RhdHMsIGNvbnRleHQpIHtcbiAgICB2YXIgbmV0d29ya0RldGFpbHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG5cbiAgICB2YXIgZnJhZyA9IGNvbnRleHQuZnJhZztcbiAgICB2YXIgbG9hZGVyID0gZnJhZy5sb2FkZXI7XG4gICAgaWYgKGxvYWRlcikge1xuICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5sb2FkZXJzW2ZyYWcudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfTE9BRF9USU1FT1VULCBmYXRhbDogZmFsc2UsIGZyYWc6IGNvbnRleHQuZnJhZywgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzIH0pO1xuICB9O1xuXG4gIC8vIGRhdGEgd2lsbCBiZSB1c2VkIGZvciBwcm9ncmVzc2l2ZSBwYXJzaW5nXG5cblxuICBGcmFnbWVudExvYWRlci5wcm90b3R5cGUubG9hZHByb2dyZXNzID0gZnVuY3Rpb24gbG9hZHByb2dyZXNzKHN0YXRzLCBjb250ZXh0LCBkYXRhKSB7XG4gICAgdmFyIG5ldHdvcmtEZXRhaWxzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBudWxsO1xuICAgIC8vIGpzaGludCBpZ25vcmU6bGluZVxuICAgIHZhciBmcmFnID0gY29udGV4dC5mcmFnO1xuICAgIGZyYWcubG9hZGVkID0gc3RhdHMubG9hZGVkO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BRF9QUk9HUkVTUywgeyBmcmFnOiBmcmFnLCBzdGF0czogc3RhdHMsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgfTtcblxuICByZXR1cm4gRnJhZ21lbnRMb2FkZXI7XG59KGV2ZW50X2hhbmRsZXIpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBmcmFnbWVudF9sb2FkZXIgPSAoZnJhZ21lbnRfbG9hZGVyX0ZyYWdtZW50TG9hZGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2xvYWRlci9rZXktbG9hZGVyLmpzXG5mdW5jdGlvbiBrZXlfbG9hZGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGtleV9sb2FkZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIGtleV9sb2FkZXJfX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qXG4gKiBEZWNyeXB0IGtleSBMb2FkZXJcbiovXG5cblxuXG5cblxuXG52YXIga2V5X2xvYWRlcl9LZXlMb2FkZXIgPSBmdW5jdGlvbiAoX0V2ZW50SGFuZGxlcikge1xuICBrZXlfbG9hZGVyX19pbmhlcml0cyhLZXlMb2FkZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIEtleUxvYWRlcihobHMpIHtcbiAgICBrZXlfbG9hZGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBLZXlMb2FkZXIpO1xuXG4gICAgdmFyIF90aGlzID0ga2V5X2xvYWRlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRIYW5kbGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uS0VZX0xPQURJTkcpKTtcblxuICAgIF90aGlzLmxvYWRlcnMgPSB7fTtcbiAgICBfdGhpcy5kZWNyeXB0a2V5ID0gbnVsbDtcbiAgICBfdGhpcy5kZWNyeXB0dXJsID0gbnVsbDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBLZXlMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGZvciAodmFyIGxvYWRlck5hbWUgaW4gdGhpcy5sb2FkZXJzKSB7XG4gICAgICB2YXIgbG9hZGVyID0gdGhpcy5sb2FkZXJzW2xvYWRlck5hbWVdO1xuICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICBsb2FkZXIuZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmxvYWRlcnMgPSB7fTtcbiAgICBldmVudF9oYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gIH07XG5cbiAgS2V5TG9hZGVyLnByb3RvdHlwZS5vbktleUxvYWRpbmcgPSBmdW5jdGlvbiBvbktleUxvYWRpbmcoZGF0YSkge1xuICAgIHZhciBmcmFnID0gZGF0YS5mcmFnLFxuICAgICAgICB0eXBlID0gZnJhZy50eXBlLFxuICAgICAgICBsb2FkZXIgPSB0aGlzLmxvYWRlcnNbdHlwZV0sXG4gICAgICAgIGRlY3J5cHRkYXRhID0gZnJhZy5kZWNyeXB0ZGF0YSxcbiAgICAgICAgdXJpID0gZGVjcnlwdGRhdGEudXJpO1xuICAgIC8vIGlmIHVyaSBpcyBkaWZmZXJlbnQgZnJvbSBwcmV2aW91cyBvbmUgb3IgaWYgZGVjcnlwdCBrZXkgbm90IHJldHJpZXZlZCB5ZXRcbiAgICBpZiAodXJpICE9PSB0aGlzLmRlY3J5cHR1cmwgfHwgdGhpcy5kZWNyeXB0a2V5ID09PSBudWxsKSB7XG4gICAgICB2YXIgY29uZmlnID0gdGhpcy5obHMuY29uZmlnO1xuXG4gICAgICBpZiAobG9hZGVyKSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2Fib3J0IHByZXZpb3VzIGtleSBsb2FkZXIgZm9yIHR5cGU6JyArIHR5cGUpO1xuICAgICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICAgIGZyYWcubG9hZGVyID0gdGhpcy5sb2FkZXJzW3R5cGVdID0gbmV3IGNvbmZpZy5sb2FkZXIoY29uZmlnKTtcbiAgICAgIHRoaXMuZGVjcnlwdHVybCA9IHVyaTtcbiAgICAgIHRoaXMuZGVjcnlwdGtleSA9IG51bGw7XG5cbiAgICAgIHZhciBsb2FkZXJDb250ZXh0ID0gdm9pZCAwLFxuICAgICAgICAgIGxvYWRlckNvbmZpZyA9IHZvaWQgMCxcbiAgICAgICAgICBsb2FkZXJDYWxsYmFja3MgPSB2b2lkIDA7XG4gICAgICBsb2FkZXJDb250ZXh0ID0geyB1cmw6IHVyaSwgZnJhZzogZnJhZywgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInIH07XG4gICAgICBsb2FkZXJDb25maWcgPSB7IHRpbWVvdXQ6IGNvbmZpZy5mcmFnTG9hZGluZ1RpbWVPdXQsIG1heFJldHJ5OiBjb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeSwgcmV0cnlEZWxheTogY29uZmlnLmZyYWdMb2FkaW5nUmV0cnlEZWxheSwgbWF4UmV0cnlEZWxheTogY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnlUaW1lb3V0IH07XG4gICAgICBsb2FkZXJDYWxsYmFja3MgPSB7IG9uU3VjY2VzczogdGhpcy5sb2Fkc3VjY2Vzcy5iaW5kKHRoaXMpLCBvbkVycm9yOiB0aGlzLmxvYWRlcnJvci5iaW5kKHRoaXMpLCBvblRpbWVvdXQ6IHRoaXMubG9hZHRpbWVvdXQuYmluZCh0aGlzKSB9O1xuICAgICAgZnJhZy5sb2FkZXIubG9hZChsb2FkZXJDb250ZXh0LCBsb2FkZXJDb25maWcsIGxvYWRlckNhbGxiYWNrcyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRlY3J5cHRrZXkpIHtcbiAgICAgIC8vIHdlIGFscmVhZHkgbG9hZGVkIHRoaXMga2V5LCByZXR1cm4gaXRcbiAgICAgIGRlY3J5cHRkYXRhLmtleSA9IHRoaXMuZGVjcnlwdGtleTtcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLktFWV9MT0FERUQsIHsgZnJhZzogZnJhZyB9KTtcbiAgICB9XG4gIH07XG5cbiAgS2V5TG9hZGVyLnByb3RvdHlwZS5sb2Fkc3VjY2VzcyA9IGZ1bmN0aW9uIGxvYWRzdWNjZXNzKHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCkge1xuICAgIHZhciBmcmFnID0gY29udGV4dC5mcmFnO1xuICAgIHRoaXMuZGVjcnlwdGtleSA9IGZyYWcuZGVjcnlwdGRhdGEua2V5ID0gbmV3IFVpbnQ4QXJyYXkocmVzcG9uc2UuZGF0YSk7XG4gICAgLy8gZGV0YWNoIGZyYWdtZW50IGxvYWRlciBvbiBsb2FkIHN1Y2Nlc3NcbiAgICBmcmFnLmxvYWRlciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmxvYWRlcnNbZnJhZy50eXBlXSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5LRVlfTE9BREVELCB7IGZyYWc6IGZyYWcgfSk7XG4gIH07XG5cbiAgS2V5TG9hZGVyLnByb3RvdHlwZS5sb2FkZXJyb3IgPSBmdW5jdGlvbiBsb2FkZXJyb3IocmVzcG9uc2UsIGNvbnRleHQpIHtcbiAgICB2YXIgZnJhZyA9IGNvbnRleHQuZnJhZyxcbiAgICAgICAgbG9hZGVyID0gZnJhZy5sb2FkZXI7XG4gICAgaWYgKGxvYWRlcikge1xuICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLktFWV9MT0FEX0VSUk9SLCBmYXRhbDogZmFsc2UsIGZyYWc6IGZyYWcsIHJlc3BvbnNlOiByZXNwb25zZSB9KTtcbiAgfTtcblxuICBLZXlMb2FkZXIucHJvdG90eXBlLmxvYWR0aW1lb3V0ID0gZnVuY3Rpb24gbG9hZHRpbWVvdXQoc3RhdHMsIGNvbnRleHQpIHtcbiAgICB2YXIgZnJhZyA9IGNvbnRleHQuZnJhZyxcbiAgICAgICAgbG9hZGVyID0gZnJhZy5sb2FkZXI7XG4gICAgaWYgKGxvYWRlcikge1xuICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLktFWV9MT0FEX1RJTUVPVVQsIGZhdGFsOiBmYWxzZSwgZnJhZzogZnJhZyB9KTtcbiAgfTtcblxuICByZXR1cm4gS2V5TG9hZGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIga2V5X2xvYWRlciA9IChrZXlfbG9hZGVyX0tleUxvYWRlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL2ZyYWdtZW50LXRyYWNrZXIuanNcblxuXG5mdW5jdGlvbiBmcmFnbWVudF90cmFja2VyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGZyYWdtZW50X3RyYWNrZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIGZyYWdtZW50X3RyYWNrZXJfX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cblxuXG5cbnZhciBGcmFnbWVudFN0YXRlID0ge1xuICBOT1RfTE9BREVEOiAnTk9UX0xPQURFRCcsXG4gIEFQUEVORElORzogJ0FQUEVORElORycsXG4gIFBBUlRJQUw6ICdQQVJUSUFMJyxcbiAgT0s6ICdPSydcbn07XG5cbnZhciBmcmFnbWVudF90cmFja2VyX0ZyYWdtZW50VHJhY2tlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIGZyYWdtZW50X3RyYWNrZXJfX2luaGVyaXRzKEZyYWdtZW50VHJhY2tlciwgX0V2ZW50SGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gRnJhZ21lbnRUcmFja2VyKGhscykge1xuICAgIGZyYWdtZW50X3RyYWNrZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZyYWdtZW50VHJhY2tlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBmcmFnbWVudF90cmFja2VyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQVBQRU5ERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0JVRkZFUkVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FERUQpKTtcblxuICAgIF90aGlzLmJ1ZmZlclBhZGRpbmcgPSAwLjI7XG5cbiAgICBfdGhpcy5mcmFnbWVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIF90aGlzLnRpbWVSYW5nZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgX3RoaXMuY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuZnJhZ21lbnRzID0gbnVsbDtcbiAgICB0aGlzLnRpbWVSYW5nZXMgPSBudWxsO1xuICAgIHRoaXMuY29uZmlnID0gbnVsbDtcbiAgICBldmVudF9oYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgX0V2ZW50SGFuZGxlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBGcmFnbWVudCB0aGF0IG1hdGNoIHRoZSBwb3NpdGlvbiBhbmQgbGV2ZWxUeXBlLlxuICAgKiBJZiBub3QgZm91bmQgYW55IEZyYWdtZW50LCByZXR1cm4gbnVsbFxuICAgKiBAcGFyYW0ge251bWJlcn0gcG9zaXRpb25cbiAgICogQHBhcmFtIHtMZXZlbFR5cGV9IGxldmVsVHlwZVxuICAgKiBAcmV0dXJucyB7RnJhZ21lbnR8bnVsbH1cbiAgICovXG5cblxuICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLmdldEJ1ZmZlcmVkRnJhZyA9IGZ1bmN0aW9uIGdldEJ1ZmZlcmVkRnJhZyhwb3NpdGlvbiwgbGV2ZWxUeXBlKSB7XG4gICAgdmFyIGZyYWdtZW50cyA9IHRoaXMuZnJhZ21lbnRzO1xuICAgIHZhciBidWZmZXJlZEZyYWdzID0gT2JqZWN0LmtleXMoZnJhZ21lbnRzKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIGZyYWdtZW50RW50aXR5ID0gZnJhZ21lbnRzW2tleV07XG4gICAgICBpZiAoZnJhZ21lbnRFbnRpdHkuYm9keS50eXBlICE9PSBsZXZlbFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWZyYWdtZW50RW50aXR5LmJ1ZmZlcmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZyYWcgPSBmcmFnbWVudEVudGl0eS5ib2R5O1xuICAgICAgcmV0dXJuIGZyYWcuc3RhcnRQVFMgPD0gcG9zaXRpb24gJiYgcG9zaXRpb24gPD0gZnJhZy5lbmRQVFM7XG4gICAgfSk7XG4gICAgaWYgKGJ1ZmZlcmVkRnJhZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvcHVsbC8xNTQ1I2Rpc2N1c3Npb25fcjE2NjIyOTU2NlxuICAgICAgdmFyIGJ1ZmZlcmVkRnJhZ0tleSA9IGJ1ZmZlcmVkRnJhZ3MucG9wKCk7XG4gICAgICByZXR1cm4gZnJhZ21lbnRzW2J1ZmZlcmVkRnJhZ0tleV0uYm9keTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnRpYWwgZnJhZ21lbnRzIGVmZmVjdGVkIGJ5IGNvZGVkIGZyYW1lIGV2aWN0aW9uIHdpbGwgYmUgcmVtb3ZlZFxuICAgKiBUaGUgYnJvd3NlciB3aWxsIHVubG9hZCBwYXJ0cyBvZiB0aGUgYnVmZmVyIHRvIGZyZWUgdXAgbWVtb3J5IGZvciBuZXcgYnVmZmVyIGRhdGFcbiAgICogRnJhZ21lbnRzIHdpbGwgbmVlZCB0byBiZSByZWxvYWRlZCB3aGVuIHRoZSBidWZmZXIgaXMgZnJlZWQgdXAsIHJlbW92aW5nIHBhcnRpYWwgZnJhZ21lbnRzIHdpbGwgYWxsb3cgdGhlbSB0byByZWxvYWQoc2luY2UgdGhlcmUgbWlnaHQgYmUgcGFydHMgdGhhdCBhcmUgc3RpbGwgcGxheWFibGUpXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBlbGVtZW50YXJ5U3RyZWFtIFRoZSBlbGVtZW50YXJ5U3RyZWFtIG9mIG1lZGlhIHRoaXMgaXMgKGVnLiB2aWRlby9hdWRpbylcbiAgICogQHBhcmFtIHtUaW1lUmFuZ2VzfSB0aW1lUmFuZ2UgVGltZVJhbmdlIG9iamVjdCBmcm9tIGEgc291cmNlQnVmZmVyXG4gICAqL1xuXG5cbiAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5kZXRlY3RFdmljdGVkRnJhZ21lbnRzID0gZnVuY3Rpb24gZGV0ZWN0RXZpY3RlZEZyYWdtZW50cyhlbGVtZW50YXJ5U3RyZWFtLCB0aW1lUmFuZ2UpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBmcmFnbWVudFRpbWVzID0gdm9pZCAwLFxuICAgICAgICB0aW1lID0gdm9pZCAwO1xuICAgIC8vIENoZWNrIGlmIGFueSBmbGFnZ2VkIGZyYWdtZW50cyBoYXZlIGJlZW4gdW5sb2FkZWRcbiAgICBPYmplY3Qua2V5cyh0aGlzLmZyYWdtZW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgZnJhZ21lbnRFbnRpdHkgPSBfdGhpczIuZnJhZ21lbnRzW2tleV07XG4gICAgICBpZiAoZnJhZ21lbnRFbnRpdHkuYnVmZmVyZWQgPT09IHRydWUpIHtcbiAgICAgICAgdmFyIGVzRGF0YSA9IGZyYWdtZW50RW50aXR5LnJhbmdlW2VsZW1lbnRhcnlTdHJlYW1dO1xuICAgICAgICBpZiAoZXNEYXRhKSB7XG4gICAgICAgICAgZnJhZ21lbnRUaW1lcyA9IGVzRGF0YS50aW1lO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhZ21lbnRUaW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGltZSA9IGZyYWdtZW50VGltZXNbaV07XG5cbiAgICAgICAgICAgIGlmIChfdGhpczIuaXNUaW1lQnVmZmVyZWQodGltZS5zdGFydFBUUywgdGltZS5lbmRQVFMsIHRpbWVSYW5nZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIC8vIFVucmVnaXN0ZXIgcGFydGlhbCBmcmFnbWVudCBhcyBpdCBuZWVkcyB0byBsb2FkIGFnYWluIHRvIGJlIHJldXNlZFxuICAgICAgICAgICAgICBfdGhpczIucmVtb3ZlRnJhZ21lbnQoZnJhZ21lbnRFbnRpdHkuYm9keSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGZyYWdtZW50IHBhc3NlZCBpbiBpcyBsb2FkZWQgaW4gdGhlIGJ1ZmZlciBwcm9wZXJseVxuICAgKiBQYXJ0aWFsbHkgbG9hZGVkIGZyYWdtZW50cyB3aWxsIGJlIHJlZ2lzdGVyZWQgYXMgYSBwYXJ0aWFsIGZyYWdtZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBmcmFnbWVudCBDaGVjayB0aGUgZnJhZ21lbnQgYWdhaW5zdCBhbGwgc291cmNlQnVmZmVycyBsb2FkZWRcbiAgICovXG5cblxuICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLmRldGVjdFBhcnRpYWxGcmFnbWVudHMgPSBmdW5jdGlvbiBkZXRlY3RQYXJ0aWFsRnJhZ21lbnRzKGZyYWdtZW50KSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB2YXIgZnJhZ0tleSA9IHRoaXMuZ2V0RnJhZ21lbnRLZXkoZnJhZ21lbnQpO1xuICAgIHZhciBmcmFnbWVudEVudGl0eSA9IHRoaXMuZnJhZ21lbnRzW2ZyYWdLZXldO1xuICAgIGlmIChmcmFnbWVudEVudGl0eSkge1xuICAgICAgZnJhZ21lbnRFbnRpdHkuYnVmZmVyZWQgPSB0cnVlO1xuXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnRpbWVSYW5nZXMpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnRhcnlTdHJlYW0pIHtcbiAgICAgICAgaWYgKGZyYWdtZW50Lmhhc0VsZW1lbnRhcnlTdHJlYW0oZWxlbWVudGFyeVN0cmVhbSkpIHtcbiAgICAgICAgICB2YXIgdGltZVJhbmdlID0gX3RoaXMzLnRpbWVSYW5nZXNbZWxlbWVudGFyeVN0cmVhbV07XG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIG1hbGZvcm1lZCBmcmFnbWVudHNcbiAgICAgICAgICAvLyBHYXBzIG5lZWQgdG8gYmUgY2FsY3VsYXRlZCBmb3IgZWFjaCBlbGVtZW50YXJ5U3RyZWFtXG4gICAgICAgICAgZnJhZ21lbnRFbnRpdHkucmFuZ2VbZWxlbWVudGFyeVN0cmVhbV0gPSBfdGhpczMuZ2V0QnVmZmVyZWRUaW1lcyhmcmFnbWVudC5zdGFydFBUUywgZnJhZ21lbnQuZW5kUFRTLCB0aW1lUmFuZ2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5nZXRCdWZmZXJlZFRpbWVzID0gZnVuY3Rpb24gZ2V0QnVmZmVyZWRUaW1lcyhzdGFydFBUUywgZW5kUFRTLCB0aW1lUmFuZ2UpIHtcbiAgICB2YXIgZnJhZ21lbnRUaW1lcyA9IFtdO1xuICAgIHZhciBzdGFydFRpbWUgPSB2b2lkIDAsXG4gICAgICAgIGVuZFRpbWUgPSB2b2lkIDA7XG4gICAgdmFyIGZyYWdtZW50UGFydGlhbCA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGltZVJhbmdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzdGFydFRpbWUgPSB0aW1lUmFuZ2Uuc3RhcnQoaSkgLSB0aGlzLmJ1ZmZlclBhZGRpbmc7XG4gICAgICBlbmRUaW1lID0gdGltZVJhbmdlLmVuZChpKSArIHRoaXMuYnVmZmVyUGFkZGluZztcbiAgICAgIGlmIChzdGFydFBUUyA+PSBzdGFydFRpbWUgJiYgZW5kUFRTIDw9IGVuZFRpbWUpIHtcbiAgICAgICAgLy8gRnJhZ21lbnQgaXMgZW50aXJlbHkgY29udGFpbmVkIGluIGJ1ZmZlclxuICAgICAgICAvLyBObyBuZWVkIHRvIGNoZWNrIHRoZSBvdGhlciB0aW1lUmFuZ2UgdGltZXMgc2luY2UgaXQncyBjb21wbGV0ZWx5IHBsYXlhYmxlXG4gICAgICAgIGZyYWdtZW50VGltZXMucHVzaCh7XG4gICAgICAgICAgc3RhcnRQVFM6IE1hdGgubWF4KHN0YXJ0UFRTLCB0aW1lUmFuZ2Uuc3RhcnQoaSkpLFxuICAgICAgICAgIGVuZFBUUzogTWF0aC5taW4oZW5kUFRTLCB0aW1lUmFuZ2UuZW5kKGkpKVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0UFRTIDwgZW5kVGltZSAmJiBlbmRQVFMgPiBzdGFydFRpbWUpIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGludGVyc2VjdGlvbiB3aXRoIGJ1ZmZlclxuICAgICAgICAvLyBHZXQgcGxheWFibGUgc2VjdGlvbnMgb2YgdGhlIGZyYWdtZW50XG4gICAgICAgIGZyYWdtZW50VGltZXMucHVzaCh7XG4gICAgICAgICAgc3RhcnRQVFM6IE1hdGgubWF4KHN0YXJ0UFRTLCB0aW1lUmFuZ2Uuc3RhcnQoaSkpLFxuICAgICAgICAgIGVuZFBUUzogTWF0aC5taW4oZW5kUFRTLCB0aW1lUmFuZ2UuZW5kKGkpKVxuICAgICAgICB9KTtcbiAgICAgICAgZnJhZ21lbnRQYXJ0aWFsID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZW5kUFRTIDw9IHN0YXJ0VGltZSkge1xuICAgICAgICAvLyBObyBuZWVkIHRvIGNoZWNrIHRoZSByZXN0IG9mIHRoZSB0aW1lUmFuZ2UgYXMgaXQgaXMgaW4gb3JkZXJcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRpbWU6IGZyYWdtZW50VGltZXMsXG4gICAgICBwYXJ0aWFsOiBmcmFnbWVudFBhcnRpYWxcbiAgICB9O1xuICB9O1xuXG4gIEZyYWdtZW50VHJhY2tlci5wcm90b3R5cGUuZ2V0RnJhZ21lbnRLZXkgPSBmdW5jdGlvbiBnZXRGcmFnbWVudEtleShmcmFnbWVudCkge1xuICAgIHJldHVybiBmcmFnbWVudC50eXBlICsgJ18nICsgZnJhZ21lbnQubGV2ZWwgKyAnXycgKyBmcmFnbWVudC51cmxJZCArICdfJyArIGZyYWdtZW50LnNuO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwYXJ0aWFsIGZyYWdtZW50IGZvciBhIGNlcnRhaW4gdGltZVxuICAgKiBAcGFyYW0ge051bWJlcn0gdGltZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBmcmFnbWVudCBSZXR1cm5zIGEgcGFydGlhbCBmcmFnbWVudCBhdCBhIHRpbWUgb3IgbnVsbCBpZiB0aGVyZSBpcyBubyBwYXJ0aWFsIGZyYWdtZW50XG4gICAqL1xuXG5cbiAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5nZXRQYXJ0aWFsRnJhZ21lbnQgPSBmdW5jdGlvbiBnZXRQYXJ0aWFsRnJhZ21lbnQodGltZSkge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgdmFyIHRpbWVQYWRkaW5nID0gdm9pZCAwLFxuICAgICAgICBzdGFydFRpbWUgPSB2b2lkIDAsXG4gICAgICAgIGVuZFRpbWUgPSB2b2lkIDA7XG4gICAgdmFyIGJlc3RGcmFnbWVudCA9IG51bGw7XG4gICAgdmFyIGJlc3RPdmVybGFwID0gMDtcbiAgICBPYmplY3Qua2V5cyh0aGlzLmZyYWdtZW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgZnJhZ21lbnRFbnRpdHkgPSBfdGhpczQuZnJhZ21lbnRzW2tleV07XG4gICAgICBpZiAoX3RoaXM0LmlzUGFydGlhbChmcmFnbWVudEVudGl0eSkpIHtcbiAgICAgICAgc3RhcnRUaW1lID0gZnJhZ21lbnRFbnRpdHkuYm9keS5zdGFydFBUUyAtIF90aGlzNC5idWZmZXJQYWRkaW5nO1xuICAgICAgICBlbmRUaW1lID0gZnJhZ21lbnRFbnRpdHkuYm9keS5lbmRQVFMgKyBfdGhpczQuYnVmZmVyUGFkZGluZztcbiAgICAgICAgaWYgKHRpbWUgPj0gc3RhcnRUaW1lICYmIHRpbWUgPD0gZW5kVGltZSkge1xuICAgICAgICAgIC8vIFVzZSB0aGUgZnJhZ21lbnQgdGhhdCBoYXMgdGhlIG1vc3QgcGFkZGluZyBmcm9tIHN0YXJ0IGFuZCBlbmQgdGltZVxuICAgICAgICAgIHRpbWVQYWRkaW5nID0gTWF0aC5taW4odGltZSAtIHN0YXJ0VGltZSwgZW5kVGltZSAtIHRpbWUpO1xuICAgICAgICAgIGlmIChiZXN0T3ZlcmxhcCA8PSB0aW1lUGFkZGluZykge1xuICAgICAgICAgICAgYmVzdEZyYWdtZW50ID0gZnJhZ21lbnRFbnRpdHkuYm9keTtcbiAgICAgICAgICAgIGJlc3RPdmVybGFwID0gdGltZVBhZGRpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGJlc3RGcmFnbWVudDtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGZyYWdtZW50IFRoZSBmcmFnbWVudCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBSZXR1cm5zIHRoZSBmcmFnbWVudCBzdGF0ZSB3aGVuIGEgZnJhZ21lbnQgbmV2ZXIgbG9hZGVkIG9yIGlmIGl0IHBhcnRpYWxseSBsb2FkZWRcbiAgICovXG5cblxuICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gZ2V0U3RhdGUoZnJhZ21lbnQpIHtcbiAgICB2YXIgZnJhZ0tleSA9IHRoaXMuZ2V0RnJhZ21lbnRLZXkoZnJhZ21lbnQpO1xuICAgIHZhciBmcmFnbWVudEVudGl0eSA9IHRoaXMuZnJhZ21lbnRzW2ZyYWdLZXldO1xuICAgIHZhciBzdGF0ZSA9IEZyYWdtZW50U3RhdGUuTk9UX0xPQURFRDtcblxuICAgIGlmIChmcmFnbWVudEVudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoIWZyYWdtZW50RW50aXR5LmJ1ZmZlcmVkKSB7XG4gICAgICAgIHN0YXRlID0gRnJhZ21lbnRTdGF0ZS5BUFBFTkRJTkc7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNQYXJ0aWFsKGZyYWdtZW50RW50aXR5KSA9PT0gdHJ1ZSkge1xuICAgICAgICBzdGF0ZSA9IEZyYWdtZW50U3RhdGUuUEFSVElBTDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlID0gRnJhZ21lbnRTdGF0ZS5PSztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdGU7XG4gIH07XG5cbiAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5pc1BhcnRpYWwgPSBmdW5jdGlvbiBpc1BhcnRpYWwoZnJhZ21lbnRFbnRpdHkpIHtcbiAgICByZXR1cm4gZnJhZ21lbnRFbnRpdHkuYnVmZmVyZWQgPT09IHRydWUgJiYgKGZyYWdtZW50RW50aXR5LnJhbmdlLnZpZGVvICE9PSB1bmRlZmluZWQgJiYgZnJhZ21lbnRFbnRpdHkucmFuZ2UudmlkZW8ucGFydGlhbCA9PT0gdHJ1ZSB8fCBmcmFnbWVudEVudGl0eS5yYW5nZS5hdWRpbyAhPT0gdW5kZWZpbmVkICYmIGZyYWdtZW50RW50aXR5LnJhbmdlLmF1ZGlvLnBhcnRpYWwgPT09IHRydWUpO1xuICB9O1xuXG4gIEZyYWdtZW50VHJhY2tlci5wcm90b3R5cGUuaXNUaW1lQnVmZmVyZWQgPSBmdW5jdGlvbiBpc1RpbWVCdWZmZXJlZChzdGFydFBUUywgZW5kUFRTLCB0aW1lUmFuZ2UpIHtcbiAgICB2YXIgc3RhcnRUaW1lID0gdm9pZCAwLFxuICAgICAgICBlbmRUaW1lID0gdm9pZCAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGltZVJhbmdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzdGFydFRpbWUgPSB0aW1lUmFuZ2Uuc3RhcnQoaSkgLSB0aGlzLmJ1ZmZlclBhZGRpbmc7XG4gICAgICBlbmRUaW1lID0gdGltZVJhbmdlLmVuZChpKSArIHRoaXMuYnVmZmVyUGFkZGluZztcbiAgICAgIGlmIChzdGFydFBUUyA+PSBzdGFydFRpbWUgJiYgZW5kUFRTIDw9IGVuZFRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbmRQVFMgPD0gc3RhcnRUaW1lKSB7XG4gICAgICAgIC8vIE5vIG5lZWQgdG8gY2hlY2sgdGhlIHJlc3Qgb2YgdGhlIHRpbWVSYW5nZSBhcyBpdCBpcyBpbiBvcmRlclxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIGEgZnJhZ21lbnQgbG9hZGluZyBpcyBjb21wbGV0ZWRcbiAgICovXG5cblxuICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRlZCA9IGZ1bmN0aW9uIG9uRnJhZ0xvYWRlZChlKSB7XG4gICAgdmFyIGZyYWdtZW50ID0gZS5mcmFnO1xuICAgIC8vIGRvbid0IHRyYWNrIGluaXRzZWdtZW50IChmb3Igd2hpY2ggc24gaXMgbm90IGEgbnVtYmVyKVxuICAgIC8vIGRvbid0IHRyYWNrIGZyYWdzIHVzZWQgZm9yIGJpdHJhdGVUZXN0LCB0aGV5J3JlIGlycmVsZXZhbnQuXG4gICAgaWYgKE9iamVjdChudW1iZXJfaXNGaW5pdGVbXCJhXCIgLyogaXNGaW5pdGVOdW1iZXIgKi9dKShmcmFnbWVudC5zbikgJiYgIWZyYWdtZW50LmJpdHJhdGVUZXN0KSB7XG4gICAgICB0aGlzLmZyYWdtZW50c1t0aGlzLmdldEZyYWdtZW50S2V5KGZyYWdtZW50KV0gPSB7XG4gICAgICAgIGJvZHk6IGZyYWdtZW50LFxuICAgICAgICByYW5nZTogT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgICAgYnVmZmVyZWQ6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRmlyZXMgd2hlbiB0aGUgYnVmZmVyIGlzIHVwZGF0ZWRcbiAgICovXG5cblxuICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLm9uQnVmZmVyQXBwZW5kZWQgPSBmdW5jdGlvbiBvbkJ1ZmZlckFwcGVuZGVkKGUpIHtcbiAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgIC8vIFN0b3JlIHRoZSBsYXRlc3QgdGltZVJhbmdlcyBsb2FkZWQgaW4gdGhlIGJ1ZmZlclxuICAgIHRoaXMudGltZVJhbmdlcyA9IGUudGltZVJhbmdlcztcbiAgICBPYmplY3Qua2V5cyh0aGlzLnRpbWVSYW5nZXMpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnRhcnlTdHJlYW0pIHtcbiAgICAgIHZhciB0aW1lUmFuZ2UgPSBfdGhpczUudGltZVJhbmdlc1tlbGVtZW50YXJ5U3RyZWFtXTtcbiAgICAgIF90aGlzNS5kZXRlY3RFdmljdGVkRnJhZ21lbnRzKGVsZW1lbnRhcnlTdHJlYW0sIHRpbWVSYW5nZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEZpcmVzIGFmdGVyIGEgZnJhZ21lbnQgaGFzIGJlZW4gbG9hZGVkIGludG8gdGhlIHNvdXJjZSBidWZmZXJcbiAgICovXG5cblxuICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLm9uRnJhZ0J1ZmZlcmVkID0gZnVuY3Rpb24gb25GcmFnQnVmZmVyZWQoZSkge1xuICAgIHRoaXMuZGV0ZWN0UGFydGlhbEZyYWdtZW50cyhlLmZyYWcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdHJ1ZSBpZiBmcmFnbWVudCB0cmFja2VyIGhhcyB0aGUgZnJhZ21lbnQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBmcmFnbWVudFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLmhhc0ZyYWdtZW50ID0gZnVuY3Rpb24gaGFzRnJhZ21lbnQoZnJhZ21lbnQpIHtcbiAgICB2YXIgZnJhZ0tleSA9IHRoaXMuZ2V0RnJhZ21lbnRLZXkoZnJhZ21lbnQpO1xuICAgIHJldHVybiB0aGlzLmZyYWdtZW50c1tmcmFnS2V5XSAhPT0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBmcmFnbWVudCBmcm9tIGZyYWdtZW50IHRyYWNrZXIgdW50aWwgaXQgaXMgbG9hZGVkIGFnYWluXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBmcmFnbWVudCBUaGUgZnJhZ21lbnQgdG8gcmVtb3ZlXG4gICAqL1xuXG5cbiAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5yZW1vdmVGcmFnbWVudCA9IGZ1bmN0aW9uIHJlbW92ZUZyYWdtZW50KGZyYWdtZW50KSB7XG4gICAgdmFyIGZyYWdLZXkgPSB0aGlzLmdldEZyYWdtZW50S2V5KGZyYWdtZW50KTtcbiAgICBkZWxldGUgdGhpcy5mcmFnbWVudHNbZnJhZ0tleV07XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgZnJhZ21lbnRzIGZyb20gZnJhZ21lbnQgdHJhY2tlci5cbiAgICovXG5cblxuICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLnJlbW92ZUFsbEZyYWdtZW50cyA9IGZ1bmN0aW9uIHJlbW92ZUFsbEZyYWdtZW50cygpIHtcbiAgICB0aGlzLmZyYWdtZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH07XG5cbiAgcmV0dXJuIEZyYWdtZW50VHJhY2tlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy91dGlscy9iaW5hcnktc2VhcmNoLmpzXG52YXIgQmluYXJ5U2VhcmNoID0ge1xuICAvKipcbiAgICAgKiBTZWFyY2hlcyBmb3IgYW4gaXRlbSBpbiBhbiBhcnJheSB3aGljaCBtYXRjaGVzIGEgY2VydGFpbiBjb25kaXRpb24uXG4gICAgICogVGhpcyByZXF1aXJlcyB0aGUgY29uZGl0aW9uIHRvIG9ubHkgbWF0Y2ggb25lIGl0ZW0gaW4gdGhlIGFycmF5LFxuICAgICAqIGFuZCBmb3IgdGhlIGFycmF5IHRvIGJlIG9yZGVyZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaXN0IFRoZSBhcnJheSB0byBzZWFyY2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyaXNvbkZ1bmN0aW9uXG4gICAgICogICAgICBDYWxsZWQgYW5kIHByb3ZpZGVkIGEgY2FuZGlkYXRlIGl0ZW0gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LlxuICAgICAqICAgICAgU2hvdWxkIHJldHVybjpcbiAgICAgKiAgICAgICAgICA+IC0xIGlmIHRoZSBpdGVtIHNob3VsZCBiZSBsb2NhdGVkIGF0IGEgbG93ZXIgaW5kZXggdGhhbiB0aGUgcHJvdmlkZWQgaXRlbS5cbiAgICAgKiAgICAgICAgICA+IDEgaWYgdGhlIGl0ZW0gc2hvdWxkIGJlIGxvY2F0ZWQgYXQgYSBoaWdoZXIgaW5kZXggdGhhbiB0aGUgcHJvdmlkZWQgaXRlbS5cbiAgICAgKiAgICAgICAgICA+IDAgaWYgdGhlIGl0ZW0gaXMgdGhlIGl0ZW0geW91J3JlIGxvb2tpbmcgZm9yLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Kn0gVGhlIG9iamVjdCBpZiBpdCBpcyBmb3VuZCBvciBudWxsIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2gobGlzdCwgY29tcGFyaXNvbkZ1bmN0aW9uKSB7XG4gICAgdmFyIG1pbkluZGV4ID0gMDtcbiAgICB2YXIgbWF4SW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgdmFyIGN1cnJlbnRJbmRleCA9IG51bGw7XG4gICAgdmFyIGN1cnJlbnRFbGVtZW50ID0gbnVsbDtcblxuICAgIHdoaWxlIChtaW5JbmRleCA8PSBtYXhJbmRleCkge1xuICAgICAgY3VycmVudEluZGV4ID0gKG1pbkluZGV4ICsgbWF4SW5kZXgpIC8gMiB8IDA7XG4gICAgICBjdXJyZW50RWxlbWVudCA9IGxpc3RbY3VycmVudEluZGV4XTtcblxuICAgICAgdmFyIGNvbXBhcmlzb25SZXN1bHQgPSBjb21wYXJpc29uRnVuY3Rpb24oY3VycmVudEVsZW1lbnQpO1xuICAgICAgaWYgKGNvbXBhcmlzb25SZXN1bHQgPiAwKSB7XG4gICAgICAgIG1pbkluZGV4ID0gY3VycmVudEluZGV4ICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoY29tcGFyaXNvblJlc3VsdCA8IDApIHtcbiAgICAgICAgbWF4SW5kZXggPSBjdXJyZW50SW5kZXggLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRFbGVtZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBiaW5hcnlfc2VhcmNoID0gKEJpbmFyeVNlYXJjaCk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy91dGlscy9idWZmZXItaGVscGVyLmpzXG5mdW5jdGlvbiBidWZmZXJfaGVscGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogQG1vZHVsZSBCdWZmZXJIZWxwZXJcbiAqXG4gKiBQcm92aWRpbmcgbWV0aG9kcyBkZWFsaW5nIHdpdGggYnVmZmVyIGxlbmd0aCByZXRyaWV2YWwgZm9yIGV4YW1wbGUuXG4gKlxuICogSW4gZ2VuZXJhbCwgYSBoZWxwZXIgYXJvdW5kIEhUTUw1IE1lZGlhRWxlbWVudCBUaW1lUmFuZ2VzIGdhdGhlcmVkIGZyb20gYGJ1ZmZlcmVkYCBwcm9wZXJ0eS5cbiAqXG4gKiBBbHNvIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxNZWRpYUVsZW1lbnQvYnVmZmVyZWRcbiovXG5cbnZhciBCdWZmZXJIZWxwZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJ1ZmZlckhlbHBlcigpIHtcbiAgICBidWZmZXJfaGVscGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBCdWZmZXJIZWxwZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0cnVlIGlmIGBtZWRpYWAncyBidWZmZXJlZCBpbmNsdWRlIGBwb3NpdGlvbmBcbiAgICogQHBhcmFtIHtIVE1MTWVkaWFFbGVtZW50fFNvdXJjZUJ1ZmZlcn0gbWVkaWFcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgQnVmZmVySGVscGVyLmlzQnVmZmVyZWQgPSBmdW5jdGlvbiBpc0J1ZmZlcmVkKG1lZGlhLCBwb3NpdGlvbikge1xuICAgIHRyeSB7XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgdmFyIGJ1ZmZlcmVkID0gbWVkaWEuYnVmZmVyZWQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAocG9zaXRpb24gPj0gYnVmZmVyZWQuc3RhcnQoaSkgJiYgcG9zaXRpb24gPD0gYnVmZmVyZWQuZW5kKGkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gdGhpcyBpcyB0byBjYXRjaFxuICAgICAgLy8gSW52YWxpZFN0YXRlRXJyb3I6IEZhaWxlZCB0byByZWFkIHRoZSAnYnVmZmVyZWQnIHByb3BlcnR5IGZyb20gJ1NvdXJjZUJ1ZmZlcic6XG4gICAgICAvLyBUaGlzIFNvdXJjZUJ1ZmZlciBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIHBhcmVudCBtZWRpYSBzb3VyY2VcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIEJ1ZmZlckhlbHBlci5idWZmZXJJbmZvID0gZnVuY3Rpb24gYnVmZmVySW5mbyhtZWRpYSwgcG9zLCBtYXhIb2xlRHVyYXRpb24pIHtcbiAgICB0cnkge1xuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIHZhciB2YnVmZmVyZWQgPSBtZWRpYS5idWZmZXJlZCxcbiAgICAgICAgICAgIGJ1ZmZlcmVkID0gW10sXG4gICAgICAgICAgICBpID0gdm9pZCAwO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmJ1ZmZlcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYnVmZmVyZWQucHVzaCh7IHN0YXJ0OiB2YnVmZmVyZWQuc3RhcnQoaSksIGVuZDogdmJ1ZmZlcmVkLmVuZChpKSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcmVkSW5mbyhidWZmZXJlZCwgcG9zLCBtYXhIb2xlRHVyYXRpb24pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyB0aGlzIGlzIHRvIGNhdGNoXG4gICAgICAvLyBJbnZhbGlkU3RhdGVFcnJvcjogRmFpbGVkIHRvIHJlYWQgdGhlICdidWZmZXJlZCcgcHJvcGVydHkgZnJvbSAnU291cmNlQnVmZmVyJzpcbiAgICAgIC8vIFRoaXMgU291cmNlQnVmZmVyIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgcGFyZW50IG1lZGlhIHNvdXJjZVxuICAgIH1cbiAgICByZXR1cm4geyBsZW46IDAsIHN0YXJ0OiBwb3MsIGVuZDogcG9zLCBuZXh0U3RhcnQ6IHVuZGVmaW5lZCB9O1xuICB9O1xuXG4gIEJ1ZmZlckhlbHBlci5idWZmZXJlZEluZm8gPSBmdW5jdGlvbiBidWZmZXJlZEluZm8oYnVmZmVyZWQsIHBvcywgbWF4SG9sZUR1cmF0aW9uKSB7XG4gICAgdmFyIGJ1ZmZlcmVkMiA9IFtdLFxuXG4gICAgLy8gYnVmZmVyU3RhcnQgYW5kIGJ1ZmZlckVuZCBhcmUgYnVmZmVyIGJvdW5kYXJpZXMgYXJvdW5kIGN1cnJlbnQgdmlkZW8gcG9zaXRpb25cbiAgICBidWZmZXJMZW4gPSB2b2lkIDAsXG4gICAgICAgIGJ1ZmZlclN0YXJ0ID0gdm9pZCAwLFxuICAgICAgICBidWZmZXJFbmQgPSB2b2lkIDAsXG4gICAgICAgIGJ1ZmZlclN0YXJ0TmV4dCA9IHZvaWQgMCxcbiAgICAgICAgaSA9IHZvaWQgMDtcbiAgICAvLyBzb3J0IG9uIGJ1ZmZlci5zdGFydC9zbWFsbGVyIGVuZCAoSUUgZG9lcyBub3QgYWx3YXlzIHJldHVybiBzb3J0ZWQgYnVmZmVyZWQgcmFuZ2UpXG4gICAgYnVmZmVyZWQuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgdmFyIGRpZmYgPSBhLnN0YXJ0IC0gYi5zdGFydDtcbiAgICAgIGlmIChkaWZmKSB7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGIuZW5kIC0gYS5lbmQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gdGhlcmUgbWlnaHQgYmUgc29tZSBzbWFsbCBob2xlcyBiZXR3ZWVuIGJ1ZmZlciB0aW1lIHJhbmdlXG4gICAgLy8gY29uc2lkZXIgdGhhdCBob2xlcyBzbWFsbGVyIHRoYW4gbWF4SG9sZUR1cmF0aW9uIGFyZSBpcnJlbGV2YW50IGFuZCBidWlsZCBhbm90aGVyXG4gICAgLy8gYnVmZmVyIHRpbWUgcmFuZ2UgcmVwcmVzZW50YXRpb25zIHRoYXQgZGlzY2FyZHMgdGhvc2UgaG9sZXNcbiAgICBmb3IgKGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBidWYybGVuID0gYnVmZmVyZWQyLmxlbmd0aDtcbiAgICAgIGlmIChidWYybGVuKSB7XG4gICAgICAgIHZhciBidWYyZW5kID0gYnVmZmVyZWQyW2J1ZjJsZW4gLSAxXS5lbmQ7XG4gICAgICAgIC8vIGlmIHNtYWxsIGhvbGUgKHZhbHVlIGJldHdlZW4gMCBvciBtYXhIb2xlRHVyYXRpb24gKSBvciBvdmVybGFwcGluZyAobmVnYXRpdmUpXG4gICAgICAgIGlmIChidWZmZXJlZFtpXS5zdGFydCAtIGJ1ZjJlbmQgPCBtYXhIb2xlRHVyYXRpb24pIHtcbiAgICAgICAgICAvLyBtZXJnZSBvdmVybGFwcGluZyB0aW1lIHJhbmdlc1xuICAgICAgICAgIC8vIHVwZGF0ZSBsYXN0UmFuZ2UuZW5kIG9ubHkgaWYgc21hbGxlciB0aGFuIGl0ZW0uZW5kXG4gICAgICAgICAgLy8gZS5nLiAgWyAxLCAxNV0gd2l0aCAgWyAyLDhdID0+IFsgMSwxNV0gKG5vIG5lZWQgdG8gbW9kaWZ5IGxhc3RSYW5nZS5lbmQpXG4gICAgICAgICAgLy8gd2hlcmVhcyBbIDEsIDhdIHdpdGggIFsgMiwxNV0gPT4gWyAxLDE1XSAoIGxhc3RSYW5nZSBzaG91bGQgc3dpdGNoIGZyb20gWzEsOF0gdG8gWzEsMTVdKVxuICAgICAgICAgIGlmIChidWZmZXJlZFtpXS5lbmQgPiBidWYyZW5kKSB7XG4gICAgICAgICAgICBidWZmZXJlZDJbYnVmMmxlbiAtIDFdLmVuZCA9IGJ1ZmZlcmVkW2ldLmVuZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gYmlnIGhvbGVcbiAgICAgICAgICBidWZmZXJlZDIucHVzaChidWZmZXJlZFtpXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGZpcnN0IHZhbHVlXG4gICAgICAgIGJ1ZmZlcmVkMi5wdXNoKGJ1ZmZlcmVkW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChpID0gMCwgYnVmZmVyTGVuID0gMCwgYnVmZmVyU3RhcnQgPSBidWZmZXJFbmQgPSBwb3M7IGkgPCBidWZmZXJlZDIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzdGFydCA9IGJ1ZmZlcmVkMltpXS5zdGFydCxcbiAgICAgICAgICBlbmQgPSBidWZmZXJlZDJbaV0uZW5kO1xuICAgICAgLy8gbG9nZ2VyLmxvZygnYnVmIHN0YXJ0L2VuZDonICsgYnVmZmVyZWQuc3RhcnQoaSkgKyAnLycgKyBidWZmZXJlZC5lbmQoaSkpO1xuICAgICAgaWYgKHBvcyArIG1heEhvbGVEdXJhdGlvbiA+PSBzdGFydCAmJiBwb3MgPCBlbmQpIHtcbiAgICAgICAgLy8gcGxheSBwb3NpdGlvbiBpcyBpbnNpZGUgdGhpcyBidWZmZXIgVGltZVJhbmdlLCByZXRyaWV2ZSBlbmQgb2YgYnVmZmVyIHBvc2l0aW9uIGFuZCBidWZmZXIgbGVuZ3RoXG4gICAgICAgIGJ1ZmZlclN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIGJ1ZmZlckVuZCA9IGVuZDtcbiAgICAgICAgYnVmZmVyTGVuID0gYnVmZmVyRW5kIC0gcG9zO1xuICAgICAgfSBlbHNlIGlmIChwb3MgKyBtYXhIb2xlRHVyYXRpb24gPCBzdGFydCkge1xuICAgICAgICBidWZmZXJTdGFydE5leHQgPSBzdGFydDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGxlbjogYnVmZmVyTGVuLCBzdGFydDogYnVmZmVyU3RhcnQsIGVuZDogYnVmZmVyRW5kLCBuZXh0U3RhcnQ6IGJ1ZmZlclN0YXJ0TmV4dCB9O1xuICB9O1xuXG4gIHJldHVybiBCdWZmZXJIZWxwZXI7XG59KCk7XG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanNcbnZhciBldmVudHNfZXZlbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbnZhciBldmVudHNfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oZXZlbnRzX2V2ZW50cyk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvd2Vid29ya2lmeS13ZWJwYWNrL2luZGV4LmpzXG52YXIgd2Vid29ya2lmeV93ZWJwYWNrID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgd2Vid29ya2lmeV93ZWJwYWNrX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHdlYndvcmtpZnlfd2VicGFjayk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvZGVtdXgvZGVtdXhlci1pbmxpbmUuanMgKyAxMSBtb2R1bGVzXG52YXIgZGVtdXhlcl9pbmxpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvbWVkaWFzb3VyY2UtaGVscGVyLmpzXG4vKipcbiAqIE1lZGlhU291cmNlIGhlbHBlclxuICovXG5cbmZ1bmN0aW9uIGdldE1lZGlhU291cmNlKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gd2luZG93Lk1lZGlhU291cmNlIHx8IHdpbmRvdy5XZWJLaXRNZWRpYVNvdXJjZTtcbiAgfVxufVxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy91dGlscy9nZXQtc2VsZi1zY29wZS5qc1xudmFyIGdldF9zZWxmX3Njb3BlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGVtdXgvZGVtdXhlci5qc1xuXG5cbmZ1bmN0aW9uIGRlbXV4ZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXG5cblxuXG5cblxuXG5cblxuXG4vLyBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzExMjM3MjU5LzU4OTQ5M1xudmFyIGdsb2JhbCA9IE9iamVjdChnZXRfc2VsZl9zY29wZVtcImFcIiAvKiBnZXRTZWxmU2NvcGUgKi9dKSgpOyAvLyBzYWZlZ3VhcmQgZm9yIGNvZGUgdGhhdCBtaWdodCBydW4gYm90aCBvbiB3b3JrZXIgYW5kIG1haW4gdGhyZWFkXG52YXIgTWVkaWFTb3VyY2UgPSBnZXRNZWRpYVNvdXJjZSgpO1xuXG52YXIgZGVtdXhlcl9EZW11eGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBEZW11eGVyKGhscywgaWQpIHtcbiAgICBkZW11eGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBEZW11eGVyKTtcblxuICAgIHRoaXMuaGxzID0gaGxzO1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICAvLyBvYnNlcnZlciBzZXR1cFxuICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXIgPSBuZXcgZXZlbnRzX2RlZmF1bHQuYSgpO1xuICAgIHZhciBjb25maWcgPSBobHMuY29uZmlnO1xuICAgIG9ic2VydmVyLnRyaWdnZXIgPSBmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50KSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZGF0YSA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgZGF0YVtfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIG9ic2VydmVyLmVtaXQuYXBwbHkob2JzZXJ2ZXIsIFtldmVudCwgZXZlbnRdLmNvbmNhdChkYXRhKSk7XG4gICAgfTtcblxuICAgIG9ic2VydmVyLm9mZiA9IGZ1bmN0aW9uIG9mZihldmVudCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBkYXRhID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBkYXRhW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBvYnNlcnZlci5yZW1vdmVMaXN0ZW5lci5hcHBseShvYnNlcnZlciwgW2V2ZW50XS5jb25jYXQoZGF0YSkpO1xuICAgIH07XG5cbiAgICB2YXIgZm9yd2FyZE1lc3NhZ2UgPSBmdW5jdGlvbiAoZXYsIGRhdGEpIHtcbiAgICAgIGRhdGEgPSBkYXRhIHx8IHt9O1xuICAgICAgZGF0YS5mcmFnID0gdGhpcy5mcmFnO1xuICAgICAgZGF0YS5pZCA9IHRoaXMuaWQ7XG4gICAgICBobHMudHJpZ2dlcihldiwgZGF0YSk7XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgLy8gZm9yd2FyZCBldmVudHMgdG8gbWFpbiB0aHJlYWRcbiAgICBvYnNlcnZlci5vbihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19ERUNSWVBURUQsIGZvcndhcmRNZXNzYWdlKTtcbiAgICBvYnNlcnZlci5vbihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVCwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIG9ic2VydmVyLm9uKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfREFUQSwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIG9ic2VydmVyLm9uKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNFRCwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIG9ic2VydmVyLm9uKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIG9ic2VydmVyLm9uKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfTUVUQURBVEEsIGZvcndhcmRNZXNzYWdlKTtcbiAgICBvYnNlcnZlci5vbihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX1VTRVJEQVRBLCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgb2JzZXJ2ZXIub24oZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLklOSVRfUFRTX0ZPVU5ELCBmb3J3YXJkTWVzc2FnZSk7XG5cbiAgICB2YXIgdHlwZVN1cHBvcnRlZCA9IHtcbiAgICAgIG1wNDogTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQnKSxcbiAgICAgIG1wZWc6IE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCgnYXVkaW8vbXBlZycpLFxuICAgICAgbXAzOiBNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoJ2F1ZGlvL21wNDsgY29kZWNzPVwibXAzXCInKVxuICAgIH07XG4gICAgLy8gbmF2aWdhdG9yLnZlbmRvciBpcyBub3QgYWx3YXlzIGF2YWlsYWJsZSBpbiBXZWIgV29ya2VyXG4gICAgLy8gcmVmZXIgdG8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dvcmtlckdsb2JhbFNjb3BlL25hdmlnYXRvclxuICAgIHZhciB2ZW5kb3IgPSBuYXZpZ2F0b3IudmVuZG9yO1xuICAgIGlmIChjb25maWcuZW5hYmxlV29ya2VyICYmIHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2RlbXV4aW5nIGluIHdlYndvcmtlcicpO1xuICAgICAgdmFyIHcgPSB2b2lkIDA7XG4gICAgICB0cnkge1xuICAgICAgICB3ID0gdGhpcy53ID0gd2Vid29ya2lmeV93ZWJwYWNrX2RlZmF1bHQoKSgvKnJlcXVpcmUucmVzb2x2ZSovKDEzKSk7XG4gICAgICAgIHRoaXMub253bXNnID0gdGhpcy5vbldvcmtlck1lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5vbndtc2cpO1xuICAgICAgICB3Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk9USEVSX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5JTlRFUk5BTF9FWENFUFRJT04sIGZhdGFsOiB0cnVlLCBldmVudDogJ2RlbXV4ZXJXb3JrZXInLCBlcnI6IHsgbWVzc2FnZTogZXZlbnQubWVzc2FnZSArICcgKCcgKyBldmVudC5maWxlbmFtZSArICc6JyArIGV2ZW50LmxpbmVubyArICcpJyB9IH0pO1xuICAgICAgICB9O1xuICAgICAgICB3LnBvc3RNZXNzYWdlKHsgY21kOiAnaW5pdCcsIHR5cGVTdXBwb3J0ZWQ6IHR5cGVTdXBwb3J0ZWQsIHZlbmRvcjogdmVuZG9yLCBpZDogaWQsIGNvbmZpZzogSlNPTi5zdHJpbmdpZnkoY29uZmlnKSB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignZXJyb3Igd2hpbGUgaW5pdGlhbGl6aW5nIERlbXV4ZXJXb3JrZXIsIGZhbGxiYWNrIG9uIERlbXV4ZXJJbmxpbmUnKTtcbiAgICAgICAgaWYgKHcpIHtcbiAgICAgICAgICAvLyByZXZva2UgdGhlIE9iamVjdCBVUkwgdGhhdCB3YXMgdXNlZCB0byBjcmVhdGUgZGVtdXhlciB3b3JrZXIsIHNvIGFzIG5vdCB0byBsZWFrIGl0XG4gICAgICAgICAgZ2xvYmFsLlVSTC5yZXZva2VPYmplY3RVUkwody5vYmplY3RVUkwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVtdXhlciA9IG5ldyBkZW11eGVyX2lubGluZVtcImFcIiAvKiBkZWZhdWx0ICovXShvYnNlcnZlciwgdHlwZVN1cHBvcnRlZCwgY29uZmlnLCB2ZW5kb3IpO1xuICAgICAgICB0aGlzLncgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVtdXhlciA9IG5ldyBkZW11eGVyX2lubGluZVtcImFcIiAvKiBkZWZhdWx0ICovXShvYnNlcnZlciwgdHlwZVN1cHBvcnRlZCwgY29uZmlnLCB2ZW5kb3IpO1xuICAgIH1cbiAgfVxuXG4gIERlbXV4ZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHZhciB3ID0gdGhpcy53O1xuICAgIGlmICh3KSB7XG4gICAgICB3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9ud21zZyk7XG4gICAgICB3LnRlcm1pbmF0ZSgpO1xuICAgICAgdGhpcy53ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGRlbXV4ZXIgPSB0aGlzLmRlbXV4ZXI7XG4gICAgICBpZiAoZGVtdXhlcikge1xuICAgICAgICBkZW11eGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5kZW11eGVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIG9ic2VydmVyID0gdGhpcy5vYnNlcnZlcjtcbiAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgIG9ic2VydmVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgdGhpcy5vYnNlcnZlciA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIERlbXV4ZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoKGRhdGEsIGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCBmcmFnLCBkdXJhdGlvbiwgYWNjdXJhdGVUaW1lT2Zmc2V0LCBkZWZhdWx0SW5pdFBUUykge1xuICAgIHZhciB3ID0gdGhpcy53O1xuICAgIHZhciB0aW1lT2Zmc2V0ID0gT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKGZyYWcuc3RhcnREVFMpID8gZnJhZy5zdGFydERUUyA6IGZyYWcuc3RhcnQ7XG4gICAgdmFyIGRlY3J5cHRkYXRhID0gZnJhZy5kZWNyeXB0ZGF0YTtcbiAgICB2YXIgbGFzdEZyYWcgPSB0aGlzLmZyYWc7XG4gICAgdmFyIGRpc2NvbnRpbnVpdHkgPSAhKGxhc3RGcmFnICYmIGZyYWcuY2MgPT09IGxhc3RGcmFnLmNjKTtcbiAgICB2YXIgdHJhY2tTd2l0Y2ggPSAhKGxhc3RGcmFnICYmIGZyYWcubGV2ZWwgPT09IGxhc3RGcmFnLmxldmVsKTtcbiAgICB2YXIgbmV4dFNOID0gbGFzdEZyYWcgJiYgZnJhZy5zbiA9PT0gbGFzdEZyYWcuc24gKyAxO1xuICAgIHZhciBjb250aWd1b3VzID0gIXRyYWNrU3dpdGNoICYmIG5leHRTTjtcbiAgICBpZiAoZGlzY29udGludWl0eSkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKHRoaXMuaWQgKyAnOmRpc2NvbnRpbnVpdHkgZGV0ZWN0ZWQnKTtcbiAgICB9XG5cbiAgICBpZiAodHJhY2tTd2l0Y2gpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZyh0aGlzLmlkICsgJzpzd2l0Y2ggZGV0ZWN0ZWQnKTtcbiAgICB9XG5cbiAgICB0aGlzLmZyYWcgPSBmcmFnO1xuICAgIGlmICh3KSB7XG4gICAgICAvLyBwb3N0IGZyYWdtZW50IHBheWxvYWQgYXMgdHJhbnNmZXJhYmxlIG9iamVjdHMgZm9yIEFycmF5QnVmZmVyIChubyBjb3B5KVxuICAgICAgdy5wb3N0TWVzc2FnZSh7IGNtZDogJ2RlbXV4JywgZGF0YTogZGF0YSwgZGVjcnlwdGRhdGE6IGRlY3J5cHRkYXRhLCBpbml0U2VnbWVudDogaW5pdFNlZ21lbnQsIGF1ZGlvQ29kZWM6IGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWM6IHZpZGVvQ29kZWMsIHRpbWVPZmZzZXQ6IHRpbWVPZmZzZXQsIGRpc2NvbnRpbnVpdHk6IGRpc2NvbnRpbnVpdHksIHRyYWNrU3dpdGNoOiB0cmFja1N3aXRjaCwgY29udGlndW91czogY29udGlndW91cywgZHVyYXRpb246IGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQ6IGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFM6IGRlZmF1bHRJbml0UFRTIH0sIGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IFtkYXRhXSA6IFtdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGRlbXV4ZXIgPSB0aGlzLmRlbXV4ZXI7XG4gICAgICBpZiAoZGVtdXhlcikge1xuICAgICAgICBkZW11eGVyLnB1c2goZGF0YSwgZGVjcnlwdGRhdGEsIGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCB0aW1lT2Zmc2V0LCBkaXNjb250aW51aXR5LCB0cmFja1N3aXRjaCwgY29udGlndW91cywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBEZW11eGVyLnByb3RvdHlwZS5vbldvcmtlck1lc3NhZ2UgPSBmdW5jdGlvbiBvbldvcmtlck1lc3NhZ2UoZXYpIHtcbiAgICB2YXIgZGF0YSA9IGV2LmRhdGEsXG4gICAgICAgIGhscyA9IHRoaXMuaGxzO1xuICAgIHN3aXRjaCAoZGF0YS5ldmVudCkge1xuICAgICAgY2FzZSAnaW5pdCc6XG4gICAgICAgIC8vIHJldm9rZSB0aGUgT2JqZWN0IFVSTCB0aGF0IHdhcyB1c2VkIHRvIGNyZWF0ZSBkZW11eGVyIHdvcmtlciwgc28gYXMgbm90IHRvIGxlYWsgaXRcbiAgICAgICAgZ2xvYmFsLlVSTC5yZXZva2VPYmplY3RVUkwodGhpcy53Lm9iamVjdFVSTCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBGUkFHX1BBUlNJTkdfREFUQTogZGF0YTEgYW5kIGRhdGEyIGFyZSB0cmFuc2ZlcmFibGUgb2JqZWN0c1xuICAgICAgY2FzZSBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX0RBVEE6XG4gICAgICAgIGRhdGEuZGF0YS5kYXRhMSA9IG5ldyBVaW50OEFycmF5KGRhdGEuZGF0YTEpO1xuICAgICAgICBpZiAoZGF0YS5kYXRhMikge1xuICAgICAgICAgIGRhdGEuZGF0YS5kYXRhMiA9IG5ldyBVaW50OEFycmF5KGRhdGEuZGF0YTIpO1xuICAgICAgICB9XG5cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGRhdGEuZGF0YSA9IGRhdGEuZGF0YSB8fCB7fTtcbiAgICAgICAgZGF0YS5kYXRhLmZyYWcgPSB0aGlzLmZyYWc7XG4gICAgICAgIGRhdGEuZGF0YS5pZCA9IHRoaXMuaWQ7XG4gICAgICAgIGhscy50cmlnZ2VyKGRhdGEuZXZlbnQsIGRhdGEuZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gRGVtdXhlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZGVtdXhfZGVtdXhlciA9IChkZW11eGVyX0RlbXV4ZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29udHJvbGxlci9sZXZlbC1oZWxwZXIuanNcblxuLyoqXG4gKiBAbW9kdWxlIExldmVsSGVscGVyXG4gKlxuICogUHJvdmlkaW5nIG1ldGhvZHMgZGVhbGluZyB3aXRoIHBsYXlsaXN0IHNsaWRpbmcgYW5kIGRyaWZ0XG4gKlxuICogVE9ETzogQ3JlYXRlIGFuIGFjdHVhbCBgTGV2ZWxgIGNsYXNzL21vZGVsIHRoYXQgZGVhbHMgd2l0aCBhbGwgdGhpcyBsb2dpYyBpbiBhbiBvYmplY3Qtb3JpZW50ZWQtbWFubmVyLlxuICpcbiAqICovXG5cblxuXG5mdW5jdGlvbiBhZGRHcm91cElkKGxldmVsLCB0eXBlLCBpZCkge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdhdWRpbyc6XG4gICAgICBpZiAoIWxldmVsLmF1ZGlvR3JvdXBJZHMpIHtcbiAgICAgICAgbGV2ZWwuYXVkaW9Hcm91cElkcyA9IFtdO1xuICAgICAgfVxuICAgICAgbGV2ZWwuYXVkaW9Hcm91cElkcy5wdXNoKGlkKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RleHQnOlxuICAgICAgaWYgKCFsZXZlbC50ZXh0R3JvdXBJZHMpIHtcbiAgICAgICAgbGV2ZWwudGV4dEdyb3VwSWRzID0gW107XG4gICAgICB9XG4gICAgICBsZXZlbC50ZXh0R3JvdXBJZHMucHVzaChpZCk7XG4gICAgICBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVQVFMoZnJhZ21lbnRzLCBmcm9tSWR4LCB0b0lkeCkge1xuICB2YXIgZnJhZ0Zyb20gPSBmcmFnbWVudHNbZnJvbUlkeF0sXG4gICAgICBmcmFnVG8gPSBmcmFnbWVudHNbdG9JZHhdLFxuICAgICAgZnJhZ1RvUFRTID0gZnJhZ1RvLnN0YXJ0UFRTO1xuICAvLyBpZiB3ZSBrbm93IHN0YXJ0UFRTW3RvSWR4XVxuICBpZiAoT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKGZyYWdUb1BUUykpIHtcbiAgICAvLyB1cGRhdGUgZnJhZ21lbnQgZHVyYXRpb24uXG4gICAgLy8gaXQgaGVscHMgdG8gZml4IGRyaWZ0cyBiZXR3ZWVuIHBsYXlsaXN0IHJlcG9ydGVkIGR1cmF0aW9uIGFuZCBmcmFnbWVudCByZWFsIGR1cmF0aW9uXG4gICAgaWYgKHRvSWR4ID4gZnJvbUlkeCkge1xuICAgICAgZnJhZ0Zyb20uZHVyYXRpb24gPSBmcmFnVG9QVFMgLSBmcmFnRnJvbS5zdGFydDtcbiAgICAgIGlmIChmcmFnRnJvbS5kdXJhdGlvbiA8IDApIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignbmVnYXRpdmUgZHVyYXRpb24gY29tcHV0ZWQgZm9yIGZyYWcgJyArIGZyYWdGcm9tLnNuICsgJyxsZXZlbCAnICsgZnJhZ0Zyb20ubGV2ZWwgKyAnLCB0aGVyZSBzaG91bGQgYmUgc29tZSBkdXJhdGlvbiBkcmlmdCBiZXR3ZWVuIHBsYXlsaXN0IGFuZCBmcmFnbWVudCEnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZnJhZ1RvLmR1cmF0aW9uID0gZnJhZ0Zyb20uc3RhcnQgLSBmcmFnVG9QVFM7XG4gICAgICBpZiAoZnJhZ1RvLmR1cmF0aW9uIDwgMCkge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCduZWdhdGl2ZSBkdXJhdGlvbiBjb21wdXRlZCBmb3IgZnJhZyAnICsgZnJhZ1RvLnNuICsgJyxsZXZlbCAnICsgZnJhZ1RvLmxldmVsICsgJywgdGhlcmUgc2hvdWxkIGJlIHNvbWUgZHVyYXRpb24gZHJpZnQgYmV0d2VlbiBwbGF5bGlzdCBhbmQgZnJhZ21lbnQhJyk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIHdlIGRvbnQga25vdyBzdGFydFBUU1t0b0lkeF1cbiAgICBpZiAodG9JZHggPiBmcm9tSWR4KSB7XG4gICAgICBmcmFnVG8uc3RhcnQgPSBmcmFnRnJvbS5zdGFydCArIGZyYWdGcm9tLmR1cmF0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFnVG8uc3RhcnQgPSBNYXRoLm1heChmcmFnRnJvbS5zdGFydCAtIGZyYWdUby5kdXJhdGlvbiwgMCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUZyYWdQVFNEVFMoZGV0YWlscywgZnJhZywgc3RhcnRQVFMsIGVuZFBUUywgc3RhcnREVFMsIGVuZERUUykge1xuICAvLyB1cGRhdGUgZnJhZyBQVFMvRFRTXG4gIHZhciBtYXhTdGFydFBUUyA9IHN0YXJ0UFRTO1xuICBpZiAoT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKGZyYWcuc3RhcnRQVFMpKSB7XG4gICAgLy8gZGVsdGEgUFRTIGJldHdlZW4gYXVkaW8gYW5kIHZpZGVvXG4gICAgdmFyIGRlbHRhUFRTID0gTWF0aC5hYnMoZnJhZy5zdGFydFBUUyAtIHN0YXJ0UFRTKTtcbiAgICBpZiAoIU9iamVjdChudW1iZXJfaXNGaW5pdGVbXCJhXCIgLyogaXNGaW5pdGVOdW1iZXIgKi9dKShmcmFnLmRlbHRhUFRTKSkge1xuICAgICAgZnJhZy5kZWx0YVBUUyA9IGRlbHRhUFRTO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFnLmRlbHRhUFRTID0gTWF0aC5tYXgoZGVsdGFQVFMsIGZyYWcuZGVsdGFQVFMpO1xuICAgIH1cblxuICAgIG1heFN0YXJ0UFRTID0gTWF0aC5tYXgoc3RhcnRQVFMsIGZyYWcuc3RhcnRQVFMpO1xuICAgIHN0YXJ0UFRTID0gTWF0aC5taW4oc3RhcnRQVFMsIGZyYWcuc3RhcnRQVFMpO1xuICAgIGVuZFBUUyA9IE1hdGgubWF4KGVuZFBUUywgZnJhZy5lbmRQVFMpO1xuICAgIHN0YXJ0RFRTID0gTWF0aC5taW4oc3RhcnREVFMsIGZyYWcuc3RhcnREVFMpO1xuICAgIGVuZERUUyA9IE1hdGgubWF4KGVuZERUUywgZnJhZy5lbmREVFMpO1xuICB9XG5cbiAgdmFyIGRyaWZ0ID0gc3RhcnRQVFMgLSBmcmFnLnN0YXJ0O1xuICBmcmFnLnN0YXJ0ID0gZnJhZy5zdGFydFBUUyA9IHN0YXJ0UFRTO1xuICBmcmFnLm1heFN0YXJ0UFRTID0gbWF4U3RhcnRQVFM7XG4gIGZyYWcuZW5kUFRTID0gZW5kUFRTO1xuICBmcmFnLnN0YXJ0RFRTID0gc3RhcnREVFM7XG4gIGZyYWcuZW5kRFRTID0gZW5kRFRTO1xuICBmcmFnLmR1cmF0aW9uID0gZW5kUFRTIC0gc3RhcnRQVFM7XG5cbiAgdmFyIHNuID0gZnJhZy5zbjtcbiAgLy8gZXhpdCBpZiBzbiBvdXQgb2YgcmFuZ2VcbiAgaWYgKCFkZXRhaWxzIHx8IHNuIDwgZGV0YWlscy5zdGFydFNOIHx8IHNuID4gZGV0YWlscy5lbmRTTikge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgdmFyIGZyYWdJZHggPSB2b2lkIDAsXG4gICAgICBmcmFnbWVudHMgPSB2b2lkIDAsXG4gICAgICBpID0gdm9pZCAwO1xuICBmcmFnSWR4ID0gc24gLSBkZXRhaWxzLnN0YXJ0U047XG4gIGZyYWdtZW50cyA9IGRldGFpbHMuZnJhZ21lbnRzO1xuICAvLyB1cGRhdGUgZnJhZyByZWZlcmVuY2UgaW4gZnJhZ21lbnRzIGFycmF5XG4gIC8vIHJhdGlvbmFsZSBpcyB0aGF0IGZyYWdtZW50cyBhcnJheSBtaWdodCBub3QgY29udGFpbiB0aGlzIGZyYWcgb2JqZWN0LlxuICAvLyB0aGlzIHdpbGwgaGFwcGVuIGlmIHBsYXlsaXN0IGhhcyBiZWVuIHJlZnJlc2hlZCBiZXR3ZWVuIGZyYWcgbG9hZGluZyBhbmQgY2FsbCB0byB1cGRhdGVGcmFnUFRTRFRTKClcbiAgLy8gaWYgd2UgZG9uJ3QgdXBkYXRlIGZyYWcsIHdlIHdvbid0IGJlIGFibGUgdG8gcHJvcGFnYXRlIFBUUyBpbmZvIG9uIHRoZSBwbGF5bGlzdFxuICAvLyByZXN1bHRpbmcgaW4gaW52YWxpZCBzbGlkaW5nIGNvbXB1dGF0aW9uXG4gIGZyYWdtZW50c1tmcmFnSWR4XSA9IGZyYWc7XG4gIC8vIGFkanVzdCBmcmFnbWVudCBQVFMvZHVyYXRpb24gZnJvbSBzZXFudW0tMSB0byBmcmFnIDBcbiAgZm9yIChpID0gZnJhZ0lkeDsgaSA+IDA7IGktLSkge1xuICAgIHVwZGF0ZVBUUyhmcmFnbWVudHMsIGksIGkgLSAxKTtcbiAgfVxuXG4gIC8vIGFkanVzdCBmcmFnbWVudCBQVFMvZHVyYXRpb24gZnJvbSBzZXFudW0gdG8gbGFzdCBmcmFnXG4gIGZvciAoaSA9IGZyYWdJZHg7IGkgPCBmcmFnbWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgdXBkYXRlUFRTKGZyYWdtZW50cywgaSwgaSArIDEpO1xuICB9XG5cbiAgZGV0YWlscy5QVFNLbm93biA9IHRydWU7XG4gIHJldHVybiBkcmlmdDtcbn1cblxuZnVuY3Rpb24gbWVyZ2VEZXRhaWxzKG9sZERldGFpbHMsIG5ld0RldGFpbHMpIHtcbiAgdmFyIHN0YXJ0ID0gTWF0aC5tYXgob2xkRGV0YWlscy5zdGFydFNOLCBuZXdEZXRhaWxzLnN0YXJ0U04pIC0gbmV3RGV0YWlscy5zdGFydFNOLFxuICAgICAgZW5kID0gTWF0aC5taW4ob2xkRGV0YWlscy5lbmRTTiwgbmV3RGV0YWlscy5lbmRTTikgLSBuZXdEZXRhaWxzLnN0YXJ0U04sXG4gICAgICBkZWx0YSA9IG5ld0RldGFpbHMuc3RhcnRTTiAtIG9sZERldGFpbHMuc3RhcnRTTixcbiAgICAgIG9sZGZyYWdtZW50cyA9IG9sZERldGFpbHMuZnJhZ21lbnRzLFxuICAgICAgbmV3ZnJhZ21lbnRzID0gbmV3RGV0YWlscy5mcmFnbWVudHMsXG4gICAgICBjY09mZnNldCA9IDAsXG4gICAgICBQVFNGcmFnID0gdm9pZCAwO1xuXG4gIC8vIHBvdGVudGlhbGx5IHJldHJpZXZlIGNhY2hlZCBpbml0c2VnbWVudFxuICBpZiAobmV3RGV0YWlscy5pbml0U2VnbWVudCAmJiBvbGREZXRhaWxzLmluaXRTZWdtZW50KSB7XG4gICAgbmV3RGV0YWlscy5pbml0U2VnbWVudCA9IG9sZERldGFpbHMuaW5pdFNlZ21lbnQ7XG4gIH1cblxuICAvLyBjaGVjayBpZiBvbGQvbmV3IHBsYXlsaXN0cyBoYXZlIGZyYWdtZW50cyBpbiBjb21tb25cbiAgaWYgKGVuZCA8IHN0YXJ0KSB7XG4gICAgbmV3RGV0YWlscy5QVFNLbm93biA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBsb29wIHRocm91Z2ggb3ZlcmxhcHBpbmcgU04gYW5kIHVwZGF0ZSBzdGFydFBUUyAsIGNjLCBhbmQgZHVyYXRpb24gaWYgYW55IGZvdW5kXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykge1xuICAgIHZhciBvbGRGcmFnID0gb2xkZnJhZ21lbnRzW2RlbHRhICsgaV0sXG4gICAgICAgIG5ld0ZyYWcgPSBuZXdmcmFnbWVudHNbaV07XG4gICAgaWYgKG5ld0ZyYWcgJiYgb2xkRnJhZykge1xuICAgICAgY2NPZmZzZXQgPSBvbGRGcmFnLmNjIC0gbmV3RnJhZy5jYztcbiAgICAgIGlmIChPYmplY3QobnVtYmVyX2lzRmluaXRlW1wiYVwiIC8qIGlzRmluaXRlTnVtYmVyICovXSkob2xkRnJhZy5zdGFydFBUUykpIHtcbiAgICAgICAgbmV3RnJhZy5zdGFydCA9IG5ld0ZyYWcuc3RhcnRQVFMgPSBvbGRGcmFnLnN0YXJ0UFRTO1xuICAgICAgICBuZXdGcmFnLmVuZFBUUyA9IG9sZEZyYWcuZW5kUFRTO1xuICAgICAgICBuZXdGcmFnLmR1cmF0aW9uID0gb2xkRnJhZy5kdXJhdGlvbjtcbiAgICAgICAgbmV3RnJhZy5iYWNrdHJhY2tlZCA9IG9sZEZyYWcuYmFja3RyYWNrZWQ7XG4gICAgICAgIG5ld0ZyYWcuZHJvcHBlZCA9IG9sZEZyYWcuZHJvcHBlZDtcbiAgICAgICAgUFRTRnJhZyA9IG5ld0ZyYWc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGNjT2Zmc2V0KSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdkaXNjb250aW51aXR5IHNsaWRpbmcgZnJvbSBwbGF5bGlzdCwgdGFrZSBkcmlmdCBpbnRvIGFjY291bnQnKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbmV3ZnJhZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBuZXdmcmFnbWVudHNbaV0uY2MgKz0gY2NPZmZzZXQ7XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgYXQgbGVhc3Qgb25lIGZyYWdtZW50IGNvbnRhaW5zIFBUUyBpbmZvLCByZWNvbXB1dGUgUFRTIGluZm9ybWF0aW9uIGZvciBhbGwgZnJhZ21lbnRzXG4gIGlmIChQVFNGcmFnKSB7XG4gICAgdXBkYXRlRnJhZ1BUU0RUUyhuZXdEZXRhaWxzLCBQVFNGcmFnLCBQVFNGcmFnLnN0YXJ0UFRTLCBQVFNGcmFnLmVuZFBUUywgUFRTRnJhZy5zdGFydERUUywgUFRTRnJhZy5lbmREVFMpO1xuICB9IGVsc2Uge1xuICAgIC8vIGVuc3VyZSB0aGF0IGRlbHRhIGlzIHdpdGhpbiBvbGRmcmFnbWVudHMgcmFuZ2VcbiAgICAvLyBhbHNvIGFkanVzdCBzbGlkaW5nIGluIGNhc2UgZGVsdGEgaXMgMCAod2UgY291bGQgaGF2ZSBvbGQ9WzUwLTYwXSBhbmQgbmV3PW9sZD1bNTAtNjFdKVxuICAgIC8vIGluIHRoYXQgY2FzZSB3ZSBhbHNvIG5lZWQgdG8gYWRqdXN0IHN0YXJ0IG9mZnNldCBvZiBhbGwgZnJhZ21lbnRzXG4gICAgaWYgKGRlbHRhID49IDAgJiYgZGVsdGEgPCBvbGRmcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBhZGp1c3Qgc3RhcnQgYnkgc2xpZGluZyBvZmZzZXRcbiAgICAgIHZhciBzbGlkaW5nID0gb2xkZnJhZ21lbnRzW2RlbHRhXS5zdGFydDtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBuZXdmcmFnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbmV3ZnJhZ21lbnRzW2ldLnN0YXJ0ICs9IHNsaWRpbmc7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIGlmIHdlIGFyZSBoZXJlLCBpdCBtZWFucyB3ZSBoYXZlIGZyYWdtZW50cyBvdmVybGFwcGluZyBiZXR3ZWVuXG4gIC8vIG9sZCBhbmQgbmV3IGxldmVsLiByZWxpYWJsZSBQVFMgaW5mbyBpcyB0aHVzIHJlbHlpbmcgb24gb2xkIGxldmVsXG4gIG5ld0RldGFpbHMuUFRTS25vd24gPSBvbGREZXRhaWxzLlBUU0tub3duO1xufVxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvdGltZS1yYW5nZXMuanNcbi8qKlxuICogIFRpbWVSYW5nZXMgdG8gc3RyaW5nIGhlbHBlclxuICovXG5cbnZhciBUaW1lUmFuZ2VzID0ge1xuICB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcocikge1xuICAgIHZhciBsb2cgPSAnJyxcbiAgICAgICAgbGVuID0gci5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgbG9nICs9ICdbJyArIHIuc3RhcnQoaSkudG9GaXhlZCgzKSArICcsJyArIHIuZW5kKGkpLnRvRml4ZWQoMykgKyAnXSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvZztcbiAgfVxufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgdGltZV9yYW5nZXMgPSAoVGltZVJhbmdlcyk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy91dGlscy9kaXNjb250aW51aXRpZXMuanNcblxuXG5cblxuZnVuY3Rpb24gZmluZEZpcnN0RnJhZ1dpdGhDQyhmcmFnbWVudHMsIGNjKSB7XG4gIHZhciBmaXJzdEZyYWcgPSBudWxsO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhZ21lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIGN1cnJlbnRGcmFnID0gZnJhZ21lbnRzW2ldO1xuICAgIGlmIChjdXJyZW50RnJhZyAmJiBjdXJyZW50RnJhZy5jYyA9PT0gY2MpIHtcbiAgICAgIGZpcnN0RnJhZyA9IGN1cnJlbnRGcmFnO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZpcnN0RnJhZztcbn1cblxuZnVuY3Rpb24gZmluZEZyYWdXaXRoQ0MoZnJhZ21lbnRzLCBDQykge1xuICByZXR1cm4gYmluYXJ5X3NlYXJjaC5zZWFyY2goZnJhZ21lbnRzLCBmdW5jdGlvbiAoY2FuZGlkYXRlKSB7XG4gICAgaWYgKGNhbmRpZGF0ZS5jYyA8IENDKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGNhbmRpZGF0ZS5jYyA+IENDKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZEFsaWduT25EaXNjb250aW51aXRpZXMobGFzdEZyYWcsIGxhc3RMZXZlbCwgZGV0YWlscykge1xuICB2YXIgc2hvdWxkQWxpZ24gPSBmYWxzZTtcbiAgaWYgKGxhc3RMZXZlbCAmJiBsYXN0TGV2ZWwuZGV0YWlscyAmJiBkZXRhaWxzKSB7XG4gICAgaWYgKGRldGFpbHMuZW5kQ0MgPiBkZXRhaWxzLnN0YXJ0Q0MgfHwgbGFzdEZyYWcgJiYgbGFzdEZyYWcuY2MgPCBkZXRhaWxzLnN0YXJ0Q0MpIHtcbiAgICAgIHNob3VsZEFsaWduID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNob3VsZEFsaWduO1xufVxuXG4vLyBGaW5kIHRoZSBmaXJzdCBmcmFnIGluIHRoZSBwcmV2aW91cyBsZXZlbCB3aGljaCBtYXRjaGVzIHRoZSBDQyBvZiB0aGUgZmlyc3QgZnJhZyBvZiB0aGUgbmV3IGxldmVsXG5mdW5jdGlvbiBmaW5kRGlzY29udGludW91c1JlZmVyZW5jZUZyYWcocHJldkRldGFpbHMsIGN1ckRldGFpbHMpIHtcbiAgdmFyIHByZXZGcmFncyA9IHByZXZEZXRhaWxzLmZyYWdtZW50cztcbiAgdmFyIGN1ckZyYWdzID0gY3VyRGV0YWlscy5mcmFnbWVudHM7XG5cbiAgaWYgKCFjdXJGcmFncy5sZW5ndGggfHwgIXByZXZGcmFncy5sZW5ndGgpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ05vIGZyYWdtZW50cyB0byBhbGlnbicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwcmV2U3RhcnRGcmFnID0gZmluZEZpcnN0RnJhZ1dpdGhDQyhwcmV2RnJhZ3MsIGN1ckZyYWdzWzBdLmNjKTtcblxuICBpZiAoIXByZXZTdGFydEZyYWcgfHwgcHJldlN0YXJ0RnJhZyAmJiAhcHJldlN0YXJ0RnJhZy5zdGFydFBUUykge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTm8gZnJhZyBpbiBwcmV2aW91cyBsZXZlbCB0byBhbGlnbiBvbicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBwcmV2U3RhcnRGcmFnO1xufVxuXG5mdW5jdGlvbiBhZGp1c3RQdHMoc2xpZGluZywgZGV0YWlscykge1xuICBkZXRhaWxzLmZyYWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgaWYgKGZyYWcpIHtcbiAgICAgIHZhciBzdGFydCA9IGZyYWcuc3RhcnQgKyBzbGlkaW5nO1xuICAgICAgZnJhZy5zdGFydCA9IGZyYWcuc3RhcnRQVFMgPSBzdGFydDtcbiAgICAgIGZyYWcuZW5kUFRTID0gc3RhcnQgKyBmcmFnLmR1cmF0aW9uO1xuICAgIH1cbiAgfSk7XG4gIGRldGFpbHMuUFRTS25vd24gPSB0cnVlO1xufVxuXG4vKipcbiAqIFVzaW5nIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBsYXN0IGxldmVsLCB0aGlzIGZ1bmN0aW9uIGNvbXB1dGVzIFBUUycgb2YgdGhlIG5ldyBmcmFnbWVudHMgc28gdGhhdCB0aGV5IGZvcm0gYVxuICogY29udGlndW91cyBzdHJlYW0gd2l0aCB0aGUgbGFzdCBmcmFnbWVudHMuXG4gKiBUaGUgUFRTIG9mIGEgZnJhZ21lbnQgbGV0cyBIbHMuanMga25vdyB3aGVyZSBpdCBmaXRzIGludG8gYSBzdHJlYW0gLSBieSBrbm93aW5nIGV2ZXJ5IFBUUywgd2Uga25vdyB3aGljaCBmcmFnbWVudCB0b1xuICogZG93bmxvYWQgYXQgYW55IGdpdmVuIHRpbWUuIFBUUyBpcyBub3JtYWxseSBjb21wdXRlZCB3aGVuIHRoZSBmcmFnbWVudCBpcyBkZW11eGVkLCBzbyB0YWtpbmcgdGhpcyBzdGVwIHNhdmVzIHVzIHRpbWVcbiAqIGFuZCBhbiBleHRyYSBkb3dubG9hZC5cbiAqIEBwYXJhbSBsYXN0RnJhZ1xuICogQHBhcmFtIGxhc3RMZXZlbFxuICogQHBhcmFtIGRldGFpbHNcbiAqL1xuZnVuY3Rpb24gYWxpZ25TdHJlYW0obGFzdEZyYWcsIGxhc3RMZXZlbCwgZGV0YWlscykge1xuICBhbGlnbkRpc2NvbnRpbnVpdGllcyhsYXN0RnJhZywgZGV0YWlscywgbGFzdExldmVsKTtcbiAgaWYgKCFkZXRhaWxzLlBUU0tub3duICYmIGxhc3RMZXZlbCkge1xuICAgIC8vIElmIHRoZSBQVFMgd2Fzbid0IGZpZ3VyZWQgb3V0IHZpYSBkaXNjb250aW51aXR5IHNlcXVlbmNlIHRoYXQgbWVhbnMgdGhlcmUgd2FzIG5vIENDIGluY3JlYXNlIHdpdGhpbiB0aGUgbGV2ZWwuXG4gICAgLy8gQWxpZ25pbmcgdmlhIFByb2dyYW0gRGF0ZSBUaW1lIHNob3VsZCB0aGVyZWZvcmUgYmUgcmVsaWFibGUsIHNpbmNlIFBEVCBzaG91bGQgYmUgdGhlIHNhbWUgd2l0aGluIHRoZSBzYW1lXG4gICAgLy8gZGlzY29udGludWl0eSBzZXF1ZW5jZS5cbiAgICBhbGlnblBEVChkZXRhaWxzLCBsYXN0TGV2ZWwuZGV0YWlscyk7XG4gIH1cbn1cblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgUFRTIGlmIGEgbmV3IGxldmVsJ3MgZnJhZ21lbnRzIHVzaW5nIHRoZSBQVFMgb2YgYSBmcmFnbWVudCBpbiB0aGUgbGFzdCBsZXZlbCB3aGljaCBzaGFyZXMgdGhlIHNhbWVcbiAqIGRpc2NvbnRpbnVpdHkgc2VxdWVuY2UuXG4gKiBAcGFyYW0gbGFzdExldmVsIC0gVGhlIGRldGFpbHMgb2YgdGhlIGxhc3QgbG9hZGVkIGxldmVsXG4gKiBAcGFyYW0gZGV0YWlscyAtIFRoZSBkZXRhaWxzIG9mIHRoZSBuZXcgbGV2ZWxcbiAqL1xuZnVuY3Rpb24gYWxpZ25EaXNjb250aW51aXRpZXMobGFzdEZyYWcsIGRldGFpbHMsIGxhc3RMZXZlbCkge1xuICBpZiAoc2hvdWxkQWxpZ25PbkRpc2NvbnRpbnVpdGllcyhsYXN0RnJhZywgbGFzdExldmVsLCBkZXRhaWxzKSkge1xuICAgIHZhciByZWZlcmVuY2VGcmFnID0gZmluZERpc2NvbnRpbnVvdXNSZWZlcmVuY2VGcmFnKGxhc3RMZXZlbC5kZXRhaWxzLCBkZXRhaWxzKTtcbiAgICBpZiAocmVmZXJlbmNlRnJhZykge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdBZGp1c3RpbmcgUFRTIHVzaW5nIGxhc3QgbGV2ZWwgZHVlIHRvIENDIGluY3JlYXNlIHdpdGhpbiBjdXJyZW50IGxldmVsJyk7XG4gICAgICBhZGp1c3RQdHMocmVmZXJlbmNlRnJhZy5zdGFydCwgZGV0YWlscyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIFBUUyBvZiBhIG5ldyBsZXZlbCdzIGZyYWdtZW50cyB1c2luZyB0aGUgZGlmZmVyZW5jZSBpbiBQcm9ncmFtIERhdGUgVGltZSBmcm9tIHRoZSBsYXN0IGxldmVsLlxuICogQHBhcmFtIGRldGFpbHMgLSBUaGUgZGV0YWlscyBvZiB0aGUgbmV3IGxldmVsXG4gKiBAcGFyYW0gbGFzdERldGFpbHMgLSBUaGUgZGV0YWlscyBvZiB0aGUgbGFzdCBsb2FkZWQgbGV2ZWxcbiAqL1xuZnVuY3Rpb24gYWxpZ25QRFQoZGV0YWlscywgbGFzdERldGFpbHMpIHtcbiAgaWYgKGxhc3REZXRhaWxzICYmIGxhc3REZXRhaWxzLmZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICBpZiAoIWRldGFpbHMuaGFzUHJvZ3JhbURhdGVUaW1lIHx8ICFsYXN0RGV0YWlscy5oYXNQcm9ncmFtRGF0ZVRpbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gaWYgbGFzdCBsZXZlbCBzbGlkaW5nIGlzIDEwMDAgYW5kIGl0cyBmaXJzdCBmcmFnIFBST0dSQU0tREFURS1USU1FIGlzIDIwMTctMDgtMjAgMToxMDowMCBBTVxuICAgIC8vIGFuZCBpZiBuZXcgZGV0YWlscyBmaXJzdCBmcmFnIFBST0dSQU0gREFURS1USU1FIGlzIDIwMTctMDgtMjAgMToxMDowOCBBTVxuICAgIC8vIHRoZW4gd2UgY2FuIGRlZHVjZSB0aGF0IHBsYXlsaXN0IEIgc2xpZGluZyBpcyAxMDAwKzggPSAxMDA4c1xuICAgIHZhciBsYXN0UERUID0gbGFzdERldGFpbHMuZnJhZ21lbnRzWzBdLnByb2dyYW1EYXRlVGltZTtcbiAgICB2YXIgbmV3UERUID0gZGV0YWlscy5mcmFnbWVudHNbMF0ucHJvZ3JhbURhdGVUaW1lO1xuICAgIC8vIGRhdGUgZGlmZiBpcyBpbiBtcy4gZnJhZy5zdGFydCBpcyBpbiBzZWNvbmRzXG4gICAgdmFyIHNsaWRpbmcgPSAobmV3UERUIC0gbGFzdFBEVCkgLyAxMDAwICsgbGFzdERldGFpbHMuZnJhZ21lbnRzWzBdLnN0YXJ0O1xuICAgIGlmIChPYmplY3QobnVtYmVyX2lzRmluaXRlW1wiYVwiIC8qIGlzRmluaXRlTnVtYmVyICovXSkoc2xpZGluZykpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYWRqdXN0aW5nIFBUUyB1c2luZyBwcm9ncmFtRGF0ZVRpbWUgZGVsdGEsIHNsaWRpbmc6JyArIHNsaWRpbmcudG9GaXhlZCgzKSk7XG4gICAgICBhZGp1c3RQdHMoc2xpZGluZywgZGV0YWlscyk7XG4gICAgfVxuICB9XG59XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy90YXNrLWxvb3AuanNcbmZ1bmN0aW9uIHRhc2tfbG9vcF9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiB0YXNrX2xvb3BfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIHRhc2tfbG9vcF9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuXG5cbi8qKlxuICogU3ViLWNsYXNzIHNwZWNpYWxpemF0aW9uIG9mIEV2ZW50SGFuZGxlciBiYXNlIGNsYXNzLlxuICpcbiAqIFRhc2tMb29wIGFsbG93cyB0byBzY2hlZHVsZSBhIHRhc2sgZnVuY3Rpb24gYmVpbmcgY2FsbGVkIChvcHRpb25uYWx5IHJlcGVhdGVkbHkpIG9uIHRoZSBtYWluIGxvb3AsXG4gKiBzY2hlZHVsZWQgYXN5bmNocm9uZW91c2x5LCBhdm9pZGluZyByZWN1cnNpdmUgY2FsbHMgaW4gdGhlIHNhbWUgdGljay5cbiAqXG4gKiBUaGUgdGFzayBpdHNlbGYgaXMgaW1wbGVtZW50ZWQgaW4gYGRvVGlja2AuIEl0IGNhbiBiZSByZXF1ZXN0ZWQgYW5kIGNhbGxlZCBmb3Igc2luZ2xlIGV4ZWN1dGlvblxuICogdXNpbmcgdGhlIGB0aWNrYCBtZXRob2QuXG4gKlxuICogSXQgd2lsbCBiZSBhc3N1cmVkIHRoYXQgdGhlIHRhc2sgZXhlY3V0aW9uIG1ldGhvZCAoYHRpY2tgKSBvbmx5IGdldHMgY2FsbGVkIG9uY2UgcGVyIG1haW4gbG9vcCBcInRpY2tcIixcbiAqIG5vIG1hdHRlciBob3cgb2Z0ZW4gaXQgZ2V0cyByZXF1ZXN0ZWQgZm9yIGV4ZWN1dGlvbi4gRXhlY3V0aW9uIGluIGZ1cnRoZXIgdGlja3Mgd2lsbCBiZSBzY2hlZHVsZWQgYWNjb3JkaW5nbHkuXG4gKlxuICogSWYgZnVydGhlciBleGVjdXRpb24gcmVxdWVzdHMgaGF2ZSBhbHJlYWR5IGJlZW4gc2NoZWR1bGVkIG9uIHRoZSBuZXh0IHRpY2ssIGl0IGNhbiBiZSBjaGVja2VkIHdpdGggYGhhc05leHRUaWNrYCxcbiAqIGFuZCBjYW5jZWxsZWQgd2l0aCBgY2xlYXJOZXh0VGlja2AuXG4gKlxuICogVGhlIHRhc2sgY2FuIGJlIHNjaGVkdWxlZCBhcyBhbiBpbnRlcnZhbCByZXBlYXRlZGx5IHdpdGggYSBwZXJpb2QgYXMgcGFyYW1ldGVyIChzZWUgYHNldEludGVydmFsYCwgYGNsZWFySW50ZXJ2YWxgKS5cbiAqXG4gKiBTdWItY2xhc3NlcyBuZWVkIHRvIGltcGxlbWVudCB0aGUgYGRvVGlja2AgbWV0aG9kIHdoaWNoIHdpbGwgZWZmZWN0aXZlbHkgaGF2ZSB0aGUgdGFzayBleGVjdXRpb24gcm91dGluZS5cbiAqXG4gKiBGdXJ0aGVyIGV4cGxhbmF0aW9uczpcbiAqXG4gKiBUaGUgYmFzZWNsYXNzIGhhcyBhIGB0aWNrYCBtZXRob2QgdGhhdCB3aWxsIHNjaGVkdWxlIHRoZSBkb1RpY2sgY2FsbC4gSXQgbWF5IGJlIGNhbGxlZCBzeW5jaHJvbmVvdXNseVxuICogb25seSBmb3IgYSBzdGFjay1kZXB0aCBvZiBvbmUuIE9uIHJlLWVudHJhbnQgY2FsbHMsIHN1Yi1zZXF1ZW50IGNhbGxzIGFyZSBzY2hlZHVsZWQgZm9yIG5leHQgbWFpbiBsb29wIHRpY2tzLlxuICpcbiAqIFdoZW4gdGhlIHRhc2sgZXhlY3V0aW9uIChgdGlja2AgbWV0aG9kKSBpcyBjYWxsZWQgaW4gcmUtZW50cmFudCB3YXkgdGhpcyBpcyBkZXRlY3RlZCBhbmRcbiAqIHdlIGFyZSBsaW1pdGluZyB0aGUgdGFzayBleGVjdXRpb24gcGVyIGNhbGwgc3RhY2sgdG8gZXhhY3RseSBvbmUsIGJ1dCBzY2hlZHVsaW5nL3Bvc3QtcG9uaW5nIGZ1cnRoZXJcbiAqIHRhc2sgcHJvY2Vzc2luZyBvbiB0aGUgbmV4dCBtYWluIGxvb3AgaXRlcmF0aW9uIChhbHNvIGtub3duIGFzIFwibmV4dCB0aWNrXCIgaW4gdGhlIE5vZGUvSlMgcnVudGltZSBsaW5nbykuXG4gKi9cblxudmFyIFRhc2tMb29wID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgdGFza19sb29wX19pbmhlcml0cyhUYXNrTG9vcCwgX0V2ZW50SGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gVGFza0xvb3AoaGxzKSB7XG4gICAgdGFza19sb29wX19jbGFzc0NhbGxDaGVjayh0aGlzLCBUYXNrTG9vcCk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZXZlbnRzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgZXZlbnRzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgX3RoaXMgPSB0YXNrX2xvb3BfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50SGFuZGxlci5jYWxsLmFwcGx5KF9FdmVudEhhbmRsZXIsIFt0aGlzLCBobHNdLmNvbmNhdChldmVudHMpKSk7XG5cbiAgICBfdGhpcy5fdGlja0ludGVydmFsID0gbnVsbDtcbiAgICBfdGhpcy5fdGlja1RpbWVyID0gbnVsbDtcbiAgICBfdGhpcy5fdGlja0NhbGxDb3VudCA9IDA7XG4gICAgX3RoaXMuX2JvdW5kVGljayA9IF90aGlzLnRpY2suYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cblxuXG4gIFRhc2tMb29wLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95aW5nID0gZnVuY3Rpb24gb25IYW5kbGVyRGVzdHJveWluZygpIHtcbiAgICAvLyBjbGVhciBhbGwgdGltZXJzIGJlZm9yZSB1bnJlZ2lzdGVyaW5nIGZyb20gZXZlbnQgYnVzXG4gICAgdGhpcy5jbGVhck5leHRUaWNrKCk7XG4gICAgdGhpcy5jbGVhckludGVydmFsKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cblxuXG4gIFRhc2tMb29wLnByb3RvdHlwZS5oYXNJbnRlcnZhbCA9IGZ1bmN0aW9uIGhhc0ludGVydmFsKCkge1xuICAgIHJldHVybiAhIXRoaXMuX3RpY2tJbnRlcnZhbDtcbiAgfTtcblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgVGFza0xvb3AucHJvdG90eXBlLmhhc05leHRUaWNrID0gZnVuY3Rpb24gaGFzTmV4dFRpY2soKSB7XG4gICAgcmV0dXJuICEhdGhpcy5fdGlja1RpbWVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWlsbGlzIEludGVydmFsIHRpbWUgKG1zKVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSB3aGVuIGludGVydmFsIGhhcyBiZWVuIHNjaGVkdWxlZCwgZmFsc2Ugd2hlbiBhbHJlYWR5IHNjaGVkdWxlZCAobm8gZWZmZWN0KVxuICAgKi9cblxuXG4gIFRhc2tMb29wLnByb3RvdHlwZS5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uIChfc2V0SW50ZXJ2YWwpIHtcbiAgICBmdW5jdGlvbiBzZXRJbnRlcnZhbChfeCkge1xuICAgICAgcmV0dXJuIF9zZXRJbnRlcnZhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIHNldEludGVydmFsLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF9zZXRJbnRlcnZhbC50b1N0cmluZygpO1xuICAgIH07XG5cbiAgICByZXR1cm4gc2V0SW50ZXJ2YWw7XG4gIH0oZnVuY3Rpb24gKG1pbGxpcykge1xuICAgIGlmICghdGhpcy5fdGlja0ludGVydmFsKSB7XG4gICAgICB0aGlzLl90aWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLl9ib3VuZFRpY2ssIG1pbGxpcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgd2hlbiBpbnRlcnZhbCB3YXMgY2xlYXJlZCwgZmFsc2Ugd2hlbiBub25lIHdhcyBzZXQgKG5vIGVmZmVjdClcbiAgICovXG5cblxuICBUYXNrTG9vcC5wcm90b3R5cGUuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uIChfY2xlYXJJbnRlcnZhbCkge1xuICAgIGZ1bmN0aW9uIGNsZWFySW50ZXJ2YWwoKSB7XG4gICAgICByZXR1cm4gX2NsZWFySW50ZXJ2YWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBjbGVhckludGVydmFsLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF9jbGVhckludGVydmFsLnRvU3RyaW5nKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBjbGVhckludGVydmFsO1xuICB9KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5fdGlja0ludGVydmFsKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuX3RpY2tJbnRlcnZhbCk7XG4gICAgICB0aGlzLl90aWNrSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIHdoZW4gdGltZW91dCB3YXMgY2xlYXJlZCwgZmFsc2Ugd2hlbiBub25lIHdhcyBzZXQgKG5vIGVmZmVjdClcbiAgICovXG5cblxuICBUYXNrTG9vcC5wcm90b3R5cGUuY2xlYXJOZXh0VGljayA9IGZ1bmN0aW9uIGNsZWFyTmV4dFRpY2soKSB7XG4gICAgaWYgKHRoaXMuX3RpY2tUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpY2tUaW1lcik7XG4gICAgICB0aGlzLl90aWNrVGltZXIgPSBudWxsO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBjYWxsIHRoZSBzdWJjbGFzcyBkb1RpY2sgaW1wbGVtZW50YXRpb24gaW4gdGhpcyBtYWluIGxvb3AgdGlja1xuICAgKiBvciBpbiB0aGUgbmV4dCBvbmUgKHZpYSBzZXRUaW1lb3V0KCwwKSkgaW4gY2FzZSBpdCBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFxuICAgKiBpbiB0aGlzIHRpY2sgKGluIGNhc2UgdGhpcyBpcyBhIHJlLWVudHJhbnQgY2FsbCkuXG4gICAqL1xuXG5cbiAgVGFza0xvb3AucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiB0aWNrKCkge1xuICAgIHRoaXMuX3RpY2tDYWxsQ291bnQrKztcbiAgICBpZiAodGhpcy5fdGlja0NhbGxDb3VudCA9PT0gMSkge1xuICAgICAgdGhpcy5kb1RpY2soKTtcbiAgICAgIC8vIHJlLWVudHJhbnQgY2FsbCB0byB0aWNrIGZyb20gcHJldmlvdXMgZG9UaWNrIGNhbGwgc3RhY2tcbiAgICAgIC8vIC0+IHNjaGVkdWxlIGEgY2FsbCBvbiB0aGUgbmV4dCBtYWluIGxvb3AgaXRlcmF0aW9uIHRvIHByb2Nlc3MgdGhpcyB0YXNrIHByb2Nlc3NpbmcgcmVxdWVzdFxuICAgICAgaWYgKHRoaXMuX3RpY2tDYWxsQ291bnQgPiAxKSB7XG4gICAgICAgIC8vIG1ha2Ugc3VyZSBvbmx5IG9uZSB0aW1lciBleGlzdHMgYXQgYW55IHRpbWUgYXQgbWF4XG4gICAgICAgIHRoaXMuY2xlYXJOZXh0VGljaygpO1xuICAgICAgICB0aGlzLl90aWNrVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kVGljaywgMCk7XG4gICAgICB9XG4gICAgICB0aGlzLl90aWNrQ2FsbENvdW50ID0gMDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEZvciBzdWJjbGFzcyB0byBpbXBsZW1lbnQgdGFzayBsb2dpY1xuICAgKiBAYWJzdHJhY3RcbiAgICovXG5cblxuICBUYXNrTG9vcC5wcm90b3R5cGUuZG9UaWNrID0gZnVuY3Rpb24gZG9UaWNrKCkge307XG5cbiAgcmV0dXJuIFRhc2tMb29wO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgdGFza19sb29wID0gKFRhc2tMb29wKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvZnJhZ21lbnQtZmluZGVycy5qc1xuXG5cblxuLyoqXG4gKiBSZXR1cm5zIGZpcnN0IGZyYWdtZW50IHdob3NlIGVuZFBkdCB2YWx1ZSBleGNlZWRzIHRoZSBnaXZlbiBQRFQuXG4gKiBAcGFyYW0ge0FycmF5PEZyYWdtZW50Pn0gZnJhZ21lbnRzIC0gVGhlIGFycmF5IG9mIGNhbmRpZGF0ZSBmcmFnbWVudHNcbiAqIEBwYXJhbSB7bnVtYmVyfG51bGx9IFtQRFRWYWx1ZSA9IG51bGxdIC0gVGhlIFBEVCB2YWx1ZSB3aGljaCBtdXN0IGJlIGV4Y2VlZGVkXG4gKiBAcGFyYW0ge251bWJlcn0gW21heEZyYWdMb29rVXBUb2xlcmFuY2UgPSAwXSAtIFRoZSBhbW91bnQgb2YgdGltZSB0aGF0IGEgZnJhZ21lbnQncyBzdGFydC9lbmQgY2FuIGJlIHdpdGhpbiBpbiBvcmRlciB0byBiZSBjb25zaWRlcmVkIGNvbnRpZ3VvdXNcbiAqIEByZXR1cm5zIHsqfG51bGx9IGZyYWdtZW50IC0gVGhlIGJlc3QgbWF0Y2hpbmcgZnJhZ21lbnRcbiAqL1xuZnVuY3Rpb24gZmluZEZyYWdtZW50QnlQRFQoZnJhZ21lbnRzLCBQRFRWYWx1ZSwgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoZnJhZ21lbnRzKSB8fCAhZnJhZ21lbnRzLmxlbmd0aCB8fCAhT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKFBEVFZhbHVlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gaWYgbGVzcyB0aGFuIHN0YXJ0XG4gIGlmIChQRFRWYWx1ZSA8IGZyYWdtZW50c1swXS5wcm9ncmFtRGF0ZVRpbWUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChQRFRWYWx1ZSA+PSBmcmFnbWVudHNbZnJhZ21lbnRzLmxlbmd0aCAtIDFdLmVuZFByb2dyYW1EYXRlVGltZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSA9IG1heEZyYWdMb29rVXBUb2xlcmFuY2UgfHwgMDtcbiAgZm9yICh2YXIgc2VnID0gMDsgc2VnIDwgZnJhZ21lbnRzLmxlbmd0aDsgKytzZWcpIHtcbiAgICB2YXIgZnJhZyA9IGZyYWdtZW50c1tzZWddO1xuICAgIGlmIChwZHRXaXRoaW5Ub2xlcmFuY2VUZXN0KFBEVFZhbHVlLCBtYXhGcmFnTG9va1VwVG9sZXJhbmNlLCBmcmFnKSkge1xuICAgICAgcmV0dXJuIGZyYWc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogRmluZHMgYSBmcmFnbWVudCBiYXNlZCBvbiB0aGUgU04gb2YgdGhlIHByZXZpb3VzIGZyYWdtZW50OyBvciBiYXNlZCBvbiB0aGUgbmVlZHMgb2YgdGhlIGN1cnJlbnQgYnVmZmVyLlxuICogVGhpcyBtZXRob2QgY29tcGVuc2F0ZXMgZm9yIHNtYWxsIGJ1ZmZlciBnYXBzIGJ5IGFwcGx5aW5nIGEgdG9sZXJhbmNlIHRvIHRoZSBzdGFydCBvZiBhbnkgY2FuZGlkYXRlIGZyYWdtZW50LCB0aHVzXG4gKiBicmVha2luZyBhbnkgdHJhcHMgd2hpY2ggd291bGQgY2F1c2UgdGhlIHNhbWUgZnJhZ21lbnQgdG8gYmUgY29udGludW91c2x5IHNlbGVjdGVkIHdpdGhpbiBhIHNtYWxsIHJhbmdlLlxuICogQHBhcmFtIHsqfSBmcmFnUHJldmlvdXMgLSBUaGUgbGFzdCBmcmFnIHN1Y2Nlc3NmdWxseSBhcHBlbmRlZFxuICogQHBhcmFtIHtBcnJheTxGcmFnbWVudD59IGZyYWdtZW50cyAtIFRoZSBhcnJheSBvZiBjYW5kaWRhdGUgZnJhZ21lbnRzXG4gKiBAcGFyYW0ge251bWJlcn0gW2J1ZmZlckVuZCA9IDBdIC0gVGhlIGVuZCBvZiB0aGUgY29udGlndW91cyBidWZmZXJlZCByYW5nZSB0aGUgcGxheWhlYWQgaXMgY3VycmVudGx5IHdpdGhpblxuICogQHBhcmFtIHtudW1iZXJ9IG1heEZyYWdMb29rVXBUb2xlcmFuY2UgLSBUaGUgYW1vdW50IG9mIHRpbWUgdGhhdCBhIGZyYWdtZW50J3Mgc3RhcnQvZW5kIGNhbiBiZSB3aXRoaW4gaW4gb3JkZXIgdG8gYmUgY29uc2lkZXJlZCBjb250aWd1b3VzXG4gKiBAcmV0dXJucyB7Kn0gZm91bmRGcmFnIC0gVGhlIGJlc3QgbWF0Y2hpbmcgZnJhZ21lbnRcbiAqL1xuZnVuY3Rpb24gZmluZEZyYWdtZW50QnlQVFMoZnJhZ1ByZXZpb3VzLCBmcmFnbWVudHMpIHtcbiAgdmFyIGJ1ZmZlckVuZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgdmFyIG1heEZyYWdMb29rVXBUb2xlcmFuY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDA7XG5cbiAgdmFyIGZyYWdOZXh0ID0gZnJhZ1ByZXZpb3VzID8gZnJhZ21lbnRzW2ZyYWdQcmV2aW91cy5zbiAtIGZyYWdtZW50c1swXS5zbiArIDFdIDogbnVsbDtcbiAgLy8gUHJlZmVyIHRoZSBuZXh0IGZyYWdtZW50IGlmIGl0J3Mgd2l0aGluIHRvbGVyYW5jZVxuICBpZiAoZnJhZ05leHQgJiYgIWZyYWdtZW50X2ZpbmRlcnNfZnJhZ21lbnRXaXRoaW5Ub2xlcmFuY2VUZXN0KGJ1ZmZlckVuZCwgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwgZnJhZ05leHQpKSB7XG4gICAgcmV0dXJuIGZyYWdOZXh0O1xuICB9XG4gIHJldHVybiBiaW5hcnlfc2VhcmNoLnNlYXJjaChmcmFnbWVudHMsIGZyYWdtZW50X2ZpbmRlcnNfZnJhZ21lbnRXaXRoaW5Ub2xlcmFuY2VUZXN0LmJpbmQobnVsbCwgYnVmZmVyRW5kLCBtYXhGcmFnTG9va1VwVG9sZXJhbmNlKSk7XG59XG5cbi8qKlxuICogVGhlIHRlc3QgZnVuY3Rpb24gdXNlZCBieSB0aGUgZmluZEZyYWdtZW50QnlTbidzIEJpbmFyeVNlYXJjaCB0byBsb29rIGZvciB0aGUgYmVzdCBtYXRjaCB0byB0aGUgY3VycmVudCBidWZmZXIgY29uZGl0aW9ucy5cbiAqIEBwYXJhbSB7Kn0gY2FuZGlkYXRlIC0gVGhlIGZyYWdtZW50IHRvIHRlc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSBbYnVmZmVyRW5kID0gMF0gLSBUaGUgZW5kIG9mIHRoZSBjdXJyZW50IGJ1ZmZlcmVkIHJhbmdlIHRoZSBwbGF5aGVhZCBpcyBjdXJyZW50bHkgd2l0aGluXG4gKiBAcGFyYW0ge251bWJlcn0gW21heEZyYWdMb29rVXBUb2xlcmFuY2UgPSAwXSAtIFRoZSBhbW91bnQgb2YgdGltZSB0aGF0IGEgZnJhZ21lbnQncyBzdGFydCBjYW4gYmUgd2l0aGluIGluIG9yZGVyIHRvIGJlIGNvbnNpZGVyZWQgY29udGlndW91c1xuICogQHJldHVybnMge251bWJlcn0gLSAwIGlmIGl0IG1hdGNoZXMsIDEgaWYgdG9vIGxvdywgLTEgaWYgdG9vIGhpZ2hcbiAqL1xuZnVuY3Rpb24gZnJhZ21lbnRfZmluZGVyc19mcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QoKSB7XG4gIHZhciBidWZmZXJFbmQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG4gIHZhciBtYXhGcmFnTG9va1VwVG9sZXJhbmNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICB2YXIgY2FuZGlkYXRlID0gYXJndW1lbnRzWzJdO1xuXG4gIC8vIG9mZnNldCBzaG91bGQgYmUgd2l0aGluIGZyYWdtZW50IGJvdW5kYXJ5IC0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2VcbiAgLy8gdGhpcyBpcyB0byBjb3BlIHdpdGggc2l0dWF0aW9ucyBsaWtlXG4gIC8vIGJ1ZmZlckVuZCA9IDkuOTkxXG4gIC8vIGZyYWdbw5hdIDogWzAsMTBdXG4gIC8vIGZyYWdbMV0gOiBbMTAsMjBdXG4gIC8vIGJ1ZmZlckVuZCBpcyB3aXRoaW4gZnJhZ1swXSByYW5nZSAuLi4gYWx0aG91Z2ggd2hhdCB3ZSBhcmUgZXhwZWN0aW5nIGlzIHRvIHJldHVybiBmcmFnWzFdIGhlcmVcbiAgLy8gICAgICAgICAgICAgIGZyYWcgc3RhcnQgICAgICAgICAgICAgICBmcmFnIHN0YXJ0K2R1cmF0aW9uXG4gIC8vICAgICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAvLyAgICAgICAgICAgICAgPC0tLT4gICAgICAgICAgICAgICAgICAgICAgICAgPC0tLT5cbiAgLy8gIC4uLi0tLS0tLS0tPjwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT48LS0tLS0tLS0tLi4uLlxuICAvLyBwcmV2aW91cyBmcmFnICAgICAgICAgbWF0Y2hpbmcgZnJhZ21lbnQgICAgICAgICBuZXh0IGZyYWdcbiAgLy8gIHJldHVybiAtMSAgICAgICAgICAgICByZXR1cm4gMCAgICAgICAgICAgICAgICAgcmV0dXJuIDFcbiAgLy8gbG9nZ2VyLmxvZyhgbGV2ZWwvc24vc3RhcnQvZW5kL2J1ZkVuZDoke2xldmVsfS8ke2NhbmRpZGF0ZS5zbn0vJHtjYW5kaWRhdGUuc3RhcnR9LyR7KGNhbmRpZGF0ZS5zdGFydCtjYW5kaWRhdGUuZHVyYXRpb24pfS8ke2J1ZmZlckVuZH1gKTtcbiAgLy8gU2V0IHRoZSBsb29rdXAgdG9sZXJhbmNlIHRvIGJlIHNtYWxsIGVub3VnaCB0byBkZXRlY3QgdGhlIGN1cnJlbnQgc2VnbWVudCAtIGVuc3VyZXMgd2UgZG9uJ3Qgc2tpcCBvdmVyIHZlcnkgc21hbGwgc2VnbWVudHNcbiAgdmFyIGNhbmRpZGF0ZUxvb2t1cFRvbGVyYW5jZSA9IE1hdGgubWluKG1heEZyYWdMb29rVXBUb2xlcmFuY2UsIGNhbmRpZGF0ZS5kdXJhdGlvbiArIChjYW5kaWRhdGUuZGVsdGFQVFMgPyBjYW5kaWRhdGUuZGVsdGFQVFMgOiAwKSk7XG4gIGlmIChjYW5kaWRhdGUuc3RhcnQgKyBjYW5kaWRhdGUuZHVyYXRpb24gLSBjYW5kaWRhdGVMb29rdXBUb2xlcmFuY2UgPD0gYnVmZmVyRW5kKSB7XG4gICAgcmV0dXJuIDE7XG4gIH0gZWxzZSBpZiAoY2FuZGlkYXRlLnN0YXJ0IC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID4gYnVmZmVyRW5kICYmIGNhbmRpZGF0ZS5zdGFydCkge1xuICAgIC8vIGlmIG1heEZyYWdMb29rVXBUb2xlcmFuY2Ugd2lsbCBoYXZlIG5lZ2F0aXZlIHZhbHVlIHRoZW4gZG9uJ3QgcmV0dXJuIC0xIGZvciBmaXJzdCBlbGVtZW50XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbi8qKlxuICogVGhlIHRlc3QgZnVuY3Rpb24gdXNlZCBieSB0aGUgZmluZEZyYWdtZW50QnlQZHQncyBCaW5hcnlTZWFyY2ggdG8gbG9vayBmb3IgdGhlIGJlc3QgbWF0Y2ggdG8gdGhlIGN1cnJlbnQgYnVmZmVyIGNvbmRpdGlvbnMuXG4gKiBUaGlzIGZ1bmN0aW9uIHRlc3RzIHRoZSBjYW5kaWRhdGUncyBwcm9ncmFtIGRhdGUgdGltZSB2YWx1ZXMsIGFzIHJlcHJlc2VudGVkIGluIFVuaXggdGltZVxuICogQHBhcmFtIHsqfSBjYW5kaWRhdGUgLSBUaGUgZnJhZ21lbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IFtwZHRCdWZmZXJFbmQgPSAwXSAtIFRoZSBVbml4IHRpbWUgcmVwcmVzZW50aW5nIHRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgYnVmZmVyZWQgcmFuZ2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSA9IDBdIC0gVGhlIGFtb3VudCBvZiB0aW1lIHRoYXQgYSBmcmFnbWVudCdzIHN0YXJ0IGNhbiBiZSB3aXRoaW4gaW4gb3JkZXIgdG8gYmUgY29uc2lkZXJlZCBjb250aWd1b3VzXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBjb250aWd1b3VzLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZnVuY3Rpb24gcGR0V2l0aGluVG9sZXJhbmNlVGVzdChwZHRCdWZmZXJFbmQsIG1heEZyYWdMb29rVXBUb2xlcmFuY2UsIGNhbmRpZGF0ZSkge1xuICB2YXIgY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID0gTWF0aC5taW4obWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwgY2FuZGlkYXRlLmR1cmF0aW9uICsgKGNhbmRpZGF0ZS5kZWx0YVBUUyA/IGNhbmRpZGF0ZS5kZWx0YVBUUyA6IDApKSAqIDEwMDA7XG4gIHJldHVybiBjYW5kaWRhdGUuZW5kUHJvZ3JhbURhdGVUaW1lIC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID4gcGR0QnVmZmVyRW5kO1xufVxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29udHJvbGxlci9nYXAtY29udHJvbGxlci5qc1xuZnVuY3Rpb24gZ2FwX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXG5cblxuXG5cbnZhciBzdGFsbERlYm91bmNlSW50ZXJ2YWwgPSAxMDAwO1xudmFyIGp1bXBUaHJlc2hvbGQgPSAwLjU7IC8vIHRvbGVyYW5jZSBuZWVkZWQgYXMgc29tZSBicm93c2VycyBzdGFsbHMgcGxheWJhY2sgYmVmb3JlIHJlYWNoaW5nIGJ1ZmZlcmVkIHJhbmdlIGVuZFxuXG52YXIgZ2FwX2NvbnRyb2xsZXJfR2FwQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2FwQ29udHJvbGxlcihjb25maWcsIG1lZGlhLCBmcmFnbWVudFRyYWNrZXIsIGhscykge1xuICAgIGdhcF9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBHYXBDb250cm9sbGVyKTtcblxuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMubWVkaWEgPSBtZWRpYTtcbiAgICB0aGlzLmZyYWdtZW50VHJhY2tlciA9IGZyYWdtZW50VHJhY2tlcjtcbiAgICB0aGlzLmhscyA9IGhscztcbiAgICB0aGlzLnN0YWxsUmVwb3J0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHBsYXloZWFkIGlzIHN0dWNrIHdpdGhpbiBhIGdhcCwgYW5kIGlmIHNvLCBhdHRlbXB0cyB0byBmcmVlIGl0LlxuICAgKiBBIGdhcCBpcyBhbiB1bmJ1ZmZlcmVkIHJhbmdlIGJldHdlZW4gdHdvIGJ1ZmZlcmVkIHJhbmdlcyAob3IgdGhlIHN0YXJ0IGFuZCB0aGUgZmlyc3QgYnVmZmVyZWQgcmFuZ2UpLlxuICAgKiBAcGFyYW0gbGFzdEN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSBidWZmZXJlZFxuICAgKi9cblxuXG4gIEdhcENvbnRyb2xsZXIucHJvdG90eXBlLnBvbGwgPSBmdW5jdGlvbiBwb2xsKGxhc3RDdXJyZW50VGltZSwgYnVmZmVyZWQpIHtcbiAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWcsXG4gICAgICAgIG1lZGlhID0gdGhpcy5tZWRpYTtcblxuICAgIHZhciBjdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgIHZhciB0bm93ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgaWYgKGN1cnJlbnRUaW1lICE9PSBsYXN0Q3VycmVudFRpbWUpIHtcbiAgICAgIC8vIFRoZSBwbGF5aGVhZCBpcyBub3cgbW92aW5nLCBidXQgd2FzIHByZXZpb3VzbHkgc3RhbGxlZFxuICAgICAgaWYgKHRoaXMuc3RhbGxSZXBvcnRlZCkge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdwbGF5YmFjayBub3Qgc3R1Y2sgYW55bW9yZSBAJyArIGN1cnJlbnRUaW1lICsgJywgYWZ0ZXIgJyArIE1hdGgucm91bmQodG5vdyAtIHRoaXMuc3RhbGxlZCkgKyAnbXMnKTtcbiAgICAgICAgdGhpcy5zdGFsbFJlcG9ydGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YWxsZWQgPSBudWxsO1xuICAgICAgdGhpcy5udWRnZVJldHJ5ID0gMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobWVkaWEuZW5kZWQgfHwgIW1lZGlhLmJ1ZmZlcmVkLmxlbmd0aCB8fCBtZWRpYS5yZWFkeVN0YXRlID4gMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtZWRpYS5zZWVraW5nICYmIEJ1ZmZlckhlbHBlci5pc0J1ZmZlcmVkKG1lZGlhLCBjdXJyZW50VGltZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUaGUgcGxheWhlYWQgaXNuJ3QgbW92aW5nIGJ1dCBpdCBzaG91bGQgYmVcbiAgICAvLyBBbGxvdyBzb21lIHNsYWNrIHRpbWUgdG8gZm9yIHNtYWxsIHN0YWxscyB0byByZXNvbHZlIHRoZW1zZWx2ZXNcbiAgICB2YXIgc3RhbGxlZER1cmF0aW9uID0gdG5vdyAtIHRoaXMuc3RhbGxlZDtcbiAgICB2YXIgYnVmZmVySW5mbyA9IEJ1ZmZlckhlbHBlci5idWZmZXJJbmZvKG1lZGlhLCBjdXJyZW50VGltZSwgY29uZmlnLm1heEJ1ZmZlckhvbGUpO1xuICAgIGlmICghdGhpcy5zdGFsbGVkKSB7XG4gICAgICB0aGlzLnN0YWxsZWQgPSB0bm93O1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoc3RhbGxlZER1cmF0aW9uID49IHN0YWxsRGVib3VuY2VJbnRlcnZhbCkge1xuICAgICAgLy8gUmVwb3J0IHN0YWxsaW5nIGFmdGVyIHRyeWluZyB0byBmaXhcbiAgICAgIHRoaXMuX3JlcG9ydFN0YWxsKGJ1ZmZlckluZm8ubGVuKTtcbiAgICB9XG5cbiAgICB0aGlzLl90cnlGaXhCdWZmZXJTdGFsbChidWZmZXJJbmZvLCBzdGFsbGVkRHVyYXRpb24pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXRlY3RzIGFuZCBhdHRlbXB0cyB0byBmaXgga25vd24gYnVmZmVyIHN0YWxsaW5nIGlzc3Vlcy5cbiAgICogQHBhcmFtIGJ1ZmZlckluZm8gLSBUaGUgcHJvcGVydGllcyBvZiB0aGUgY3VycmVudCBidWZmZXIuXG4gICAqIEBwYXJhbSBzdGFsbGVkRHVyYXRpb24gLSBUaGUgYW1vdW50IG9mIHRpbWUgSGxzLmpzIGhhcyBiZWVuIHN0YWxsaW5nIGZvci5cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBHYXBDb250cm9sbGVyLnByb3RvdHlwZS5fdHJ5Rml4QnVmZmVyU3RhbGwgPSBmdW5jdGlvbiBfdHJ5Rml4QnVmZmVyU3RhbGwoYnVmZmVySW5mbywgc3RhbGxlZER1cmF0aW9uKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnLFxuICAgICAgICBmcmFnbWVudFRyYWNrZXIgPSB0aGlzLmZyYWdtZW50VHJhY2tlcixcbiAgICAgICAgbWVkaWEgPSB0aGlzLm1lZGlhO1xuXG4gICAgdmFyIGN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG5cbiAgICB2YXIgcGFydGlhbCA9IGZyYWdtZW50VHJhY2tlci5nZXRQYXJ0aWFsRnJhZ21lbnQoY3VycmVudFRpbWUpO1xuICAgIGlmIChwYXJ0aWFsKSB7XG4gICAgICAvLyBUcnkgdG8gc2tpcCBvdmVyIHRoZSBidWZmZXIgaG9sZSBjYXVzZWQgYnkgYSBwYXJ0aWFsIGZyYWdtZW50XG4gICAgICAvLyBUaGlzIG1ldGhvZCBpc24ndCBsaW1pdGVkIGJ5IHRoZSBzaXplIG9mIHRoZSBnYXAgYmV0d2VlbiBidWZmZXJlZCByYW5nZXNcbiAgICAgIHRoaXMuX3RyeVNraXBCdWZmZXJIb2xlKHBhcnRpYWwpO1xuICAgIH1cblxuICAgIGlmIChidWZmZXJJbmZvLmxlbiA+IGp1bXBUaHJlc2hvbGQgJiYgc3RhbGxlZER1cmF0aW9uID4gY29uZmlnLmhpZ2hCdWZmZXJXYXRjaGRvZ1BlcmlvZCAqIDEwMDApIHtcbiAgICAgIC8vIFRyeSB0byBudWRnZSBjdXJyZW50VGltZSBvdmVyIGEgYnVmZmVyIGhvbGUgaWYgd2UndmUgYmVlbiBzdGFsbGluZyBmb3IgdGhlIGNvbmZpZ3VyZWQgYW1vdW50IG9mIHNlY29uZHNcbiAgICAgIC8vIFdlIG9ubHkgdHJ5IHRvIGp1bXAgdGhlIGhvbGUgaWYgaXQncyB1bmRlciB0aGUgY29uZmlndXJlZCBzaXplXG4gICAgICAvLyBSZXNldCBzdGFsbGVkIHNvIHRvIHJlYXJtIHdhdGNoZG9nIHRpbWVyXG4gICAgICB0aGlzLnN0YWxsZWQgPSBudWxsO1xuICAgICAgdGhpcy5fdHJ5TnVkZ2VCdWZmZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFRyaWdnZXJzIGEgQlVGRkVSX1NUQUxMRURfRVJST1IgZXZlbnQsIGJ1dCBvbmx5IG9uY2UgcGVyIHN0YWxsIHBlcmlvZC5cbiAgICogQHBhcmFtIGJ1ZmZlckxlbiAtIFRoZSBwbGF5aGVhZCBkaXN0YW5jZSBmcm9tIHRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgYnVmZmVyIHNlZ21lbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgR2FwQ29udHJvbGxlci5wcm90b3R5cGUuX3JlcG9ydFN0YWxsID0gZnVuY3Rpb24gX3JlcG9ydFN0YWxsKGJ1ZmZlckxlbikge1xuICAgIHZhciBobHMgPSB0aGlzLmhscyxcbiAgICAgICAgbWVkaWEgPSB0aGlzLm1lZGlhLFxuICAgICAgICBzdGFsbFJlcG9ydGVkID0gdGhpcy5zdGFsbFJlcG9ydGVkO1xuXG4gICAgaWYgKCFzdGFsbFJlcG9ydGVkKSB7XG4gICAgICAvLyBSZXBvcnQgc3RhbGxlZCBlcnJvciBvbmNlXG4gICAgICB0aGlzLnN0YWxsUmVwb3J0ZWQgPSB0cnVlO1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignUGxheWJhY2sgc3RhbGxpbmcgYXQgQCcgKyBtZWRpYS5jdXJyZW50VGltZSArICcgZHVlIHRvIGxvdyBidWZmZXInKTtcbiAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwge1xuICAgICAgICB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsXG4gICAgICAgIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkJVRkZFUl9TVEFMTEVEX0VSUk9SLFxuICAgICAgICBmYXRhbDogZmFsc2UsXG4gICAgICAgIGJ1ZmZlcjogYnVmZmVyTGVuXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEF0dGVtcHRzIHRvIGZpeCBidWZmZXIgc3RhbGxzIGJ5IGp1bXBpbmcgb3ZlciBrbm93biBnYXBzIGNhdXNlZCBieSBwYXJ0aWFsIGZyYWdtZW50c1xuICAgKiBAcGFyYW0gcGFydGlhbCAtIFRoZSBwYXJ0aWFsIGZyYWdtZW50IGZvdW5kIGF0IHRoZSBjdXJyZW50IHRpbWUgKHdoZXJlIHBsYXliYWNrIGlzIHN0YWxsaW5nKS5cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBHYXBDb250cm9sbGVyLnByb3RvdHlwZS5fdHJ5U2tpcEJ1ZmZlckhvbGUgPSBmdW5jdGlvbiBfdHJ5U2tpcEJ1ZmZlckhvbGUocGFydGlhbCkge1xuICAgIHZhciBobHMgPSB0aGlzLmhscyxcbiAgICAgICAgbWVkaWEgPSB0aGlzLm1lZGlhO1xuXG4gICAgdmFyIGN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgdmFyIGxhc3RFbmRUaW1lID0gMDtcbiAgICAvLyBDaGVjayBpZiBjdXJyZW50VGltZSBpcyBiZXR3ZWVuIHVuYnVmZmVyZWQgcmVnaW9ucyBvZiBwYXJ0aWFsIGZyYWdtZW50c1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVkaWEuYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzdGFydFRpbWUgPSBtZWRpYS5idWZmZXJlZC5zdGFydChpKTtcbiAgICAgIGlmIChjdXJyZW50VGltZSA+PSBsYXN0RW5kVGltZSAmJiBjdXJyZW50VGltZSA8IHN0YXJ0VGltZSkge1xuICAgICAgICBtZWRpYS5jdXJyZW50VGltZSA9IE1hdGgubWF4KHN0YXJ0VGltZSwgbWVkaWEuY3VycmVudFRpbWUgKyAwLjEpO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdza2lwcGluZyBob2xlLCBhZGp1c3RpbmcgY3VycmVudFRpbWUgZnJvbSAnICsgY3VycmVudFRpbWUgKyAnIHRvICcgKyBtZWRpYS5jdXJyZW50VGltZSk7XG4gICAgICAgIHRoaXMuc3RhbGxlZCA9IG51bGw7XG4gICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwge1xuICAgICAgICAgIHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUixcbiAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfU0VFS19PVkVSX0hPTEUsXG4gICAgICAgICAgZmF0YWw6IGZhbHNlLFxuICAgICAgICAgIHJlYXNvbjogJ2ZyYWdtZW50IGxvYWRlZCB3aXRoIGJ1ZmZlciBob2xlcywgc2Vla2luZyBmcm9tICcgKyBjdXJyZW50VGltZSArICcgdG8gJyArIG1lZGlhLmN1cnJlbnRUaW1lLFxuICAgICAgICAgIGZyYWc6IHBhcnRpYWxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxhc3RFbmRUaW1lID0gbWVkaWEuYnVmZmVyZWQuZW5kKGkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQXR0ZW1wdHMgdG8gZml4IGJ1ZmZlciBzdGFsbHMgYnkgYWR2YW5jaW5nIHRoZSBtZWRpYUVsZW1lbnQncyBjdXJyZW50IHRpbWUgYnkgYSBzbWFsbCBhbW91bnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgR2FwQ29udHJvbGxlci5wcm90b3R5cGUuX3RyeU51ZGdlQnVmZmVyID0gZnVuY3Rpb24gX3RyeU51ZGdlQnVmZmVyKCkge1xuICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZyxcbiAgICAgICAgaGxzID0gdGhpcy5obHMsXG4gICAgICAgIG1lZGlhID0gdGhpcy5tZWRpYTtcblxuICAgIHZhciBjdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgIHZhciBudWRnZVJldHJ5ID0gKHRoaXMubnVkZ2VSZXRyeSB8fCAwKSArIDE7XG4gICAgdGhpcy5udWRnZVJldHJ5ID0gbnVkZ2VSZXRyeTtcblxuICAgIGlmIChudWRnZVJldHJ5IDwgY29uZmlnLm51ZGdlTWF4UmV0cnkpIHtcbiAgICAgIHZhciB0YXJnZXRUaW1lID0gY3VycmVudFRpbWUgKyBudWRnZVJldHJ5ICogY29uZmlnLm51ZGdlT2Zmc2V0O1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhZGp1c3QgY3VycmVudFRpbWUgZnJvbSAnICsgY3VycmVudFRpbWUgKyAnIHRvICcgKyB0YXJnZXRUaW1lKTtcbiAgICAgIC8vIHBsYXliYWNrIHN0YWxsZWQgaW4gYnVmZmVyZWQgYXJlYSAuLi4gbGV0J3MgbnVkZ2UgY3VycmVudFRpbWUgdG8gdHJ5IHRvIG92ZXJjb21lIHRoaXNcbiAgICAgIG1lZGlhLmN1cnJlbnRUaW1lID0gdGFyZ2V0VGltZTtcbiAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwge1xuICAgICAgICB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uTUVESUFfRVJST1IsXG4gICAgICAgIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkJVRkZFUl9OVURHRV9PTl9TVEFMTCxcbiAgICAgICAgZmF0YWw6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ3N0aWxsIHN0dWNrIGluIGhpZ2ggYnVmZmVyIEAnICsgY3VycmVudFRpbWUgKyAnIGFmdGVyICcgKyBjb25maWcubnVkZ2VNYXhSZXRyeSArICcsIHJhaXNlIGZhdGFsIGVycm9yJyk7XG4gICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHtcbiAgICAgICAgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLFxuICAgICAgICBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfU1RBTExFRF9FUlJPUixcbiAgICAgICAgZmF0YWw6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gR2FwQ29udHJvbGxlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZ2FwX2NvbnRyb2xsZXIgPSAoZ2FwX2NvbnRyb2xsZXJfR2FwQ29udHJvbGxlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL3N0cmVhbS1jb250cm9sbGVyLmpzXG5cblxudmFyIHN0cmVhbV9jb250cm9sbGVyX19jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gc3RyZWFtX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gc3RyZWFtX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIHN0cmVhbV9jb250cm9sbGVyX19pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKlxuICogU3RyZWFtIENvbnRyb2xsZXJcbiovXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxudmFyIFN0YXRlID0ge1xuICBTVE9QUEVEOiAnU1RPUFBFRCcsXG4gIElETEU6ICdJRExFJyxcbiAgS0VZX0xPQURJTkc6ICdLRVlfTE9BRElORycsXG4gIEZSQUdfTE9BRElORzogJ0ZSQUdfTE9BRElORycsXG4gIEZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZOiAnRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlknLFxuICBXQUlUSU5HX0xFVkVMOiAnV0FJVElOR19MRVZFTCcsXG4gIFBBUlNJTkc6ICdQQVJTSU5HJyxcbiAgUEFSU0VEOiAnUEFSU0VEJyxcbiAgQlVGRkVSX0ZMVVNISU5HOiAnQlVGRkVSX0ZMVVNISU5HJyxcbiAgRU5ERUQ6ICdFTkRFRCcsXG4gIEVSUk9SOiAnRVJST1InXG59O1xuXG52YXIgc3RyZWFtX2NvbnRyb2xsZXJfU3RyZWFtQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfVGFza0xvb3ApIHtcbiAgc3RyZWFtX2NvbnRyb2xsZXJfX2luaGVyaXRzKFN0cmVhbUNvbnRyb2xsZXIsIF9UYXNrTG9vcCk7XG5cbiAgZnVuY3Rpb24gU3RyZWFtQ29udHJvbGxlcihobHMsIGZyYWdtZW50VHJhY2tlcikge1xuICAgIHN0cmVhbV9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBTdHJlYW1Db250cm9sbGVyKTtcblxuICAgIHZhciBfdGhpcyA9IHN0cmVhbV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9UYXNrTG9vcC5jYWxsKHRoaXMsIGhscywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0FUVEFDSEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfREVUQUNISU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfTE9BRElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX1BBUlNFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLktFWV9MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BRF9FTUVSR0VOQ1lfQUJPUlRFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfREFUQSwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0VELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS19TV0lUQ0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS19TV0lUQ0hFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9DUkVBVEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0FQUEVOREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0ZMVVNIRUQpKTtcblxuICAgIF90aGlzLmZyYWdtZW50VHJhY2tlciA9IGZyYWdtZW50VHJhY2tlcjtcbiAgICBfdGhpcy5jb25maWcgPSBobHMuY29uZmlnO1xuICAgIF90aGlzLmF1ZGlvQ29kZWNTd2FwID0gZmFsc2U7XG4gICAgX3RoaXMuX3N0YXRlID0gU3RhdGUuU1RPUFBFRDtcbiAgICBfdGhpcy5zdGFsbFJlcG9ydGVkID0gZmFsc2U7XG4gICAgX3RoaXMuZ2FwQ29udHJvbGxlciA9IG51bGw7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWluZyA9IGZ1bmN0aW9uIG9uSGFuZGxlckRlc3Ryb3lpbmcoKSB7XG4gICAgdGhpcy5zdG9wTG9hZCgpO1xuICAgIF9UYXNrTG9vcC5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWluZy5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3llZCA9IGZ1bmN0aW9uIG9uSGFuZGxlckRlc3Ryb3llZCgpIHtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuU1RPUFBFRDtcbiAgICB0aGlzLmZyYWdtZW50VHJhY2tlciA9IG51bGw7XG4gICAgX1Rhc2tMb29wLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95ZWQuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5zdGFydExvYWQgPSBmdW5jdGlvbiBzdGFydExvYWQoc3RhcnRQb3NpdGlvbikge1xuICAgIGlmICh0aGlzLmxldmVscykge1xuICAgICAgdmFyIGxhc3RDdXJyZW50VGltZSA9IHRoaXMubGFzdEN1cnJlbnRUaW1lLFxuICAgICAgICAgIGhscyA9IHRoaXMuaGxzO1xuICAgICAgdGhpcy5zdG9wTG9hZCgpO1xuICAgICAgdGhpcy5zZXRJbnRlcnZhbCgxMDApO1xuICAgICAgdGhpcy5sZXZlbCA9IC0xO1xuICAgICAgdGhpcy5mcmFnTG9hZEVycm9yID0gMDtcbiAgICAgIGlmICghdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQpIHtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIGxvYWQgbGV2ZWxcbiAgICAgICAgdmFyIHN0YXJ0TGV2ZWwgPSBobHMuc3RhcnRMZXZlbDtcbiAgICAgICAgaWYgKHN0YXJ0TGV2ZWwgPT09IC0xKSB7XG4gICAgICAgICAgLy8gLTEgOiBndWVzcyBzdGFydCBMZXZlbCBieSBkb2luZyBhIGJpdHJhdGUgdGVzdCBieSBsb2FkaW5nIGZpcnN0IGZyYWdtZW50IG9mIGxvd2VzdCBxdWFsaXR5IGxldmVsXG4gICAgICAgICAgc3RhcnRMZXZlbCA9IDA7XG4gICAgICAgICAgdGhpcy5iaXRyYXRlVGVzdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IG5ldyBsZXZlbCB0byBwbGF5bGlzdCBsb2FkZXIgOiB0aGlzIHdpbGwgdHJpZ2dlciBzdGFydCBsZXZlbCBsb2FkXG4gICAgICAgIC8vIGhscy5uZXh0TG9hZExldmVsIHJlbWFpbnMgdW50aWwgaXQgaXMgc2V0IHRvIGEgbmV3IHZhbHVlIG9yIHVudGlsIGEgbmV3IGZyYWcgaXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZFxuICAgICAgICB0aGlzLmxldmVsID0gaGxzLm5leHRMb2FkTGV2ZWwgPSBzdGFydExldmVsO1xuICAgICAgICB0aGlzLmxvYWRlZG1ldGFkYXRhID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBpZiBzdGFydFBvc2l0aW9uIHVuZGVmaW5lZCBidXQgbGFzdEN1cnJlbnRUaW1lIHNldCwgc2V0IHN0YXJ0UG9zaXRpb24gdG8gbGFzdCBjdXJyZW50VGltZVxuICAgICAgaWYgKGxhc3RDdXJyZW50VGltZSA+IDAgJiYgc3RhcnRQb3NpdGlvbiA9PT0gLTEpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdvdmVycmlkZSBzdGFydFBvc2l0aW9uIHdpdGggbGFzdEN1cnJlbnRUaW1lIEAnICsgbGFzdEN1cnJlbnRUaW1lLnRvRml4ZWQoMykpO1xuICAgICAgICBzdGFydFBvc2l0aW9uID0gbGFzdEN1cnJlbnRUaW1lO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IHN0YXJ0UG9zaXRpb247XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mb3JjZVN0YXJ0TG9hZCA9IHRydWU7XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuU1RPUFBFRDtcbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuc3RvcExvYWQgPSBmdW5jdGlvbiBzdG9wTG9hZCgpIHtcbiAgICB2YXIgZnJhZyA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgaWYgKGZyYWcpIHtcbiAgICAgIGlmIChmcmFnLmxvYWRlcikge1xuICAgICAgICBmcmFnLmxvYWRlci5hYm9ydCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5yZW1vdmVGcmFnbWVudChmcmFnKTtcbiAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gICAgaWYgKHRoaXMuZGVtdXhlcikge1xuICAgICAgdGhpcy5kZW11eGVyLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZGVtdXhlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuY2xlYXJJbnRlcnZhbCgpO1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5TVE9QUEVEO1xuICAgIHRoaXMuZm9yY2VTdGFydExvYWQgPSBmYWxzZTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5kb1RpY2sgPSBmdW5jdGlvbiBkb1RpY2soKSB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICBjYXNlIFN0YXRlLkJVRkZFUl9GTFVTSElORzpcbiAgICAgICAgLy8gaW4gYnVmZmVyIGZsdXNoaW5nIHN0YXRlLCByZXNldCBmcmFnTG9hZEVycm9yIGNvdW50ZXJcbiAgICAgICAgdGhpcy5mcmFnTG9hZEVycm9yID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRlLklETEU6XG4gICAgICAgIHRoaXMuX2RvVGlja0lkbGUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRlLldBSVRJTkdfTEVWRUw6XG4gICAgICAgIHZhciBsZXZlbCA9IHRoaXMubGV2ZWxzW3RoaXMubGV2ZWxdO1xuICAgICAgICAvLyBjaGVjayBpZiBwbGF5bGlzdCBpcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICBpZiAobGV2ZWwgJiYgbGV2ZWwuZGV0YWlscykge1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRlLkZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZOlxuICAgICAgICB2YXIgbm93ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB2YXIgcmV0cnlEYXRlID0gdGhpcy5yZXRyeURhdGU7XG4gICAgICAgIC8vIGlmIGN1cnJlbnQgdGltZSBpcyBndCB0aGFuIHJldHJ5RGF0ZSwgb3IgaWYgbWVkaWEgc2Vla2luZyBsZXQncyBzd2l0Y2ggdG8gSURMRSBzdGF0ZSB0byByZXRyeSBsb2FkaW5nXG4gICAgICAgIGlmICghcmV0cnlEYXRlIHx8IG5vdyA+PSByZXRyeURhdGUgfHwgdGhpcy5tZWRpYSAmJiB0aGlzLm1lZGlhLnNlZWtpbmcpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21lZGlhQ29udHJvbGxlcjogcmV0cnlEYXRlIHJlYWNoZWQsIHN3aXRjaCBiYWNrIHRvIElETEUgc3RhdGUnKTtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdGUuRVJST1I6XG4gICAgICBjYXNlIFN0YXRlLlNUT1BQRUQ6XG4gICAgICBjYXNlIFN0YXRlLkZSQUdfTE9BRElORzpcbiAgICAgIGNhc2UgU3RhdGUuUEFSU0lORzpcbiAgICAgIGNhc2UgU3RhdGUuUEFSU0VEOlxuICAgICAgY2FzZSBTdGF0ZS5FTkRFRDpcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gY2hlY2sgYnVmZmVyXG4gICAgdGhpcy5fY2hlY2tCdWZmZXIoKTtcbiAgICAvLyBjaGVjay91cGRhdGUgY3VycmVudCBmcmFnbWVudFxuICAgIHRoaXMuX2NoZWNrRnJhZ21lbnRDaGFuZ2VkKCk7XG4gIH07XG5cbiAgLy8gSXJvbmljYWxseSB0aGUgXCJpZGxlXCIgc3RhdGUgaXMgdGhlIG9uIHdlIGRvIHRoZSBtb3N0IGxvZ2ljIGluIGl0IHNlZW1zIC4uLi5cbiAgLy8gTk9URTogTWF5YmUgd2UgY291bGQgcmF0aGVyIHNjaGVkdWxlIGEgY2hlY2sgZm9yIGJ1ZmZlciBsZW5ndGggYWZ0ZXIgaGFsZiBvZiB0aGUgY3VycmVudGx5XG4gIC8vICAgICAgIHBsYXllZCBzZWdtZW50LCBvciBvbiBwYXVzZS9wbGF5L3NlZWsgaW5zdGVhZCBvZiBuYWl2ZWx5IGNoZWNraW5nIGV2ZXJ5IDEwMG1zP1xuXG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2RvVGlja0lkbGUgPSBmdW5jdGlvbiBfZG9UaWNrSWRsZSgpIHtcbiAgICB2YXIgaGxzID0gdGhpcy5obHMsXG4gICAgICAgIGNvbmZpZyA9IGhscy5jb25maWcsXG4gICAgICAgIG1lZGlhID0gdGhpcy5tZWRpYTtcblxuICAgIC8vIGlmIHN0YXJ0IGxldmVsIG5vdCBwYXJzZWQgeWV0IE9SXG4gICAgLy8gaWYgdmlkZW8gbm90IGF0dGFjaGVkIEFORCBzdGFydCBmcmFnbWVudCBhbHJlYWR5IHJlcXVlc3RlZCBPUiBzdGFydCBmcmFnIHByZWZldGNoIGRpc2FibGVcbiAgICAvLyBleGl0IGxvb3AsIGFzIHdlIGVpdGhlciBuZWVkIG1vcmUgaW5mbyAobGV2ZWwgbm90IHBhcnNlZCkgb3Igd2UgbmVlZCBtZWRpYSB0byBiZSBhdHRhY2hlZCB0byBsb2FkIG5ldyBmcmFnbWVudFxuICAgIGlmICh0aGlzLmxldmVsTGFzdExvYWRlZCA9PT0gdW5kZWZpbmVkIHx8ICFtZWRpYSAmJiAodGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgfHwgIWNvbmZpZy5zdGFydEZyYWdQcmVmZXRjaCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpZiB3ZSBoYXZlIG5vdCB5ZXQgbG9hZGVkIGFueSBmcmFnbWVudCwgc3RhcnQgbG9hZGluZyBmcm9tIHN0YXJ0IHBvc2l0aW9uXG4gICAgdmFyIHBvcyA9IHZvaWQgMDtcbiAgICBpZiAodGhpcy5sb2FkZWRtZXRhZGF0YSkge1xuICAgICAgcG9zID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvcyA9IHRoaXMubmV4dExvYWRQb3NpdGlvbjtcbiAgICB9XG5cbiAgICAvLyBkZXRlcm1pbmUgbmV4dCBsb2FkIGxldmVsXG4gICAgdmFyIGxldmVsID0gaGxzLm5leHRMb2FkTGV2ZWwsXG4gICAgICAgIGxldmVsSW5mbyA9IHRoaXMubGV2ZWxzW2xldmVsXTtcblxuICAgIGlmICghbGV2ZWxJbmZvKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxldmVsQml0cmF0ZSA9IGxldmVsSW5mby5iaXRyYXRlLFxuICAgICAgICBtYXhCdWZMZW4gPSB2b2lkIDA7XG5cbiAgICAvLyBjb21wdXRlIG1heCBCdWZmZXIgTGVuZ3RoIHRoYXQgd2UgY291bGQgZ2V0IGZyb20gdGhpcyBsb2FkIGxldmVsLCBiYXNlZCBvbiBsZXZlbCBiaXRyYXRlLiBkb24ndCBidWZmZXIgbW9yZSB0aGFuIDYwIE1CIGFuZCBtb3JlIHRoYW4gMzBzXG4gICAgaWYgKGxldmVsQml0cmF0ZSkge1xuICAgICAgbWF4QnVmTGVuID0gTWF0aC5tYXgoOCAqIGNvbmZpZy5tYXhCdWZmZXJTaXplIC8gbGV2ZWxCaXRyYXRlLCBjb25maWcubWF4QnVmZmVyTGVuZ3RoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWF4QnVmTGVuID0gY29uZmlnLm1heEJ1ZmZlckxlbmd0aDtcbiAgICB9XG5cbiAgICBtYXhCdWZMZW4gPSBNYXRoLm1pbihtYXhCdWZMZW4sIGNvbmZpZy5tYXhNYXhCdWZmZXJMZW5ndGgpO1xuXG4gICAgLy8gZGV0ZXJtaW5lIG5leHQgY2FuZGlkYXRlIGZyYWdtZW50IHRvIGJlIGxvYWRlZCwgYmFzZWQgb24gY3VycmVudCBwb3NpdGlvbiBhbmQgZW5kIG9mIGJ1ZmZlciBwb3NpdGlvblxuICAgIC8vIGVuc3VyZSB1cCB0byBgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aGAgb2YgYnVmZmVyIHVwZnJvbnRcblxuICAgIHZhciBidWZmZXJJbmZvID0gQnVmZmVySGVscGVyLmJ1ZmZlckluZm8odGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiBtZWRpYSwgcG9zLCBjb25maWcubWF4QnVmZmVySG9sZSksXG4gICAgICAgIGJ1ZmZlckxlbiA9IGJ1ZmZlckluZm8ubGVuO1xuICAgIC8vIFN0YXkgaWRsZSBpZiB3ZSBhcmUgc3RpbGwgd2l0aCBidWZmZXIgbWFyZ2luc1xuICAgIGlmIChidWZmZXJMZW4gPj0gbWF4QnVmTGVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaWYgYnVmZmVyIGxlbmd0aCBpcyBsZXNzIHRoYW4gbWF4QnVmTGVuIHRyeSB0byBsb2FkIGEgbmV3IGZyYWdtZW50IC4uLlxuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLnRyYWNlKCdidWZmZXIgbGVuZ3RoIG9mICcgKyBidWZmZXJMZW4udG9GaXhlZCgzKSArICcgaXMgYmVsb3cgbWF4IG9mICcgKyBtYXhCdWZMZW4udG9GaXhlZCgzKSArICcuIGNoZWNraW5nIGZvciBtb3JlIHBheWxvYWQgLi4uJyk7XG5cbiAgICAvLyBzZXQgbmV4dCBsb2FkIGxldmVsIDogdGhpcyB3aWxsIHRyaWdnZXIgYSBwbGF5bGlzdCBsb2FkIGlmIG5lZWRlZFxuICAgIHRoaXMubGV2ZWwgPSBobHMubmV4dExvYWRMZXZlbCA9IGxldmVsO1xuXG4gICAgdmFyIGxldmVsRGV0YWlscyA9IGxldmVsSW5mby5kZXRhaWxzO1xuICAgIC8vIGlmIGxldmVsIGluZm8gbm90IHJldHJpZXZlZCB5ZXQsIHN3aXRjaCBzdGF0ZSBhbmQgd2FpdCBmb3IgbGV2ZWwgcmV0cmlldmFsXG4gICAgLy8gaWYgbGl2ZSBwbGF5bGlzdCwgZW5zdXJlIHRoYXQgbmV3IHBsYXlsaXN0IGhhcyBiZWVuIHJlZnJlc2hlZCB0byBhdm9pZCBsb2FkaW5nL3RyeSB0byBsb2FkXG4gICAgLy8gYSB1c2VsZXNzIGFuZCBvdXRkYXRlZCBmcmFnbWVudCAodGhhdCBtaWdodCBldmVuIGludHJvZHVjZSBsb2FkIGVycm9yIGlmIGl0IGlzIGFscmVhZHkgb3V0IG9mIHRoZSBsaXZlIHBsYXlsaXN0KVxuICAgIGlmICghbGV2ZWxEZXRhaWxzIHx8IGxldmVsRGV0YWlscy5saXZlICYmIHRoaXMubGV2ZWxMYXN0TG9hZGVkICE9PSBsZXZlbCkge1xuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLldBSVRJTkdfTEVWRUw7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gd2UganVzdCBnb3QgZG9uZSBsb2FkaW5nIHRoZSBmaW5hbCBmcmFnbWVudCBhbmQgdGhlcmUgaXMgbm8gb3RoZXIgYnVmZmVyZWQgcmFuZ2UgYWZ0ZXIgLi4uXG4gICAgLy8gcmF0aW9uYWxlIGlzIHRoYXQgaW4gY2FzZSB0aGVyZSBhcmUgYW55IGJ1ZmZlcmVkIHJhbmdlcyBhZnRlciwgaXQgbWVhbnMgdGhhdCB0aGVyZSBhcmUgdW5idWZmZXJlZCBwb3J0aW9uIGluIGJldHdlZW5cbiAgICAvLyBzbyB3ZSBzaG91bGQgbm90IHN3aXRjaCB0byBFTkRFRCBpbiB0aGF0IGNhc2UsIHRvIGJlIGFibGUgdG8gYnVmZmVyIHRoZW1cbiAgICAvLyBkb250IHN3aXRjaCB0byBFTkRFRCBpZiB3ZSBuZWVkIHRvIGJhY2t0cmFjayBsYXN0IGZyYWdtZW50XG4gICAgdmFyIGZyYWdQcmV2aW91cyA9IHRoaXMuZnJhZ1ByZXZpb3VzO1xuICAgIGlmICghbGV2ZWxEZXRhaWxzLmxpdmUgJiYgZnJhZ1ByZXZpb3VzICYmICFmcmFnUHJldmlvdXMuYmFja3RyYWNrZWQgJiYgZnJhZ1ByZXZpb3VzLnNuID09PSBsZXZlbERldGFpbHMuZW5kU04gJiYgIWJ1ZmZlckluZm8ubmV4dFN0YXJ0KSB7XG4gICAgICAvLyBmcmFnUHJldmlvdXMgaXMgbGFzdCBmcmFnbWVudC4gcmV0cmlldmUgbGV2ZWwgZHVyYXRpb24gdXNpbmcgbGFzdCBmcmFnIHN0YXJ0IG9mZnNldCArIGR1cmF0aW9uXG4gICAgICAvLyByZWFsIGR1cmF0aW9uIG1pZ2h0IGJlIGxvd2VyIHRoYW4gaW5pdGlhbCBkdXJhdGlvbiBpZiB0aGVyZSBhcmUgZHJpZnRzIGJldHdlZW4gcmVhbCBmcmFnIGR1cmF0aW9uIGFuZCBwbGF5bGlzdCBzaWduYWxpbmdcbiAgICAgIHZhciBkdXJhdGlvbiA9IE1hdGgubWluKG1lZGlhLmR1cmF0aW9uLCBmcmFnUHJldmlvdXMuc3RhcnQgKyBmcmFnUHJldmlvdXMuZHVyYXRpb24pO1xuICAgICAgLy8gaWYgZXZlcnl0aGluZyAoYWxtb3N0KSB0aWwgdGhlIGVuZCBpcyBidWZmZXJlZCwgbGV0J3Mgc2lnbmFsIGVvc1xuICAgICAgLy8gd2UgZG9uJ3QgY29tcGFyZSBleGFjdGx5IG1lZGlhLmR1cmF0aW9uID09PSBidWZmZXJJbmZvLmVuZCBhcyB0aGVyZSBjb3VsZCBiZSBzb21lIHN1YnRsZSBtZWRpYSBkdXJhdGlvbiBkaWZmZXJlbmNlIChhdWRpby92aWRlbyBvZmZzZXRzLi4uKVxuICAgICAgLy8gdG9sZXJhdGUgdXAgdG8gb25lIGZyYWcgZHVyYXRpb24gdG8gY29wZSB3aXRoIHRoZXNlIGNhc2VzLlxuICAgICAgLy8gYWxzbyBjb3BlIHdpdGggYWxtb3N0IHplcm8gbGFzdCBmcmFnIGR1cmF0aW9uIChtYXggbGFzdCBmcmFnIGR1cmF0aW9uIHdpdGggMjAwbXMpIHJlZmVyIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL3B1bGwvNjU3XG4gICAgICBpZiAoZHVyYXRpb24gLSBNYXRoLm1heChidWZmZXJJbmZvLmVuZCwgZnJhZ1ByZXZpb3VzLnN0YXJ0KSA8PSBNYXRoLm1heCgwLjIsIGZyYWdQcmV2aW91cy5kdXJhdGlvbikpIHtcbiAgICAgICAgLy8gRmluYWxpemUgdGhlIG1lZGlhIHN0cmVhbVxuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICBpZiAodGhpcy5hbHRBdWRpbykge1xuICAgICAgICAgIGRhdGEudHlwZSA9ICd2aWRlbyc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfRU9TLCBkYXRhKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkVOREVEO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWYgd2UgaGF2ZSB0aGUgbGV2ZWxEZXRhaWxzIGZvciB0aGUgc2VsZWN0ZWQgdmFyaWFudCwgbGV0cyBjb250aW51ZSBlbnJpY2hlbiBvdXIgc3RyZWFtIChsb2FkIGtleXMvZnJhZ21lbnRzIG9yIHRyaWdnZXIgRU9TLCBldGMuLilcbiAgICB0aGlzLl9mZXRjaFBheWxvYWRPckVvcyhwb3MsIGJ1ZmZlckluZm8sIGxldmVsRGV0YWlscyk7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2ZldGNoUGF5bG9hZE9yRW9zID0gZnVuY3Rpb24gX2ZldGNoUGF5bG9hZE9yRW9zKHBvcywgYnVmZmVySW5mbywgbGV2ZWxEZXRhaWxzKSB7XG4gICAgdmFyIGZyYWdQcmV2aW91cyA9IHRoaXMuZnJhZ1ByZXZpb3VzLFxuICAgICAgICBsZXZlbCA9IHRoaXMubGV2ZWwsXG4gICAgICAgIGZyYWdtZW50cyA9IGxldmVsRGV0YWlscy5mcmFnbWVudHMsXG4gICAgICAgIGZyYWdMZW4gPSBmcmFnbWVudHMubGVuZ3RoO1xuXG4gICAgLy8gZW1wdHkgcGxheWxpc3RcbiAgICBpZiAoZnJhZ0xlbiA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGZpbmQgZnJhZ21lbnQgaW5kZXgsIGNvbnRpZ3VvdXMgd2l0aCBlbmQgb2YgYnVmZmVyIHBvc2l0aW9uXG4gICAgdmFyIHN0YXJ0ID0gZnJhZ21lbnRzWzBdLnN0YXJ0LFxuICAgICAgICBlbmQgPSBmcmFnbWVudHNbZnJhZ0xlbiAtIDFdLnN0YXJ0ICsgZnJhZ21lbnRzW2ZyYWdMZW4gLSAxXS5kdXJhdGlvbixcbiAgICAgICAgYnVmZmVyRW5kID0gYnVmZmVySW5mby5lbmQsXG4gICAgICAgIGZyYWcgPSB2b2lkIDA7XG5cbiAgICBpZiAobGV2ZWxEZXRhaWxzLmluaXRTZWdtZW50ICYmICFsZXZlbERldGFpbHMuaW5pdFNlZ21lbnQuZGF0YSkge1xuICAgICAgZnJhZyA9IGxldmVsRGV0YWlscy5pbml0U2VnbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaW4gY2FzZSBvZiBsaXZlIHBsYXlsaXN0IHdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgcmVxdWVzdGVkIHBvc2l0aW9uIGlzIG5vdCBsb2NhdGVkIGJlZm9yZSBwbGF5bGlzdCBzdGFydFxuICAgICAgaWYgKGxldmVsRGV0YWlscy5saXZlKSB7XG4gICAgICAgIHZhciBpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZSA9IHRoaXMuY29uZmlnLmluaXRpYWxMaXZlTWFuaWZlc3RTaXplO1xuICAgICAgICBpZiAoZnJhZ0xlbiA8IGluaXRpYWxMaXZlTWFuaWZlc3RTaXplKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignQ2FuIG5vdCBzdGFydCBwbGF5YmFjayBvZiBhIGxldmVsLCByZWFzb246IG5vdCBlbm91Z2ggZnJhZ21lbnRzICcgKyBmcmFnTGVuICsgJyA8ICcgKyBpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJhZyA9IHRoaXMuX2Vuc3VyZUZyYWdtZW50QXRMaXZlUG9pbnQobGV2ZWxEZXRhaWxzLCBidWZmZXJFbmQsIHN0YXJ0LCBlbmQsIGZyYWdQcmV2aW91cywgZnJhZ21lbnRzLCBmcmFnTGVuKTtcbiAgICAgICAgLy8gaWYgaXQgZXhwbGljaXRlbHkgcmV0dXJucyBudWxsIGRvbid0IGxvYWQgYW55IGZyYWdtZW50IGFuZCBleGl0IGZ1bmN0aW9uIG5vd1xuICAgICAgICBpZiAoZnJhZyA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVm9EIHBsYXlsaXN0OiBpZiBidWZmZXJFbmQgYmVmb3JlIHN0YXJ0IG9mIHBsYXlsaXN0LCBsb2FkIGZpcnN0IGZyYWdtZW50XG4gICAgICAgIGlmIChidWZmZXJFbmQgPCBzdGFydCkge1xuICAgICAgICAgIGZyYWcgPSBmcmFnbWVudHNbMF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFmcmFnKSB7XG4gICAgICBmcmFnID0gdGhpcy5fZmluZEZyYWdtZW50KHN0YXJ0LCBmcmFnUHJldmlvdXMsIGZyYWdMZW4sIGZyYWdtZW50cywgYnVmZmVyRW5kLCBlbmQsIGxldmVsRGV0YWlscyk7XG4gICAgfVxuXG4gICAgaWYgKGZyYWcpIHtcbiAgICAgIGlmIChmcmFnLmVuY3J5cHRlZCkge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0xvYWRpbmcga2V5IGZvciAnICsgZnJhZy5zbiArICcgb2YgWycgKyBsZXZlbERldGFpbHMuc3RhcnRTTiArICcgLCcgKyBsZXZlbERldGFpbHMuZW5kU04gKyAnXSxsZXZlbCAnICsgbGV2ZWwpO1xuICAgICAgICB0aGlzLl9sb2FkS2V5KGZyYWcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdMb2FkaW5nICcgKyBmcmFnLnNuICsgJyBvZiBbJyArIGxldmVsRGV0YWlscy5zdGFydFNOICsgJyAsJyArIGxldmVsRGV0YWlscy5lbmRTTiArICddLGxldmVsICcgKyBsZXZlbCArICcsIGN1cnJlbnRUaW1lOicgKyBwb3MudG9GaXhlZCgzKSArICcsYnVmZmVyRW5kOicgKyBidWZmZXJFbmQudG9GaXhlZCgzKSk7XG4gICAgICAgIHRoaXMuX2xvYWRGcmFnbWVudChmcmFnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2Vuc3VyZUZyYWdtZW50QXRMaXZlUG9pbnQgPSBmdW5jdGlvbiBfZW5zdXJlRnJhZ21lbnRBdExpdmVQb2ludChsZXZlbERldGFpbHMsIGJ1ZmZlckVuZCwgc3RhcnQsIGVuZCwgZnJhZ1ByZXZpb3VzLCBmcmFnbWVudHMsIGZyYWdMZW4pIHtcbiAgICB2YXIgY29uZmlnID0gdGhpcy5obHMuY29uZmlnLFxuICAgICAgICBtZWRpYSA9IHRoaXMubWVkaWE7XG5cbiAgICB2YXIgZnJhZyA9IHZvaWQgMDtcblxuICAgIC8vIGNoZWNrIGlmIHJlcXVlc3RlZCBwb3NpdGlvbiBpcyB3aXRoaW4gc2Vla2FibGUgYm91bmRhcmllcyA6XG4gICAgLy8gbG9nZ2VyLmxvZyhgc3RhcnQvcG9zL2J1ZkVuZC9zZWVraW5nOiR7c3RhcnQudG9GaXhlZCgzKX0vJHtwb3MudG9GaXhlZCgzKX0vJHtidWZmZXJFbmQudG9GaXhlZCgzKX0vJHt0aGlzLm1lZGlhLnNlZWtpbmd9YCk7XG4gICAgdmFyIG1heExhdGVuY3kgPSBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb24gOiBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50ICogbGV2ZWxEZXRhaWxzLnRhcmdldGR1cmF0aW9uO1xuXG4gICAgaWYgKGJ1ZmZlckVuZCA8IE1hdGgubWF4KHN0YXJ0IC0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2UsIGVuZCAtIG1heExhdGVuY3kpKSB7XG4gICAgICB2YXIgbGl2ZVN5bmNQb3NpdGlvbiA9IHRoaXMubGl2ZVN5bmNQb3NpdGlvbiA9IHRoaXMuY29tcHV0ZUxpdmVQb3NpdGlvbihzdGFydCwgbGV2ZWxEZXRhaWxzKTtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYnVmZmVyIGVuZDogJyArIGJ1ZmZlckVuZC50b0ZpeGVkKDMpICsgJyBpcyBsb2NhdGVkIHRvbyBmYXIgZnJvbSB0aGUgZW5kIG9mIGxpdmUgc2xpZGluZyBwbGF5bGlzdCwgcmVzZXQgY3VycmVudFRpbWUgdG8gOiAnICsgbGl2ZVN5bmNQb3NpdGlvbi50b0ZpeGVkKDMpKTtcbiAgICAgIGJ1ZmZlckVuZCA9IGxpdmVTeW5jUG9zaXRpb247XG4gICAgICBpZiAobWVkaWEgJiYgbWVkaWEucmVhZHlTdGF0ZSAmJiBtZWRpYS5kdXJhdGlvbiA+IGxpdmVTeW5jUG9zaXRpb24pIHtcbiAgICAgICAgbWVkaWEuY3VycmVudFRpbWUgPSBsaXZlU3luY1Bvc2l0aW9uO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSBsaXZlU3luY1Bvc2l0aW9uO1xuICAgIH1cblxuICAgIC8vIGlmIGVuZCBvZiBidWZmZXIgZ3JlYXRlciB0aGFuIGxpdmUgZWRnZSwgZG9uJ3QgbG9hZCBhbnkgZnJhZ21lbnRcbiAgICAvLyB0aGlzIGNvdWxkIGhhcHBlbiBpZiBsaXZlIHBsYXlsaXN0IGludGVybWl0dGVudGx5IHNsaWRlcyBpbiB0aGUgcGFzdC5cbiAgICAvLyBsZXZlbCAxIGxvYWRlZCBbMTgyNTgwMTYxLDE4MjU4MDE2N11cbiAgICAvLyBsZXZlbCAxIGxvYWRlZCBbMTgyNTgwMTYyLDE4MjU4MDE2OV1cbiAgICAvLyBMb2FkaW5nIDE4MjU4MDE2OCBvZiBbMTgyNTgwMTYyICwxODI1ODAxNjldLGxldmVsIDEgLi5cbiAgICAvLyBMb2FkaW5nIDE4MjU4MDE2OSBvZiBbMTgyNTgwMTYyICwxODI1ODAxNjldLGxldmVsIDEgLi5cbiAgICAvLyBsZXZlbCAxIGxvYWRlZCBbMTgyNTgwMTYyLDE4MjU4MDE2OF0gPD09PT09PT09PT09PT0gaGVyZSB3ZSBzaG91bGQgaGF2ZSBidWZmZXJFbmQgPiBlbmQuIGluIHRoYXQgY2FzZSBicmVhayB0byBhdm9pZCByZWxvYWRpbmcgMTgyNTgwMTY4XG4gICAgLy8gbGV2ZWwgMSBsb2FkZWQgWzE4MjU4MDE2NCwxODI1ODAxNzFdXG4gICAgLy9cbiAgICAvLyBkb24ndCByZXR1cm4gbnVsbCBpbiBjYXNlIG1lZGlhIG5vdCBsb2FkZWQgeWV0IChyZWFkeXN0YXRlID09PSAwKVxuICAgIGlmIChsZXZlbERldGFpbHMuUFRTS25vd24gJiYgYnVmZmVyRW5kID4gZW5kICYmIG1lZGlhICYmIG1lZGlhLnJlYWR5U3RhdGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCAmJiAhbGV2ZWxEZXRhaWxzLlBUU0tub3duKSB7XG4gICAgICAvKiB3ZSBhcmUgc3dpdGNoaW5nIGxldmVsIG9uIGxpdmUgcGxheWxpc3QsIGJ1dCB3ZSBkb24ndCBoYXZlIGFueSBQVFMgaW5mbyBmb3IgdGhhdCBxdWFsaXR5IGxldmVsIC4uLlxuICAgICAgICAgdHJ5IHRvIGxvYWQgZnJhZyBtYXRjaGluZyB3aXRoIG5leHQgU04uXG4gICAgICAgICBldmVuIGlmIFNOIGFyZSBub3Qgc3luY2hyb25pemVkIGJldHdlZW4gcGxheWxpc3RzLCBsb2FkaW5nIHRoaXMgZnJhZyB3aWxsIGhlbHAgdXNcbiAgICAgICAgIGNvbXB1dGUgcGxheWxpc3Qgc2xpZGluZyBhbmQgZmluZCB0aGUgcmlnaHQgb25lIGFmdGVyIGluIGNhc2UgaXQgd2FzIG5vdCB0aGUgcmlnaHQgY29uc2VjdXRpdmUgb25lICovXG4gICAgICBpZiAoZnJhZ1ByZXZpb3VzKSB7XG4gICAgICAgIGlmIChsZXZlbERldGFpbHMuaGFzUHJvZ3JhbURhdGVUaW1lKSB7XG4gICAgICAgICAgLy8gUmVsaWVzIG9uIFBEVCBpbiBvcmRlciB0byBzd2l0Y2ggYml0cmF0ZXMgKFN1cHBvcnQgRVhULVgtRElTQ09OVElOVUlUWSB3aXRob3V0IEVYVC1YLURJU0NPTlRJTlVJVFktU0VRVUVOQ0UpXG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsaXZlIHBsYXlsaXN0LCBzd2l0Y2hpbmcgcGxheWxpc3QsIGxvYWQgZnJhZyB3aXRoIHNhbWUgUERUOiAnICsgZnJhZ1ByZXZpb3VzLnByb2dyYW1EYXRlVGltZSk7XG4gICAgICAgICAgZnJhZyA9IGZpbmRGcmFnbWVudEJ5UERUKGZyYWdtZW50cywgZnJhZ1ByZXZpb3VzLmVuZFByb2dyYW1EYXRlVGltZSwgY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFVzZXMgYnVmZmVyIGFuZCBzZXF1ZW5jZSBudW1iZXIgdG8gY2FsY3VsYXRlIHN3aXRjaCBzZWdtZW50IChyZXF1aXJlZCBpZiB1c2luZyBFWFQtWC1ESVNDT05USU5VSVRZLVNFUVVFTkNFKVxuICAgICAgICAgIHZhciB0YXJnZXRTTiA9IGZyYWdQcmV2aW91cy5zbiArIDE7XG4gICAgICAgICAgaWYgKHRhcmdldFNOID49IGxldmVsRGV0YWlscy5zdGFydFNOICYmIHRhcmdldFNOIDw9IGxldmVsRGV0YWlscy5lbmRTTikge1xuICAgICAgICAgICAgdmFyIGZyYWdOZXh0ID0gZnJhZ21lbnRzW3RhcmdldFNOIC0gbGV2ZWxEZXRhaWxzLnN0YXJ0U05dO1xuICAgICAgICAgICAgaWYgKGZyYWdQcmV2aW91cy5jYyA9PT0gZnJhZ05leHQuY2MpIHtcbiAgICAgICAgICAgICAgZnJhZyA9IGZyYWdOZXh0O1xuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xpdmUgcGxheWxpc3QsIHN3aXRjaGluZyBwbGF5bGlzdCwgbG9hZCBmcmFnIHdpdGggbmV4dCBTTjogJyArIGZyYWcuc24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBuZXh0IGZyYWcgU04gbm90IGF2YWlsYWJsZSAob3Igbm90IHdpdGggc2FtZSBjb250aW51aXR5IGNvdW50ZXIpXG4gICAgICAgICAgLy8gbG9vayBmb3IgYSBmcmFnIHNoYXJpbmcgdGhlIHNhbWUgQ0NcbiAgICAgICAgICBpZiAoIWZyYWcpIHtcbiAgICAgICAgICAgIGZyYWcgPSBiaW5hcnlfc2VhcmNoLnNlYXJjaChmcmFnbWVudHMsIGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmcmFnUHJldmlvdXMuY2MgLSBmcmFnLmNjO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZnJhZykge1xuICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xpdmUgcGxheWxpc3QsIHN3aXRjaGluZyBwbGF5bGlzdCwgbG9hZCBmcmFnIHdpdGggc2FtZSBDQzogJyArIGZyYWcuc24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFmcmFnKSB7XG4gICAgICAgIC8qIHdlIGhhdmUgbm8gaWRlYSBhYm91dCB3aGljaCBmcmFnbWVudCBzaG91bGQgYmUgbG9hZGVkLlxuICAgICAgICAgICBzbyBsZXQncyBsb2FkIG1pZCBmcmFnbWVudC4gaXQgd2lsbCBoZWxwIGNvbXB1dGluZyBwbGF5bGlzdCBzbGlkaW5nIGFuZCBmaW5kIHRoZSByaWdodCBvbmVcbiAgICAgICAgKi9cbiAgICAgICAgZnJhZyA9IGZyYWdtZW50c1tNYXRoLm1pbihmcmFnTGVuIC0gMSwgTWF0aC5yb3VuZChmcmFnTGVuIC8gMikpXTtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsaXZlIHBsYXlsaXN0LCBzd2l0Y2hpbmcgcGxheWxpc3QsIHVua25vd24sIGxvYWQgbWlkZGxlIGZyYWcgOiAnICsgZnJhZy5zbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZyYWc7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2ZpbmRGcmFnbWVudCA9IGZ1bmN0aW9uIF9maW5kRnJhZ21lbnQoc3RhcnQsIGZyYWdQcmV2aW91cywgZnJhZ0xlbiwgZnJhZ21lbnRzLCBidWZmZXJFbmQsIGVuZCwgbGV2ZWxEZXRhaWxzKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZztcbiAgICB2YXIgZnJhZyA9IHZvaWQgMDtcblxuICAgIGlmIChidWZmZXJFbmQgPCBlbmQpIHtcbiAgICAgIHZhciBsb29rdXBUb2xlcmFuY2UgPSBidWZmZXJFbmQgPiBlbmQgLSBjb25maWcubWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSA/IDAgOiBjb25maWcubWF4RnJhZ0xvb2tVcFRvbGVyYW5jZTtcbiAgICAgIC8vIFJlbW92ZSB0aGUgdG9sZXJhbmNlIGlmIGl0IHdvdWxkIHB1dCB0aGUgYnVmZmVyRW5kIHBhc3QgdGhlIGFjdHVhbCBlbmQgb2Ygc3RyZWFtXG4gICAgICAvLyBVc2VzIGJ1ZmZlciBhbmQgc2VxdWVuY2UgbnVtYmVyIHRvIGNhbGN1bGF0ZSBzd2l0Y2ggc2VnbWVudCAocmVxdWlyZWQgaWYgdXNpbmcgRVhULVgtRElTQ09OVElOVUlUWS1TRVFVRU5DRSlcbiAgICAgIGZyYWcgPSBmaW5kRnJhZ21lbnRCeVBUUyhmcmFnUHJldmlvdXMsIGZyYWdtZW50cywgYnVmZmVyRW5kLCBsb29rdXBUb2xlcmFuY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZWFjaCBlbmQgb2YgcGxheWxpc3RcbiAgICAgIGZyYWcgPSBmcmFnbWVudHNbZnJhZ0xlbiAtIDFdO1xuICAgIH1cbiAgICBpZiAoZnJhZykge1xuICAgICAgdmFyIGN1clNOSWR4ID0gZnJhZy5zbiAtIGxldmVsRGV0YWlscy5zdGFydFNOO1xuICAgICAgdmFyIHNhbWVMZXZlbCA9IGZyYWdQcmV2aW91cyAmJiBmcmFnLmxldmVsID09PSBmcmFnUHJldmlvdXMubGV2ZWw7XG4gICAgICB2YXIgcHJldkZyYWcgPSBmcmFnbWVudHNbY3VyU05JZHggLSAxXTtcbiAgICAgIHZhciBuZXh0RnJhZyA9IGZyYWdtZW50c1tjdXJTTklkeCArIDFdO1xuICAgICAgLy8gbG9nZ2VyLmxvZygnZmluZCBTTiBtYXRjaGluZyB3aXRoIHBvczonICsgIGJ1ZmZlckVuZCArICc6JyArIGZyYWcuc24pO1xuICAgICAgaWYgKGZyYWdQcmV2aW91cyAmJiBmcmFnLnNuID09PSBmcmFnUHJldmlvdXMuc24pIHtcbiAgICAgICAgaWYgKHNhbWVMZXZlbCAmJiAhZnJhZy5iYWNrdHJhY2tlZCkge1xuICAgICAgICAgIGlmIChmcmFnLnNuIDwgbGV2ZWxEZXRhaWxzLmVuZFNOKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGFQVFMgPSBmcmFnUHJldmlvdXMuZGVsdGFQVFM7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHNpZ25pZmljYW50IGRlbHRhIGJldHdlZW4gYXVkaW8gYW5kIHZpZGVvLCBsYXJnZXIgdGhhbiBtYXggYWxsb3dlZCBob2xlLFxuICAgICAgICAgICAgLy8gYW5kIGlmIHByZXZpb3VzIHJlbXV4ZWQgZnJhZ21lbnQgZGlkIG5vdCBzdGFydCB3aXRoIGEga2V5ZnJhbWUuIChmcmFnUHJldmlvdXMuZHJvcHBlZClcbiAgICAgICAgICAgIC8vIGxldCdzIHRyeSB0byBsb2FkIHByZXZpb3VzIGZyYWdtZW50IGFnYWluIHRvIGdldCBsYXN0IGtleWZyYW1lXG4gICAgICAgICAgICAvLyB0aGVuIHdlIHdpbGwgcmVsb2FkIGFnYWluIGN1cnJlbnQgZnJhZ21lbnQgKHRoYXQgd2F5IHdlIHNob3VsZCBiZSBhYmxlIHRvIGZpbGwgdGhlIGJ1ZmZlciBob2xlIC4uLilcbiAgICAgICAgICAgIGlmIChkZWx0YVBUUyAmJiBkZWx0YVBUUyA+IGNvbmZpZy5tYXhCdWZmZXJIb2xlICYmIGZyYWdQcmV2aW91cy5kcm9wcGVkICYmIGN1clNOSWR4KSB7XG4gICAgICAgICAgICAgIGZyYWcgPSBwcmV2RnJhZztcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignU04ganVzdCBsb2FkZWQsIHdpdGggbGFyZ2UgUFRTIGdhcCBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlbywgbWF5YmUgZnJhZyBpcyBub3Qgc3RhcnRpbmcgd2l0aCBhIGtleWZyYW1lID8gbG9hZCBwcmV2aW91cyBvbmUgdG8gdHJ5IHRvIG92ZXJjb21lIHRoaXMnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZyYWcgPSBuZXh0RnJhZztcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdTTiBqdXN0IGxvYWRlZCwgbG9hZCBuZXh0IG9uZTogJyArIGZyYWcuc24sIGZyYWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcmFnID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZnJhZy5iYWNrdHJhY2tlZCkge1xuICAgICAgICAgIC8vIE9ubHkgYmFja3RyYWNrIGEgbWF4IG9mIDEgY29uc2VjdXRpdmUgZnJhZ21lbnQgdG8gcHJldmVudCBzbGlkaW5nIGJhY2sgdG9vIGZhciB3aGVuIGxpdHRsZSBvciBubyBmcmFncyBzdGFydCB3aXRoIGtleWZyYW1lc1xuICAgICAgICAgIGlmIChuZXh0RnJhZyAmJiBuZXh0RnJhZy5iYWNrdHJhY2tlZCkge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignQWxyZWFkeSBiYWNrdHJhY2tlZCBmcm9tIGZyYWdtZW50ICcgKyBuZXh0RnJhZy5zbiArICcsIHdpbGwgbm90IGJhY2t0cmFjayB0byBmcmFnbWVudCAnICsgZnJhZy5zbiArICcuIExvYWRpbmcgZnJhZ21lbnQgJyArIG5leHRGcmFnLnNuKTtcbiAgICAgICAgICAgIGZyYWcgPSBuZXh0RnJhZztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgYSBmcmFnbWVudCBoYXMgZHJvcHBlZCBmcmFtZXMgYW5kIGl0J3MgaW4gYSBzYW1lIGxldmVsL3NlcXVlbmNlLCBsb2FkIHRoZSBwcmV2aW91cyBmcmFnbWVudCB0byB0cnkgYW5kIGZpbmQgdGhlIGtleWZyYW1lXG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgZHJvcHBlZCBjb3VudCBub3cgc2luY2UgaXQgd29uJ3QgYmUgcmVzZXQgdW50aWwgd2UgcGFyc2UgdGhlIGZyYWdtZW50IGFnYWluLCB3aGljaCBwcmV2ZW50cyBpbmZpbml0ZSBiYWNrdHJhY2tpbmcgb24gdGhlIHNhbWUgc2VnbWVudFxuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignTG9hZGVkIGZyYWdtZW50IHdpdGggZHJvcHBlZCBmcmFtZXMsIGJhY2t0cmFja2luZyAxIHNlZ21lbnQgdG8gZmluZCBhIGtleWZyYW1lJyk7XG4gICAgICAgICAgICBmcmFnLmRyb3BwZWQgPSAwO1xuICAgICAgICAgICAgaWYgKHByZXZGcmFnKSB7XG4gICAgICAgICAgICAgIGZyYWcgPSBwcmV2RnJhZztcbiAgICAgICAgICAgICAgZnJhZy5iYWNrdHJhY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGN1clNOSWR4KSB7XG4gICAgICAgICAgICAgIC8vIGNhbid0IGJhY2t0cmFjayBvbiB2ZXJ5IGZpcnN0IGZyYWdtZW50XG4gICAgICAgICAgICAgIGZyYWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnJhZztcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fbG9hZEtleSA9IGZ1bmN0aW9uIF9sb2FkS2V5KGZyYWcpIHtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuS0VZX0xPQURJTkc7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uS0VZX0xPQURJTkcsIHsgZnJhZzogZnJhZyB9KTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fbG9hZEZyYWdtZW50ID0gZnVuY3Rpb24gX2xvYWRGcmFnbWVudChmcmFnKSB7XG4gICAgLy8gQ2hlY2sgaWYgZnJhZ21lbnQgaXMgbm90IGxvYWRlZFxuICAgIHZhciBmcmFnU3RhdGUgPSB0aGlzLmZyYWdtZW50VHJhY2tlci5nZXRTdGF0ZShmcmFnKTtcblxuICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBmcmFnO1xuICAgIHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAvLyBEb24ndCB1cGRhdGUgbmV4dExvYWRQb3NpdGlvbiBmb3IgZnJhZ21lbnRzIHdoaWNoIGFyZSBub3QgYnVmZmVyZWRcbiAgICBpZiAoT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKGZyYWcuc24pICYmICFmcmFnLmJpdHJhdGVUZXN0KSB7XG4gICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSBmcmFnLnN0YXJ0ICsgZnJhZy5kdXJhdGlvbjtcbiAgICB9XG5cbiAgICAvLyBBbGxvdyBiYWNrdHJhY2tlZCBmcmFnbWVudHMgdG8gbG9hZFxuICAgIGlmIChmcmFnLmJhY2t0cmFja2VkIHx8IGZyYWdTdGF0ZSA9PT0gRnJhZ21lbnRTdGF0ZS5OT1RfTE9BREVEIHx8IGZyYWdTdGF0ZSA9PT0gRnJhZ21lbnRTdGF0ZS5QQVJUSUFMKSB7XG4gICAgICBmcmFnLmF1dG9MZXZlbCA9IHRoaXMuaGxzLmF1dG9MZXZlbEVuYWJsZWQ7XG4gICAgICBmcmFnLmJpdHJhdGVUZXN0ID0gdGhpcy5iaXRyYXRlVGVzdDtcblxuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FESU5HLCB7IGZyYWc6IGZyYWcgfSk7XG4gICAgICAvLyBsYXp5IGRlbXV4ZXIgaW5pdCwgYXMgdGhpcyBjb3VsZCB0YWtlIHNvbWUgdGltZSAuLi4gZG8gaXQgZHVyaW5nIGZyYWcgbG9hZGluZ1xuICAgICAgaWYgKCF0aGlzLmRlbXV4ZXIpIHtcbiAgICAgICAgdGhpcy5kZW11eGVyID0gbmV3IGRlbXV4X2RlbXV4ZXIodGhpcy5obHMsICdtYWluJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5GUkFHX0xPQURJTkc7XG4gICAgfSBlbHNlIGlmIChmcmFnU3RhdGUgPT09IEZyYWdtZW50U3RhdGUuQVBQRU5ESU5HKSB7XG4gICAgICAvLyBMb3dlciB0aGUgYnVmZmVyIHNpemUgYW5kIHRyeSBhZ2FpblxuICAgICAgaWYgKHRoaXMuX3JlZHVjZU1heEJ1ZmZlckxlbmd0aChmcmFnLmR1cmF0aW9uKSkge1xuICAgICAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5yZW1vdmVGcmFnbWVudChmcmFnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0QnVmZmVyZWRGcmFnID0gZnVuY3Rpb24gZ2V0QnVmZmVyZWRGcmFnKHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZnJhZ21lbnRUcmFja2VyLmdldEJ1ZmZlcmVkRnJhZyhwb3NpdGlvbiwgcGxheWxpc3RfbG9hZGVyLkxldmVsVHlwZS5NQUlOKTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5mb2xsb3dpbmdCdWZmZXJlZEZyYWcgPSBmdW5jdGlvbiBmb2xsb3dpbmdCdWZmZXJlZEZyYWcoZnJhZykge1xuICAgIGlmIChmcmFnKSB7XG4gICAgICAvLyB0cnkgdG8gZ2V0IHJhbmdlIG9mIG5leHQgZnJhZ21lbnQgKDUwMG1zIGFmdGVyIHRoaXMgcmFuZ2UpXG4gICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXJlZEZyYWcoZnJhZy5lbmRQVFMgKyAwLjUpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fY2hlY2tGcmFnbWVudENoYW5nZWQgPSBmdW5jdGlvbiBfY2hlY2tGcmFnbWVudENoYW5nZWQoKSB7XG4gICAgdmFyIGZyYWdQbGF5aW5nQ3VycmVudCA9IHZvaWQgMCxcbiAgICAgICAgY3VycmVudFRpbWUgPSB2b2lkIDAsXG4gICAgICAgIHZpZGVvID0gdGhpcy5tZWRpYTtcbiAgICBpZiAodmlkZW8gJiYgdmlkZW8ucmVhZHlTdGF0ZSAmJiB2aWRlby5zZWVraW5nID09PSBmYWxzZSkge1xuICAgICAgY3VycmVudFRpbWUgPSB2aWRlby5jdXJyZW50VGltZTtcbiAgICAgIC8qIGlmIHZpZGVvIGVsZW1lbnQgaXMgaW4gc2Vla2VkIHN0YXRlLCBjdXJyZW50VGltZSBjYW4gb25seSBpbmNyZWFzZS5cbiAgICAgICAgKGFzc3VtaW5nIHRoYXQgcGxheWJhY2sgcmF0ZSBpcyBwb3NpdGl2ZSAuLi4pXG4gICAgICAgIEFzIHNvbWV0aW1lcyBjdXJyZW50VGltZSBqdW1wcyBiYWNrIHRvIHplcm8gYWZ0ZXIgYVxuICAgICAgICBtZWRpYSBkZWNvZGUgZXJyb3IsIGNoZWNrIHRoaXMsIHRvIGF2b2lkIHNlZWtpbmcgYmFjayB0b1xuICAgICAgICB3cm9uZyBwb3NpdGlvbiBhZnRlciBhIG1lZGlhIGRlY29kZSBlcnJvclxuICAgICAgKi9cbiAgICAgIGlmIChjdXJyZW50VGltZSA+IHRoaXMubGFzdEN1cnJlbnRUaW1lKSB7XG4gICAgICAgIHRoaXMubGFzdEN1cnJlbnRUaW1lID0gY3VycmVudFRpbWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChCdWZmZXJIZWxwZXIuaXNCdWZmZXJlZCh2aWRlbywgY3VycmVudFRpbWUpKSB7XG4gICAgICAgIGZyYWdQbGF5aW5nQ3VycmVudCA9IHRoaXMuZ2V0QnVmZmVyZWRGcmFnKGN1cnJlbnRUaW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoQnVmZmVySGVscGVyLmlzQnVmZmVyZWQodmlkZW8sIGN1cnJlbnRUaW1lICsgMC4xKSkge1xuICAgICAgICAvKiBlbnN1cmUgdGhhdCBGUkFHX0NIQU5HRUQgZXZlbnQgaXMgdHJpZ2dlcmVkIGF0IHN0YXJ0dXAsXG4gICAgICAgICAgd2hlbiBmaXJzdCB2aWRlbyBmcmFtZSBpcyBkaXNwbGF5ZWQgYW5kIHBsYXliYWNrIGlzIHBhdXNlZC5cbiAgICAgICAgICBhZGQgYSB0b2xlcmFuY2Ugb2YgMTAwbXMsIGluIGNhc2UgY3VycmVudCBwb3NpdGlvbiBpcyBub3QgYnVmZmVyZWQsXG4gICAgICAgICAgY2hlY2sgaWYgY3VycmVudCBwb3MrMTAwbXMgaXMgYnVmZmVyZWQgYW5kIHVzZSB0aGF0IGJ1ZmZlciByYW5nZVxuICAgICAgICAgIGZvciBGUkFHX0NIQU5HRUQgZXZlbnQgcmVwb3J0aW5nICovXG4gICAgICAgIGZyYWdQbGF5aW5nQ3VycmVudCA9IHRoaXMuZ2V0QnVmZmVyZWRGcmFnKGN1cnJlbnRUaW1lICsgMC4xKTtcbiAgICAgIH1cbiAgICAgIGlmIChmcmFnUGxheWluZ0N1cnJlbnQpIHtcbiAgICAgICAgdmFyIGZyYWdQbGF5aW5nID0gZnJhZ1BsYXlpbmdDdXJyZW50O1xuICAgICAgICBpZiAoZnJhZ1BsYXlpbmcgIT09IHRoaXMuZnJhZ1BsYXlpbmcpIHtcbiAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0NIQU5HRUQsIHsgZnJhZzogZnJhZ1BsYXlpbmcgfSk7XG4gICAgICAgICAgdmFyIGZyYWdQbGF5aW5nTGV2ZWwgPSBmcmFnUGxheWluZy5sZXZlbDtcbiAgICAgICAgICBpZiAoIXRoaXMuZnJhZ1BsYXlpbmcgfHwgdGhpcy5mcmFnUGxheWluZy5sZXZlbCAhPT0gZnJhZ1BsYXlpbmdMZXZlbCkge1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTEVWRUxfU1dJVENIRUQsIHsgbGV2ZWw6IGZyYWdQbGF5aW5nTGV2ZWwgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5mcmFnUGxheWluZyA9IGZyYWdQbGF5aW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qXG4gICAgb24gaW1tZWRpYXRlIGxldmVsIHN3aXRjaCA6XG4gICAgIC0gcGF1c2UgcGxheWJhY2sgaWYgcGxheWluZ1xuICAgICAtIGNhbmNlbCBhbnkgcGVuZGluZyBsb2FkIHJlcXVlc3RcbiAgICAgLSBhbmQgdHJpZ2dlciBhIGJ1ZmZlciBmbHVzaFxuICAqL1xuXG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuaW1tZWRpYXRlTGV2ZWxTd2l0Y2ggPSBmdW5jdGlvbiBpbW1lZGlhdGVMZXZlbFN3aXRjaCgpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2ltbWVkaWF0ZUxldmVsU3dpdGNoJyk7XG4gICAgaWYgKCF0aGlzLmltbWVkaWF0ZVN3aXRjaCkge1xuICAgICAgdGhpcy5pbW1lZGlhdGVTd2l0Y2ggPSB0cnVlO1xuICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYSxcbiAgICAgICAgICBwcmV2aW91c2x5UGF1c2VkID0gdm9pZCAwO1xuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIHByZXZpb3VzbHlQYXVzZWQgPSBtZWRpYS5wYXVzZWQ7XG4gICAgICAgIG1lZGlhLnBhdXNlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkb24ndCByZXN0YXJ0IHBsYXliYWNrIGFmdGVyIGluc3RhbnQgbGV2ZWwgc3dpdGNoIGluIGNhc2UgbWVkaWEgbm90IGF0dGFjaGVkXG4gICAgICAgIHByZXZpb3VzbHlQYXVzZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5wcmV2aW91c2x5UGF1c2VkID0gcHJldmlvdXNseVBhdXNlZDtcbiAgICB9XG4gICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICBpZiAoZnJhZ0N1cnJlbnQgJiYgZnJhZ0N1cnJlbnQubG9hZGVyKSB7XG4gICAgICBmcmFnQ3VycmVudC5sb2FkZXIuYWJvcnQoKTtcbiAgICB9XG5cbiAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICAvLyBmbHVzaCBldmVyeXRoaW5nXG4gICAgdGhpcy5mbHVzaE1haW5CdWZmZXIoMCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbiAgfTtcblxuICAvKipcbiAgICogb24gaW1tZWRpYXRlIGxldmVsIHN3aXRjaCBlbmQsIGFmdGVyIG5ldyBmcmFnbWVudCBoYXMgYmVlbiBidWZmZXJlZDpcbiAgICogLSBudWRnZSB2aWRlbyBkZWNvZGVyIGJ5IHNsaWdodGx5IGFkanVzdGluZyB2aWRlbyBjdXJyZW50VGltZSAoaWYgY3VycmVudFRpbWUgYnVmZmVyZWQpXG4gICAqIC0gcmVzdW1lIHRoZSBwbGF5YmFjayBpZiBuZWVkZWRcbiAgICovXG5cblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5pbW1lZGlhdGVMZXZlbFN3aXRjaEVuZCA9IGZ1bmN0aW9uIGltbWVkaWF0ZUxldmVsU3dpdGNoRW5kKCkge1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgaWYgKG1lZGlhICYmIG1lZGlhLmJ1ZmZlcmVkLmxlbmd0aCkge1xuICAgICAgdGhpcy5pbW1lZGlhdGVTd2l0Y2ggPSBmYWxzZTtcbiAgICAgIGlmIChCdWZmZXJIZWxwZXIuaXNCdWZmZXJlZChtZWRpYSwgbWVkaWEuY3VycmVudFRpbWUpKSB7XG4gICAgICAgIC8vIG9ubHkgbnVkZ2UgaWYgY3VycmVudFRpbWUgaXMgYnVmZmVyZWRcbiAgICAgICAgbWVkaWEuY3VycmVudFRpbWUgLT0gMC4wMDAxO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLnByZXZpb3VzbHlQYXVzZWQpIHtcbiAgICAgICAgbWVkaWEucGxheSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogdHJ5IHRvIHN3aXRjaCBBU0FQIHdpdGhvdXQgYnJlYWtpbmcgdmlkZW8gcGxheWJhY2s6XG4gICAqIGluIG9yZGVyIHRvIGVuc3VyZSBzbW9vdGggYnV0IHF1aWNrIGxldmVsIHN3aXRjaGluZyxcbiAgICogd2UgbmVlZCB0byBmaW5kIHRoZSBuZXh0IGZsdXNoYWJsZSBidWZmZXIgcmFuZ2VcbiAgICogd2Ugc2hvdWxkIHRha2UgaW50byBhY2NvdW50IG5ldyBzZWdtZW50IGZldGNoIHRpbWVcbiAgICovXG5cblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5uZXh0TGV2ZWxTd2l0Y2ggPSBmdW5jdGlvbiBuZXh0TGV2ZWxTd2l0Y2goKSB7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAvLyBlbnN1cmUgdGhhdCBtZWRpYSBpcyBkZWZpbmVkIGFuZCB0aGF0IG1ldGFkYXRhIGFyZSBhdmFpbGFibGUgKHRvIHJldHJpZXZlIGN1cnJlbnRUaW1lKVxuICAgIGlmIChtZWRpYSAmJiBtZWRpYS5yZWFkeVN0YXRlKSB7XG4gICAgICB2YXIgZmV0Y2hkZWxheSA9IHZvaWQgMCxcbiAgICAgICAgICBmcmFnUGxheWluZ0N1cnJlbnQgPSB2b2lkIDAsXG4gICAgICAgICAgbmV4dEJ1ZmZlcmVkRnJhZyA9IHZvaWQgMDtcbiAgICAgIGZyYWdQbGF5aW5nQ3VycmVudCA9IHRoaXMuZ2V0QnVmZmVyZWRGcmFnKG1lZGlhLmN1cnJlbnRUaW1lKTtcbiAgICAgIGlmIChmcmFnUGxheWluZ0N1cnJlbnQgJiYgZnJhZ1BsYXlpbmdDdXJyZW50LnN0YXJ0UFRTID4gMSkge1xuICAgICAgICAvLyBmbHVzaCBidWZmZXIgcHJlY2VkaW5nIGN1cnJlbnQgZnJhZ21lbnQgKGZsdXNoIHVudGlsIGN1cnJlbnQgZnJhZ21lbnQgc3RhcnQgb2Zmc2V0KVxuICAgICAgICAvLyBtaW51cyAxcyB0byBhdm9pZCB2aWRlbyBmcmVlemluZywgdGhhdCBjb3VsZCBoYXBwZW4gaWYgd2UgZmx1c2gga2V5ZnJhbWUgb2YgY3VycmVudCB2aWRlbyAuLi5cbiAgICAgICAgdGhpcy5mbHVzaE1haW5CdWZmZXIoMCwgZnJhZ1BsYXlpbmdDdXJyZW50LnN0YXJ0UFRTIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoIW1lZGlhLnBhdXNlZCkge1xuICAgICAgICAvLyBhZGQgYSBzYWZldHkgZGVsYXkgb2YgMXNcbiAgICAgICAgdmFyIG5leHRMZXZlbElkID0gdGhpcy5obHMubmV4dExvYWRMZXZlbCxcbiAgICAgICAgICAgIG5leHRMZXZlbCA9IHRoaXMubGV2ZWxzW25leHRMZXZlbElkXSxcbiAgICAgICAgICAgIGZyYWdMYXN0S2JwcyA9IHRoaXMuZnJhZ0xhc3RLYnBzO1xuICAgICAgICBpZiAoZnJhZ0xhc3RLYnBzICYmIHRoaXMuZnJhZ0N1cnJlbnQpIHtcbiAgICAgICAgICBmZXRjaGRlbGF5ID0gdGhpcy5mcmFnQ3VycmVudC5kdXJhdGlvbiAqIG5leHRMZXZlbC5iaXRyYXRlIC8gKDEwMDAgKiBmcmFnTGFzdEticHMpICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmZXRjaGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmV0Y2hkZWxheSA9IDA7XG4gICAgICB9XG4gICAgICAvLyBsb2dnZXIubG9nKCdmZXRjaGRlbGF5OicrZmV0Y2hkZWxheSk7XG4gICAgICAvLyBmaW5kIGJ1ZmZlciByYW5nZSB0aGF0IHdpbGwgYmUgcmVhY2hlZCBvbmNlIG5ldyBmcmFnbWVudCB3aWxsIGJlIGZldGNoZWRcbiAgICAgIG5leHRCdWZmZXJlZEZyYWcgPSB0aGlzLmdldEJ1ZmZlcmVkRnJhZyhtZWRpYS5jdXJyZW50VGltZSArIGZldGNoZGVsYXkpO1xuICAgICAgaWYgKG5leHRCdWZmZXJlZEZyYWcpIHtcbiAgICAgICAgLy8gd2UgY2FuIGZsdXNoIGJ1ZmZlciByYW5nZSBmb2xsb3dpbmcgdGhpcyBvbmUgd2l0aG91dCBzdGFsbGluZyBwbGF5YmFja1xuICAgICAgICBuZXh0QnVmZmVyZWRGcmFnID0gdGhpcy5mb2xsb3dpbmdCdWZmZXJlZEZyYWcobmV4dEJ1ZmZlcmVkRnJhZyk7XG4gICAgICAgIGlmIChuZXh0QnVmZmVyZWRGcmFnKSB7XG4gICAgICAgICAgLy8gaWYgd2UgYXJlIGhlcmUsIHdlIGNhbiBhbHNvIGNhbmNlbCBhbnkgbG9hZGluZy9kZW11eGluZyBpbiBwcm9ncmVzcywgYXMgdGhleSBhcmUgdXNlbGVzc1xuICAgICAgICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAgICAgaWYgKGZyYWdDdXJyZW50ICYmIGZyYWdDdXJyZW50LmxvYWRlcikge1xuICAgICAgICAgICAgZnJhZ0N1cnJlbnQubG9hZGVyLmFib3J0KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgICAgICAgLy8gc3RhcnQgZmx1c2ggcG9zaXRpb24gaXMgdGhlIHN0YXJ0IFBUUyBvZiBuZXh0IGJ1ZmZlcmVkIGZyYWcuXG4gICAgICAgICAgLy8gd2UgdXNlIGZyYWcubmF4U3RhcnRQVFMgd2hpY2ggaXMgbWF4KGF1ZGlvIHN0YXJ0UFRTLCB2aWRlbyBzdGFydFBUUykuXG4gICAgICAgICAgLy8gaW4gY2FzZSB0aGVyZSBpcyBhIHNtYWxsIFBUUyBEZWx0YSBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlbywgdXNpbmcgbWF4U3RhcnRQVFMgYXZvaWRzIGZsdXNoaW5nIGxhc3Qgc2FtcGxlcyBmcm9tIGN1cnJlbnQgZnJhZ21lbnRcbiAgICAgICAgICB0aGlzLmZsdXNoTWFpbkJ1ZmZlcihuZXh0QnVmZmVyZWRGcmFnLm1heFN0YXJ0UFRTLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmZsdXNoTWFpbkJ1ZmZlciA9IGZ1bmN0aW9uIGZsdXNoTWFpbkJ1ZmZlcihzdGFydE9mZnNldCwgZW5kT2Zmc2V0KSB7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLkJVRkZFUl9GTFVTSElORztcbiAgICB2YXIgZmx1c2hTY29wZSA9IHsgc3RhcnRPZmZzZXQ6IHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQ6IGVuZE9mZnNldCB9O1xuICAgIC8vIGlmIGFsdGVybmF0ZSBhdWRpbyB0cmFja3MgYXJlIHVzZWQsIG9ubHkgZmx1c2ggdmlkZW8sIG90aGVyd2lzZSBmbHVzaCBldmVyeXRoaW5nXG4gICAgaWYgKHRoaXMuYWx0QXVkaW8pIHtcbiAgICAgIGZsdXNoU2NvcGUudHlwZSA9ICd2aWRlbyc7XG4gICAgfVxuXG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0ZMVVNISU5HLCBmbHVzaFNjb3BlKTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhQXR0YWNoZWQgPSBmdW5jdGlvbiBvbk1lZGlhQXR0YWNoZWQoZGF0YSkge1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID0gZGF0YS5tZWRpYTtcbiAgICB0aGlzLm9udnNlZWtpbmcgPSB0aGlzLm9uTWVkaWFTZWVraW5nLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbnZzZWVrZWQgPSB0aGlzLm9uTWVkaWFTZWVrZWQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9udmVuZGVkID0gdGhpcy5vbk1lZGlhRW5kZWQuYmluZCh0aGlzKTtcbiAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdzZWVraW5nJywgdGhpcy5vbnZzZWVraW5nKTtcbiAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdzZWVrZWQnLCB0aGlzLm9udnNlZWtlZCk7XG4gICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLm9udmVuZGVkKTtcbiAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgaWYgKHRoaXMubGV2ZWxzICYmIGNvbmZpZy5hdXRvU3RhcnRMb2FkKSB7XG4gICAgICB0aGlzLmhscy5zdGFydExvYWQoY29uZmlnLnN0YXJ0UG9zaXRpb24pO1xuICAgIH1cblxuICAgIHRoaXMuZ2FwQ29udHJvbGxlciA9IG5ldyBnYXBfY29udHJvbGxlcihjb25maWcsIG1lZGlhLCB0aGlzLmZyYWdtZW50VHJhY2tlciwgdGhpcy5obHMpO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiBvbk1lZGlhRGV0YWNoaW5nKCkge1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgaWYgKG1lZGlhICYmIG1lZGlhLmVuZGVkKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ01TRSBkZXRhY2hpbmcgYW5kIHZpZGVvIGVuZGVkLCByZXNldCBzdGFydFBvc2l0aW9uJyk7XG4gICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gICAgfVxuXG4gICAgLy8gcmVzZXQgZnJhZ21lbnQgYmFja3RyYWNrZWQgZmxhZ1xuICAgIHZhciBsZXZlbHMgPSB0aGlzLmxldmVscztcbiAgICBpZiAobGV2ZWxzKSB7XG4gICAgICBsZXZlbHMuZm9yRWFjaChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgICAgaWYgKGxldmVsLmRldGFpbHMpIHtcbiAgICAgICAgICBsZXZlbC5kZXRhaWxzLmZyYWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChmcmFnbWVudCkge1xuICAgICAgICAgICAgZnJhZ21lbnQuYmFja3RyYWNrZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyByZW1vdmUgdmlkZW8gbGlzdGVuZXJzXG4gICAgaWYgKG1lZGlhKSB7XG4gICAgICBtZWRpYS5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWVraW5nJywgdGhpcy5vbnZzZWVraW5nKTtcbiAgICAgIG1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlZWtlZCcsIHRoaXMub252c2Vla2VkKTtcbiAgICAgIG1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgdGhpcy5vbnZlbmRlZCk7XG4gICAgICB0aGlzLm9udnNlZWtpbmcgPSB0aGlzLm9udnNlZWtlZCA9IHRoaXMub252ZW5kZWQgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLm1lZGlhID0gdGhpcy5tZWRpYUJ1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IGZhbHNlO1xuICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhU2Vla2luZyA9IGZ1bmN0aW9uIG9uTWVkaWFTZWVraW5nKCkge1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWEsXG4gICAgICAgIGN1cnJlbnRUaW1lID0gbWVkaWEgPyBtZWRpYS5jdXJyZW50VGltZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgaWYgKE9iamVjdChudW1iZXJfaXNGaW5pdGVbXCJhXCIgLyogaXNGaW5pdGVOdW1iZXIgKi9dKShjdXJyZW50VGltZSkpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbWVkaWEgc2Vla2luZyB0byAnICsgY3VycmVudFRpbWUudG9GaXhlZCgzKSk7XG4gICAgfVxuXG4gICAgdmFyIG1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiBtZWRpYTtcbiAgICB2YXIgYnVmZmVySW5mbyA9IEJ1ZmZlckhlbHBlci5idWZmZXJJbmZvKG1lZGlhQnVmZmVyLCBjdXJyZW50VGltZSwgdGhpcy5jb25maWcubWF4QnVmZmVySG9sZSk7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLkZSQUdfTE9BRElORykge1xuICAgICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICAgIC8vIGNoZWNrIGlmIHdlIGFyZSBzZWVraW5nIHRvIGEgdW5idWZmZXJlZCBhcmVhIEFORCBpZiBmcmFnIGxvYWRpbmcgaXMgaW4gcHJvZ3Jlc3NcbiAgICAgIGlmIChidWZmZXJJbmZvLmxlbiA9PT0gMCAmJiBmcmFnQ3VycmVudCkge1xuICAgICAgICB2YXIgdG9sZXJhbmNlID0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2UsXG4gICAgICAgICAgICBmcmFnU3RhcnRPZmZzZXQgPSBmcmFnQ3VycmVudC5zdGFydCAtIHRvbGVyYW5jZSxcbiAgICAgICAgICAgIGZyYWdFbmRPZmZzZXQgPSBmcmFnQ3VycmVudC5zdGFydCArIGZyYWdDdXJyZW50LmR1cmF0aW9uICsgdG9sZXJhbmNlO1xuICAgICAgICAvLyBjaGVjayBpZiB3ZSBzZWVrIHBvc2l0aW9uIHdpbGwgYmUgb3V0IG9mIGN1cnJlbnRseSBsb2FkZWQgZnJhZyByYW5nZSA6IGlmIG91dCBjYW5jZWwgZnJhZyBsb2FkLCBpZiBpbiwgZG9uJ3QgZG8gYW55dGhpbmdcbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lIDwgZnJhZ1N0YXJ0T2Zmc2V0IHx8IGN1cnJlbnRUaW1lID4gZnJhZ0VuZE9mZnNldCkge1xuICAgICAgICAgIGlmIChmcmFnQ3VycmVudC5sb2FkZXIpIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc2Vla2luZyBvdXRzaWRlIG9mIGJ1ZmZlciB3aGlsZSBmcmFnbWVudCBsb2FkIGluIHByb2dyZXNzLCBjYW5jZWwgZnJhZ21lbnQgbG9hZCcpO1xuICAgICAgICAgICAgZnJhZ0N1cnJlbnQubG9hZGVyLmFib3J0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgICAvLyBzd2l0Y2ggdG8gSURMRSBzdGF0ZSB0byBsb2FkIG5ldyBmcmFnbWVudFxuICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc2Vla2luZyBvdXRzaWRlIG9mIGJ1ZmZlciBidXQgd2l0aGluIGN1cnJlbnRseSBsb2FkZWQgZnJhZ21lbnQgcmFuZ2UnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuRU5ERUQpIHtcbiAgICAgIC8vIGlmIHNlZWtpbmcgdG8gdW5idWZmZXJlZCBhcmVhLCBjbGVhbiB1cCBmcmFnUHJldmlvdXNcbiAgICAgIGlmIChidWZmZXJJbmZvLmxlbiA9PT0gMCkge1xuICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IDA7XG4gICAgICB9XG5cbiAgICAgIC8vIHN3aXRjaCB0byBJRExFIHN0YXRlIHRvIGNoZWNrIGZvciBwb3RlbnRpYWwgbmV3IGZyYWdtZW50XG4gICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICB9XG4gICAgaWYgKG1lZGlhKSB7XG4gICAgICB0aGlzLmxhc3RDdXJyZW50VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgIH1cblxuICAgIC8vIGluIGNhc2Ugc2Vla2luZyBvY2N1cnMgYWx0aG91Z2ggbm8gbWVkaWEgYnVmZmVyZWQsIGFkanVzdCBzdGFydFBvc2l0aW9uIGFuZCBuZXh0TG9hZFBvc2l0aW9uIHRvIHNlZWsgdGFyZ2V0XG4gICAgaWYgKCF0aGlzLmxvYWRlZG1ldGFkYXRhKSB7XG4gICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb24gPSBjdXJyZW50VGltZTtcbiAgICB9XG5cbiAgICAvLyB0aWNrIHRvIHNwZWVkIHVwIHByb2Nlc3NpbmdcbiAgICB0aGlzLnRpY2soKTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhU2Vla2VkID0gZnVuY3Rpb24gb25NZWRpYVNlZWtlZCgpIHtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhLFxuICAgICAgICBjdXJyZW50VGltZSA9IG1lZGlhID8gbWVkaWEuY3VycmVudFRpbWUgOiB1bmRlZmluZWQ7XG4gICAgaWYgKE9iamVjdChudW1iZXJfaXNGaW5pdGVbXCJhXCIgLyogaXNGaW5pdGVOdW1iZXIgKi9dKShjdXJyZW50VGltZSkpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbWVkaWEgc2Vla2VkIHRvICcgKyBjdXJyZW50VGltZS50b0ZpeGVkKDMpKTtcbiAgICB9XG5cbiAgICAvLyB0aWNrIHRvIHNwZWVkIHVwIEZSQUdNRU5UX1BMQVlJTkcgdHJpZ2dlcmluZ1xuICAgIHRoaXMudGljaygpO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFFbmRlZCA9IGZ1bmN0aW9uIG9uTWVkaWFFbmRlZCgpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21lZGlhIGVuZGVkJyk7XG4gICAgLy8gcmVzZXQgc3RhcnRQb3NpdGlvbiBhbmQgbGFzdEN1cnJlbnRUaW1lIHRvIHJlc3RhcnQgcGxheWJhY2sgQCBzdHJlYW0gYmVnaW5uaW5nXG4gICAgdGhpcy5zdGFydFBvc2l0aW9uID0gdGhpcy5sYXN0Q3VycmVudFRpbWUgPSAwO1xuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkaW5nID0gZnVuY3Rpb24gb25NYW5pZmVzdExvYWRpbmcoKSB7XG4gICAgLy8gcmVzZXQgYnVmZmVyIG9uIG1hbmlmZXN0IGxvYWRpbmdcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3RyaWdnZXIgQlVGRkVSX1JFU0VUJyk7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX1JFU0VUKTtcbiAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5yZW1vdmVBbGxGcmFnbWVudHMoKTtcbiAgICB0aGlzLnN0YWxsZWQgPSBmYWxzZTtcbiAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdFBhcnNlZCA9IGZ1bmN0aW9uIG9uTWFuaWZlc3RQYXJzZWQoZGF0YSkge1xuICAgIHZhciBhYWMgPSBmYWxzZSxcbiAgICAgICAgaGVhYWMgPSBmYWxzZSxcbiAgICAgICAgY29kZWMgPSB2b2lkIDA7XG4gICAgZGF0YS5sZXZlbHMuZm9yRWFjaChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgIC8vIGRldGVjdCBpZiB3ZSBoYXZlIGRpZmZlcmVudCBraW5kIG9mIGF1ZGlvIGNvZGVjcyB1c2VkIGFtb25nc3QgcGxheWxpc3RzXG4gICAgICBjb2RlYyA9IGxldmVsLmF1ZGlvQ29kZWM7XG4gICAgICBpZiAoY29kZWMpIHtcbiAgICAgICAgaWYgKGNvZGVjLmluZGV4T2YoJ21wNGEuNDAuMicpICE9PSAtMSkge1xuICAgICAgICAgIGFhYyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29kZWMuaW5kZXhPZignbXA0YS40MC41JykgIT09IC0xKSB7XG4gICAgICAgICAgaGVhYWMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5hdWRpb0NvZGVjU3dpdGNoID0gYWFjICYmIGhlYWFjO1xuICAgIGlmICh0aGlzLmF1ZGlvQ29kZWNTd2l0Y2gpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYm90aCBBQUMvSEUtQUFDIGF1ZGlvIGZvdW5kIGluIGxldmVsczsgZGVjbGFyaW5nIGxldmVsIGNvZGVjIGFzIEhFLUFBQycpO1xuICAgIH1cblxuICAgIHRoaXMubGV2ZWxzID0gZGF0YS5sZXZlbHM7XG4gICAgdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgaWYgKGNvbmZpZy5hdXRvU3RhcnRMb2FkIHx8IHRoaXMuZm9yY2VTdGFydExvYWQpIHtcbiAgICAgIHRoaXMuaGxzLnN0YXJ0TG9hZChjb25maWcuc3RhcnRQb3NpdGlvbik7XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTGV2ZWxMb2FkZWQgPSBmdW5jdGlvbiBvbkxldmVsTG9hZGVkKGRhdGEpIHtcbiAgICB2YXIgbmV3RGV0YWlscyA9IGRhdGEuZGV0YWlscztcbiAgICB2YXIgbmV3TGV2ZWxJZCA9IGRhdGEubGV2ZWw7XG4gICAgdmFyIGxhc3RMZXZlbCA9IHRoaXMubGV2ZWxzW3RoaXMubGV2ZWxMYXN0TG9hZGVkXTtcbiAgICB2YXIgY3VyTGV2ZWwgPSB0aGlzLmxldmVsc1tuZXdMZXZlbElkXTtcbiAgICB2YXIgZHVyYXRpb24gPSBuZXdEZXRhaWxzLnRvdGFsZHVyYXRpb247XG4gICAgdmFyIHNsaWRpbmcgPSAwO1xuXG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsZXZlbCAnICsgbmV3TGV2ZWxJZCArICcgbG9hZGVkIFsnICsgbmV3RGV0YWlscy5zdGFydFNOICsgJywnICsgbmV3RGV0YWlscy5lbmRTTiArICddLGR1cmF0aW9uOicgKyBkdXJhdGlvbik7XG5cbiAgICBpZiAobmV3RGV0YWlscy5saXZlKSB7XG4gICAgICB2YXIgY3VyRGV0YWlscyA9IGN1ckxldmVsLmRldGFpbHM7XG4gICAgICBpZiAoY3VyRGV0YWlscyAmJiBuZXdEZXRhaWxzLmZyYWdtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIHdlIGFscmVhZHkgaGF2ZSBkZXRhaWxzIGZvciB0aGF0IGxldmVsLCBtZXJnZSB0aGVtXG4gICAgICAgIG1lcmdlRGV0YWlscyhjdXJEZXRhaWxzLCBuZXdEZXRhaWxzKTtcbiAgICAgICAgc2xpZGluZyA9IG5ld0RldGFpbHMuZnJhZ21lbnRzWzBdLnN0YXJ0O1xuICAgICAgICB0aGlzLmxpdmVTeW5jUG9zaXRpb24gPSB0aGlzLmNvbXB1dGVMaXZlUG9zaXRpb24oc2xpZGluZywgY3VyRGV0YWlscyk7XG4gICAgICAgIGlmIChuZXdEZXRhaWxzLlBUU0tub3duICYmIE9iamVjdChudW1iZXJfaXNGaW5pdGVbXCJhXCIgLyogaXNGaW5pdGVOdW1iZXIgKi9dKShzbGlkaW5nKSkge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGl2ZSBwbGF5bGlzdCBzbGlkaW5nOicgKyBzbGlkaW5nLnRvRml4ZWQoMykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGl2ZSBwbGF5bGlzdCAtIG91dGRhdGVkIFBUUywgdW5rbm93biBzbGlkaW5nJyk7XG4gICAgICAgICAgYWxpZ25TdHJlYW0odGhpcy5mcmFnUHJldmlvdXMsIGxhc3RMZXZlbCwgbmV3RGV0YWlscyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGl2ZSBwbGF5bGlzdCAtIGZpcnN0IGxvYWQsIHVua25vd24gc2xpZGluZycpO1xuICAgICAgICBuZXdEZXRhaWxzLlBUU0tub3duID0gZmFsc2U7XG4gICAgICAgIGFsaWduU3RyZWFtKHRoaXMuZnJhZ1ByZXZpb3VzLCBsYXN0TGV2ZWwsIG5ld0RldGFpbHMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdEZXRhaWxzLlBUU0tub3duID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIG92ZXJyaWRlIGxldmVsIGluZm9cbiAgICBjdXJMZXZlbC5kZXRhaWxzID0gbmV3RGV0YWlscztcbiAgICB0aGlzLmxldmVsTGFzdExvYWRlZCA9IG5ld0xldmVsSWQ7XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTEVWRUxfVVBEQVRFRCwgeyBkZXRhaWxzOiBuZXdEZXRhaWxzLCBsZXZlbDogbmV3TGV2ZWxJZCB9KTtcblxuICAgIGlmICh0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGNvbXB1dGUgc3RhcnQgcG9zaXRpb24gaWYgc2V0IHRvIC0xLiB1c2UgaXQgc3RyYWlnaHQgYXdheSBpZiB2YWx1ZSBpcyBkZWZpbmVkXG4gICAgICBpZiAodGhpcy5zdGFydFBvc2l0aW9uID09PSAtMSB8fCB0aGlzLmxhc3RDdXJyZW50VGltZSA9PT0gLTEpIHtcbiAgICAgICAgLy8gZmlyc3QsIGNoZWNrIGlmIHN0YXJ0IHRpbWUgb2Zmc2V0IGhhcyBiZWVuIHNldCBpbiBwbGF5bGlzdCwgaWYgeWVzLCB1c2UgdGhpcyB2YWx1ZVxuICAgICAgICB2YXIgc3RhcnRUaW1lT2Zmc2V0ID0gbmV3RGV0YWlscy5zdGFydFRpbWVPZmZzZXQ7XG4gICAgICAgIGlmIChPYmplY3QobnVtYmVyX2lzRmluaXRlW1wiYVwiIC8qIGlzRmluaXRlTnVtYmVyICovXSkoc3RhcnRUaW1lT2Zmc2V0KSkge1xuICAgICAgICAgIGlmIChzdGFydFRpbWVPZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ25lZ2F0aXZlIHN0YXJ0IHRpbWUgb2Zmc2V0ICcgKyBzdGFydFRpbWVPZmZzZXQgKyAnLCBjb3VudCBmcm9tIGVuZCBvZiBsYXN0IGZyYWdtZW50Jyk7XG4gICAgICAgICAgICBzdGFydFRpbWVPZmZzZXQgPSBzbGlkaW5nICsgZHVyYXRpb24gKyBzdGFydFRpbWVPZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc3RhcnQgdGltZSBvZmZzZXQgZm91bmQgaW4gcGxheWxpc3QsIGFkanVzdCBzdGFydFBvc2l0aW9uIHRvICcgKyBzdGFydFRpbWVPZmZzZXQpO1xuICAgICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHN0YXJ0VGltZU9mZnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpZiBsaXZlIHBsYXlsaXN0LCBzZXQgc3RhcnQgcG9zaXRpb24gdG8gYmUgZnJhZ21lbnQgTi10aGlzLmNvbmZpZy5saXZlU3luY0R1cmF0aW9uQ291bnQgKHVzdWFsbHkgMylcbiAgICAgICAgICBpZiAobmV3RGV0YWlscy5saXZlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmNvbXB1dGVMaXZlUG9zaXRpb24oc2xpZGluZywgbmV3RGV0YWlscyk7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2NvbmZpZ3VyZSBzdGFydFBvc2l0aW9uIHRvICcgKyB0aGlzLnN0YXJ0UG9zaXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RDdXJyZW50VGltZSA9IHRoaXMuc3RhcnRQb3NpdGlvbjtcbiAgICAgIH1cbiAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IHRoaXMuc3RhcnRQb3NpdGlvbjtcbiAgICB9XG4gICAgLy8gb25seSBzd2l0Y2ggYmF0Y2sgdG8gSURMRSBzdGF0ZSBpZiB3ZSB3ZXJlIHdhaXRpbmcgZm9yIGxldmVsIHRvIHN0YXJ0IGRvd25sb2FkaW5nIGEgbmV3IGZyYWdtZW50XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLldBSVRJTkdfTEVWRUwpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgIH1cblxuICAgIC8vIHRyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICB0aGlzLnRpY2soKTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbktleUxvYWRlZCA9IGZ1bmN0aW9uIG9uS2V5TG9hZGVkKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09PSBTdGF0ZS5LRVlfTE9BRElORykge1xuICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZGVkID0gZnVuY3Rpb24gb25GcmFnTG9hZGVkKGRhdGEpIHtcbiAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50LFxuICAgICAgICBobHMgPSB0aGlzLmhscyxcbiAgICAgICAgbGV2ZWxzID0gdGhpcy5sZXZlbHMsXG4gICAgICAgIG1lZGlhID0gdGhpcy5tZWRpYTtcblxuICAgIHZhciBmcmFnTG9hZGVkID0gZGF0YS5mcmFnO1xuICAgIGlmICh0aGlzLnN0YXRlID09PSBTdGF0ZS5GUkFHX0xPQURJTkcgJiYgZnJhZ0N1cnJlbnQgJiYgZnJhZ0xvYWRlZC50eXBlID09PSAnbWFpbicgJiYgZnJhZ0xvYWRlZC5sZXZlbCA9PT0gZnJhZ0N1cnJlbnQubGV2ZWwgJiYgZnJhZ0xvYWRlZC5zbiA9PT0gZnJhZ0N1cnJlbnQuc24pIHtcbiAgICAgIHZhciBzdGF0cyA9IGRhdGEuc3RhdHM7XG4gICAgICB2YXIgY3VycmVudExldmVsID0gbGV2ZWxzW2ZyYWdDdXJyZW50LmxldmVsXTtcbiAgICAgIHZhciBkZXRhaWxzID0gY3VycmVudExldmVsLmRldGFpbHM7XG4gICAgICAvLyByZXNldCBmcmFnIGJpdHJhdGUgdGVzdCBpbiBhbnkgY2FzZSBhZnRlciBmcmFnIGxvYWRlZCBldmVudFxuICAgICAgLy8gaWYgdGhpcyBmcmFnIHdhcyBsb2FkZWQgdG8gcGVyZm9ybSBhIGJpdHJhdGUgdGVzdCBBTkQgaWYgaGxzLm5leHRMb2FkTGV2ZWwgaXMgZ3JlYXRlciB0aGFuIDBcbiAgICAgIC8vIHRoZW4gdGhpcyBtZWFucyB0aGF0IHdlIHNob3VsZCBiZSBhYmxlIHRvIGxvYWQgYSBmcmFnbWVudCBhdCBhIGhpZ2hlciBxdWFsaXR5IGxldmVsXG4gICAgICB0aGlzLmJpdHJhdGVUZXN0ID0gZmFsc2U7XG4gICAgICB0aGlzLnN0YXRzID0gc3RhdHM7XG5cbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTG9hZGVkICcgKyBmcmFnQ3VycmVudC5zbiArICcgb2YgWycgKyBkZXRhaWxzLnN0YXJ0U04gKyAnICwnICsgZGV0YWlscy5lbmRTTiArICddLGxldmVsICcgKyBmcmFnQ3VycmVudC5sZXZlbCk7XG4gICAgICBpZiAoZnJhZ0xvYWRlZC5iaXRyYXRlVGVzdCAmJiBobHMubmV4dExvYWRMZXZlbCkge1xuICAgICAgICAvLyBzd2l0Y2ggYmFjayB0byBJRExFIHN0YXRlIC4uLiB3ZSBqdXN0IGxvYWRlZCBhIGZyYWdtZW50IHRvIGRldGVybWluZSBhZGVxdWF0ZSBzdGFydCBiaXRyYXRlIGFuZCBpbml0aWFsaXplIGF1dG9zd2l0Y2ggYWxnb1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgc3RhdHMudHBhcnNlZCA9IHN0YXRzLnRidWZmZXJlZCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnQ3VycmVudCwgaWQ6ICdtYWluJyB9KTtcbiAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICB9IGVsc2UgaWYgKGZyYWdMb2FkZWQuc24gPT09ICdpbml0U2VnbWVudCcpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgIHN0YXRzLnRwYXJzZWQgPSBzdGF0cy50YnVmZmVyZWQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGRldGFpbHMuaW5pdFNlZ21lbnQuZGF0YSA9IGRhdGEucGF5bG9hZDtcbiAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnQ3VycmVudCwgaWQ6ICdtYWluJyB9KTtcbiAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1BhcnNpbmcgJyArIGZyYWdDdXJyZW50LnNuICsgJyBvZiBbJyArIGRldGFpbHMuc3RhcnRTTiArICcgLCcgKyBkZXRhaWxzLmVuZFNOICsgJ10sbGV2ZWwgJyArIGZyYWdDdXJyZW50LmxldmVsICsgJywgY2MgJyArIGZyYWdDdXJyZW50LmNjKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLlBBUlNJTkc7XG4gICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlcmluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuYXBwZW5kZWQgPSBmYWxzZTtcblxuICAgICAgICAvLyBCaXRyYXRlIHRlc3QgZnJhZ3MgYXJlIG5vdCB1c3VhbGx5IGJ1ZmZlcmVkIHNvIHRoZSBmcmFnbWVudCB0cmFja2VyIGlnbm9yZXMgdGhlbS4gSWYgSGxzLmpzIGRlY2lkZXMgdG8gYnVmZmVyXG4gICAgICAgIC8vIGl0IChhbmQgdGhlcmVmb3JlIGVuZHMgdXAgYXQgdGhpcyBsaW5lKSwgdGhlbiB0aGUgZnJhZ21lbnQgdHJhY2tlciBuZWVkcyB0byBiZSBtYW51YWxseSBpbmZvcm1lZC5cbiAgICAgICAgaWYgKGZyYWdMb2FkZWQuYml0cmF0ZVRlc3QpIHtcbiAgICAgICAgICBmcmFnTG9hZGVkLmJpdHJhdGVUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIub25GcmFnTG9hZGVkKHtcbiAgICAgICAgICAgIGZyYWc6IGZyYWdMb2FkZWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRpbWUgT2Zmc2V0IGlzIGFjY3VyYXRlIGlmIGxldmVsIFBUUyBpcyBrbm93biwgb3IgaWYgcGxheWxpc3QgaXMgbm90IHNsaWRpbmcgKG5vdCBsaXZlKSBhbmQgaWYgbWVkaWEgaXMgbm90IHNlZWtpbmcgKHRoaXMgaXMgdG8gb3ZlcmNvbWUgcG90ZW50aWFsIHRpbWVzdGFtcCBkcmlmdHMgYmV0d2VlbiBwbGF5bGlzdHMgYW5kIGZyYWdtZW50cylcbiAgICAgICAgdmFyIGFjY3VyYXRlVGltZU9mZnNldCA9ICEobWVkaWEgJiYgbWVkaWEuc2Vla2luZykgJiYgKGRldGFpbHMuUFRTS25vd24gfHwgIWRldGFpbHMubGl2ZSk7XG4gICAgICAgIHZhciBpbml0U2VnbWVudERhdGEgPSBkZXRhaWxzLmluaXRTZWdtZW50ID8gZGV0YWlscy5pbml0U2VnbWVudC5kYXRhIDogW107XG4gICAgICAgIHZhciBhdWRpb0NvZGVjID0gdGhpcy5fZ2V0QXVkaW9Db2RlYyhjdXJyZW50TGV2ZWwpO1xuXG4gICAgICAgIC8vIHRyYW5zbXV4IHRoZSBNUEVHLVRTIGRhdGEgdG8gSVNPLUJNRkYgc2VnbWVudHNcbiAgICAgICAgdmFyIGRlbXV4ZXIgPSB0aGlzLmRlbXV4ZXIgPSB0aGlzLmRlbXV4ZXIgfHwgbmV3IGRlbXV4X2RlbXV4ZXIodGhpcy5obHMsICdtYWluJyk7XG4gICAgICAgIGRlbXV4ZXIucHVzaChkYXRhLnBheWxvYWQsIGluaXRTZWdtZW50RGF0YSwgYXVkaW9Db2RlYywgY3VycmVudExldmVsLnZpZGVvQ29kZWMsIGZyYWdDdXJyZW50LCBkZXRhaWxzLnRvdGFsZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZnJhZ0xvYWRFcnJvciA9IDA7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnUGFyc2luZ0luaXRTZWdtZW50ID0gZnVuY3Rpb24gb25GcmFnUGFyc2luZ0luaXRTZWdtZW50KGRhdGEpIHtcbiAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIHZhciBmcmFnTmV3ID0gZGF0YS5mcmFnO1xuXG4gICAgaWYgKGZyYWdDdXJyZW50ICYmIGRhdGEuaWQgPT09ICdtYWluJyAmJiBmcmFnTmV3LnNuID09PSBmcmFnQ3VycmVudC5zbiAmJiBmcmFnTmV3LmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJiB0aGlzLnN0YXRlID09PSBTdGF0ZS5QQVJTSU5HKSB7XG4gICAgICB2YXIgdHJhY2tzID0gZGF0YS50cmFja3MsXG4gICAgICAgICAgdHJhY2tOYW1lID0gdm9pZCAwLFxuICAgICAgICAgIHRyYWNrID0gdm9pZCAwO1xuXG4gICAgICAvLyBpZiBhdWRpbyB0cmFjayBpcyBleHBlY3RlZCB0byBjb21lIGZyb20gYXVkaW8gc3RyZWFtIGNvbnRyb2xsZXIsIGRpc2NhcmQgYW55IGNvbWluZyBmcm9tIG1haW5cbiAgICAgIGlmICh0cmFja3MuYXVkaW8gJiYgdGhpcy5hbHRBdWRpbykge1xuICAgICAgICBkZWxldGUgdHJhY2tzLmF1ZGlvO1xuICAgICAgfVxuXG4gICAgICAvLyBpbmNsdWRlIGxldmVsQ29kZWMgaW4gYXVkaW8gYW5kIHZpZGVvIHRyYWNrc1xuICAgICAgdHJhY2sgPSB0cmFja3MuYXVkaW87XG4gICAgICBpZiAodHJhY2spIHtcbiAgICAgICAgdmFyIGF1ZGlvQ29kZWMgPSB0aGlzLmxldmVsc1t0aGlzLmxldmVsXS5hdWRpb0NvZGVjLFxuICAgICAgICAgICAgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChhdWRpb0NvZGVjICYmIHRoaXMuYXVkaW9Db2RlY1N3YXApIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N3YXBwaW5nIHBsYXlsaXN0IGF1ZGlvIGNvZGVjJyk7XG4gICAgICAgICAgaWYgKGF1ZGlvQ29kZWMuaW5kZXhPZignbXA0YS40MC41JykgIT09IC0xKSB7XG4gICAgICAgICAgICBhdWRpb0NvZGVjID0gJ21wNGEuNDAuMic7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC41JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW4gY2FzZSBBQUMgYW5kIEhFLUFBQyBhdWRpbyBjb2RlY3MgYXJlIHNpZ25hbGxlZCBpbiBtYW5pZmVzdFxuICAgICAgICAvLyBmb3JjZSBIRS1BQUMgLCBhcyBpdCBzZWVtcyB0aGF0IG1vc3QgYnJvd3NlcnMgcHJlZmVycyB0aGF0IHdheSxcbiAgICAgICAgLy8gZXhjZXB0IGZvciBtb25vIHN0cmVhbXMgT1Igb24gRkZcbiAgICAgICAgLy8gdGhlc2UgY29uZGl0aW9ucyBtaWdodCBuZWVkIHRvIGJlIHJldmlld2VkIC4uLlxuICAgICAgICBpZiAodGhpcy5hdWRpb0NvZGVjU3dpdGNoKSB7XG4gICAgICAgICAgLy8gZG9uJ3QgZm9yY2UgSEUtQUFDIGlmIG1vbm8gc3RyZWFtXG4gICAgICAgICAgaWYgKHRyYWNrLm1ldGFkYXRhLmNoYW5uZWxDb3VudCAhPT0gMSAmJlxuICAgICAgICAgIC8vIGRvbid0IGZvcmNlIEhFLUFBQyBpZiBmaXJlZm94XG4gICAgICAgICAgdWEuaW5kZXhPZignZmlyZWZveCcpID09PSAtMSkge1xuICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjUnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBIRS1BQUMgaXMgYnJva2VuIG9uIEFuZHJvaWQsIGFsd2F5cyBzaWduYWwgYXVkaW8gY29kZWMgYXMgQUFDIGV2ZW4gaWYgdmFyaWFudCBtYW5pZmVzdCBzdGF0ZXMgb3RoZXJ3aXNlXG4gICAgICAgIGlmICh1YS5pbmRleE9mKCdhbmRyb2lkJykgIT09IC0xICYmIHRyYWNrLmNvbnRhaW5lciAhPT0gJ2F1ZGlvL21wZWcnKSB7XG4gICAgICAgICAgLy8gRXhjbHVkZSBtcGVnIGF1ZGlvXG4gICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjInO1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnQW5kcm9pZDogZm9yY2UgYXVkaW8gY29kZWMgdG8gJyArIGF1ZGlvQ29kZWMpO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrLmxldmVsQ29kZWMgPSBhdWRpb0NvZGVjO1xuICAgICAgICB0cmFjay5pZCA9IGRhdGEuaWQ7XG4gICAgICB9XG4gICAgICB0cmFjayA9IHRyYWNrcy52aWRlbztcbiAgICAgIGlmICh0cmFjaykge1xuICAgICAgICB0cmFjay5sZXZlbENvZGVjID0gdGhpcy5sZXZlbHNbdGhpcy5sZXZlbF0udmlkZW9Db2RlYztcbiAgICAgICAgdHJhY2suaWQgPSBkYXRhLmlkO1xuICAgICAgfVxuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0NPREVDUywgdHJhY2tzKTtcbiAgICAgIC8vIGxvb3AgdGhyb3VnaCB0cmFja3MgdGhhdCBhcmUgZ29pbmcgdG8gYmUgcHJvdmlkZWQgdG8gYnVmZmVyQ29udHJvbGxlclxuICAgICAgZm9yICh0cmFja05hbWUgaW4gdHJhY2tzKSB7XG4gICAgICAgIHRyYWNrID0gdHJhY2tzW3RyYWNrTmFtZV07XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbWFpbiB0cmFjazonICsgdHJhY2tOYW1lICsgJyxjb250YWluZXI6JyArIHRyYWNrLmNvbnRhaW5lciArICcsY29kZWNzW2xldmVsL3BhcnNlZF09WycgKyB0cmFjay5sZXZlbENvZGVjICsgJy8nICsgdHJhY2suY29kZWMgKyAnXScpO1xuICAgICAgICB2YXIgaW5pdFNlZ21lbnQgPSB0cmFjay5pbml0U2VnbWVudDtcbiAgICAgICAgaWYgKGluaXRTZWdtZW50KSB7XG4gICAgICAgICAgdGhpcy5hcHBlbmRlZCA9IHRydWU7XG4gICAgICAgICAgLy8gYXJtIHBlbmRpbmcgQnVmZmVyaW5nIGZsYWcgYmVmb3JlIGFwcGVuZGluZyBhIHNlZ21lbnRcbiAgICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXJpbmcgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9BUFBFTkRJTkcsIHsgdHlwZTogdHJhY2tOYW1lLCBkYXRhOiBpbml0U2VnbWVudCwgcGFyZW50OiAnbWFpbicsIGNvbnRlbnQ6ICdpbml0U2VnbWVudCcgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHRyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICAgIHRoaXMudGljaygpO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzaW5nRGF0YSA9IGZ1bmN0aW9uIG9uRnJhZ1BhcnNpbmdEYXRhKGRhdGEpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgdmFyIGZyYWdOZXcgPSBkYXRhLmZyYWc7XG4gICAgaWYgKGZyYWdDdXJyZW50ICYmIGRhdGEuaWQgPT09ICdtYWluJyAmJiBmcmFnTmV3LnNuID09PSBmcmFnQ3VycmVudC5zbiAmJiBmcmFnTmV3LmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJiAhKGRhdGEudHlwZSA9PT0gJ2F1ZGlvJyAmJiB0aGlzLmFsdEF1ZGlvKSAmJiAvLyBmaWx0ZXIgb3V0IG1haW4gYXVkaW8gaWYgYXVkaW8gdHJhY2sgaXMgbG9hZGVkIHRocm91Z2ggYXVkaW8gc3RyZWFtIGNvbnRyb2xsZXJcbiAgICB0aGlzLnN0YXRlID09PSBTdGF0ZS5QQVJTSU5HKSB7XG4gICAgICB2YXIgbGV2ZWwgPSB0aGlzLmxldmVsc1t0aGlzLmxldmVsXSxcbiAgICAgICAgICBmcmFnID0gZnJhZ0N1cnJlbnQ7XG4gICAgICBpZiAoIU9iamVjdChudW1iZXJfaXNGaW5pdGVbXCJhXCIgLyogaXNGaW5pdGVOdW1iZXIgKi9dKShkYXRhLmVuZFBUUykpIHtcbiAgICAgICAgZGF0YS5lbmRQVFMgPSBkYXRhLnN0YXJ0UFRTICsgZnJhZ0N1cnJlbnQuZHVyYXRpb247XG4gICAgICAgIGRhdGEuZW5kRFRTID0gZGF0YS5zdGFydERUUyArIGZyYWdDdXJyZW50LmR1cmF0aW9uO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGF0YS5oYXNBdWRpbyA9PT0gdHJ1ZSkge1xuICAgICAgICBmcmFnLmFkZEVsZW1lbnRhcnlTdHJlYW0obG9hZGVyX2ZyYWdtZW50LkVsZW1lbnRhcnlTdHJlYW1UeXBlcy5BVURJTyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhLmhhc1ZpZGVvID09PSB0cnVlKSB7XG4gICAgICAgIGZyYWcuYWRkRWxlbWVudGFyeVN0cmVhbShsb2FkZXJfZnJhZ21lbnQuRWxlbWVudGFyeVN0cmVhbVR5cGVzLlZJREVPKTtcbiAgICAgIH1cblxuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdQYXJzZWQgJyArIGRhdGEudHlwZSArICcsUFRTOlsnICsgZGF0YS5zdGFydFBUUy50b0ZpeGVkKDMpICsgJywnICsgZGF0YS5lbmRQVFMudG9GaXhlZCgzKSArICddLERUUzpbJyArIGRhdGEuc3RhcnREVFMudG9GaXhlZCgzKSArICcvJyArIGRhdGEuZW5kRFRTLnRvRml4ZWQoMykgKyAnXSxuYjonICsgZGF0YS5uYiArICcsZHJvcHBlZDonICsgKGRhdGEuZHJvcHBlZCB8fCAwKSk7XG5cbiAgICAgIC8vIERldGVjdCBnYXBzIGluIGEgZnJhZ21lbnQgIGFuZCB0cnkgdG8gZml4IGl0IGJ5IGZpbmRpbmcgYSBrZXlmcmFtZSBpbiB0aGUgcHJldmlvdXMgZnJhZ21lbnQgKHNlZSBfZmluZEZyYWdtZW50cylcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgZnJhZy5kcm9wcGVkID0gZGF0YS5kcm9wcGVkO1xuICAgICAgICBpZiAoZnJhZy5kcm9wcGVkKSB7XG4gICAgICAgICAgaWYgKCFmcmFnLmJhY2t0cmFja2VkKSB7XG4gICAgICAgICAgICB2YXIgbGV2ZWxEZXRhaWxzID0gbGV2ZWwuZGV0YWlscztcbiAgICAgICAgICAgIGlmIChsZXZlbERldGFpbHMgJiYgZnJhZy5zbiA9PT0gbGV2ZWxEZXRhaWxzLnN0YXJ0U04pIHtcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignbWlzc2luZyB2aWRlbyBmcmFtZShzKSBvbiBmaXJzdCBmcmFnLCBhcHBlbmRpbmcgd2l0aCBnYXAnLCBmcmFnLnNuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ21pc3NpbmcgdmlkZW8gZnJhbWUocyksIGJhY2t0cmFja2luZyBmcmFnbWVudCcsIGZyYWcuc24pO1xuICAgICAgICAgICAgICAvLyBSZXR1cm4gYmFjayB0byB0aGUgSURMRSBzdGF0ZSB3aXRob3V0IGFwcGVuZGluZyB0byBidWZmZXJcbiAgICAgICAgICAgICAgLy8gQ2F1c2VzIGZpbmRGcmFnbWVudHMgdG8gYmFja3RyYWNrIGEgc2VnbWVudCBhbmQgZmluZCB0aGUga2V5ZnJhbWVcbiAgICAgICAgICAgICAgLy8gQXVkaW8gZnJhZ21lbnRzIGFycml2aW5nIGJlZm9yZSB2aWRlbyBzZXRzIHRoZSBuZXh0TG9hZFBvc2l0aW9uLCBjYXVzaW5nIF9maW5kRnJhZ21lbnRzIHRvIHNraXAgdGhlIGJhY2t0cmFja2VkIGZyYWdtZW50XG4gICAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGZyYWcpO1xuICAgICAgICAgICAgICBmcmFnLmJhY2t0cmFja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gZGF0YS5zdGFydFBUUztcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgICAgICAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gZnJhZztcbiAgICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignQWxyZWFkeSBiYWNrdHJhY2tlZCBvbiB0aGlzIGZyYWdtZW50LCBhcHBlbmRpbmcgd2l0aCB0aGUgZ2FwJywgZnJhZy5zbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE9ubHkgcmVzZXQgdGhlIGJhY2t0cmFja2VkIGZsYWcgaWYgd2UndmUgbG9hZGVkIHRoZSBmcmFnIHdpdGhvdXQgYW55IGRyb3BwZWQgZnJhbWVzXG4gICAgICAgICAgZnJhZy5iYWNrdHJhY2tlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBkcmlmdCA9IHVwZGF0ZUZyYWdQVFNEVFMobGV2ZWwuZGV0YWlscywgZnJhZywgZGF0YS5zdGFydFBUUywgZGF0YS5lbmRQVFMsIGRhdGEuc3RhcnREVFMsIGRhdGEuZW5kRFRTKSxcbiAgICAgICAgICBobHMgPSB0aGlzLmhscztcbiAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9QVFNfVVBEQVRFRCwgeyBkZXRhaWxzOiBsZXZlbC5kZXRhaWxzLCBsZXZlbDogdGhpcy5sZXZlbCwgZHJpZnQ6IGRyaWZ0LCB0eXBlOiBkYXRhLnR5cGUsIHN0YXJ0OiBkYXRhLnN0YXJ0UFRTLCBlbmQ6IGRhdGEuZW5kUFRTIH0pO1xuICAgICAgLy8gaGFzIHJlbXV4ZXIgZHJvcHBlZCB2aWRlbyBmcmFtZXMgbG9jYXRlZCBiZWZvcmUgZmlyc3Qga2V5ZnJhbWUgP1xuICAgICAgW2RhdGEuZGF0YTEsIGRhdGEuZGF0YTJdLmZvckVhY2goZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICAvLyBvbmx5IGFwcGVuZCBpbiBQQVJTSU5HIHN0YXRlIChyYXRpb25hbGUgaXMgdGhhdCBhbiBhcHBlbmRpbmcgZXJyb3IgY291bGQgaGFwcGVuIHN5bmNocm9ub3VzbHkgb24gZmlyc3Qgc2VnbWVudCBhcHBlbmRpbmcpXG4gICAgICAgIC8vIGluIHRoYXQgY2FzZSBpdCBpcyB1c2VsZXNzIHRvIGFwcGVuZCBmb2xsb3dpbmcgc2VnbWVudHNcbiAgICAgICAgaWYgKGJ1ZmZlciAmJiBidWZmZXIubGVuZ3RoICYmIF90aGlzMi5zdGF0ZSA9PT0gU3RhdGUuUEFSU0lORykge1xuICAgICAgICAgIF90aGlzMi5hcHBlbmRlZCA9IHRydWU7XG4gICAgICAgICAgLy8gYXJtIHBlbmRpbmcgQnVmZmVyaW5nIGZsYWcgYmVmb3JlIGFwcGVuZGluZyBhIHNlZ21lbnRcbiAgICAgICAgICBfdGhpczIucGVuZGluZ0J1ZmZlcmluZyA9IHRydWU7XG4gICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9BUFBFTkRJTkcsIHsgdHlwZTogZGF0YS50eXBlLCBkYXRhOiBidWZmZXIsIHBhcmVudDogJ21haW4nLCBjb250ZW50OiAnZGF0YScgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgICAgdGhpcy50aWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ1BhcnNlZCA9IGZ1bmN0aW9uIG9uRnJhZ1BhcnNlZChkYXRhKSB7XG4gICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICB2YXIgZnJhZ05ldyA9IGRhdGEuZnJhZztcbiAgICBpZiAoZnJhZ0N1cnJlbnQgJiYgZGF0YS5pZCA9PT0gJ21haW4nICYmIGZyYWdOZXcuc24gPT09IGZyYWdDdXJyZW50LnNuICYmIGZyYWdOZXcubGV2ZWwgPT09IGZyYWdDdXJyZW50LmxldmVsICYmIHRoaXMuc3RhdGUgPT09IFN0YXRlLlBBUlNJTkcpIHtcbiAgICAgIHRoaXMuc3RhdHMudHBhcnNlZCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5QQVJTRUQ7XG4gICAgICB0aGlzLl9jaGVja0FwcGVuZGVkUGFyc2VkKCk7XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja1N3aXRjaGluZyA9IGZ1bmN0aW9uIG9uQXVkaW9UcmFja1N3aXRjaGluZyhkYXRhKSB7XG4gICAgLy8gaWYgYW55IFVSTCBmb3VuZCBvbiBuZXcgYXVkaW8gdHJhY2ssIGl0IGlzIGFuIGFsdGVybmF0ZSBhdWRpbyB0cmFja1xuICAgIHZhciBhbHRBdWRpbyA9ICEhZGF0YS51cmwsXG4gICAgICAgIHRyYWNrSWQgPSBkYXRhLmlkO1xuICAgIC8vIGlmIHdlIHN3aXRjaCBvbiBtYWluIGF1ZGlvLCBlbnN1cmUgdGhhdCBtYWluIGZyYWdtZW50IHNjaGVkdWxpbmcgaXMgc3luY2VkIHdpdGggbWVkaWEuYnVmZmVyZWRcbiAgICAvLyBkb24ndCBkbyBhbnl0aGluZyBpZiB3ZSBzd2l0Y2ggdG8gYWx0IGF1ZGlvOiBhdWRpbyBzdHJlYW0gY29udHJvbGxlciBpcyBoYW5kbGluZyBpdC5cbiAgICAvLyB3ZSB3aWxsIGp1c3QgaGF2ZSB0byBjaGFuZ2UgYnVmZmVyIHNjaGVkdWxpbmcgb24gYXVkaW9UcmFja1N3aXRjaGVkXG4gICAgaWYgKCFhbHRBdWRpbykge1xuICAgICAgaWYgKHRoaXMubWVkaWFCdWZmZXIgIT09IHRoaXMubWVkaWEpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2l0Y2hpbmcgb24gbWFpbiBhdWRpbywgdXNlIG1lZGlhLmJ1ZmZlcmVkIHRvIHNjaGVkdWxlIG1haW4gZnJhZ21lbnQgbG9hZGluZycpO1xuICAgICAgICB0aGlzLm1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYTtcbiAgICAgICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZWZpbGwgYXVkaW8gYnVmZmVyIGZyb20gbWFpbjogY2FuY2VsIGFueSBmcmFnIGxvYWRpbmcgdG8gc3BlZWQgdXAgYXVkaW8gc3dpdGNoXG4gICAgICAgIGlmIChmcmFnQ3VycmVudC5sb2FkZXIpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N3aXRjaGluZyB0byBtYWluIGF1ZGlvIHRyYWNrLCBjYW5jZWwgbWFpbiBmcmFnbWVudCBsb2FkJyk7XG4gICAgICAgICAgZnJhZ0N1cnJlbnQubG9hZGVyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgLy8gZGVzdHJveSBkZW11eGVyIHRvIGZvcmNlIGluaXQgc2VnbWVudCBnZW5lcmF0aW9uIChmb2xsb3dpbmcgYXVkaW8gc3dpdGNoKVxuICAgICAgICBpZiAodGhpcy5kZW11eGVyKSB7XG4gICAgICAgICAgdGhpcy5kZW11eGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICB0aGlzLmRlbXV4ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN3aXRjaCB0byBJRExFIHN0YXRlIHRvIGxvYWQgbmV3IGZyYWdtZW50XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgfVxuICAgICAgdmFyIGhscyA9IHRoaXMuaGxzO1xuICAgICAgLy8gc3dpdGNoaW5nIHRvIG1haW4gYXVkaW8sIGZsdXNoIGFsbCBhdWRpbyBhbmQgdHJpZ2dlciB0cmFjayBzd2l0Y2hlZFxuICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9GTFVTSElORywgeyBzdGFydE9mZnNldDogMCwgZW5kT2Zmc2V0OiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIHR5cGU6ICdhdWRpbycgfSk7XG4gICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfU1dJVENIRUQsIHsgaWQ6IHRyYWNrSWQgfSk7XG4gICAgICB0aGlzLmFsdEF1ZGlvID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja1N3aXRjaGVkID0gZnVuY3Rpb24gb25BdWRpb1RyYWNrU3dpdGNoZWQoZGF0YSkge1xuICAgIHZhciB0cmFja0lkID0gZGF0YS5pZCxcbiAgICAgICAgYWx0QXVkaW8gPSAhIXRoaXMuaGxzLmF1ZGlvVHJhY2tzW3RyYWNrSWRdLnVybDtcbiAgICBpZiAoYWx0QXVkaW8pIHtcbiAgICAgIHZhciB2aWRlb0J1ZmZlciA9IHRoaXMudmlkZW9CdWZmZXI7XG4gICAgICAvLyBpZiB3ZSBzd2l0Y2hlZCBvbiBhbHRlcm5hdGUgYXVkaW8sIGVuc3VyZSB0aGF0IG1haW4gZnJhZ21lbnQgc2NoZWR1bGluZyBpcyBzeW5jZWQgd2l0aCB2aWRlbyBzb3VyY2VidWZmZXIgYnVmZmVyZWRcbiAgICAgIGlmICh2aWRlb0J1ZmZlciAmJiB0aGlzLm1lZGlhQnVmZmVyICE9PSB2aWRlb0J1ZmZlcikge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N3aXRjaGluZyBvbiBhbHRlcm5hdGUgYXVkaW8sIHVzZSB2aWRlby5idWZmZXJlZCB0byBzY2hlZHVsZSBtYWluIGZyYWdtZW50IGxvYWRpbmcnKTtcbiAgICAgICAgdGhpcy5tZWRpYUJ1ZmZlciA9IHZpZGVvQnVmZmVyO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFsdEF1ZGlvID0gYWx0QXVkaW87XG4gICAgdGhpcy50aWNrKCk7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJDcmVhdGVkID0gZnVuY3Rpb24gb25CdWZmZXJDcmVhdGVkKGRhdGEpIHtcbiAgICB2YXIgdHJhY2tzID0gZGF0YS50cmFja3MsXG4gICAgICAgIG1lZGlhVHJhY2sgPSB2b2lkIDAsXG4gICAgICAgIG5hbWUgPSB2b2lkIDAsXG4gICAgICAgIGFsdGVybmF0ZSA9IGZhbHNlO1xuICAgIGZvciAodmFyIHR5cGUgaW4gdHJhY2tzKSB7XG4gICAgICB2YXIgdHJhY2sgPSB0cmFja3NbdHlwZV07XG4gICAgICBpZiAodHJhY2suaWQgPT09ICdtYWluJykge1xuICAgICAgICBuYW1lID0gdHlwZTtcbiAgICAgICAgbWVkaWFUcmFjayA9IHRyYWNrO1xuICAgICAgICAvLyBrZWVwIHZpZGVvIHNvdXJjZSBidWZmZXIgcmVmZXJlbmNlXG4gICAgICAgIGlmICh0eXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgICAgdGhpcy52aWRlb0J1ZmZlciA9IHRyYWNrc1t0eXBlXS5idWZmZXI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsdGVybmF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhbHRlcm5hdGUgJiYgbWVkaWFUcmFjaykge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhbHRlcm5hdGUgdHJhY2sgZm91bmQsIHVzZSAnICsgbmFtZSArICcuYnVmZmVyZWQgdG8gc2NoZWR1bGUgbWFpbiBmcmFnbWVudCBsb2FkaW5nJyk7XG4gICAgICB0aGlzLm1lZGlhQnVmZmVyID0gbWVkaWFUcmFjay5idWZmZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWVkaWFCdWZmZXIgPSB0aGlzLm1lZGlhO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckFwcGVuZGVkID0gZnVuY3Rpb24gb25CdWZmZXJBcHBlbmRlZChkYXRhKSB7XG4gICAgaWYgKGRhdGEucGFyZW50ID09PSAnbWFpbicpIHtcbiAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICBpZiAoc3RhdGUgPT09IFN0YXRlLlBBUlNJTkcgfHwgc3RhdGUgPT09IFN0YXRlLlBBUlNFRCkge1xuICAgICAgICAvLyBjaGVjayBpZiBhbGwgYnVmZmVycyBoYXZlIGJlZW4gYXBwZW5kZWRcbiAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyaW5nID0gZGF0YS5wZW5kaW5nID4gMDtcbiAgICAgICAgdGhpcy5fY2hlY2tBcHBlbmRlZFBhcnNlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fY2hlY2tBcHBlbmRlZFBhcnNlZCA9IGZ1bmN0aW9uIF9jaGVja0FwcGVuZGVkUGFyc2VkKCkge1xuICAgIC8vIHRyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuUEFSU0VEICYmICghdGhpcy5hcHBlbmRlZCB8fCAhdGhpcy5wZW5kaW5nQnVmZmVyaW5nKSkge1xuICAgICAgdmFyIGZyYWcgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiB0aGlzLm1lZGlhO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21haW4gYnVmZmVyZWQgOiAnICsgdGltZV9yYW5nZXMudG9TdHJpbmcobWVkaWEuYnVmZmVyZWQpKTtcbiAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBmcmFnO1xuICAgICAgICB2YXIgc3RhdHMgPSB0aGlzLnN0YXRzO1xuICAgICAgICBzdGF0cy50YnVmZmVyZWQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIC8vIHdlIHNob3VsZCBnZXQgcmlkIG9mIHRoaXMuZnJhZ0xhc3RLYnBzXG4gICAgICAgIHRoaXMuZnJhZ0xhc3RLYnBzID0gTWF0aC5yb3VuZCg4ICogc3RhdHMudG90YWwgLyAoc3RhdHMudGJ1ZmZlcmVkIC0gc3RhdHMudGZpcnN0KSk7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnLCBpZDogJ21haW4nIH0pO1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgIH1cbiAgICAgIHRoaXMudGljaygpO1xuICAgIH1cbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcihkYXRhKSB7XG4gICAgdmFyIGZyYWcgPSBkYXRhLmZyYWcgfHwgdGhpcy5mcmFnQ3VycmVudDtcbiAgICAvLyBkb24ndCBoYW5kbGUgZnJhZyBlcnJvciBub3QgcmVsYXRlZCB0byBtYWluIGZyYWdtZW50XG4gICAgaWYgKGZyYWcgJiYgZnJhZy50eXBlICE9PSAnbWFpbicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyAwLjUgOiB0b2xlcmFuY2UgbmVlZGVkIGFzIHNvbWUgYnJvd3NlcnMgc3RhbGxzIHBsYXliYWNrIGJlZm9yZSByZWFjaGluZyBidWZmZXJlZCBlbmRcbiAgICB2YXIgbWVkaWFCdWZmZXJlZCA9ICEhdGhpcy5tZWRpYSAmJiBCdWZmZXJIZWxwZXIuaXNCdWZmZXJlZCh0aGlzLm1lZGlhLCB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lKSAmJiBCdWZmZXJIZWxwZXIuaXNCdWZmZXJlZCh0aGlzLm1lZGlhLCB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lICsgMC41KTtcblxuICAgIHN3aXRjaCAoZGF0YS5kZXRhaWxzKSB7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT0FEX1RJTUVPVVQ6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLktFWV9MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5LRVlfTE9BRF9USU1FT1VUOlxuICAgICAgICBpZiAoIWRhdGEuZmF0YWwpIHtcbiAgICAgICAgICAvLyBrZWVwIHJldHJ5aW5nIHVudGlsIHRoZSBsaW1pdCB3aWxsIGJlIHJlYWNoZWRcbiAgICAgICAgICBpZiAodGhpcy5mcmFnTG9hZEVycm9yICsgMSA8PSB0aGlzLmNvbmZpZy5mcmFnTG9hZGluZ01heFJldHJ5KSB7XG4gICAgICAgICAgICAvLyBleHBvbmVudGlhbCBiYWNrb2ZmIGNhcHBlZCB0byBjb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXRcbiAgICAgICAgICAgIHZhciBkZWxheSA9IE1hdGgubWluKE1hdGgucG93KDIsIHRoaXMuZnJhZ0xvYWRFcnJvcikgKiB0aGlzLmNvbmZpZy5mcmFnTG9hZGluZ1JldHJ5RGVsYXksIHRoaXMuY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnlUaW1lb3V0KTtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ21lZGlhQ29udHJvbGxlcjogZnJhZyBsb2FkaW5nIGZhaWxlZCwgcmV0cnkgaW4gJyArIGRlbGF5ICsgJyBtcycpO1xuICAgICAgICAgICAgdGhpcy5yZXRyeURhdGUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgKyBkZWxheTtcbiAgICAgICAgICAgIC8vIHJldHJ5IGxvYWRpbmcgc3RhdGVcbiAgICAgICAgICAgIC8vIGlmIGxvYWRlZG1ldGFkYXRhIGlzIG5vdCBzZXQsIGl0IG1lYW5zIHRoYXQgd2UgYXJlIGVtZXJnZW5jeSBzd2l0Y2ggZG93biBvbiBmaXJzdCBmcmFnXG4gICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UsIHJlc2V0IHN0YXJ0RnJhZ1JlcXVlc3RlZCBmbGFnXG4gICAgICAgICAgICBpZiAoIXRoaXMubG9hZGVkbWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mcmFnTG9hZEVycm9yKys7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdtZWRpYUNvbnRyb2xsZXI6ICcgKyBkYXRhLmRldGFpbHMgKyAnIHJlYWNoZXMgbWF4IHJldHJ5LCByZWRpc3BhdGNoIGFzIGZhdGFsIC4uLicpO1xuICAgICAgICAgICAgLy8gc3dpdGNoIGVycm9yIHRvIGZhdGFsXG4gICAgICAgICAgICBkYXRhLmZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5FUlJPUjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkxFVkVMX0xPQURfRVJST1I6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkxFVkVMX0xPQURfVElNRU9VVDpcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFN0YXRlLkVSUk9SKSB7XG4gICAgICAgICAgaWYgKGRhdGEuZmF0YWwpIHtcbiAgICAgICAgICAgIC8vIGlmIGZhdGFsIGVycm9yLCBzdG9wIHByb2Nlc3NpbmdcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5FUlJPUjtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ3N0cmVhbUNvbnRyb2xsZXI6ICcgKyBkYXRhLmRldGFpbHMgKyAnLHN3aXRjaCB0byAnICsgdGhpcy5zdGF0ZSArICcgc3RhdGUgLi4uJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGluIGNhc2Ugb2Ygbm9uIGZhdGFsIGVycm9yIHdoaWxlIGxvYWRpbmcgbGV2ZWwsIGlmIGxldmVsIGNvbnRyb2xsZXIgaXMgbm90IHJldHJ5aW5nIHRvIGxvYWQgbGV2ZWwgLCBzd2l0Y2ggYmFjayB0byBJRExFXG4gICAgICAgICAgICBpZiAoIWRhdGEubGV2ZWxSZXRyeSAmJiB0aGlzLnN0YXRlID09PSBTdGF0ZS5XQUlUSU5HX0xFVkVMKSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uQlVGRkVSX0ZVTExfRVJST1I6XG4gICAgICAgIC8vIGlmIGluIGFwcGVuZGluZyBzdGF0ZVxuICAgICAgICBpZiAoZGF0YS5wYXJlbnQgPT09ICdtYWluJyAmJiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuUEFSU0lORyB8fCB0aGlzLnN0YXRlID09PSBTdGF0ZS5QQVJTRUQpKSB7XG4gICAgICAgICAgLy8gcmVkdWNlIG1heCBidWYgbGVuIGlmIGN1cnJlbnQgcG9zaXRpb24gaXMgYnVmZmVyZWRcbiAgICAgICAgICBpZiAobWVkaWFCdWZmZXJlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVkdWNlTWF4QnVmZmVyTGVuZ3RoKHRoaXMuY29uZmlnLm1heEJ1ZmZlckxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY3VycmVudCBwb3NpdGlvbiBpcyBub3QgYnVmZmVyZWQsIGJ1dCBicm93c2VyIGlzIHN0aWxsIGNvbXBsYWluaW5nIGFib3V0IGJ1ZmZlciBmdWxsIGVycm9yXG4gICAgICAgICAgICAvLyB0aGlzIGhhcHBlbnMgb24gSUUvRWRnZSwgcmVmZXIgdG8gaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvcHVsbC83MDhcbiAgICAgICAgICAgIC8vIGluIHRoYXQgY2FzZSBmbHVzaCB0aGUgd2hvbGUgYnVmZmVyIHRvIHJlY292ZXJcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2J1ZmZlciBmdWxsIGVycm9yIGFsc28gbWVkaWEuY3VycmVudFRpbWUgaXMgbm90IGJ1ZmZlcmVkLCBmbHVzaCBldmVyeXRoaW5nJyk7XG4gICAgICAgICAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGZsdXNoIGV2ZXJ5dGhpbmdcbiAgICAgICAgICAgIHRoaXMuZmx1c2hNYWluQnVmZmVyKDAsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9yZWR1Y2VNYXhCdWZmZXJMZW5ndGggPSBmdW5jdGlvbiBfcmVkdWNlTWF4QnVmZmVyTGVuZ3RoKG1pbkxlbmd0aCkge1xuICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICBpZiAoY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCA+PSBtaW5MZW5ndGgpIHtcbiAgICAgIC8vIHJlZHVjZSBtYXggYnVmZmVyIGxlbmd0aCBhcyBpdCBtaWdodCBiZSB0b28gaGlnaC4gd2UgZG8gdGhpcyB0byBhdm9pZCBsb29wIGZsdXNoaW5nIC4uLlxuICAgICAgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCAvPSAyO1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignbWFpbjpyZWR1Y2UgbWF4IGJ1ZmZlciBsZW5ndGggdG8gJyArIGNvbmZpZy5tYXhNYXhCdWZmZXJMZW5ndGggKyAncycpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHRoZSBoZWFsdGggb2YgdGhlIGJ1ZmZlciBhbmQgYXR0ZW1wdHMgdG8gcmVzb2x2ZSBwbGF5YmFjayBzdGFsbHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2NoZWNrQnVmZmVyID0gZnVuY3Rpb24gX2NoZWNrQnVmZmVyKCkge1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG5cbiAgICBpZiAoIW1lZGlhIHx8IG1lZGlhLnJlYWR5U3RhdGUgPT09IDApIHtcbiAgICAgIC8vIEV4aXQgZWFybHkgaWYgd2UgZG9uJ3QgaGF2ZSBtZWRpYSBvciBpZiB0aGUgbWVkaWEgaGFzbid0IGJ1ZmZlcmQgYW55dGhpbmcgeWV0IChyZWFkeVN0YXRlIDApXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiBtZWRpYTtcbiAgICB2YXIgYnVmZmVyZWQgPSBtZWRpYUJ1ZmZlci5idWZmZXJlZDtcblxuICAgIGlmICghdGhpcy5sb2FkZWRtZXRhZGF0YSAmJiBidWZmZXJlZC5sZW5ndGgpIHtcbiAgICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSB0cnVlO1xuICAgICAgdGhpcy5fc2Vla1RvU3RhcnRQb3MoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaW1tZWRpYXRlU3dpdGNoKSB7XG4gICAgICB0aGlzLmltbWVkaWF0ZUxldmVsU3dpdGNoRW5kKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ2FwQ29udHJvbGxlci5wb2xsKHRoaXMubGFzdEN1cnJlbnRUaW1lLCBidWZmZXJlZCk7XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRFbWVyZ2VuY3lBYm9ydGVkID0gZnVuY3Rpb24gb25GcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgLy8gaWYgbG9hZGVkbWV0YWRhdGEgaXMgbm90IHNldCwgaXQgbWVhbnMgdGhhdCB3ZSBhcmUgZW1lcmdlbmN5IHN3aXRjaCBkb3duIG9uIGZpcnN0IGZyYWdcbiAgICAvLyBpbiB0aGF0IGNhc2UsIHJlc2V0IHN0YXJ0RnJhZ1JlcXVlc3RlZCBmbGFnXG4gICAgaWYgKCF0aGlzLmxvYWRlZG1ldGFkYXRhKSB7XG4gICAgICB0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uO1xuICAgIH1cbiAgICB0aGlzLnRpY2soKTtcbiAgfTtcblxuICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckZsdXNoZWQgPSBmdW5jdGlvbiBvbkJ1ZmZlckZsdXNoZWQoKSB7XG4gICAgLyogYWZ0ZXIgc3VjY2Vzc2Z1bCBidWZmZXIgZmx1c2hpbmcsIGZpbHRlciBmbHVzaGVkIGZyYWdtZW50cyBmcm9tIGJ1ZmZlcmVkRnJhZ3NcbiAgICAgIHVzZSBtZWRpYUJ1ZmZlcmVkIGluc3RlYWQgb2YgbWVkaWEgKHNvIHRoYXQgd2Ugd2lsbCBjaGVjayBhZ2FpbnN0IHZpZGVvLmJ1ZmZlcmVkIHJhbmdlcyBpbiBjYXNlIG9mIGFsdCBhdWRpbyB0cmFjaylcbiAgICAqL1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPyB0aGlzLm1lZGlhQnVmZmVyIDogdGhpcy5tZWRpYTtcbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIC8vIGZpbHRlciBmcmFnbWVudHMgcG90ZW50aWFsbHkgZXZpY3RlZCBmcm9tIGJ1ZmZlci4gdGhpcyBpcyB0byBhdm9pZCBtZW1sZWFrIG9uIGxpdmUgc3RyZWFtc1xuICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIuZGV0ZWN0RXZpY3RlZEZyYWdtZW50cyhsb2FkZXJfZnJhZ21lbnQuRWxlbWVudGFyeVN0cmVhbVR5cGVzLlZJREVPLCBtZWRpYS5idWZmZXJlZCk7XG4gICAgfVxuICAgIC8vIG1vdmUgdG8gSURMRSBvbmNlIGZsdXNoIGNvbXBsZXRlLiB0aGlzIHNob3VsZCB0cmlnZ2VyIG5ldyBmcmFnbWVudCBsb2FkaW5nXG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgLy8gcmVzZXQgcmVmZXJlbmNlIHRvIGZyYWdcbiAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuc3dhcEF1ZGlvQ29kZWMgPSBmdW5jdGlvbiBzd2FwQXVkaW9Db2RlYygpIHtcbiAgICB0aGlzLmF1ZGlvQ29kZWNTd2FwID0gIXRoaXMuYXVkaW9Db2RlY1N3YXA7XG4gIH07XG5cbiAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuY29tcHV0ZUxpdmVQb3NpdGlvbiA9IGZ1bmN0aW9uIGNvbXB1dGVMaXZlUG9zaXRpb24oc2xpZGluZywgbGV2ZWxEZXRhaWxzKSB7XG4gICAgdmFyIHRhcmdldExhdGVuY3kgPSB0aGlzLmNvbmZpZy5saXZlU3luY0R1cmF0aW9uICE9PSB1bmRlZmluZWQgPyB0aGlzLmNvbmZpZy5saXZlU3luY0R1cmF0aW9uIDogdGhpcy5jb25maWcubGl2ZVN5bmNEdXJhdGlvbkNvdW50ICogbGV2ZWxEZXRhaWxzLnRhcmdldGR1cmF0aW9uO1xuICAgIHJldHVybiBzbGlkaW5nICsgTWF0aC5tYXgoMCwgbGV2ZWxEZXRhaWxzLnRvdGFsZHVyYXRpb24gLSB0YXJnZXRMYXRlbmN5KTtcbiAgfTtcblxuICAvKipcbiAgICogU2Vla3MgdG8gdGhlIHNldCBzdGFydFBvc2l0aW9uIGlmIG5vdCBlcXVhbCB0byB0aGUgbWVkaWFFbGVtZW50J3MgY3VycmVudCB0aW1lLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9zZWVrVG9TdGFydFBvcyA9IGZ1bmN0aW9uIF9zZWVrVG9TdGFydFBvcygpIHtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuXG4gICAgdmFyIGN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgLy8gb25seSBhZGp1c3QgY3VycmVudFRpbWUgaWYgZGlmZmVyZW50IGZyb20gc3RhcnRQb3NpdGlvbiBvciBpZiBzdGFydFBvc2l0aW9uIG5vdCBidWZmZXJlZFxuICAgIC8vIGF0IHRoYXQgc3RhZ2UsIHRoZXJlIHNob3VsZCBiZSBvbmx5IG9uZSBidWZmZXJlZCByYW5nZSwgYXMgd2UgcmVhY2ggdGhhdCBjb2RlIGFmdGVyIGZpcnN0IGZyYWdtZW50IGhhcyBiZWVuIGJ1ZmZlcmVkXG4gICAgdmFyIHN0YXJ0UG9zaXRpb24gPSBtZWRpYS5zZWVraW5nID8gY3VycmVudFRpbWUgOiB0aGlzLnN0YXJ0UG9zaXRpb247XG4gICAgLy8gaWYgY3VycmVudFRpbWUgbm90IG1hdGNoaW5nIHdpdGggZXhwZWN0ZWQgc3RhcnRQb3NpdGlvbiBvciBzdGFydFBvc2l0aW9uIG5vdCBidWZmZXJlZCBidXQgY2xvc2UgdG8gZmlyc3QgYnVmZmVyZWRcbiAgICBpZiAoY3VycmVudFRpbWUgIT09IHN0YXJ0UG9zaXRpb24pIHtcbiAgICAgIC8vIGlmIHN0YXJ0UG9zaXRpb24gbm90IGJ1ZmZlcmVkLCBsZXQncyBzZWVrIHRvIGJ1ZmZlcmVkLnN0YXJ0KDApXG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3RhcmdldCBzdGFydCBwb3NpdGlvbiBub3QgYnVmZmVyZWQsIHNlZWsgdG8gYnVmZmVyZWQuc3RhcnQoMCkgJyArIHN0YXJ0UG9zaXRpb24gKyAnIGZyb20gY3VycmVudCB0aW1lICcgKyBjdXJyZW50VGltZSArICcgJyk7XG4gICAgICBtZWRpYS5jdXJyZW50VGltZSA9IHN0YXJ0UG9zaXRpb247XG4gICAgfVxuICB9O1xuXG4gIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9nZXRBdWRpb0NvZGVjID0gZnVuY3Rpb24gX2dldEF1ZGlvQ29kZWMoY3VycmVudExldmVsKSB7XG4gICAgdmFyIGF1ZGlvQ29kZWMgPSB0aGlzLmNvbmZpZy5kZWZhdWx0QXVkaW9Db2RlYyB8fCBjdXJyZW50TGV2ZWwuYXVkaW9Db2RlYztcbiAgICBpZiAodGhpcy5hdWRpb0NvZGVjU3dhcCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2FwcGluZyBwbGF5bGlzdCBhdWRpbyBjb2RlYycpO1xuICAgICAgaWYgKGF1ZGlvQ29kZWMpIHtcbiAgICAgICAgaWYgKGF1ZGlvQ29kZWMuaW5kZXhPZignbXA0YS40MC41JykgIT09IC0xKSB7XG4gICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjInO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC41JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhdWRpb0NvZGVjO1xuICB9O1xuXG4gIHN0cmVhbV9jb250cm9sbGVyX19jcmVhdGVDbGFzcyhTdHJlYW1Db250cm9sbGVyLCBbe1xuICAgIGtleTogJ3N0YXRlJyxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXh0U3RhdGUpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBuZXh0U3RhdGUpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzU3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdtYWluIHN0cmVhbTonICsgcHJldmlvdXNTdGF0ZSArICctPicgKyBuZXh0U3RhdGUpO1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5TVFJFQU1fU1RBVEVfVFJBTlNJVElPTiwgeyBwcmV2aW91c1N0YXRlOiBwcmV2aW91c1N0YXRlLCBuZXh0U3RhdGU6IG5leHRTdGF0ZSB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2N1cnJlbnRMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIHZhciBmcmFnID0gdGhpcy5nZXRCdWZmZXJlZEZyYWcobWVkaWEuY3VycmVudFRpbWUpO1xuICAgICAgICBpZiAoZnJhZykge1xuICAgICAgICAgIHJldHVybiBmcmFnLmxldmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbmV4dEJ1ZmZlcmVkRnJhZycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIC8vIGZpcnN0IGdldCBlbmQgcmFuZ2Ugb2YgY3VycmVudCBmcmFnbWVudFxuICAgICAgICByZXR1cm4gdGhpcy5mb2xsb3dpbmdCdWZmZXJlZEZyYWcodGhpcy5nZXRCdWZmZXJlZEZyYWcobWVkaWEuY3VycmVudFRpbWUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ25leHRMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgZnJhZyA9IHRoaXMubmV4dEJ1ZmZlcmVkRnJhZztcbiAgICAgIGlmIChmcmFnKSB7XG4gICAgICAgIHJldHVybiBmcmFnLmxldmVsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2xpdmVTeW5jUG9zaXRpb24nLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xpdmVTeW5jUG9zaXRpb247XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy5fbGl2ZVN5bmNQb3NpdGlvbiA9IHZhbHVlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdHJlYW1Db250cm9sbGVyO1xufSh0YXNrX2xvb3ApO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBzdHJlYW1fY29udHJvbGxlciA9IChzdHJlYW1fY29udHJvbGxlcl9TdHJlYW1Db250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvbGV2ZWwtY29udHJvbGxlci5qc1xudmFyIGxldmVsX2NvbnRyb2xsZXJfX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBsZXZlbF9jb250cm9sbGVyX19jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gbGV2ZWxfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBsZXZlbF9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBsZXZlbF9jb250cm9sbGVyX19pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKlxuICogTGV2ZWwgQ29udHJvbGxlclxuKi9cblxuXG5cblxuXG5cblxuXG52YXIgbGV2ZWxfY29udHJvbGxlcl9fd2luZG93ID0gd2luZG93LFxuICAgIGxldmVsX2NvbnRyb2xsZXJfcGVyZm9ybWFuY2UgPSBsZXZlbF9jb250cm9sbGVyX193aW5kb3cucGVyZm9ybWFuY2U7XG5cbnZhciBsZXZlbF9jb250cm9sbGVyX0xldmVsQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIGxldmVsX2NvbnRyb2xsZXJfX2luaGVyaXRzKExldmVsQ29udHJvbGxlciwgX0V2ZW50SGFuZGxlcik7XG5cbiAgZnVuY3Rpb24gTGV2ZWxDb250cm9sbGVyKGhscykge1xuICAgIGxldmVsX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExldmVsQ29udHJvbGxlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBsZXZlbF9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5BVURJT19UUkFDS19TV0lUQ0hFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IpKTtcblxuICAgIF90aGlzLmNhbmxvYWQgPSBmYWxzZTtcbiAgICBfdGhpcy5jdXJyZW50TGV2ZWxJbmRleCA9IG51bGw7XG4gICAgX3RoaXMubWFudWFsTGV2ZWxJbmRleCA9IC0xO1xuICAgIF90aGlzLnRpbWVyID0gbnVsbDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3lpbmcgPSBmdW5jdGlvbiBvbkhhbmRsZXJEZXN0cm95aW5nKCkge1xuICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgIHRoaXMubWFudWFsTGV2ZWxJbmRleCA9IC0xO1xuICB9O1xuXG4gIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuY2xlYXJUaW1lciA9IGZ1bmN0aW9uIGNsZWFyVGltZXIoKSB7XG4gICAgaWYgKHRoaXMudGltZXIgIT09IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLnN0YXJ0TG9hZCA9IGZ1bmN0aW9uIHN0YXJ0TG9hZCgpIHtcbiAgICB2YXIgbGV2ZWxzID0gdGhpcy5fbGV2ZWxzO1xuXG4gICAgdGhpcy5jYW5sb2FkID0gdHJ1ZTtcbiAgICB0aGlzLmxldmVsUmV0cnlDb3VudCA9IDA7XG5cbiAgICAvLyBjbGVhbiB1cCBsaXZlIGxldmVsIGRldGFpbHMgdG8gZm9yY2UgcmVsb2FkIHRoZW0sIGFuZCByZXNldCBsb2FkIGVycm9yc1xuICAgIGlmIChsZXZlbHMpIHtcbiAgICAgIGxldmVscy5mb3JFYWNoKGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICBsZXZlbC5sb2FkRXJyb3IgPSAwO1xuICAgICAgICB2YXIgbGV2ZWxEZXRhaWxzID0gbGV2ZWwuZGV0YWlscztcbiAgICAgICAgaWYgKGxldmVsRGV0YWlscyAmJiBsZXZlbERldGFpbHMubGl2ZSkge1xuICAgICAgICAgIGxldmVsLmRldGFpbHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBzcGVlZCB1cCBsaXZlIHBsYXlsaXN0IHJlZnJlc2ggaWYgdGltZXIgZXhpc3RzXG4gICAgaWYgKHRoaXMudGltZXIgIT09IG51bGwpIHtcbiAgICAgIHRoaXMubG9hZExldmVsKCk7XG4gICAgfVxuICB9O1xuXG4gIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuc3RvcExvYWQgPSBmdW5jdGlvbiBzdG9wTG9hZCgpIHtcbiAgICB0aGlzLmNhbmxvYWQgPSBmYWxzZTtcbiAgfTtcblxuICBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkZWQgPSBmdW5jdGlvbiBvbk1hbmlmZXN0TG9hZGVkKGRhdGEpIHtcbiAgICB2YXIgbGV2ZWxzID0gW107XG4gICAgdmFyIGJpdHJhdGVTdGFydCA9IHZvaWQgMDtcbiAgICB2YXIgbGV2ZWxTZXQgPSB7fTtcbiAgICB2YXIgbGV2ZWxGcm9tU2V0ID0gbnVsbDtcbiAgICB2YXIgdmlkZW9Db2RlY0ZvdW5kID0gZmFsc2U7XG4gICAgdmFyIGF1ZGlvQ29kZWNGb3VuZCA9IGZhbHNlO1xuICAgIHZhciBjaHJvbWVPckZpcmVmb3ggPSAvY2hyb21lfGZpcmVmb3gvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcbiAgICB2YXIgYXVkaW9UcmFja3MgPSBbXTtcblxuICAgIC8vIHJlZ3JvdXAgcmVkdW5kYW50IGxldmVscyB0b2dldGhlclxuICAgIGRhdGEubGV2ZWxzLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICBsZXZlbC5sb2FkRXJyb3IgPSAwO1xuICAgICAgbGV2ZWwuZnJhZ21lbnRFcnJvciA9IGZhbHNlO1xuXG4gICAgICB2aWRlb0NvZGVjRm91bmQgPSB2aWRlb0NvZGVjRm91bmQgfHwgISFsZXZlbC52aWRlb0NvZGVjO1xuICAgICAgYXVkaW9Db2RlY0ZvdW5kID0gYXVkaW9Db2RlY0ZvdW5kIHx8ICEhbGV2ZWwuYXVkaW9Db2RlYyB8fCAhIShsZXZlbC5hdHRycyAmJiBsZXZlbC5hdHRycy5BVURJTyk7XG5cbiAgICAgIC8vIGVyYXNlIGF1ZGlvIGNvZGVjIGluZm8gaWYgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IG1wNGEuNDAuMzQuXG4gICAgICAvLyBkZW11eGVyIHdpbGwgYXV0b2RldGVjdCBjb2RlYyBhbmQgZmFsbGJhY2sgdG8gbXBlZy9hdWRpb1xuICAgICAgaWYgKGNocm9tZU9yRmlyZWZveCAmJiBsZXZlbC5hdWRpb0NvZGVjICYmIGxldmVsLmF1ZGlvQ29kZWMuaW5kZXhPZignbXA0YS40MC4zNCcpICE9PSAtMSkge1xuICAgICAgICBsZXZlbC5hdWRpb0NvZGVjID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBsZXZlbEZyb21TZXQgPSBsZXZlbFNldFtsZXZlbC5iaXRyYXRlXTsgLy8gRklYTUU6IHdlIHdvdWxkIGFsc28gaGF2ZSB0byBtYXRjaCB0aGUgcmVzb2x1dGlvbiBoZXJlXG5cbiAgICAgIGlmICghbGV2ZWxGcm9tU2V0KSB7XG4gICAgICAgIGxldmVsLnVybCA9IFtsZXZlbC51cmxdO1xuICAgICAgICBsZXZlbC51cmxJZCA9IDA7XG4gICAgICAgIGxldmVsU2V0W2xldmVsLmJpdHJhdGVdID0gbGV2ZWw7XG4gICAgICAgIGxldmVscy5wdXNoKGxldmVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsRnJvbVNldC51cmwucHVzaChsZXZlbC51cmwpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGV2ZWwuYXR0cnMgJiYgbGV2ZWwuYXR0cnMuQVVESU8pIHtcbiAgICAgICAgYWRkR3JvdXBJZChsZXZlbEZyb21TZXQgfHwgbGV2ZWwsICdhdWRpbycsIGxldmVsLmF0dHJzLkFVRElPKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxldmVsLmF0dHJzICYmIGxldmVsLmF0dHJzLlNVQlRJVExFUykge1xuICAgICAgICBhZGRHcm91cElkKGxldmVsRnJvbVNldCB8fCBsZXZlbCwgJ3RleHQnLCBsZXZlbC5hdHRycy5TVUJUSVRMRVMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gcmVtb3ZlIGF1ZGlvLW9ubHkgbGV2ZWwgaWYgd2UgYWxzbyBoYXZlIGxldmVscyB3aXRoIGF1ZGlvK3ZpZGVvIGNvZGVjcyBzaWduYWxsZWRcbiAgICBpZiAodmlkZW9Db2RlY0ZvdW5kICYmIGF1ZGlvQ29kZWNGb3VuZCkge1xuICAgICAgbGV2ZWxzID0gbGV2ZWxzLmZpbHRlcihmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgdmlkZW9Db2RlYyA9IF9yZWYudmlkZW9Db2RlYztcbiAgICAgICAgcmV0dXJuICEhdmlkZW9Db2RlYztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIG9ubHkga2VlcCBsZXZlbHMgd2l0aCBzdXBwb3J0ZWQgYXVkaW8vdmlkZW8gY29kZWNzXG4gICAgbGV2ZWxzID0gbGV2ZWxzLmZpbHRlcihmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgIHZhciBhdWRpb0NvZGVjID0gX3JlZjIuYXVkaW9Db2RlYyxcbiAgICAgICAgICB2aWRlb0NvZGVjID0gX3JlZjIudmlkZW9Db2RlYztcblxuICAgICAgcmV0dXJuICghYXVkaW9Db2RlYyB8fCBpc0NvZGVjU3VwcG9ydGVkSW5NcDQoYXVkaW9Db2RlYykpICYmICghdmlkZW9Db2RlYyB8fCBpc0NvZGVjU3VwcG9ydGVkSW5NcDQodmlkZW9Db2RlYykpO1xuICAgIH0pO1xuXG4gICAgaWYgKGRhdGEuYXVkaW9UcmFja3MpIHtcbiAgICAgIGF1ZGlvVHJhY2tzID0gZGF0YS5hdWRpb1RyYWNrcy5maWx0ZXIoZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHJldHVybiAhdHJhY2suYXVkaW9Db2RlYyB8fCBpc0NvZGVjU3VwcG9ydGVkSW5NcDQodHJhY2suYXVkaW9Db2RlYywgJ2F1ZGlvJyk7XG4gICAgICB9KTtcbiAgICAgIC8vIFJlYXNzaWduIGlkJ3MgYWZ0ZXIgZmlsdGVyaW5nIHNpbmNlIHRoZXkncmUgdXNlZCBhcyBhcnJheSBpbmRpY2VzXG4gICAgICBhdWRpb1RyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaywgaW5kZXgpIHtcbiAgICAgICAgdHJhY2suaWQgPSBpbmRleDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChsZXZlbHMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gc3RhcnQgYml0cmF0ZSBpcyB0aGUgZmlyc3QgYml0cmF0ZSBvZiB0aGUgbWFuaWZlc3RcbiAgICAgIGJpdHJhdGVTdGFydCA9IGxldmVsc1swXS5iaXRyYXRlO1xuICAgICAgLy8gc29ydCBsZXZlbCBvbiBiaXRyYXRlXG4gICAgICBsZXZlbHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5iaXRyYXRlIC0gYi5iaXRyYXRlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9sZXZlbHMgPSBsZXZlbHM7XG4gICAgICAvLyBmaW5kIGluZGV4IG9mIGZpcnN0IGxldmVsIGluIHNvcnRlZCBsZXZlbHNcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChsZXZlbHNbaV0uYml0cmF0ZSA9PT0gYml0cmF0ZVN0YXJ0KSB7XG4gICAgICAgICAgdGhpcy5fZmlyc3RMZXZlbCA9IGk7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdtYW5pZmVzdCBsb2FkZWQsJyArIGxldmVscy5sZW5ndGggKyAnIGxldmVsKHMpIGZvdW5kLCBmaXJzdCBiaXRyYXRlOicgKyBiaXRyYXRlU3RhcnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9QQVJTRUQsIHtcbiAgICAgICAgbGV2ZWxzOiBsZXZlbHMsXG4gICAgICAgIGF1ZGlvVHJhY2tzOiBhdWRpb1RyYWNrcyxcbiAgICAgICAgZmlyc3RMZXZlbDogdGhpcy5fZmlyc3RMZXZlbCxcbiAgICAgICAgc3RhdHM6IGRhdGEuc3RhdHMsXG4gICAgICAgIGF1ZGlvOiBhdWRpb0NvZGVjRm91bmQsXG4gICAgICAgIHZpZGVvOiB2aWRlb0NvZGVjRm91bmQsXG4gICAgICAgIGFsdEF1ZGlvOiBhdWRpb1RyYWNrcy5sZW5ndGggPiAwICYmIHZpZGVvQ29kZWNGb3VuZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7XG4gICAgICAgIHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUixcbiAgICAgICAgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uTUFOSUZFU1RfSU5DT01QQVRJQkxFX0NPREVDU19FUlJPUixcbiAgICAgICAgZmF0YWw6IHRydWUsXG4gICAgICAgIHVybDogdGhpcy5obHMudXJsLFxuICAgICAgICByZWFzb246ICdubyBsZXZlbCB3aXRoIGNvbXBhdGlibGUgY29kZWNzIGZvdW5kIGluIG1hbmlmZXN0J1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuc2V0TGV2ZWxJbnRlcm5hbCA9IGZ1bmN0aW9uIHNldExldmVsSW50ZXJuYWwobmV3TGV2ZWwpIHtcbiAgICB2YXIgbGV2ZWxzID0gdGhpcy5fbGV2ZWxzO1xuICAgIHZhciBobHMgPSB0aGlzLmhscztcbiAgICAvLyBjaGVjayBpZiBsZXZlbCBpZHggaXMgdmFsaWRcbiAgICBpZiAobmV3TGV2ZWwgPj0gMCAmJiBuZXdMZXZlbCA8IGxldmVscy5sZW5ndGgpIHtcbiAgICAgIC8vIHN0b3BwaW5nIGxpdmUgcmVsb2FkaW5nIHRpbWVyIGlmIGFueVxuICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICBpZiAodGhpcy5jdXJyZW50TGV2ZWxJbmRleCAhPT0gbmV3TGV2ZWwpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2l0Y2hpbmcgdG8gbGV2ZWwgJyArIG5ld0xldmVsKTtcbiAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWxJbmRleCA9IG5ld0xldmVsO1xuICAgICAgICB2YXIgbGV2ZWxQcm9wZXJ0aWVzID0gbGV2ZWxzW25ld0xldmVsXTtcbiAgICAgICAgbGV2ZWxQcm9wZXJ0aWVzLmxldmVsID0gbmV3TGV2ZWw7XG4gICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9TV0lUQ0hJTkcsIGxldmVsUHJvcGVydGllcyk7XG4gICAgICB9XG4gICAgICB2YXIgbGV2ZWwgPSBsZXZlbHNbbmV3TGV2ZWxdO1xuICAgICAgdmFyIGxldmVsRGV0YWlscyA9IGxldmVsLmRldGFpbHM7XG5cbiAgICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gbG9hZCBwbGF5bGlzdCBmb3IgdGhpcyBsZXZlbFxuICAgICAgaWYgKCFsZXZlbERldGFpbHMgfHwgbGV2ZWxEZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgLy8gbGV2ZWwgbm90IHJldHJpZXZlZCB5ZXQsIG9yIGxpdmUgcGxheWxpc3Qgd2UgbmVlZCB0byAocmUpbG9hZCBpdFxuICAgICAgICB2YXIgdXJsSWQgPSBsZXZlbC51cmxJZDtcbiAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX0xPQURJTkcsIHsgdXJsOiBsZXZlbC51cmxbdXJsSWRdLCBsZXZlbDogbmV3TGV2ZWwsIGlkOiB1cmxJZCB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaW52YWxpZCBsZXZlbCBpZCBnaXZlbiwgdHJpZ2dlciBlcnJvclxuICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7XG4gICAgICAgIHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5PVEhFUl9FUlJPUixcbiAgICAgICAgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uTEVWRUxfU1dJVENIX0VSUk9SLFxuICAgICAgICBsZXZlbDogbmV3TGV2ZWwsXG4gICAgICAgIGZhdGFsOiBmYWxzZSxcbiAgICAgICAgcmVhc29uOiAnaW52YWxpZCBsZXZlbCBpZHgnXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcihkYXRhKSB7XG4gICAgaWYgKGRhdGEuZmF0YWwpIHtcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5ORVRXT1JLX0VSUk9SKSB7XG4gICAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxldmVsRXJyb3IgPSBmYWxzZSxcbiAgICAgICAgZnJhZ21lbnRFcnJvciA9IGZhbHNlO1xuICAgIHZhciBsZXZlbEluZGV4ID0gdm9pZCAwO1xuXG4gICAgLy8gdHJ5IHRvIHJlY292ZXIgbm90IGZhdGFsIGVycm9yc1xuICAgIHN3aXRjaCAoZGF0YS5kZXRhaWxzKSB7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT0FEX1RJTUVPVVQ6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLktFWV9MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5LRVlfTE9BRF9USU1FT1VUOlxuICAgICAgICBsZXZlbEluZGV4ID0gZGF0YS5mcmFnLmxldmVsO1xuICAgICAgICBmcmFnbWVudEVycm9yID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkxFVkVMX0xPQURfRVJST1I6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkxFVkVMX0xPQURfVElNRU9VVDpcbiAgICAgICAgbGV2ZWxJbmRleCA9IGRhdGEuY29udGV4dC5sZXZlbDtcbiAgICAgICAgbGV2ZWxFcnJvciA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5SRU1VWF9BTExPQ19FUlJPUjpcbiAgICAgICAgbGV2ZWxJbmRleCA9IGRhdGEubGV2ZWw7XG4gICAgICAgIGxldmVsRXJyb3IgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAobGV2ZWxJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnJlY292ZXJMZXZlbChkYXRhLCBsZXZlbEluZGV4LCBsZXZlbEVycm9yLCBmcmFnbWVudEVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFN3aXRjaCB0byBhIHJlZHVuZGFudCBzdHJlYW0gaWYgYW55IGF2YWlsYWJsZS5cbiAgICogSWYgcmVkdW5kYW50IHN0cmVhbSBpcyBub3QgYXZhaWxhYmxlLCBlbWVyZ2VuY3kgc3dpdGNoIGRvd24gaWYgQUJSIG1vZGUgaXMgZW5hYmxlZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGVycm9yRXZlbnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsSW5kZXggY3VycmVudCBsZXZlbCBpbmRleFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGxldmVsRXJyb3JcbiAgICogQHBhcmFtIHtCb29sZWFufSBmcmFnbWVudEVycm9yXG4gICAqL1xuICAvLyBGSVhNRSBGaW5kIGEgYmV0dGVyIGFic3RyYWN0aW9uIHdoZXJlIGZyYWdtZW50L2xldmVsIHJldHJ5IG1hbmFnZW1lbnQgaXMgd2VsbCBkZWNvdXBsZWRcblxuXG4gIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUucmVjb3ZlckxldmVsID0gZnVuY3Rpb24gcmVjb3ZlckxldmVsKGVycm9yRXZlbnQsIGxldmVsSW5kZXgsIGxldmVsRXJyb3IsIGZyYWdtZW50RXJyb3IpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBjb25maWcgPSB0aGlzLmhscy5jb25maWc7XG4gICAgdmFyIGVycm9yRGV0YWlscyA9IGVycm9yRXZlbnQuZGV0YWlscztcblxuICAgIHZhciBsZXZlbCA9IHRoaXMuX2xldmVsc1tsZXZlbEluZGV4XTtcbiAgICB2YXIgcmVkdW5kYW50TGV2ZWxzID0gdm9pZCAwLFxuICAgICAgICBkZWxheSA9IHZvaWQgMCxcbiAgICAgICAgbmV4dExldmVsID0gdm9pZCAwO1xuXG4gICAgbGV2ZWwubG9hZEVycm9yKys7XG4gICAgbGV2ZWwuZnJhZ21lbnRFcnJvciA9IGZyYWdtZW50RXJyb3I7XG5cbiAgICBpZiAobGV2ZWxFcnJvcikge1xuICAgICAgaWYgKHRoaXMubGV2ZWxSZXRyeUNvdW50ICsgMSA8PSBjb25maWcubGV2ZWxMb2FkaW5nTWF4UmV0cnkpIHtcbiAgICAgICAgLy8gZXhwb25lbnRpYWwgYmFja29mZiBjYXBwZWQgdG8gbWF4IHJldHJ5IHRpbWVvdXRcbiAgICAgICAgZGVsYXkgPSBNYXRoLm1pbihNYXRoLnBvdygyLCB0aGlzLmxldmVsUmV0cnlDb3VudCkgKiBjb25maWcubGV2ZWxMb2FkaW5nUmV0cnlEZWxheSwgY29uZmlnLmxldmVsTG9hZGluZ01heFJldHJ5VGltZW91dCk7XG4gICAgICAgIC8vIFNjaGVkdWxlIGxldmVsIHJlbG9hZFxuICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5sb2FkTGV2ZWwoKTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAvLyBib29sZWFuIHVzZWQgdG8gaW5mb3JtIHN0cmVhbSBjb250cm9sbGVyIG5vdCB0byBzd2l0Y2ggYmFjayB0byBJRExFIG9uIG5vbiBmYXRhbCBlcnJvclxuICAgICAgICBlcnJvckV2ZW50LmxldmVsUmV0cnkgPSB0cnVlO1xuICAgICAgICB0aGlzLmxldmVsUmV0cnlDb3VudCsrO1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdsZXZlbCBjb250cm9sbGVyLCAnICsgZXJyb3JEZXRhaWxzICsgJywgcmV0cnkgaW4gJyArIGRlbGF5ICsgJyBtcywgY3VycmVudCByZXRyeSBjb3VudCBpcyAnICsgdGhpcy5sZXZlbFJldHJ5Q291bnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ2xldmVsIGNvbnRyb2xsZXIsIGNhbm5vdCByZWNvdmVyIGZyb20gJyArIGVycm9yRGV0YWlscyArICcgZXJyb3InKTtcbiAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWxJbmRleCA9IG51bGw7XG4gICAgICAgIC8vIHN0b3BwaW5nIGxpdmUgcmVsb2FkaW5nIHRpbWVyIGlmIGFueVxuICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICAgICAgLy8gc3dpdGNoIGVycm9yIHRvIGZhdGFsXG4gICAgICAgIGVycm9yRXZlbnQuZmF0YWwgPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJ5IGFueSByZWR1bmRhbnQgc3RyZWFtcyBpZiBhdmFpbGFibGUgZm9yIGJvdGggZXJyb3JzOiBsZXZlbCBhbmQgZnJhZ21lbnRcbiAgICAvLyBJZiBsZXZlbC5sb2FkRXJyb3IgcmVhY2hlcyByZWR1bmRhbnRMZXZlbHMgaXQgbWVhbnMgdGhhdCB3ZSB0cmllZCB0aGVtIGFsbCwgbm8gaG9wZSAgPT4gbGV0J3Mgc3dpdGNoIGRvd25cbiAgICBpZiAobGV2ZWxFcnJvciB8fCBmcmFnbWVudEVycm9yKSB7XG4gICAgICByZWR1bmRhbnRMZXZlbHMgPSBsZXZlbC51cmwubGVuZ3RoO1xuXG4gICAgICBpZiAocmVkdW5kYW50TGV2ZWxzID4gMSAmJiBsZXZlbC5sb2FkRXJyb3IgPCByZWR1bmRhbnRMZXZlbHMpIHtcbiAgICAgICAgbGV2ZWwudXJsSWQgPSAobGV2ZWwudXJsSWQgKyAxKSAlIHJlZHVuZGFudExldmVscztcbiAgICAgICAgbGV2ZWwuZGV0YWlscyA9IHVuZGVmaW5lZDtcblxuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdsZXZlbCBjb250cm9sbGVyLCAnICsgZXJyb3JEZXRhaWxzICsgJyBmb3IgbGV2ZWwgJyArIGxldmVsSW5kZXggKyAnOiBzd2l0Y2hpbmcgdG8gcmVkdW5kYW50IFVSTC1pZCAnICsgbGV2ZWwudXJsSWQpO1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdDdXJyZW50IGF1ZGlvIHRyYWNrIGdyb3VwIElEOicsIHRoaXMuaGxzLmF1ZGlvVHJhY2tzW3RoaXMuaGxzLmF1ZGlvVHJhY2tdLmdyb3VwSWQpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnTmV3IHZpZGVvIHF1YWxpdHkgbGV2ZWwgYXVkaW8gZ3JvdXAgaWQ6JywgbGV2ZWwuYXR0cnMuQVVESU8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2VhcmNoIGZvciBhdmFpbGFibGUgbGV2ZWxcbiAgICAgICAgaWYgKHRoaXMubWFudWFsTGV2ZWxJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAvLyBXaGVuIGxvd2VzdCBsZXZlbCBoYXMgYmVlbiByZWFjaGVkLCBsZXQncyBzdGFydCBodW50IGZyb20gdGhlIHRvcFxuICAgICAgICAgIG5leHRMZXZlbCA9IGxldmVsSW5kZXggPT09IDAgPyB0aGlzLl9sZXZlbHMubGVuZ3RoIC0gMSA6IGxldmVsSW5kZXggLSAxO1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2xldmVsIGNvbnRyb2xsZXIsICcgKyBlcnJvckRldGFpbHMgKyAnOiBzd2l0Y2ggdG8gJyArIG5leHRMZXZlbCk7XG4gICAgICAgICAgdGhpcy5obHMubmV4dEF1dG9MZXZlbCA9IHRoaXMuY3VycmVudExldmVsSW5kZXggPSBuZXh0TGV2ZWw7XG4gICAgICAgIH0gZWxzZSBpZiAoZnJhZ21lbnRFcnJvcikge1xuICAgICAgICAgIC8vIEFsbG93IGZyYWdtZW50IHJldHJ5IGFzIGxvbmcgYXMgY29uZmlndXJhdGlvbiBhbGxvd3MuXG4gICAgICAgICAgLy8gcmVzZXQgdGhpcy5fbGV2ZWwgc28gdGhhdCBhbm90aGVyIGNhbGwgdG8gc2V0IGxldmVsKCkgd2lsbCB0cmlnZ2VyIGFnYWluIGEgZnJhZyBsb2FkXG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignbGV2ZWwgY29udHJvbGxlciwgJyArIGVycm9yRGV0YWlscyArICc6IHJlbG9hZCBhIGZyYWdtZW50Jyk7XG4gICAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWxJbmRleCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gcmVzZXQgZXJyb3JzIG9uIHRoZSBzdWNjZXNzZnVsIGxvYWQgb2YgYSBmcmFnbWVudFxuXG5cbiAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdMb2FkZWQgPSBmdW5jdGlvbiBvbkZyYWdMb2FkZWQoX3JlZjMpIHtcbiAgICB2YXIgZnJhZyA9IF9yZWYzLmZyYWc7XG5cbiAgICBpZiAoZnJhZyAhPT0gdW5kZWZpbmVkICYmIGZyYWcudHlwZSA9PT0gJ21haW4nKSB7XG4gICAgICB2YXIgbGV2ZWwgPSB0aGlzLl9sZXZlbHNbZnJhZy5sZXZlbF07XG4gICAgICBpZiAobGV2ZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXZlbC5mcmFnbWVudEVycm9yID0gZmFsc2U7XG4gICAgICAgIGxldmVsLmxvYWRFcnJvciA9IDA7XG4gICAgICAgIHRoaXMubGV2ZWxSZXRyeUNvdW50ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkxldmVsTG9hZGVkID0gZnVuY3Rpb24gb25MZXZlbExvYWRlZChkYXRhKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB2YXIgbGV2ZWxJZCA9IGRhdGEubGV2ZWw7XG4gICAgLy8gb25seSBwcm9jZXNzIGxldmVsIGxvYWRlZCBldmVudHMgbWF0Y2hpbmcgd2l0aCBleHBlY3RlZCBsZXZlbFxuICAgIGlmIChsZXZlbElkICE9PSB0aGlzLmN1cnJlbnRMZXZlbEluZGV4KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGN1ckxldmVsID0gdGhpcy5fbGV2ZWxzW2xldmVsSWRdO1xuICAgIC8vIHJlc2V0IGxldmVsIGxvYWQgZXJyb3IgY291bnRlciBvbiBzdWNjZXNzZnVsIGxldmVsIGxvYWRlZCBvbmx5IGlmIHRoZXJlIGlzIG5vIGlzc3VlcyB3aXRoIGZyYWdtZW50c1xuICAgIGlmICghY3VyTGV2ZWwuZnJhZ21lbnRFcnJvcikge1xuICAgICAgY3VyTGV2ZWwubG9hZEVycm9yID0gMDtcbiAgICAgIHRoaXMubGV2ZWxSZXRyeUNvdW50ID0gMDtcbiAgICB9XG4gICAgdmFyIG5ld0RldGFpbHMgPSBkYXRhLmRldGFpbHM7XG4gICAgLy8gaWYgY3VycmVudCBwbGF5bGlzdCBpcyBhIGxpdmUgcGxheWxpc3QsIGFybSBhIHRpbWVyIHRvIHJlbG9hZCBpdFxuICAgIGlmIChuZXdEZXRhaWxzLmxpdmUpIHtcbiAgICAgIHZhciB0YXJnZXRkdXJhdGlvbk1zID0gMTAwMCAqIChuZXdEZXRhaWxzLmF2ZXJhZ2V0YXJnZXRkdXJhdGlvbiA/IG5ld0RldGFpbHMuYXZlcmFnZXRhcmdldGR1cmF0aW9uIDogbmV3RGV0YWlscy50YXJnZXRkdXJhdGlvbik7XG4gICAgICB2YXIgcmVsb2FkSW50ZXJ2YWwgPSB0YXJnZXRkdXJhdGlvbk1zLFxuICAgICAgICAgIGN1ckRldGFpbHMgPSBjdXJMZXZlbC5kZXRhaWxzO1xuICAgICAgaWYgKGN1ckRldGFpbHMgJiYgbmV3RGV0YWlscy5lbmRTTiA9PT0gY3VyRGV0YWlscy5lbmRTTikge1xuICAgICAgICAvLyBmb2xsb3cgSExTIFNwZWMsIElmIHRoZSBjbGllbnQgcmVsb2FkcyBhIFBsYXlsaXN0IGZpbGUgYW5kIGZpbmRzIHRoYXQgaXQgaGFzIG5vdFxuICAgICAgICAvLyBjaGFuZ2VkIHRoZW4gaXQgTVVTVCB3YWl0IGZvciBhIHBlcmlvZCBvZiBvbmUtaGFsZiB0aGUgdGFyZ2V0XG4gICAgICAgIC8vIGR1cmF0aW9uIGJlZm9yZSByZXRyeWluZy5cbiAgICAgICAgcmVsb2FkSW50ZXJ2YWwgLz0gMjtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzYW1lIGxpdmUgcGxheWxpc3QsIHJlbG9hZCB0d2ljZSBmYXN0ZXInKTtcbiAgICAgIH1cbiAgICAgIC8vIGRlY3JlbWVudCByZWxvYWRJbnRlcnZhbCB3aXRoIGxldmVsIGxvYWRpbmcgZGVsYXlcbiAgICAgIHJlbG9hZEludGVydmFsIC09IGxldmVsX2NvbnRyb2xsZXJfcGVyZm9ybWFuY2Uubm93KCkgLSBkYXRhLnN0YXRzLnRyZXF1ZXN0O1xuICAgICAgLy8gaW4gYW55IGNhc2UsIGRvbid0IHJlbG9hZCBtb3JlIHRoYW4gaGFsZiBvZiB0YXJnZXQgZHVyYXRpb25cbiAgICAgIHJlbG9hZEludGVydmFsID0gTWF0aC5tYXgodGFyZ2V0ZHVyYXRpb25NcyAvIDIsIE1hdGgucm91bmQocmVsb2FkSW50ZXJ2YWwpKTtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGl2ZSBwbGF5bGlzdCwgcmVsb2FkIGluICcgKyBNYXRoLnJvdW5kKHJlbG9hZEludGVydmFsKSArICcgbXMnKTtcbiAgICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5sb2FkTGV2ZWwoKTtcbiAgICAgIH0sIHJlbG9hZEludGVydmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgfVxuICB9O1xuXG4gIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25BdWRpb1RyYWNrU3dpdGNoZWQgPSBmdW5jdGlvbiBvbkF1ZGlvVHJhY2tTd2l0Y2hlZChkYXRhKSB7XG4gICAgdmFyIGF1ZGlvR3JvdXBJZCA9IHRoaXMuaGxzLmF1ZGlvVHJhY2tzW2RhdGEuaWRdLmdyb3VwSWQ7XG5cbiAgICB2YXIgY3VycmVudExldmVsID0gdGhpcy5obHMubGV2ZWxzW3RoaXMuY3VycmVudExldmVsSW5kZXhdO1xuICAgIGlmICghY3VycmVudExldmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRMZXZlbC5hdWRpb0dyb3VwSWRzKSB7XG4gICAgICB2YXIgdXJsSWQgPSBjdXJyZW50TGV2ZWwuYXVkaW9Hcm91cElkcy5maW5kSW5kZXgoZnVuY3Rpb24gKGdyb3VwSWQpIHtcbiAgICAgICAgcmV0dXJuIGdyb3VwSWQgPT09IGF1ZGlvR3JvdXBJZDtcbiAgICAgIH0pO1xuICAgICAgaWYgKHVybElkICE9PSBjdXJyZW50TGV2ZWwudXJsSWQpIHtcbiAgICAgICAgY3VycmVudExldmVsLnVybElkID0gdXJsSWQ7XG4gICAgICAgIHRoaXMuc3RhcnRMb2FkKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUubG9hZExldmVsID0gZnVuY3Rpb24gbG9hZExldmVsKCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmRlYnVnKCdjYWxsIHRvIGxvYWRMZXZlbCcpO1xuXG4gICAgaWYgKHRoaXMuY3VycmVudExldmVsSW5kZXggIT09IG51bGwgJiYgdGhpcy5jYW5sb2FkKSB7XG4gICAgICB2YXIgbGV2ZWxPYmplY3QgPSB0aGlzLl9sZXZlbHNbdGhpcy5jdXJyZW50TGV2ZWxJbmRleF07XG5cbiAgICAgIGlmICgodHlwZW9mIGxldmVsT2JqZWN0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogbGV2ZWxfY29udHJvbGxlcl9fdHlwZW9mKGxldmVsT2JqZWN0KSkgPT09ICdvYmplY3QnICYmIGxldmVsT2JqZWN0LnVybC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBsZXZlbCA9IHRoaXMuY3VycmVudExldmVsSW5kZXg7XG4gICAgICAgIHZhciBpZCA9IGxldmVsT2JqZWN0LnVybElkO1xuICAgICAgICB2YXIgdXJsID0gbGV2ZWxPYmplY3QudXJsW2lkXTtcblxuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0F0dGVtcHQgbG9hZGluZyBsZXZlbCBpbmRleCAnICsgbGV2ZWwgKyAnIHdpdGggVVJMLWlkICcgKyBpZCk7XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0N1cnJlbnQgYXVkaW8gdHJhY2sgZ3JvdXAgSUQ6JywgdGhpcy5obHMuYXVkaW9UcmFja3NbdGhpcy5obHMuYXVkaW9UcmFja10uZ3JvdXBJZCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdOZXcgdmlkZW8gcXVhbGl0eSBsZXZlbCBhdWRpbyBncm91cCBpZDonLCBsZXZlbE9iamVjdC5hdHRycy5BVURJTywgbGV2ZWwpO1xuXG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX0xPQURJTkcsIHsgdXJsOiB1cmwsIGxldmVsOiBsZXZlbCwgaWQ6IGlkIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBsZXZlbF9jb250cm9sbGVyX19jcmVhdGVDbGFzcyhMZXZlbENvbnRyb2xsZXIsIFt7XG4gICAga2V5OiAnbGV2ZWxzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9sZXZlbHM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudExldmVsSW5kZXg7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdMZXZlbCkge1xuICAgICAgdmFyIGxldmVscyA9IHRoaXMuX2xldmVscztcbiAgICAgIGlmIChsZXZlbHMpIHtcbiAgICAgICAgbmV3TGV2ZWwgPSBNYXRoLm1pbihuZXdMZXZlbCwgbGV2ZWxzLmxlbmd0aCAtIDEpO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50TGV2ZWxJbmRleCAhPT0gbmV3TGV2ZWwgfHwgIWxldmVsc1tuZXdMZXZlbF0uZGV0YWlscykge1xuICAgICAgICAgIHRoaXMuc2V0TGV2ZWxJbnRlcm5hbChuZXdMZXZlbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdtYW51YWxMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYW51YWxMZXZlbEluZGV4O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3TGV2ZWwpIHtcbiAgICAgIHRoaXMubWFudWFsTGV2ZWxJbmRleCA9IG5ld0xldmVsO1xuICAgICAgaWYgKHRoaXMuX3N0YXJ0TGV2ZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9zdGFydExldmVsID0gbmV3TGV2ZWw7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXdMZXZlbCAhPT0gLTEpIHtcbiAgICAgICAgdGhpcy5sZXZlbCA9IG5ld0xldmVsO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2ZpcnN0TGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZpcnN0TGV2ZWw7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdMZXZlbCkge1xuICAgICAgdGhpcy5fZmlyc3RMZXZlbCA9IG5ld0xldmVsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3N0YXJ0TGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgLy8gaGxzLnN0YXJ0TGV2ZWwgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGNvbmZpZy5zdGFydExldmVsXG4gICAgICAvLyBpZiBub25lIG9mIHRoZXNlIHZhbHVlcyBhcmUgZGVmaW5lZCwgZmFsbGJhY2sgb24gdGhpcy5fZmlyc3RMZXZlbCAoZmlyc3QgcXVhbGl0eSBsZXZlbCBhcHBlYXJpbmcgaW4gdmFyaWFudCBtYW5pZmVzdClcbiAgICAgIGlmICh0aGlzLl9zdGFydExldmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIGNvbmZpZ1N0YXJ0TGV2ZWwgPSB0aGlzLmhscy5jb25maWcuc3RhcnRMZXZlbDtcbiAgICAgICAgaWYgKGNvbmZpZ1N0YXJ0TGV2ZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBjb25maWdTdGFydExldmVsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9maXJzdExldmVsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRMZXZlbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld0xldmVsKSB7XG4gICAgICB0aGlzLl9zdGFydExldmVsID0gbmV3TGV2ZWw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbmV4dExvYWRMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAodGhpcy5tYW51YWxMZXZlbEluZGV4ICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYW51YWxMZXZlbEluZGV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGxzLm5leHRBdXRvTGV2ZWw7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXh0TGV2ZWwpIHtcbiAgICAgIHRoaXMubGV2ZWwgPSBuZXh0TGV2ZWw7XG4gICAgICBpZiAodGhpcy5tYW51YWxMZXZlbEluZGV4ID09PSAtMSkge1xuICAgICAgICB0aGlzLmhscy5uZXh0QXV0b0xldmVsID0gbmV4dExldmVsO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMZXZlbENvbnRyb2xsZXI7XG59KGV2ZW50X2hhbmRsZXIpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBsZXZlbF9jb250cm9sbGVyID0gKGxldmVsX2NvbnRyb2xsZXJfTGV2ZWxDb250cm9sbGVyKTtcbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvZGVtdXgvaWQzLmpzXG52YXIgaWQzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvdGV4dHRyYWNrLXV0aWxzLmpzXG5cbmZ1bmN0aW9uIHNlbmRBZGRUcmFja0V2ZW50KHRyYWNrLCB2aWRlb0VsKSB7XG4gIHZhciBldmVudCA9IG51bGw7XG4gIHRyeSB7XG4gICAgZXZlbnQgPSBuZXcgd2luZG93LkV2ZW50KCdhZGR0cmFjaycpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBmb3IgSUUxMVxuICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZXZlbnQuaW5pdEV2ZW50KCdhZGR0cmFjaycsIGZhbHNlLCBmYWxzZSk7XG4gIH1cbiAgZXZlbnQudHJhY2sgPSB0cmFjaztcbiAgdmlkZW9FbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cblxuZnVuY3Rpb24gY2xlYXJDdXJyZW50Q3Vlcyh0cmFjaykge1xuICBpZiAodHJhY2sgJiYgdHJhY2suY3Vlcykge1xuICAgIHdoaWxlICh0cmFjay5jdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRyYWNrLnJlbW92ZUN1ZSh0cmFjay5jdWVzWzBdKTtcbiAgICB9XG4gIH1cbn1cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvaWQzLXRyYWNrLWNvbnRyb2xsZXIuanNcbmZ1bmN0aW9uIGlkM190cmFja19jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGlkM190cmFja19jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBpZDNfdHJhY2tfY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIGlkMyBtZXRhZGF0YSB0cmFjayBjb250cm9sbGVyXG4qL1xuXG5cblxuXG5cblxudmFyIGlkM190cmFja19jb250cm9sbGVyX0lEM1RyYWNrQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIGlkM190cmFja19jb250cm9sbGVyX19pbmhlcml0cyhJRDNUcmFja0NvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIElEM1RyYWNrQ29udHJvbGxlcihobHMpIHtcbiAgICBpZDNfdHJhY2tfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgSUQzVHJhY2tDb250cm9sbGVyKTtcblxuICAgIHZhciBfdGhpcyA9IGlkM190cmFja19jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9BVFRBQ0hFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0RFVEFDSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19NRVRBREFUQSkpO1xuXG4gICAgX3RoaXMuaWQzVHJhY2sgPSB1bmRlZmluZWQ7XG4gICAgX3RoaXMubWVkaWEgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgSUQzVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBldmVudF9oYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gIH07XG5cbiAgLy8gQWRkIElEMyBtZXRhdGFkYXRhIHRleHQgdHJhY2suXG5cblxuICBJRDNUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hlZCA9IGZ1bmN0aW9uIG9uTWVkaWFBdHRhY2hlZChkYXRhKSB7XG4gICAgdGhpcy5tZWRpYSA9IGRhdGEubWVkaWE7XG4gICAgaWYgKCF0aGlzLm1lZGlhKSB7fVxuICB9O1xuXG4gIElEM1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYURldGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFEZXRhY2hpbmcoKSB7XG4gICAgY2xlYXJDdXJyZW50Q3Vlcyh0aGlzLmlkM1RyYWNrKTtcbiAgICB0aGlzLmlkM1RyYWNrID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubWVkaWEgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgSUQzVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5nZXRJRDNUcmFjayA9IGZ1bmN0aW9uIGdldElEM1RyYWNrKHRleHRUcmFja3MpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRUcmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0ZXh0VHJhY2sgPSB0ZXh0VHJhY2tzW2ldO1xuICAgICAgaWYgKHRleHRUcmFjay5raW5kID09PSAnbWV0YWRhdGEnICYmIHRleHRUcmFjay5sYWJlbCA9PT0gJ2lkMycpIHtcbiAgICAgICAgLy8gc2VuZCAnYWRkdHJhY2snIHdoZW4gcmV1c2luZyB0aGUgdGV4dFRyYWNrIGZvciBtZXRhZGF0YSxcbiAgICAgICAgLy8gc2FtZSBhcyB3aGF0IHdlIGRvIGZvciBjYXB0aW9uc1xuICAgICAgICBzZW5kQWRkVHJhY2tFdmVudCh0ZXh0VHJhY2ssIHRoaXMubWVkaWEpO1xuXG4gICAgICAgIHJldHVybiB0ZXh0VHJhY2s7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm1lZGlhLmFkZFRleHRUcmFjaygnbWV0YWRhdGEnLCAnaWQzJyk7XG4gIH07XG5cbiAgSUQzVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzaW5nTWV0YWRhdGEgPSBmdW5jdGlvbiBvbkZyYWdQYXJzaW5nTWV0YWRhdGEoZGF0YSkge1xuICAgIHZhciBmcmFnbWVudCA9IGRhdGEuZnJhZztcbiAgICB2YXIgc2FtcGxlcyA9IGRhdGEuc2FtcGxlcztcblxuICAgIC8vIGNyZWF0ZSB0cmFjayBkeW5hbWljYWxseVxuICAgIGlmICghdGhpcy5pZDNUcmFjaykge1xuICAgICAgdGhpcy5pZDNUcmFjayA9IHRoaXMuZ2V0SUQzVHJhY2sodGhpcy5tZWRpYS50ZXh0VHJhY2tzKTtcbiAgICAgIHRoaXMuaWQzVHJhY2subW9kZSA9ICdoaWRkZW4nO1xuICAgIH1cblxuICAgIC8vIEF0dGVtcHQgdG8gcmVjcmVhdGUgU2FmYXJpIGZ1bmN0aW9uYWxpdHkgYnkgY3JlYXRpbmdcbiAgICAvLyBXZWJLaXREYXRhQ3VlIG9iamVjdHMgd2hlbiBhdmFpbGFibGUgYW5kIHN0b3JlIHRoZSBkZWNvZGVkXG4gICAgLy8gSUQzIGRhdGEgaW4gdGhlIHZhbHVlIHByb3BlcnR5IG9mIHRoZSBjdWVcbiAgICB2YXIgQ3VlID0gd2luZG93LldlYktpdERhdGFDdWUgfHwgd2luZG93LlZUVEN1ZSB8fCB3aW5kb3cuVGV4dFRyYWNrQ3VlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZnJhbWVzID0gaWQzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldElEM0ZyYW1lcyhzYW1wbGVzW2ldLmRhdGEpO1xuICAgICAgaWYgKGZyYW1lcykge1xuICAgICAgICB2YXIgc3RhcnRUaW1lID0gc2FtcGxlc1tpXS5wdHM7XG4gICAgICAgIHZhciBlbmRUaW1lID0gaSA8IHNhbXBsZXMubGVuZ3RoIC0gMSA/IHNhbXBsZXNbaSArIDFdLnB0cyA6IGZyYWdtZW50LmVuZFBUUztcblxuICAgICAgICAvLyBHaXZlIGEgc2xpZ2h0IGJ1bXAgdG8gdGhlIGVuZFRpbWUgaWYgaXQncyBlcXVhbCB0byBzdGFydFRpbWUgdG8gYXZvaWQgYSBTeW50YXhFcnJvciBpbiBJRVxuICAgICAgICBpZiAoc3RhcnRUaW1lID09PSBlbmRUaW1lKSB7XG4gICAgICAgICAgZW5kVGltZSArPSAwLjAwMDE7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZyYW1lcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciBmcmFtZSA9IGZyYW1lc1tqXTtcbiAgICAgICAgICAvLyBTYWZhcmkgZG9lc24ndCBwdXQgdGhlIHRpbWVzdGFtcCBmcmFtZSBpbiB0aGUgVGV4dFRyYWNrXG4gICAgICAgICAgaWYgKCFpZDNbXCJhXCIgLyogZGVmYXVsdCAqL10uaXNUaW1lU3RhbXBGcmFtZShmcmFtZSkpIHtcbiAgICAgICAgICAgIHZhciBjdWUgPSBuZXcgQ3VlKHN0YXJ0VGltZSwgZW5kVGltZSwgJycpO1xuICAgICAgICAgICAgY3VlLnZhbHVlID0gZnJhbWU7XG4gICAgICAgICAgICB0aGlzLmlkM1RyYWNrLmFkZEN1ZShjdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gSUQzVHJhY2tDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgaWQzX3RyYWNrX2NvbnRyb2xsZXIgPSAoaWQzX3RyYWNrX2NvbnRyb2xsZXJfSUQzVHJhY2tDb250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2lzLXN1cHBvcnRlZC5qc1xuXG5cbmZ1bmN0aW9uIGlzX3N1cHBvcnRlZF9pc1N1cHBvcnRlZCgpIHtcbiAgdmFyIG1lZGlhU291cmNlID0gZ2V0TWVkaWFTb3VyY2UoKTtcbiAgdmFyIHNvdXJjZUJ1ZmZlciA9IHdpbmRvdy5Tb3VyY2VCdWZmZXIgfHwgd2luZG93LldlYktpdFNvdXJjZUJ1ZmZlcjtcbiAgdmFyIGlzVHlwZVN1cHBvcnRlZCA9IG1lZGlhU291cmNlICYmIHR5cGVvZiBtZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQgPT09ICdmdW5jdGlvbicgJiYgbWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJFMDFFLG1wNGEuNDAuMlwiJyk7XG5cbiAgLy8gaWYgU291cmNlQnVmZmVyIGlzIGV4cG9zZWQgZW5zdXJlIGl0cyBBUEkgaXMgdmFsaWRcbiAgLy8gc2FmYXJpIGFuZCBvbGQgdmVyc2lvbiBvZiBDaHJvbWUgZG9lIG5vdCBleHBvc2UgU291cmNlQnVmZmVyIGdsb2JhbGx5IHNvIGNoZWNraW5nIFNvdXJjZUJ1ZmZlci5wcm90b3R5cGUgaXMgaW1wb3NzaWJsZVxuICB2YXIgc291cmNlQnVmZmVyVmFsaWRBUEkgPSAhc291cmNlQnVmZmVyIHx8IHNvdXJjZUJ1ZmZlci5wcm90b3R5cGUgJiYgdHlwZW9mIHNvdXJjZUJ1ZmZlci5wcm90b3R5cGUuYXBwZW5kQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VCdWZmZXIucHJvdG90eXBlLnJlbW92ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgcmV0dXJuICEhaXNUeXBlU3VwcG9ydGVkICYmICEhc291cmNlQnVmZmVyVmFsaWRBUEk7XG59XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy91dGlscy9ld21hLmpzXG5mdW5jdGlvbiBld21hX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qXG4gKiBjb21wdXRlIGFuIEV4cG9uZW50aWFsIFdlaWdodGVkIG1vdmluZyBhdmVyYWdlXG4gKiAtIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vdmluZ19hdmVyYWdlI0V4cG9uZW50aWFsX21vdmluZ19hdmVyYWdlXG4gKiAgLSBoZWF2aWx5IGluc3BpcmVkIGZyb20gc2hha2EtcGxheWVyXG4gKi9cblxudmFyIEVXTUEgPSBmdW5jdGlvbiAoKSB7XG4gIC8vICBBYm91dCBoYWxmIG9mIHRoZSBlc3RpbWF0ZWQgdmFsdWUgd2lsbCBiZSBmcm9tIHRoZSBsYXN0IHxoYWxmTGlmZXwgc2FtcGxlcyBieSB3ZWlnaHQuXG4gIGZ1bmN0aW9uIEVXTUEoaGFsZkxpZmUpIHtcbiAgICBld21hX19jbGFzc0NhbGxDaGVjayh0aGlzLCBFV01BKTtcblxuICAgIC8vIExhcmdlciB2YWx1ZXMgb2YgYWxwaGEgZXhwaXJlIGhpc3RvcmljYWwgZGF0YSBtb3JlIHNsb3dseS5cbiAgICB0aGlzLmFscGhhXyA9IGhhbGZMaWZlID8gTWF0aC5leHAoTWF0aC5sb2coMC41KSAvIGhhbGZMaWZlKSA6IDA7XG4gICAgdGhpcy5lc3RpbWF0ZV8gPSAwO1xuICAgIHRoaXMudG90YWxXZWlnaHRfID0gMDtcbiAgfVxuXG4gIEVXTUEucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uIHNhbXBsZSh3ZWlnaHQsIHZhbHVlKSB7XG4gICAgdmFyIGFkakFscGhhID0gTWF0aC5wb3codGhpcy5hbHBoYV8sIHdlaWdodCk7XG4gICAgdGhpcy5lc3RpbWF0ZV8gPSB2YWx1ZSAqICgxIC0gYWRqQWxwaGEpICsgYWRqQWxwaGEgKiB0aGlzLmVzdGltYXRlXztcbiAgICB0aGlzLnRvdGFsV2VpZ2h0XyArPSB3ZWlnaHQ7XG4gIH07XG5cbiAgRVdNQS5wcm90b3R5cGUuZ2V0VG90YWxXZWlnaHQgPSBmdW5jdGlvbiBnZXRUb3RhbFdlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy50b3RhbFdlaWdodF87XG4gIH07XG5cbiAgRVdNQS5wcm90b3R5cGUuZ2V0RXN0aW1hdGUgPSBmdW5jdGlvbiBnZXRFc3RpbWF0ZSgpIHtcbiAgICBpZiAodGhpcy5hbHBoYV8pIHtcbiAgICAgIHZhciB6ZXJvRmFjdG9yID0gMSAtIE1hdGgucG93KHRoaXMuYWxwaGFfLCB0aGlzLnRvdGFsV2VpZ2h0Xyk7XG4gICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZV8gLyB6ZXJvRmFjdG9yO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZV87XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBFV01BO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBld21hID0gKEVXTUEpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvZXdtYS1iYW5kd2lkdGgtZXN0aW1hdG9yLmpzXG5mdW5jdGlvbiBld21hX2JhbmR3aWR0aF9lc3RpbWF0b3JfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLypcbiAqIEVXTUEgQmFuZHdpZHRoIEVzdGltYXRvclxuICogIC0gaGVhdmlseSBpbnNwaXJlZCBmcm9tIHNoYWthLXBsYXllclxuICogVHJhY2tzIGJhbmR3aWR0aCBzYW1wbGVzIGFuZCBlc3RpbWF0ZXMgYXZhaWxhYmxlIGJhbmR3aWR0aC5cbiAqIEJhc2VkIG9uIHRoZSBtaW5pbXVtIG9mIHR3byBleHBvbmVudGlhbGx5LXdlaWdodGVkIG1vdmluZyBhdmVyYWdlcyB3aXRoXG4gKiBkaWZmZXJlbnQgaGFsZi1saXZlcy5cbiAqL1xuXG5cblxudmFyIGV3bWFfYmFuZHdpZHRoX2VzdGltYXRvcl9Fd21hQmFuZFdpZHRoRXN0aW1hdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFd21hQmFuZFdpZHRoRXN0aW1hdG9yKGhscywgc2xvdywgZmFzdCwgZGVmYXVsdEVzdGltYXRlKSB7XG4gICAgZXdtYV9iYW5kd2lkdGhfZXN0aW1hdG9yX19jbGFzc0NhbGxDaGVjayh0aGlzLCBFd21hQmFuZFdpZHRoRXN0aW1hdG9yKTtcblxuICAgIHRoaXMuaGxzID0gaGxzO1xuICAgIHRoaXMuZGVmYXVsdEVzdGltYXRlXyA9IGRlZmF1bHRFc3RpbWF0ZTtcbiAgICB0aGlzLm1pbldlaWdodF8gPSAwLjAwMTtcbiAgICB0aGlzLm1pbkRlbGF5TXNfID0gNTA7XG4gICAgdGhpcy5zbG93XyA9IG5ldyBld21hKHNsb3cpO1xuICAgIHRoaXMuZmFzdF8gPSBuZXcgZXdtYShmYXN0KTtcbiAgfVxuXG4gIEV3bWFCYW5kV2lkdGhFc3RpbWF0b3IucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uIHNhbXBsZShkdXJhdGlvbk1zLCBudW1CeXRlcykge1xuICAgIGR1cmF0aW9uTXMgPSBNYXRoLm1heChkdXJhdGlvbk1zLCB0aGlzLm1pbkRlbGF5TXNfKTtcbiAgICB2YXIgYmFuZHdpZHRoID0gODAwMCAqIG51bUJ5dGVzIC8gZHVyYXRpb25NcyxcblxuICAgIC8vIGNvbnNvbGUubG9nKCdpbnN0YW50IGJ3OicrIE1hdGgucm91bmQoYmFuZHdpZHRoKSk7XG4gICAgLy8gd2Ugd2VpZ2h0IHNhbXBsZSB1c2luZyBsb2FkaW5nIGR1cmF0aW9uLi4uLlxuICAgIHdlaWdodCA9IGR1cmF0aW9uTXMgLyAxMDAwO1xuICAgIHRoaXMuZmFzdF8uc2FtcGxlKHdlaWdodCwgYmFuZHdpZHRoKTtcbiAgICB0aGlzLnNsb3dfLnNhbXBsZSh3ZWlnaHQsIGJhbmR3aWR0aCk7XG4gIH07XG5cbiAgRXdtYUJhbmRXaWR0aEVzdGltYXRvci5wcm90b3R5cGUuY2FuRXN0aW1hdGUgPSBmdW5jdGlvbiBjYW5Fc3RpbWF0ZSgpIHtcbiAgICB2YXIgZmFzdCA9IHRoaXMuZmFzdF87XG4gICAgcmV0dXJuIGZhc3QgJiYgZmFzdC5nZXRUb3RhbFdlaWdodCgpID49IHRoaXMubWluV2VpZ2h0XztcbiAgfTtcblxuICBFd21hQmFuZFdpZHRoRXN0aW1hdG9yLnByb3RvdHlwZS5nZXRFc3RpbWF0ZSA9IGZ1bmN0aW9uIGdldEVzdGltYXRlKCkge1xuICAgIGlmICh0aGlzLmNhbkVzdGltYXRlKCkpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdzbG93IGVzdGltYXRlOicrIE1hdGgucm91bmQodGhpcy5zbG93Xy5nZXRFc3RpbWF0ZSgpKSk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnZmFzdCBlc3RpbWF0ZTonKyBNYXRoLnJvdW5kKHRoaXMuZmFzdF8uZ2V0RXN0aW1hdGUoKSkpO1xuICAgICAgLy8gVGFrZSB0aGUgbWluaW11bSBvZiB0aGVzZSB0d28gZXN0aW1hdGVzLiAgVGhpcyBzaG91bGQgaGF2ZSB0aGUgZWZmZWN0IG9mXG4gICAgICAvLyBhZGFwdGluZyBkb3duIHF1aWNrbHksIGJ1dCB1cCBtb3JlIHNsb3dseS5cbiAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLmZhc3RfLmdldEVzdGltYXRlKCksIHRoaXMuc2xvd18uZ2V0RXN0aW1hdGUoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRFc3RpbWF0ZV87XG4gICAgfVxuICB9O1xuXG4gIEV3bWFCYW5kV2lkdGhFc3RpbWF0b3IucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge307XG5cbiAgcmV0dXJuIEV3bWFCYW5kV2lkdGhFc3RpbWF0b3I7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGV3bWFfYmFuZHdpZHRoX2VzdGltYXRvciA9IChld21hX2JhbmR3aWR0aF9lc3RpbWF0b3JfRXdtYUJhbmRXaWR0aEVzdGltYXRvcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL2Fici1jb250cm9sbGVyLmpzXG5cblxudmFyIGFicl9jb250cm9sbGVyX19jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gYWJyX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gYWJyX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIGFicl9jb250cm9sbGVyX19pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKlxuICogc2ltcGxlIEFCUiBDb250cm9sbGVyXG4gKiAgLSBjb21wdXRlIG5leHQgbGV2ZWwgYmFzZWQgb24gbGFzdCBmcmFnbWVudCBidyBoZXVyaXN0aWNzXG4gKiAgLSBpbXBsZW1lbnQgYW4gYWJhbmRvbiBydWxlcyB0cmlnZ2VyZWQgaWYgd2UgaGF2ZSBsZXNzIHRoYW4gMiBmcmFnIGJ1ZmZlcmVkIGFuZCBpZiBjb21wdXRlZCBidyBzaG93cyB0aGF0IHdlIHJpc2sgYnVmZmVyIHN0YWxsaW5nXG4gKi9cblxuXG5cblxuXG5cblxuXG52YXIgYWJyX2NvbnRyb2xsZXJfX3dpbmRvdyA9IHdpbmRvdyxcbiAgICBhYnJfY29udHJvbGxlcl9wZXJmb3JtYW5jZSA9IGFicl9jb250cm9sbGVyX193aW5kb3cucGVyZm9ybWFuY2U7XG5cbnZhciBhYnJfY29udHJvbGxlcl9BYnJDb250cm9sbGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgYWJyX2NvbnRyb2xsZXJfX2luaGVyaXRzKEFickNvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIEFickNvbnRyb2xsZXIoaGxzKSB7XG4gICAgYWJyX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFickNvbnRyb2xsZXIpO1xuXG4gICAgdmFyIF90aGlzID0gYWJyX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50SGFuZGxlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BRElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19CVUZGRVJFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SKSk7XG5cbiAgICBfdGhpcy5sYXN0TG9hZGVkRnJhZ0xldmVsID0gMDtcbiAgICBfdGhpcy5fbmV4dEF1dG9MZXZlbCA9IC0xO1xuICAgIF90aGlzLmhscyA9IGhscztcbiAgICBfdGhpcy50aW1lciA9IG51bGw7XG4gICAgX3RoaXMuX2J3RXN0aW1hdG9yID0gbnVsbDtcbiAgICBfdGhpcy5vbkNoZWNrID0gX3RoaXMuX2FiYW5kb25SdWxlc0NoZWNrLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIEFickNvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgIGV2ZW50X2hhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBBYnJDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdMb2FkaW5nID0gZnVuY3Rpb24gb25GcmFnTG9hZGluZyhkYXRhKSB7XG4gICAgdmFyIGZyYWcgPSBkYXRhLmZyYWc7XG4gICAgaWYgKGZyYWcudHlwZSA9PT0gJ21haW4nKSB7XG4gICAgICBpZiAoIXRoaXMudGltZXIpIHtcbiAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IGZyYWc7XG4gICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLm9uQ2hlY2ssIDEwMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGxhenkgaW5pdCBvZiBCd0VzdGltYXRvciwgcmF0aW9uYWxlIGlzIHRoYXQgd2UgdXNlIGRpZmZlcmVudCBwYXJhbXMgZm9yIExpdmUvVm9EXG4gICAgICAvLyBzbyB3ZSBuZWVkIHRvIHdhaXQgZm9yIHN0cmVhbSBtYW5pZmVzdCAvIHBsYXlsaXN0IHR5cGUgdG8gaW5zdGFudGlhdGUgaXQuXG4gICAgICBpZiAoIXRoaXMuX2J3RXN0aW1hdG9yKSB7XG4gICAgICAgIHZhciBobHMgPSB0aGlzLmhscztcbiAgICAgICAgdmFyIGNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgICAgIHZhciBsZXZlbCA9IGZyYWcubGV2ZWw7XG4gICAgICAgIHZhciBpc0xpdmUgPSBobHMubGV2ZWxzW2xldmVsXS5kZXRhaWxzLmxpdmU7XG5cbiAgICAgICAgdmFyIGV3bWFGYXN0ID0gdm9pZCAwLFxuICAgICAgICAgICAgZXdtYVNsb3cgPSB2b2lkIDA7XG4gICAgICAgIGlmIChpc0xpdmUpIHtcbiAgICAgICAgICBld21hRmFzdCA9IGNvbmZpZy5hYnJFd21hRmFzdExpdmU7XG4gICAgICAgICAgZXdtYVNsb3cgPSBjb25maWcuYWJyRXdtYVNsb3dMaXZlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV3bWFGYXN0ID0gY29uZmlnLmFickV3bWFGYXN0Vm9EO1xuICAgICAgICAgIGV3bWFTbG93ID0gY29uZmlnLmFickV3bWFTbG93Vm9EO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J3RXN0aW1hdG9yID0gbmV3IGV3bWFfYmFuZHdpZHRoX2VzdGltYXRvcihobHMsIGV3bWFTbG93LCBld21hRmFzdCwgY29uZmlnLmFickV3bWFEZWZhdWx0RXN0aW1hdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBBYnJDb250cm9sbGVyLnByb3RvdHlwZS5fYWJhbmRvblJ1bGVzQ2hlY2sgPSBmdW5jdGlvbiBfYWJhbmRvblJ1bGVzQ2hlY2soKSB7XG4gICAgLypcbiAgICAgIG1vbml0b3IgZnJhZ21lbnQgcmV0cmlldmFsIHRpbWUuLi5cbiAgICAgIHdlIGNvbXB1dGUgZXhwZWN0ZWQgdGltZSBvZiBhcnJpdmFsIG9mIHRoZSBjb21wbGV0ZSBmcmFnbWVudC5cbiAgICAgIHdlIGNvbXBhcmUgaXQgdG8gZXhwZWN0ZWQgdGltZSBvZiBidWZmZXIgc3RhcnZhdGlvblxuICAgICovXG4gICAgdmFyIGhscyA9IHRoaXMuaGxzO1xuICAgIHZhciB2aWRlbyA9IGhscy5tZWRpYTtcbiAgICB2YXIgZnJhZyA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG5cbiAgICBpZiAoIWZyYWcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbG9hZGVyID0gZnJhZy5sb2FkZXI7XG4gICAgdmFyIG1pbkF1dG9MZXZlbCA9IGhscy5taW5BdXRvTGV2ZWw7XG5cbiAgICAvLyBpZiBsb2FkZXIgaGFzIGJlZW4gZGVzdHJveWVkIG9yIGxvYWRpbmcgaGFzIGJlZW4gYWJvcnRlZCwgc3RvcCB0aW1lciBhbmQgcmV0dXJuXG4gICAgaWYgKCFsb2FkZXIgfHwgbG9hZGVyLnN0YXRzICYmIGxvYWRlci5zdGF0cy5hYm9ydGVkKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdmcmFnIGxvYWRlciBkZXN0cm95IG9yIGFib3J0ZWQsIGRpc2FybSBhYmFuZG9uUnVsZXMnKTtcbiAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgICAgLy8gcmVzZXQgZm9yY2VkIGF1dG8gbGV2ZWwgdmFsdWUgc28gdGhhdCBuZXh0IGxldmVsIHdpbGwgYmUgc2VsZWN0ZWRcbiAgICAgIHRoaXMuX25leHRBdXRvTGV2ZWwgPSAtMTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHN0YXRzID0gbG9hZGVyLnN0YXRzO1xuICAgIC8qIG9ubHkgbW9uaXRvciBmcmFnIHJldHJpZXZhbCB0aW1lIGlmXG4gICAgKHZpZGVvIG5vdCBwYXVzZWQgT1IgZmlyc3QgZnJhZ21lbnQgYmVpbmcgbG9hZGVkKHJlYWR5IHN0YXRlID09PSBIQVZFX05PVEhJTkcgPSAwKSkgQU5EIGF1dG9zd2l0Y2hpbmcgZW5hYmxlZCBBTkQgbm90IGxvd2VzdCBsZXZlbCAoPT4gbWVhbnMgdGhhdCB3ZSBoYXZlIHNldmVyYWwgbGV2ZWxzKSAqL1xuICAgIGlmICh2aWRlbyAmJiBzdGF0cyAmJiAoIXZpZGVvLnBhdXNlZCAmJiB2aWRlby5wbGF5YmFja1JhdGUgIT09IDAgfHwgIXZpZGVvLnJlYWR5U3RhdGUpICYmIGZyYWcuYXV0b0xldmVsICYmIGZyYWcubGV2ZWwpIHtcbiAgICAgIHZhciByZXF1ZXN0RGVsYXkgPSBhYnJfY29udHJvbGxlcl9wZXJmb3JtYW5jZS5ub3coKSAtIHN0YXRzLnRyZXF1ZXN0LFxuICAgICAgICAgIHBsYXliYWNrUmF0ZSA9IE1hdGguYWJzKHZpZGVvLnBsYXliYWNrUmF0ZSk7XG4gICAgICAvLyBtb25pdG9yIGZyYWdtZW50IGxvYWQgcHJvZ3Jlc3MgYWZ0ZXIgaGFsZiBvZiBleHBlY3RlZCBmcmFnbWVudCBkdXJhdGlvbix0byBzdGFiaWxpemUgYml0cmF0ZVxuICAgICAgaWYgKHJlcXVlc3REZWxheSA+IDUwMCAqIGZyYWcuZHVyYXRpb24gLyBwbGF5YmFja1JhdGUpIHtcbiAgICAgICAgdmFyIGxldmVscyA9IGhscy5sZXZlbHMsXG4gICAgICAgICAgICBsb2FkUmF0ZSA9IE1hdGgubWF4KDEsIHN0YXRzLmJ3ID8gc3RhdHMuYncgLyA4IDogc3RhdHMubG9hZGVkICogMTAwMCAvIHJlcXVlc3REZWxheSksXG4gICAgICAgICAgICAvLyBieXRlL3M7IGF0IGxlYXN0IDEgYnl0ZS9zIHRvIGF2b2lkIGRpdmlzaW9uIGJ5IHplcm9cbiAgICAgICAgLy8gY29tcHV0ZSBleHBlY3RlZCBmcmFnbWVudCBsZW5ndGggdXNpbmcgZnJhZyBkdXJhdGlvbiBhbmQgbGV2ZWwgYml0cmF0ZS4gYWxzbyBlbnN1cmUgdGhhdCBleHBlY3RlZCBsZW4gaXMgZ3RlIHRoYW4gYWxyZWFkeSBsb2FkZWQgc2l6ZVxuICAgICAgICBsZXZlbCA9IGxldmVsc1tmcmFnLmxldmVsXSxcbiAgICAgICAgICAgIGxldmVsQml0cmF0ZSA9IGxldmVsLnJlYWxCaXRyYXRlID8gTWF0aC5tYXgobGV2ZWwucmVhbEJpdHJhdGUsIGxldmVsLmJpdHJhdGUpIDogbGV2ZWwuYml0cmF0ZSxcbiAgICAgICAgICAgIGV4cGVjdGVkTGVuID0gc3RhdHMudG90YWwgPyBzdGF0cy50b3RhbCA6IE1hdGgubWF4KHN0YXRzLmxvYWRlZCwgTWF0aC5yb3VuZChmcmFnLmR1cmF0aW9uICogbGV2ZWxCaXRyYXRlIC8gOCkpLFxuICAgICAgICAgICAgcG9zID0gdmlkZW8uY3VycmVudFRpbWUsXG4gICAgICAgICAgICBmcmFnTG9hZGVkRGVsYXkgPSAoZXhwZWN0ZWRMZW4gLSBzdGF0cy5sb2FkZWQpIC8gbG9hZFJhdGUsXG4gICAgICAgICAgICBidWZmZXJTdGFydmF0aW9uRGVsYXkgPSAoQnVmZmVySGVscGVyLmJ1ZmZlckluZm8odmlkZW8sIHBvcywgaGxzLmNvbmZpZy5tYXhCdWZmZXJIb2xlKS5lbmQgLSBwb3MpIC8gcGxheWJhY2tSYXRlO1xuICAgICAgICAvLyBjb25zaWRlciBlbWVyZ2VuY3kgc3dpdGNoIGRvd24gb25seSBpZiB3ZSBoYXZlIGxlc3MgdGhhbiAyIGZyYWcgYnVmZmVyZWQgQU5EXG4gICAgICAgIC8vIHRpbWUgdG8gZmluaXNoIGxvYWRpbmcgY3VycmVudCBmcmFnbWVudCBpcyBiaWdnZXIgdGhhbiBidWZmZXIgc3RhcnZhdGlvbiBkZWxheVxuICAgICAgICAvLyBpZSBpZiB3ZSByaXNrIGJ1ZmZlciBzdGFydmF0aW9uIGlmIGJ3IGRvZXMgbm90IGluY3JlYXNlIHF1aWNrbHlcbiAgICAgICAgaWYgKGJ1ZmZlclN0YXJ2YXRpb25EZWxheSA8IDIgKiBmcmFnLmR1cmF0aW9uIC8gcGxheWJhY2tSYXRlICYmIGZyYWdMb2FkZWREZWxheSA+IGJ1ZmZlclN0YXJ2YXRpb25EZWxheSkge1xuICAgICAgICAgIHZhciBmcmFnTGV2ZWxOZXh0TG9hZGVkRGVsYXkgPSB2b2lkIDAsXG4gICAgICAgICAgICAgIG5leHRMb2FkTGV2ZWwgPSB2b2lkIDA7XG4gICAgICAgICAgLy8gbGV0cyBpdGVyYXRlIHRocm91Z2ggbG93ZXIgbGV2ZWwgYW5kIHRyeSB0byBmaW5kIHRoZSBiaWdnZXN0IG9uZSB0aGF0IGNvdWxkIGF2b2lkIHJlYnVmZmVyaW5nXG4gICAgICAgICAgLy8gd2Ugc3RhcnQgZnJvbSBjdXJyZW50IGxldmVsIC0gMSBhbmQgd2Ugc3RlcCBkb3duICwgdW50aWwgd2UgZmluZCBhIG1hdGNoaW5nIGxldmVsXG4gICAgICAgICAgZm9yIChuZXh0TG9hZExldmVsID0gZnJhZy5sZXZlbCAtIDE7IG5leHRMb2FkTGV2ZWwgPiBtaW5BdXRvTGV2ZWw7IG5leHRMb2FkTGV2ZWwtLSkge1xuICAgICAgICAgICAgLy8gY29tcHV0ZSB0aW1lIHRvIGxvYWQgbmV4dCBmcmFnbWVudCBhdCBsb3dlciBsZXZlbFxuICAgICAgICAgICAgLy8gMC44IDogY29uc2lkZXIgb25seSA4MCUgb2YgY3VycmVudCBidyB0byBiZSBjb25zZXJ2YXRpdmVcbiAgICAgICAgICAgIC8vIDggPSBiaXRzIHBlciBieXRlIChicHMvQnBzKVxuICAgICAgICAgICAgdmFyIGxldmVsTmV4dEJpdHJhdGUgPSBsZXZlbHNbbmV4dExvYWRMZXZlbF0ucmVhbEJpdHJhdGUgPyBNYXRoLm1heChsZXZlbHNbbmV4dExvYWRMZXZlbF0ucmVhbEJpdHJhdGUsIGxldmVsc1tuZXh0TG9hZExldmVsXS5iaXRyYXRlKSA6IGxldmVsc1tuZXh0TG9hZExldmVsXS5iaXRyYXRlO1xuICAgICAgICAgICAgZnJhZ0xldmVsTmV4dExvYWRlZERlbGF5ID0gZnJhZy5kdXJhdGlvbiAqIGxldmVsTmV4dEJpdHJhdGUgLyAoOCAqIDAuOCAqIGxvYWRSYXRlKTtcbiAgICAgICAgICAgIGlmIChmcmFnTGV2ZWxOZXh0TG9hZGVkRGVsYXkgPCBidWZmZXJTdGFydmF0aW9uRGVsYXkpIHtcbiAgICAgICAgICAgICAgLy8gd2UgZm91bmQgYSBsb3dlciBsZXZlbCB0aGF0IGJlIHJlYnVmZmVyaW5nIGZyZWUgd2l0aCBjdXJyZW50IGVzdGltYXRlZCBidyAhXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBvbmx5IGVtZXJnZW5jeSBzd2l0Y2ggZG93biBpZiBpdCB0YWtlcyBsZXNzIHRpbWUgdG8gbG9hZCBuZXcgZnJhZ21lbnQgYXQgbG93ZXN0IGxldmVsIGluc3RlYWRcbiAgICAgICAgICAvLyBvZiBmaW5pc2hpbmcgbG9hZGluZyBjdXJyZW50IG9uZSAuLi5cbiAgICAgICAgICBpZiAoZnJhZ0xldmVsTmV4dExvYWRlZERlbGF5IDwgZnJhZ0xvYWRlZERlbGF5KSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdsb2FkaW5nIHRvbyBzbG93LCBhYm9ydCBmcmFnbWVudCBsb2FkaW5nIGFuZCBzd2l0Y2ggdG8gbGV2ZWwgJyArIG5leHRMb2FkTGV2ZWwgKyAnOmZyYWdMb2FkZWREZWxheVsnICsgbmV4dExvYWRMZXZlbCArICddPGZyYWdMb2FkZWREZWxheVsnICsgKGZyYWcubGV2ZWwgLSAxKSArICddO2J1ZmZlclN0YXJ2YXRpb25EZWxheTonICsgZnJhZ0xldmVsTmV4dExvYWRlZERlbGF5LnRvRml4ZWQoMSkgKyAnPCcgKyBmcmFnTG9hZGVkRGVsYXkudG9GaXhlZCgxKSArICc6JyArIGJ1ZmZlclN0YXJ2YXRpb25EZWxheS50b0ZpeGVkKDEpKTtcbiAgICAgICAgICAgIC8vIGZvcmNlIG5leHQgbG9hZCBsZXZlbCBpbiBhdXRvIG1vZGVcbiAgICAgICAgICAgIGhscy5uZXh0TG9hZExldmVsID0gbmV4dExvYWRMZXZlbDtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBidyBlc3RpbWF0ZSBmb3IgdGhpcyBmcmFnbWVudCBiZWZvcmUgY2FuY2VsbGluZyBsb2FkICh0aGlzIHdpbGwgaGVscCByZWR1Y2luZyB0aGUgYncpXG4gICAgICAgICAgICB0aGlzLl9id0VzdGltYXRvci5zYW1wbGUocmVxdWVzdERlbGF5LCBzdGF0cy5sb2FkZWQpO1xuICAgICAgICAgICAgLy8gYWJvcnQgZnJhZ21lbnQgbG9hZGluZ1xuICAgICAgICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgICAgICAgICAvLyBzdG9wIGFiYW5kb24gcnVsZXMgdGltZXJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BRF9FTUVSR0VOQ1lfQUJPUlRFRCwgeyBmcmFnOiBmcmFnLCBzdGF0czogc3RhdHMgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEFickNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRlZCA9IGZ1bmN0aW9uIG9uRnJhZ0xvYWRlZChkYXRhKSB7XG4gICAgdmFyIGZyYWcgPSBkYXRhLmZyYWc7XG4gICAgaWYgKGZyYWcudHlwZSA9PT0gJ21haW4nICYmIE9iamVjdChudW1iZXJfaXNGaW5pdGVbXCJhXCIgLyogaXNGaW5pdGVOdW1iZXIgKi9dKShmcmFnLnNuKSkge1xuICAgICAgLy8gc3RvcCBtb25pdG9yaW5nIGJ3IG9uY2UgZnJhZyBsb2FkZWRcbiAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgICAgLy8gc3RvcmUgbGV2ZWwgaWQgYWZ0ZXIgc3VjY2Vzc2Z1bCBmcmFnbWVudCBsb2FkXG4gICAgICB0aGlzLmxhc3RMb2FkZWRGcmFnTGV2ZWwgPSBmcmFnLmxldmVsO1xuICAgICAgLy8gcmVzZXQgZm9yY2VkIGF1dG8gbGV2ZWwgdmFsdWUgc28gdGhhdCBuZXh0IGxldmVsIHdpbGwgYmUgc2VsZWN0ZWRcbiAgICAgIHRoaXMuX25leHRBdXRvTGV2ZWwgPSAtMTtcblxuICAgICAgLy8gY29tcHV0ZSBsZXZlbCBhdmVyYWdlIGJpdHJhdGVcbiAgICAgIGlmICh0aGlzLmhscy5jb25maWcuYWJyTWF4V2l0aFJlYWxCaXRyYXRlKSB7XG4gICAgICAgIHZhciBsZXZlbCA9IHRoaXMuaGxzLmxldmVsc1tmcmFnLmxldmVsXTtcbiAgICAgICAgdmFyIGxvYWRlZEJ5dGVzID0gKGxldmVsLmxvYWRlZCA/IGxldmVsLmxvYWRlZC5ieXRlcyA6IDApICsgZGF0YS5zdGF0cy5sb2FkZWQ7XG4gICAgICAgIHZhciBsb2FkZWREdXJhdGlvbiA9IChsZXZlbC5sb2FkZWQgPyBsZXZlbC5sb2FkZWQuZHVyYXRpb24gOiAwKSArIGRhdGEuZnJhZy5kdXJhdGlvbjtcbiAgICAgICAgbGV2ZWwubG9hZGVkID0geyBieXRlczogbG9hZGVkQnl0ZXMsIGR1cmF0aW9uOiBsb2FkZWREdXJhdGlvbiB9O1xuICAgICAgICBsZXZlbC5yZWFsQml0cmF0ZSA9IE1hdGgucm91bmQoOCAqIGxvYWRlZEJ5dGVzIC8gbG9hZGVkRHVyYXRpb24pO1xuICAgICAgfVxuICAgICAgLy8gaWYgZnJhZ21lbnQgaGFzIGJlZW4gbG9hZGVkIHRvIHBlcmZvcm0gYSBiaXRyYXRlIHRlc3QsXG4gICAgICBpZiAoZGF0YS5mcmFnLmJpdHJhdGVUZXN0KSB7XG4gICAgICAgIHZhciBzdGF0cyA9IGRhdGEuc3RhdHM7XG4gICAgICAgIHN0YXRzLnRwYXJzZWQgPSBzdGF0cy50YnVmZmVyZWQgPSBzdGF0cy50bG9hZDtcbiAgICAgICAgdGhpcy5vbkZyYWdCdWZmZXJlZChkYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgQWJyQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnQnVmZmVyZWQgPSBmdW5jdGlvbiBvbkZyYWdCdWZmZXJlZChkYXRhKSB7XG4gICAgdmFyIHN0YXRzID0gZGF0YS5zdGF0cztcbiAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZztcbiAgICAvLyBvbmx5IHVwZGF0ZSBzdGF0cyBvbiBmaXJzdCBmcmFnIGJ1ZmZlcmluZ1xuICAgIC8vIGlmIHNhbWUgZnJhZyBpcyBsb2FkZWQgbXVsdGlwbGUgdGltZXMsIGl0IG1pZ2h0IGJlIGluIGJyb3dzZXIgY2FjaGUsIGFuZCBsb2FkZWQgcXVpY2tseVxuICAgIC8vIGFuZCBsZWFkaW5nIHRvIHdyb25nIGJ3IGVzdGltYXRpb25cbiAgICAvLyBvbiBiaXRyYXRlIHRlc3QsIGFsc28gb25seSB1cGRhdGUgc3RhdHMgb25jZSAoaWYgdGxvYWQgPSB0YnVmZmVyZWQgPT0gb24gRlJBR19MT0FERUQpXG4gICAgaWYgKHN0YXRzLmFib3J0ZWQgIT09IHRydWUgJiYgZnJhZy50eXBlID09PSAnbWFpbicgJiYgT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKGZyYWcuc24pICYmICghZnJhZy5iaXRyYXRlVGVzdCB8fCBzdGF0cy50bG9hZCA9PT0gc3RhdHMudGJ1ZmZlcmVkKSkge1xuICAgICAgLy8gdXNlIHRwYXJzZWQtdHJlcXVlc3QgaW5zdGVhZCBvZiB0YnVmZmVyZWQtdHJlcXVlc3QgdG8gY29tcHV0ZSBmcmFnTG9hZGluZ1Byb2Nlc3Npbmc7IHJhdGlvbmFsZSBpcyB0aGF0ICBidWZmZXIgYXBwZW5kaW5nIG9ubHkgaGFwcGVucyBvbmNlIG1lZGlhIGlzIGF0dGFjaGVkXG4gICAgICAvLyBpbiBjYXNlIHdlIHVzZSBjb25maWcuc3RhcnRGcmFnUHJlZmV0Y2ggd2hpbGUgbWVkaWEgaXMgbm90IGF0dGFjaGVkIHlldCwgZnJhZ21lbnQgbWlnaHQgYmUgcGFyc2VkIHdoaWxlIG1lZGlhIG5vdCBhdHRhY2hlZCB5ZXQsIGJ1dCBpdCB3aWxsIG9ubHkgYmUgYnVmZmVyZWQgb24gbWVkaWEgYXR0YWNoZWRcbiAgICAgIC8vIGFzIGEgY29uc2VxdWVuY2UgaXQgY291bGQgaGFwcGVuIHJlYWxseSBsYXRlIGluIHRoZSBwcm9jZXNzLiBtZWFuaW5nIHRoYXQgYXBwZW5kaW5nIGR1cmF0aW9uIG1pZ2h0IGFwcGVhcnMgaHVnZSAuLi4gbGVhZGluZyB0byB1bmRlcmVzdGltYXRlZCB0aHJvdWdocHV0IGVzdGltYXRpb25cbiAgICAgIHZhciBmcmFnTG9hZGluZ1Byb2Nlc3NpbmdNcyA9IHN0YXRzLnRwYXJzZWQgLSBzdGF0cy50cmVxdWVzdDtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGF0ZW5jeS9sb2FkaW5nL3BhcnNpbmcvYXBwZW5kL2ticHM6JyArIE1hdGgucm91bmQoc3RhdHMudGZpcnN0IC0gc3RhdHMudHJlcXVlc3QpICsgJy8nICsgTWF0aC5yb3VuZChzdGF0cy50bG9hZCAtIHN0YXRzLnRmaXJzdCkgKyAnLycgKyBNYXRoLnJvdW5kKHN0YXRzLnRwYXJzZWQgLSBzdGF0cy50bG9hZCkgKyAnLycgKyBNYXRoLnJvdW5kKHN0YXRzLnRidWZmZXJlZCAtIHN0YXRzLnRwYXJzZWQpICsgJy8nICsgTWF0aC5yb3VuZCg4ICogc3RhdHMubG9hZGVkIC8gKHN0YXRzLnRidWZmZXJlZCAtIHN0YXRzLnRyZXF1ZXN0KSkpO1xuICAgICAgdGhpcy5fYndFc3RpbWF0b3Iuc2FtcGxlKGZyYWdMb2FkaW5nUHJvY2Vzc2luZ01zLCBzdGF0cy5sb2FkZWQpO1xuICAgICAgc3RhdHMuYndFc3RpbWF0ZSA9IHRoaXMuX2J3RXN0aW1hdG9yLmdldEVzdGltYXRlKCk7XG4gICAgICAvLyBpZiBmcmFnbWVudCBoYXMgYmVlbiBsb2FkZWQgdG8gcGVyZm9ybSBhIGJpdHJhdGUgdGVzdCwgKGhscy5zdGFydExldmVsID0gLTEpLCBzdG9yZSBiaXRyYXRlIHRlc3QgZGVsYXkgZHVyYXRpb25cbiAgICAgIGlmIChmcmFnLmJpdHJhdGVUZXN0KSB7XG4gICAgICAgIHRoaXMuYml0cmF0ZVRlc3REZWxheSA9IGZyYWdMb2FkaW5nUHJvY2Vzc2luZ01zIC8gMTAwMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYml0cmF0ZVRlc3REZWxheSA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEFickNvbnRyb2xsZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiBvbkVycm9yKGRhdGEpIHtcbiAgICAvLyBzdG9wIHRpbWVyIGluIGNhc2Ugb2YgZnJhZyBsb2FkaW5nIGVycm9yXG4gICAgc3dpdGNoIChkYXRhLmRldGFpbHMpIHtcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT0FEX0VSUk9SOlxuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5GUkFHX0xPQURfVElNRU9VVDpcbiAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIEFickNvbnRyb2xsZXIucHJvdG90eXBlLmNsZWFyVGltZXIgPSBmdW5jdGlvbiBjbGVhclRpbWVyKCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgdGhpcy50aW1lciA9IG51bGw7XG4gIH07XG5cbiAgLy8gcmV0dXJuIG5leHQgYXV0byBsZXZlbFxuXG5cbiAgQWJyQ29udHJvbGxlci5wcm90b3R5cGUuX2ZpbmRCZXN0TGV2ZWwgPSBmdW5jdGlvbiBfZmluZEJlc3RMZXZlbChjdXJyZW50TGV2ZWwsIGN1cnJlbnRGcmFnRHVyYXRpb24sIGN1cnJlbnRCdywgbWluQXV0b0xldmVsLCBtYXhBdXRvTGV2ZWwsIG1heEZldGNoRHVyYXRpb24sIGJ3RmFjdG9yLCBid1VwRmFjdG9yLCBsZXZlbHMpIHtcbiAgICBmb3IgKHZhciBpID0gbWF4QXV0b0xldmVsOyBpID49IG1pbkF1dG9MZXZlbDsgaS0tKSB7XG4gICAgICB2YXIgbGV2ZWxJbmZvID0gbGV2ZWxzW2ldO1xuXG4gICAgICBpZiAoIWxldmVsSW5mbykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxldmVsRGV0YWlscyA9IGxldmVsSW5mby5kZXRhaWxzLFxuICAgICAgICAgIGF2Z0R1cmF0aW9uID0gbGV2ZWxEZXRhaWxzID8gbGV2ZWxEZXRhaWxzLnRvdGFsZHVyYXRpb24gLyBsZXZlbERldGFpbHMuZnJhZ21lbnRzLmxlbmd0aCA6IGN1cnJlbnRGcmFnRHVyYXRpb24sXG4gICAgICAgICAgbGl2ZSA9IGxldmVsRGV0YWlscyA/IGxldmVsRGV0YWlscy5saXZlIDogZmFsc2UsXG4gICAgICAgICAgYWRqdXN0ZWRidyA9IHZvaWQgMDtcbiAgICAgIC8vIGZvbGxvdyBhbGdvcml0aG0gY2FwdHVyZWQgZnJvbSBzdGFnZWZyaWdodCA6XG4gICAgICAvLyBodHRwczovL2FuZHJvaWQuZ29vZ2xlc291cmNlLmNvbS9wbGF0Zm9ybS9mcmFtZXdvcmtzL2F2LysvbWFzdGVyL21lZGlhL2xpYnN0YWdlZnJpZ2h0L2h0dHBsaXZlL0xpdmVTZXNzaW9uLmNwcFxuICAgICAgLy8gUGljayB0aGUgaGlnaGVzdCBiYW5kd2lkdGggc3RyZWFtIGJlbG93IG9yIGVxdWFsIHRvIGVzdGltYXRlZCBiYW5kd2lkdGguXG4gICAgICAvLyBjb25zaWRlciBvbmx5IDgwJSBvZiB0aGUgYXZhaWxhYmxlIGJhbmR3aWR0aCwgYnV0IGlmIHdlIGFyZSBzd2l0Y2hpbmcgdXAsXG4gICAgICAvLyBiZSBldmVuIG1vcmUgY29uc2VydmF0aXZlICg3MCUpIHRvIGF2b2lkIG92ZXJlc3RpbWF0aW5nIGFuZCBpbW1lZGlhdGVseVxuICAgICAgLy8gc3dpdGNoaW5nIGJhY2suXG4gICAgICBpZiAoaSA8PSBjdXJyZW50TGV2ZWwpIHtcbiAgICAgICAgYWRqdXN0ZWRidyA9IGJ3RmFjdG9yICogY3VycmVudEJ3O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRqdXN0ZWRidyA9IGJ3VXBGYWN0b3IgKiBjdXJyZW50Qnc7XG4gICAgICB9XG5cbiAgICAgIHZhciBiaXRyYXRlID0gbGV2ZWxzW2ldLnJlYWxCaXRyYXRlID8gTWF0aC5tYXgobGV2ZWxzW2ldLnJlYWxCaXRyYXRlLCBsZXZlbHNbaV0uYml0cmF0ZSkgOiBsZXZlbHNbaV0uYml0cmF0ZSxcbiAgICAgICAgICBmZXRjaER1cmF0aW9uID0gYml0cmF0ZSAqIGF2Z0R1cmF0aW9uIC8gYWRqdXN0ZWRidztcblxuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10udHJhY2UoJ2xldmVsL2FkanVzdGVkYncvYml0cmF0ZS9hdmdEdXJhdGlvbi9tYXhGZXRjaER1cmF0aW9uL2ZldGNoRHVyYXRpb246ICcgKyBpICsgJy8nICsgTWF0aC5yb3VuZChhZGp1c3RlZGJ3KSArICcvJyArIGJpdHJhdGUgKyAnLycgKyBhdmdEdXJhdGlvbiArICcvJyArIG1heEZldGNoRHVyYXRpb24gKyAnLycgKyBmZXRjaER1cmF0aW9uKTtcbiAgICAgIC8vIGlmIGFkanVzdGVkIGJ3IGlzIGdyZWF0ZXIgdGhhbiBsZXZlbCBiaXRyYXRlIEFORFxuICAgICAgaWYgKGFkanVzdGVkYncgPiBiaXRyYXRlICYmIChcbiAgICAgIC8vIGZyYWdtZW50IGZldGNoRHVyYXRpb24gdW5rbm93biBPUiBsaXZlIHN0cmVhbSBPUiBmcmFnbWVudCBmZXRjaER1cmF0aW9uIGxlc3MgdGhhbiBtYXggYWxsb3dlZCBmZXRjaCBkdXJhdGlvbiwgdGhlbiB0aGlzIGxldmVsIG1hdGNoZXNcbiAgICAgIC8vIHdlIGRvbid0IGFjY291bnQgZm9yIG1heCBGZXRjaCBEdXJhdGlvbiBmb3IgbGl2ZSBzdHJlYW1zLCB0aGlzIGlzIHRvIGF2b2lkIHN3aXRjaGluZyBkb3duIHdoZW4gbmVhciB0aGUgZWRnZSBvZiBsaXZlIHNsaWRpbmcgd2luZG93IC4uLlxuICAgICAgLy8gc3BlY2lhbCBjYXNlIHRvIHN1cHBvcnQgc3RhcnRMZXZlbCA9IC0xIChiaXRyYXRlVGVzdCkgb24gbGl2ZSBzdHJlYW1zIDogaW4gdGhhdCBjYXNlIHdlIHNob3VsZCBub3QgZXhpdCBsb29wIHNvIHRoYXQgX2ZpbmRCZXN0TGV2ZWwgd2lsbCByZXR1cm4gLTFcbiAgICAgICFmZXRjaER1cmF0aW9uIHx8IGxpdmUgJiYgIXRoaXMuYml0cmF0ZVRlc3REZWxheSB8fCBmZXRjaER1cmF0aW9uIDwgbWF4RmV0Y2hEdXJhdGlvbikpIHtcbiAgICAgICAgLy8gYXMgd2UgYXJlIGxvb3BpbmcgZnJvbSBoaWdoZXN0IHRvIGxvd2VzdCwgdGhpcyB3aWxsIHJldHVybiB0aGUgYmVzdCBhY2hpZXZhYmxlIHF1YWxpdHkgbGV2ZWxcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIG5vdCBlbm91Z2ggdGltZSBidWRnZXQgZXZlbiB3aXRoIHF1YWxpdHkgbGV2ZWwgMCAuLi4gcmVidWZmZXJpbmcgbWlnaHQgaGFwcGVuXG4gICAgcmV0dXJuIC0xO1xuICB9O1xuXG4gIGFicl9jb250cm9sbGVyX19jcmVhdGVDbGFzcyhBYnJDb250cm9sbGVyLCBbe1xuICAgIGtleTogJ25leHRBdXRvTGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGZvcmNlZEF1dG9MZXZlbCA9IHRoaXMuX25leHRBdXRvTGV2ZWw7XG4gICAgICB2YXIgYndFc3RpbWF0b3IgPSB0aGlzLl9id0VzdGltYXRvcjtcbiAgICAgIC8vIGluIGNhc2UgbmV4dCBhdXRvIGxldmVsIGhhcyBiZWVuIGZvcmNlZCwgYW5kIGJ3IG5vdCBhdmFpbGFibGUgb3Igbm90IHJlbGlhYmxlLCByZXR1cm4gZm9yY2VkIHZhbHVlXG4gICAgICBpZiAoZm9yY2VkQXV0b0xldmVsICE9PSAtMSAmJiAoIWJ3RXN0aW1hdG9yIHx8ICFid0VzdGltYXRvci5jYW5Fc3RpbWF0ZSgpKSkge1xuICAgICAgICByZXR1cm4gZm9yY2VkQXV0b0xldmVsO1xuICAgICAgfVxuXG4gICAgICAvLyBjb21wdXRlIG5leHQgbGV2ZWwgdXNpbmcgQUJSIGxvZ2ljXG4gICAgICB2YXIgbmV4dEFCUkF1dG9MZXZlbCA9IHRoaXMuX25leHRBQlJBdXRvTGV2ZWw7XG4gICAgICAvLyBpZiBmb3JjZWQgYXV0byBsZXZlbCBoYXMgYmVlbiBkZWZpbmVkLCB1c2UgaXQgdG8gY2FwIEFCUiBjb21wdXRlZCBxdWFsaXR5IGxldmVsXG4gICAgICBpZiAoZm9yY2VkQXV0b0xldmVsICE9PSAtMSkge1xuICAgICAgICBuZXh0QUJSQXV0b0xldmVsID0gTWF0aC5taW4oZm9yY2VkQXV0b0xldmVsLCBuZXh0QUJSQXV0b0xldmVsKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5leHRBQlJBdXRvTGV2ZWw7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXh0TGV2ZWwpIHtcbiAgICAgIHRoaXMuX25leHRBdXRvTGV2ZWwgPSBuZXh0TGV2ZWw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX25leHRBQlJBdXRvTGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGhscyA9IHRoaXMuaGxzLFxuICAgICAgICAgIG1heEF1dG9MZXZlbCA9IGhscy5tYXhBdXRvTGV2ZWwsXG4gICAgICAgICAgbGV2ZWxzID0gaGxzLmxldmVscyxcbiAgICAgICAgICBjb25maWcgPSBobHMuY29uZmlnLFxuICAgICAgICAgIG1pbkF1dG9MZXZlbCA9IGhscy5taW5BdXRvTGV2ZWw7XG4gICAgICB2YXIgdmlkZW8gPSBobHMubWVkaWEsXG4gICAgICAgICAgY3VycmVudExldmVsID0gdGhpcy5sYXN0TG9hZGVkRnJhZ0xldmVsLFxuICAgICAgICAgIGN1cnJlbnRGcmFnRHVyYXRpb24gPSB0aGlzLmZyYWdDdXJyZW50ID8gdGhpcy5mcmFnQ3VycmVudC5kdXJhdGlvbiA6IDAsXG4gICAgICAgICAgcG9zID0gdmlkZW8gPyB2aWRlby5jdXJyZW50VGltZSA6IDAsXG5cbiAgICAgIC8vIHBsYXliYWNrUmF0ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhlIHBsYXliYWNrIHJhdGU7IGlmIHZpZGVvLnBsYXliYWNrUmF0ZSBpcyAwLCB3ZSB1c2UgMSB0byBsb2FkIGFzXG4gICAgICAvLyBpZiB3ZSdyZSBwbGF5aW5nIGJhY2sgYXQgdGhlIG5vcm1hbCByYXRlLlxuICAgICAgcGxheWJhY2tSYXRlID0gdmlkZW8gJiYgdmlkZW8ucGxheWJhY2tSYXRlICE9PSAwID8gTWF0aC5hYnModmlkZW8ucGxheWJhY2tSYXRlKSA6IDEuMCxcbiAgICAgICAgICBhdmdidyA9IHRoaXMuX2J3RXN0aW1hdG9yID8gdGhpcy5fYndFc3RpbWF0b3IuZ2V0RXN0aW1hdGUoKSA6IGNvbmZpZy5hYnJFd21hRGVmYXVsdEVzdGltYXRlLFxuXG4gICAgICAvLyBidWZmZXJTdGFydmF0aW9uRGVsYXkgaXMgdGhlIHdhbGwtY2xvY2sgdGltZSBsZWZ0IHVudGlsIHRoZSBwbGF5YmFjayBidWZmZXIgaXMgZXhoYXVzdGVkLlxuICAgICAgYnVmZmVyU3RhcnZhdGlvbkRlbGF5ID0gKEJ1ZmZlckhlbHBlci5idWZmZXJJbmZvKHZpZGVvLCBwb3MsIGNvbmZpZy5tYXhCdWZmZXJIb2xlKS5lbmQgLSBwb3MpIC8gcGxheWJhY2tSYXRlO1xuXG4gICAgICAvLyBGaXJzdCwgbG9vayB0byBzZWUgaWYgd2UgY2FuIGZpbmQgYSBsZXZlbCBtYXRjaGluZyB3aXRoIG91ciBhdmcgYmFuZHdpZHRoIEFORCB0aGF0IGNvdWxkIGFsc28gZ3VhcmFudGVlIG5vIHJlYnVmZmVyaW5nIGF0IGFsbFxuICAgICAgdmFyIGJlc3RMZXZlbCA9IHRoaXMuX2ZpbmRCZXN0TGV2ZWwoY3VycmVudExldmVsLCBjdXJyZW50RnJhZ0R1cmF0aW9uLCBhdmdidywgbWluQXV0b0xldmVsLCBtYXhBdXRvTGV2ZWwsIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSwgY29uZmlnLmFickJhbmRXaWR0aEZhY3RvciwgY29uZmlnLmFickJhbmRXaWR0aFVwRmFjdG9yLCBsZXZlbHMpO1xuICAgICAgaWYgKGJlc3RMZXZlbCA+PSAwKSB7XG4gICAgICAgIHJldHVybiBiZXN0TGV2ZWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS50cmFjZSgncmVidWZmZXJpbmcgZXhwZWN0ZWQgdG8gaGFwcGVuLCBsZXRzIHRyeSB0byBmaW5kIGEgcXVhbGl0eSBsZXZlbCBtaW5pbWl6aW5nIHRoZSByZWJ1ZmZlcmluZycpO1xuICAgICAgICAvLyBub3QgcG9zc2libGUgdG8gZ2V0IHJpZCBvZiByZWJ1ZmZlcmluZyAuLi4gbGV0J3MgdHJ5IHRvIGZpbmQgbGV2ZWwgdGhhdCB3aWxsIGd1YXJhbnRlZSBsZXNzIHRoYW4gbWF4U3RhcnZhdGlvbkRlbGF5IG9mIHJlYnVmZmVyaW5nXG4gICAgICAgIC8vIGlmIG5vIG1hdGNoaW5nIGxldmVsIGZvdW5kLCBsb2dpYyB3aWxsIHJldHVybiAwXG4gICAgICAgIHZhciBtYXhTdGFydmF0aW9uRGVsYXkgPSBjdXJyZW50RnJhZ0R1cmF0aW9uID8gTWF0aC5taW4oY3VycmVudEZyYWdEdXJhdGlvbiwgY29uZmlnLm1heFN0YXJ2YXRpb25EZWxheSkgOiBjb25maWcubWF4U3RhcnZhdGlvbkRlbGF5LFxuICAgICAgICAgICAgYndGYWN0b3IgPSBjb25maWcuYWJyQmFuZFdpZHRoRmFjdG9yLFxuICAgICAgICAgICAgYndVcEZhY3RvciA9IGNvbmZpZy5hYnJCYW5kV2lkdGhVcEZhY3RvcjtcbiAgICAgICAgaWYgKGJ1ZmZlclN0YXJ2YXRpb25EZWxheSA9PT0gMCkge1xuICAgICAgICAgIC8vIGluIGNhc2UgYnVmZmVyIGlzIGVtcHR5LCBsZXQncyBjaGVjayBpZiBwcmV2aW91cyBmcmFnbWVudCB3YXMgbG9hZGVkIHRvIHBlcmZvcm0gYSBiaXRyYXRlIHRlc3RcbiAgICAgICAgICB2YXIgYml0cmF0ZVRlc3REZWxheSA9IHRoaXMuYml0cmF0ZVRlc3REZWxheTtcbiAgICAgICAgICBpZiAoYml0cmF0ZVRlc3REZWxheSkge1xuICAgICAgICAgICAgLy8gaWYgaXQgaXMgdGhlIGNhc2UsIHRoZW4gd2UgbmVlZCB0byBhZGp1c3Qgb3VyIG1heCBzdGFydmF0aW9uIGRlbGF5IHVzaW5nIG1heExvYWRpbmdEZWxheSBjb25maWcgdmFsdWVcbiAgICAgICAgICAgIC8vIG1heCB2aWRlbyBsb2FkaW5nIGRlbGF5IHVzZWQgaW4gIGF1dG9tYXRpYyBzdGFydCBsZXZlbCBzZWxlY3Rpb24gOlxuICAgICAgICAgICAgLy8gaW4gdGhhdCBtb2RlIEFCUiBjb250cm9sbGVyIHdpbGwgZW5zdXJlIHRoYXQgdmlkZW8gbG9hZGluZyB0aW1lIChpZSB0aGUgdGltZSB0byBmZXRjaCB0aGUgZmlyc3QgZnJhZ21lbnQgYXQgbG93ZXN0IHF1YWxpdHkgbGV2ZWwgK1xuICAgICAgICAgICAgLy8gdGhlIHRpbWUgdG8gZmV0Y2ggdGhlIGZyYWdtZW50IGF0IHRoZSBhcHByb3ByaWF0ZSBxdWFsaXR5IGxldmVsIGlzIGxlc3MgdGhhbiBgYGBtYXhMb2FkaW5nRGVsYXlgYGAgKVxuICAgICAgICAgICAgLy8gY2FwIG1heExvYWRpbmdEZWxheSBhbmQgZW5zdXJlIGl0IGlzIG5vdCBiaWdnZXIgJ3RoYW4gYml0cmF0ZSB0ZXN0JyBmcmFnIGR1cmF0aW9uXG4gICAgICAgICAgICB2YXIgbWF4TG9hZGluZ0RlbGF5ID0gY3VycmVudEZyYWdEdXJhdGlvbiA/IE1hdGgubWluKGN1cnJlbnRGcmFnRHVyYXRpb24sIGNvbmZpZy5tYXhMb2FkaW5nRGVsYXkpIDogY29uZmlnLm1heExvYWRpbmdEZWxheTtcbiAgICAgICAgICAgIG1heFN0YXJ2YXRpb25EZWxheSA9IG1heExvYWRpbmdEZWxheSAtIGJpdHJhdGVUZXN0RGVsYXk7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS50cmFjZSgnYml0cmF0ZSB0ZXN0IHRvb2sgJyArIE1hdGgucm91bmQoMTAwMCAqIGJpdHJhdGVUZXN0RGVsYXkpICsgJ21zLCBzZXQgZmlyc3QgZnJhZ21lbnQgbWF4IGZldGNoRHVyYXRpb24gdG8gJyArIE1hdGgucm91bmQoMTAwMCAqIG1heFN0YXJ2YXRpb25EZWxheSkgKyAnIG1zJyk7XG4gICAgICAgICAgICAvLyBkb24ndCB1c2UgY29uc2VydmF0aXZlIGZhY3RvciBvbiBiaXRyYXRlIHRlc3RcbiAgICAgICAgICAgIGJ3RmFjdG9yID0gYndVcEZhY3RvciA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJlc3RMZXZlbCA9IHRoaXMuX2ZpbmRCZXN0TGV2ZWwoY3VycmVudExldmVsLCBjdXJyZW50RnJhZ0R1cmF0aW9uLCBhdmdidywgbWluQXV0b0xldmVsLCBtYXhBdXRvTGV2ZWwsIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSArIG1heFN0YXJ2YXRpb25EZWxheSwgYndGYWN0b3IsIGJ3VXBGYWN0b3IsIGxldmVscyk7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChiZXN0TGV2ZWwsIDApO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBYnJDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgYWJyX2NvbnRyb2xsZXIgPSAoYWJyX2NvbnRyb2xsZXJfQWJyQ29udHJvbGxlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL2J1ZmZlci1jb250cm9sbGVyLmpzXG5cblxuZnVuY3Rpb24gYnVmZmVyX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gYnVmZmVyX2NvbnRyb2xsZXJfX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIGJ1ZmZlcl9jb250cm9sbGVyX19pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKlxuICogQnVmZmVyIENvbnRyb2xsZXJcbiovXG5cblxuXG5cblxuXG5cbnZhciBidWZmZXJfY29udHJvbGxlcl9NZWRpYVNvdXJjZSA9IGdldE1lZGlhU291cmNlKCk7XG5cbnZhciBidWZmZXJfY29udHJvbGxlcl9CdWZmZXJDb250cm9sbGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgYnVmZmVyX2NvbnRyb2xsZXJfX2luaGVyaXRzKEJ1ZmZlckNvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIEJ1ZmZlckNvbnRyb2xsZXIoaGxzKSB7XG4gICAgYnVmZmVyX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJ1ZmZlckNvbnRyb2xsZXIpO1xuXG4gICAgLy8gdGhlIHZhbHVlIHRoYXQgd2UgaGF2ZSBzZXQgbWVkaWFzb3VyY2UuZHVyYXRpb24gdG9cbiAgICAvLyAodGhlIGFjdHVhbCBkdXJhdGlvbiBtYXkgYmUgdHdlYWtlZCBzbGlnaGx5IGJ5IHRoZSBicm93c2VyKVxuICAgIHZhciBfdGhpcyA9IGJ1ZmZlcl9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9BVFRBQ0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9ERVRBQ0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9QQVJTRUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfUkVTRVQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQVBQRU5ESU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0NPREVDUywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9FT1MsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfRkxVU0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9QVFNfVVBEQVRFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFVkVMX1VQREFURUQpKTtcblxuICAgIF90aGlzLl9tc0R1cmF0aW9uID0gbnVsbDtcbiAgICAvLyB0aGUgdmFsdWUgdGhhdCB3ZSB3YW50IHRvIHNldCBtZWRpYVNvdXJjZS5kdXJhdGlvbiB0b1xuICAgIF90aGlzLl9sZXZlbER1cmF0aW9uID0gbnVsbDtcbiAgICAvLyBjdXJyZW50IHN0cmVhbSBzdGF0ZTogdHJ1ZSAtIGZvciBsaXZlIGJyb2FkY2FzdCwgZmFsc2UgLSBmb3IgVm9EIGNvbnRlbnRcbiAgICBfdGhpcy5fbGl2ZSA9IG51bGw7XG4gICAgLy8gY2FjaGUgdGhlIHNlbGYgZ2VuZXJhdGVkIG9iamVjdCB1cmwgdG8gZGV0ZWN0IGhpamFjayBvZiB2aWRlbyB0YWdcbiAgICBfdGhpcy5fb2JqZWN0VXJsID0gbnVsbDtcblxuICAgIC8vIFNvdXJjZSBCdWZmZXIgbGlzdGVuZXJzXG4gICAgX3RoaXMub25zYnVlID0gX3RoaXMub25TQlVwZGF0ZUVuZC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbnNiZSA9IF90aGlzLm9uU0JVcGRhdGVFcnJvci5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5wZW5kaW5nVHJhY2tzID0ge307XG4gICAgX3RoaXMudHJhY2tzID0ge307XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgZXZlbnRfaGFuZGxlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTGV2ZWxQdHNVcGRhdGVkID0gZnVuY3Rpb24gb25MZXZlbFB0c1VwZGF0ZWQoZGF0YSkge1xuICAgIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICAgIHZhciBhdWRpb1RyYWNrID0gdGhpcy50cmFja3MuYXVkaW87XG5cbiAgICAvLyBBZGp1c3RpbmcgYFNvdXJjZUJ1ZmZlci50aW1lc3RhbXBPZmZzZXRgIChkZXNpcmVkIHBvaW50IGluIHRoZSB0aW1lbGluZSB3aGVyZSB0aGUgbmV4dCBmcmFtZXMgc2hvdWxkIGJlIGFwcGVuZGVkKVxuICAgIC8vIGluIENocm9tZSBicm93c2VyIHdoZW4gd2UgZGV0ZWN0IE1QRUcgYXVkaW8gY29udGFpbmVyIGFuZCB0aW1lIGRlbHRhIGJldHdlZW4gbGV2ZWwgUFRTIGFuZCBgU291cmNlQnVmZmVyLnRpbWVzdGFtcE9mZnNldGBcbiAgICAvLyBpcyBncmVhdGVyIHRoYW4gMTAwbXMgKHRoaXMgaXMgZW5vdWdoIHRvIGhhbmRsZSBzZWVrIGZvciBWT0Qgb3IgbGV2ZWwgY2hhbmdlIGZvciBMSVZFIHZpZGVvcykuIEF0IHRoZSB0aW1lIG9mIGNoYW5nZSB3ZSBpc3N1ZVxuICAgIC8vIGBTb3VyY2VCdWZmZXIuYWJvcnQoKWAgYW5kIGFkanVzdGluZyBgU291cmNlQnVmZmVyLnRpbWVzdGFtcE9mZnNldGAgaWYgYFNvdXJjZUJ1ZmZlci51cGRhdGluZ2AgaXMgZmFsc2Ugb3IgYXdhaXRpbmcgYHVwZGF0ZWVuZGBcbiAgICAvLyBldmVudCBpZiBTQiBpcyBpbiB1cGRhdGluZyBzdGF0ZS5cbiAgICAvLyBNb3JlIGluZm8gaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzMzMiNpc3N1ZWNvbW1lbnQtMjU3OTg2NDg2XG5cbiAgICBpZiAodHlwZSA9PT0gJ2F1ZGlvJyAmJiBhdWRpb1RyYWNrICYmIGF1ZGlvVHJhY2suY29udGFpbmVyID09PSAnYXVkaW8vbXBlZycpIHtcbiAgICAgIC8vIENocm9tZSBhdWRpbyBtcDMgdHJhY2tcbiAgICAgIHZhciBhdWRpb0J1ZmZlciA9IHRoaXMuc291cmNlQnVmZmVyLmF1ZGlvO1xuICAgICAgdmFyIGRlbHRhID0gTWF0aC5hYnMoYXVkaW9CdWZmZXIudGltZXN0YW1wT2Zmc2V0IC0gZGF0YS5zdGFydCk7XG5cbiAgICAgIC8vIGFkanVzdCB0aW1lc3RhbXAgb2Zmc2V0IGlmIHRpbWUgZGVsdGEgaXMgZ3JlYXRlciB0aGFuIDEwMG1zXG4gICAgICBpZiAoZGVsdGEgPiAwLjEpIHtcbiAgICAgICAgdmFyIHVwZGF0aW5nID0gYXVkaW9CdWZmZXIudXBkYXRpbmc7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhdWRpb0J1ZmZlci5hYm9ydCgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB1cGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignY2FuIG5vdCBhYm9ydCBhdWRpbyBidWZmZXI6ICcgKyBlcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF1cGRhdGluZykge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2NoYW5nZSBtcGVnIGF1ZGlvIHRpbWVzdGFtcCBvZmZzZXQgZnJvbSAnICsgYXVkaW9CdWZmZXIudGltZXN0YW1wT2Zmc2V0ICsgJyB0byAnICsgZGF0YS5zdGFydCk7XG4gICAgICAgICAgYXVkaW9CdWZmZXIudGltZXN0YW1wT2Zmc2V0ID0gZGF0YS5zdGFydDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmF1ZGlvVGltZXN0YW1wT2Zmc2V0ID0gZGF0YS5zdGFydDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0UGFyc2VkID0gZnVuY3Rpb24gb25NYW5pZmVzdFBhcnNlZChkYXRhKSB7XG4gICAgdmFyIGF1ZGlvRXhwZWN0ZWQgPSBkYXRhLmF1ZGlvLFxuICAgICAgICB2aWRlb0V4cGVjdGVkID0gZGF0YS52aWRlbyB8fCBkYXRhLmxldmVscy5sZW5ndGggJiYgZGF0YS5hbHRBdWRpbyxcbiAgICAgICAgc291cmNlQnVmZmVyTmIgPSAwO1xuICAgIC8vIGluIGNhc2Ugb2YgYWx0IGF1ZGlvIDIgQlVGRkVSX0NPREVDUyBldmVudHMgd2lsbCBiZSB0cmlnZ2VyZWQsIG9uZSBwZXIgc3RyZWFtIGNvbnRyb2xsZXJcbiAgICAvLyBzb3VyY2VidWZmZXJzIHdpbGwgYmUgY3JlYXRlZCBhbGwgYXQgb25jZSB3aGVuIHRoZSBleHBlY3RlZCBuYiBvZiB0cmFja3Mgd2lsbCBiZSByZWFjaGVkXG4gICAgLy8gaW4gY2FzZSBhbHQgYXVkaW8gaXMgbm90IHVzZWQsIG9ubHkgb25lIEJVRkZFUl9DT0RFQyBldmVudCB3aWxsIGJlIGZpcmVkIGZyb20gbWFpbiBzdHJlYW0gY29udHJvbGxlclxuICAgIC8vIGl0IHdpbGwgY29udGFpbiB0aGUgZXhwZWN0ZWQgbmIgb2Ygc291cmNlIGJ1ZmZlcnMsIG5vIG5lZWQgdG8gY29tcHV0ZSBpdFxuICAgIGlmIChkYXRhLmFsdEF1ZGlvICYmIChhdWRpb0V4cGVjdGVkIHx8IHZpZGVvRXhwZWN0ZWQpKSB7XG4gICAgICBzb3VyY2VCdWZmZXJOYiA9IChhdWRpb0V4cGVjdGVkID8gMSA6IDApICsgKHZpZGVvRXhwZWN0ZWQgPyAxIDogMCk7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coc291cmNlQnVmZmVyTmIgKyAnIHNvdXJjZUJ1ZmZlcihzKSBleHBlY3RlZCcpO1xuICAgIH1cbiAgICB0aGlzLnNvdXJjZUJ1ZmZlck5iID0gc291cmNlQnVmZmVyTmI7XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFBdHRhY2hpbmcoZGF0YSkge1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICAgIGlmIChtZWRpYSkge1xuICAgICAgLy8gc2V0dXAgdGhlIG1lZGlhIHNvdXJjZVxuICAgICAgdmFyIG1zID0gdGhpcy5tZWRpYVNvdXJjZSA9IG5ldyBidWZmZXJfY29udHJvbGxlcl9NZWRpYVNvdXJjZSgpO1xuICAgICAgLy8gTWVkaWEgU291cmNlIGxpc3RlbmVyc1xuICAgICAgdGhpcy5vbm1zbyA9IHRoaXMub25NZWRpYVNvdXJjZU9wZW4uYmluZCh0aGlzKTtcbiAgICAgIHRoaXMub25tc2UgPSB0aGlzLm9uTWVkaWFTb3VyY2VFbmRlZC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5vbm1zYyA9IHRoaXMub25NZWRpYVNvdXJjZUNsb3NlLmJpbmQodGhpcyk7XG4gICAgICBtcy5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5vbm1zbyk7XG4gICAgICBtcy5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VlbmRlZCcsIHRoaXMub25tc2UpO1xuICAgICAgbXMuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlY2xvc2UnLCB0aGlzLm9ubXNjKTtcbiAgICAgIC8vIGxpbmsgdmlkZW8gYW5kIG1lZGlhIFNvdXJjZVxuICAgICAgbWVkaWEuc3JjID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobXMpO1xuICAgICAgLy8gY2FjaGUgdGhlIGxvY2FsbHkgZ2VuZXJhdGVkIG9iamVjdCB1cmxcbiAgICAgIHRoaXMuX29iamVjdFVybCA9IG1lZGlhLnNyYztcbiAgICB9XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYURldGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFEZXRhY2hpbmcoKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdtZWRpYSBzb3VyY2UgZGV0YWNoaW5nJyk7XG4gICAgdmFyIG1zID0gdGhpcy5tZWRpYVNvdXJjZTtcbiAgICBpZiAobXMpIHtcbiAgICAgIGlmIChtcy5yZWFkeVN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBlbmRPZlN0cmVhbSBjb3VsZCB0cmlnZ2VyIGV4Y2VwdGlvbiBpZiBhbnkgc291cmNlYnVmZmVyIGlzIGluIHVwZGF0aW5nIHN0YXRlXG4gICAgICAgICAgLy8gd2UgZG9uJ3QgcmVhbGx5IGNhcmUgYWJvdXQgY2hlY2tpbmcgc291cmNlYnVmZmVyIHN0YXRlIGhlcmUsXG4gICAgICAgICAgLy8gYXMgd2UgYXJlIGFueXdheSBkZXRhY2hpbmcgdGhlIE1lZGlhU291cmNlXG4gICAgICAgICAgLy8gbGV0J3MganVzdCBhdm9pZCB0aGlzIGV4Y2VwdGlvbiB0byBwcm9wYWdhdGVcbiAgICAgICAgICBtcy5lbmRPZlN0cmVhbSgpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdvbk1lZGlhRGV0YWNoaW5nOicgKyBlcnIubWVzc2FnZSArICcgd2hpbGUgY2FsbGluZyBlbmRPZlN0cmVhbScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5vbm1zbyk7XG4gICAgICBtcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VlbmRlZCcsIHRoaXMub25tc2UpO1xuICAgICAgbXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlY2xvc2UnLCB0aGlzLm9ubXNjKTtcblxuICAgICAgLy8gRGV0YWNoIHByb3Blcmx5IHRoZSBNZWRpYVNvdXJjZSBmcm9tIHRoZSBIVE1MTWVkaWFFbGVtZW50IGFzXG4gICAgICAvLyBzdWdnZXN0ZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL3czYy9tZWRpYS1zb3VyY2UvaXNzdWVzLzUzLlxuICAgICAgaWYgKHRoaXMubWVkaWEpIHtcbiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5fb2JqZWN0VXJsKTtcblxuICAgICAgICAvLyBjbGVhbiB1cCB2aWRlbyB0YWcgc3JjIG9ubHkgaWYgaXQncyBvdXIgb3duIHVybC4gc29tZSBleHRlcm5hbCBsaWJyYXJpZXMgbWlnaHRcbiAgICAgICAgLy8gaGlqYWNrIHRoZSB2aWRlbyB0YWcgYW5kIGNoYW5nZSBpdHMgJ3NyYycgd2l0aG91dCBkZXN0cm95aW5nIHRoZSBIbHMgaW5zdGFuY2UgZmlyc3RcbiAgICAgICAgaWYgKHRoaXMubWVkaWEuc3JjID09PSB0aGlzLl9vYmplY3RVcmwpIHtcbiAgICAgICAgICB0aGlzLm1lZGlhLnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICAgICAgdGhpcy5tZWRpYS5sb2FkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignbWVkaWEuc3JjIHdhcyBjaGFuZ2VkIGJ5IGEgdGhpcmQgcGFydHkgLSBza2lwIGNsZWFudXAnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLm1lZGlhU291cmNlID0gbnVsbDtcbiAgICAgIHRoaXMubWVkaWEgPSBudWxsO1xuICAgICAgdGhpcy5fb2JqZWN0VXJsID0gbnVsbDtcbiAgICAgIHRoaXMucGVuZGluZ1RyYWNrcyA9IHt9O1xuICAgICAgdGhpcy50cmFja3MgPSB7fTtcbiAgICAgIHRoaXMuc291cmNlQnVmZmVyID0ge307XG4gICAgICB0aGlzLmZsdXNoUmFuZ2UgPSBbXTtcbiAgICAgIHRoaXMuc2VnbWVudHMgPSBbXTtcbiAgICAgIHRoaXMuYXBwZW5kZWQgPSAwO1xuICAgIH1cbiAgICB0aGlzLm9ubXNvID0gdGhpcy5vbm1zZSA9IHRoaXMub25tc2MgPSBudWxsO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0RFVEFDSEVEKTtcbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhU291cmNlT3BlbiA9IGZ1bmN0aW9uIG9uTWVkaWFTb3VyY2VPcGVuKCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbWVkaWEgc291cmNlIG9wZW5lZCcpO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0FUVEFDSEVELCB7IG1lZGlhOiB0aGlzLm1lZGlhIH0pO1xuICAgIHZhciBtZWRpYVNvdXJjZSA9IHRoaXMubWVkaWFTb3VyY2U7XG4gICAgaWYgKG1lZGlhU291cmNlKSB7XG4gICAgICAvLyBvbmNlIHJlY2VpdmVkLCBkb24ndCBsaXN0ZW4gYW55bW9yZSB0byBzb3VyY2VvcGVuIGV2ZW50XG4gICAgICBtZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5vbm1zbyk7XG4gICAgfVxuICAgIHRoaXMuY2hlY2tQZW5kaW5nVHJhY2tzKCk7XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuY2hlY2tQZW5kaW5nVHJhY2tzID0gZnVuY3Rpb24gY2hlY2tQZW5kaW5nVHJhY2tzKCkge1xuICAgIC8vIGlmIGFueSBidWZmZXIgY29kZWNzIHBlbmRpbmcsIGNoZWNrIGlmIHdlIGhhdmUgZW5vdWdoIHRvIGNyZWF0ZSBzb3VyY2VCdWZmZXJzXG4gICAgdmFyIHBlbmRpbmdUcmFja3MgPSB0aGlzLnBlbmRpbmdUcmFja3MsXG4gICAgICAgIHBlbmRpbmdUcmFja3NOYiA9IE9iamVjdC5rZXlzKHBlbmRpbmdUcmFja3MpLmxlbmd0aDtcbiAgICAvLyBpZiBhbnkgcGVuZGluZyB0cmFja3MgYW5kIChpZiBuYiBvZiBwZW5kaW5nIHRyYWNrcyBndCBvciBlcXVhbCB0aGFuIGV4cGVjdGVkIG5iIG9yIGlmIHVua25vd24gZXhwZWN0ZWQgbmIpXG4gICAgaWYgKHBlbmRpbmdUcmFja3NOYiAmJiAodGhpcy5zb3VyY2VCdWZmZXJOYiA8PSBwZW5kaW5nVHJhY2tzTmIgfHwgdGhpcy5zb3VyY2VCdWZmZXJOYiA9PT0gMCkpIHtcbiAgICAgIC8vIG9rLCBsZXQncyBjcmVhdGUgdGhlbSBub3cgIVxuICAgICAgdGhpcy5jcmVhdGVTb3VyY2VCdWZmZXJzKHBlbmRpbmdUcmFja3MpO1xuICAgICAgdGhpcy5wZW5kaW5nVHJhY2tzID0ge307XG4gICAgICAvLyBhcHBlbmQgYW55IHBlbmRpbmcgc2VnbWVudHMgbm93ICFcbiAgICAgIHRoaXMuZG9BcHBlbmRpbmcoKTtcbiAgICB9XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYVNvdXJjZUNsb3NlID0gZnVuY3Rpb24gb25NZWRpYVNvdXJjZUNsb3NlKCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbWVkaWEgc291cmNlIGNsb3NlZCcpO1xuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFTb3VyY2VFbmRlZCA9IGZ1bmN0aW9uIG9uTWVkaWFTb3VyY2VFbmRlZCgpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ21lZGlhIHNvdXJjZSBlbmRlZCcpO1xuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uU0JVcGRhdGVFbmQgPSBmdW5jdGlvbiBvblNCVXBkYXRlRW5kKCkge1xuICAgIC8vIHVwZGF0ZSB0aW1lc3RhbXBPZmZzZXRcbiAgICBpZiAodGhpcy5hdWRpb1RpbWVzdGFtcE9mZnNldCkge1xuICAgICAgdmFyIGF1ZGlvQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXIuYXVkaW87XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdjaGFuZ2UgbXBlZyBhdWRpbyB0aW1lc3RhbXAgb2Zmc2V0IGZyb20gJyArIGF1ZGlvQnVmZmVyLnRpbWVzdGFtcE9mZnNldCArICcgdG8gJyArIHRoaXMuYXVkaW9UaW1lc3RhbXBPZmZzZXQpO1xuICAgICAgYXVkaW9CdWZmZXIudGltZXN0YW1wT2Zmc2V0ID0gdGhpcy5hdWRpb1RpbWVzdGFtcE9mZnNldDtcbiAgICAgIGRlbGV0ZSB0aGlzLmF1ZGlvVGltZXN0YW1wT2Zmc2V0O1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9uZWVkc0ZsdXNoKSB7XG4gICAgICB0aGlzLmRvRmx1c2goKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbmVlZHNFb3MpIHtcbiAgICAgIHRoaXMuY2hlY2tFb3MoKTtcbiAgICB9XG5cbiAgICB0aGlzLmFwcGVuZGluZyA9IGZhbHNlO1xuICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudDtcbiAgICAvLyBjb3VudCBuYiBvZiBwZW5kaW5nIHNlZ21lbnRzIHdhaXRpbmcgZm9yIGFwcGVuZGluZyBvbiB0aGlzIHNvdXJjZWJ1ZmZlclxuICAgIHZhciBwZW5kaW5nID0gdGhpcy5zZWdtZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGNvdW50ZXIsIHNlZ21lbnQpIHtcbiAgICAgIHJldHVybiBzZWdtZW50LnBhcmVudCA9PT0gcGFyZW50ID8gY291bnRlciArIDEgOiBjb3VudGVyO1xuICAgIH0sIDApO1xuXG4gICAgLy8gdGhpcy5zb3VyY2VCdWZmZXIgaXMgYmV0dGVyIHRvIHVzZSB0aGFuIG1lZGlhLmJ1ZmZlcmVkIGFzIGl0IGlzIGNsb3NlciB0byB0aGUgUFRTIGRhdGEgZnJvbSB0aGUgZnJhZ21lbnRzXG4gICAgdmFyIHRpbWVSYW5nZXMgPSB7fTtcbiAgICB2YXIgc291cmNlQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXI7XG4gICAgZm9yICh2YXIgc3RyZWFtVHlwZSBpbiBzb3VyY2VCdWZmZXIpIHtcbiAgICAgIHRpbWVSYW5nZXNbc3RyZWFtVHlwZV0gPSBzb3VyY2VCdWZmZXJbc3RyZWFtVHlwZV0uYnVmZmVyZWQ7XG4gICAgfVxuXG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0FQUEVOREVELCB7IHBhcmVudDogcGFyZW50LCBwZW5kaW5nOiBwZW5kaW5nLCB0aW1lUmFuZ2VzOiB0aW1lUmFuZ2VzIH0pO1xuICAgIC8vIGRvbid0IGFwcGVuZCBpbiBmbHVzaGluZyBtb2RlXG4gICAgaWYgKCF0aGlzLl9uZWVkc0ZsdXNoKSB7XG4gICAgICB0aGlzLmRvQXBwZW5kaW5nKCk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVNZWRpYUVsZW1lbnREdXJhdGlvbigpO1xuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uU0JVcGRhdGVFcnJvciA9IGZ1bmN0aW9uIG9uU0JVcGRhdGVFcnJvcihldmVudCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdzb3VyY2VCdWZmZXIgZXJyb3I6JywgZXZlbnQpO1xuICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vd3d3LnczLm9yZy9UUi9tZWRpYS1zb3VyY2UvI3NvdXJjZWJ1ZmZlci1hcHBlbmQtZXJyb3JcbiAgICAvLyB0aGlzIGVycm9yIG1pZ2h0IG5vdCBhbHdheXMgYmUgZmF0YWwgKGl0IGlzIGZhdGFsIGlmIGRlY29kZSBlcnJvciBpcyBzZXQsIGluIHRoYXQgY2FzZVxuICAgIC8vIGl0IHdpbGwgYmUgZm9sbG93ZWQgYnkgYSBtZWRpYUVsZW1lbnQgZXJyb3IgLi4uKVxuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uQlVGRkVSX0FQUEVORElOR19FUlJPUiwgZmF0YWw6IGZhbHNlIH0pO1xuICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gZG8gbW9yZSB0aGFuIHRoYXQsIGFzIGFjY29yZGluIHRvIHRoZSBzcGVjLCB1cGRhdGVlbmQgd2lsbCBiZSBmaXJlZCBqdXN0IGFmdGVyXG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJSZXNldCA9IGZ1bmN0aW9uIG9uQnVmZmVyUmVzZXQoKSB7XG4gICAgdmFyIHNvdXJjZUJ1ZmZlciA9IHRoaXMuc291cmNlQnVmZmVyO1xuICAgIGZvciAodmFyIHR5cGUgaW4gc291cmNlQnVmZmVyKSB7XG4gICAgICB2YXIgc2IgPSBzb3VyY2VCdWZmZXJbdHlwZV07XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLm1lZGlhU291cmNlLnJlbW92ZVNvdXJjZUJ1ZmZlcihzYik7XG4gICAgICAgIHNiLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIHRoaXMub25zYnVlKTtcbiAgICAgICAgc2IucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uc2JlKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge31cbiAgICB9XG4gICAgdGhpcy5zb3VyY2VCdWZmZXIgPSB7fTtcbiAgICB0aGlzLmZsdXNoUmFuZ2UgPSBbXTtcbiAgICB0aGlzLnNlZ21lbnRzID0gW107XG4gICAgdGhpcy5hcHBlbmRlZCA9IDA7XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJDb2RlY3MgPSBmdW5jdGlvbiBvbkJ1ZmZlckNvZGVjcyh0cmFja3MpIHtcbiAgICAvLyBpZiBzb3VyY2UgYnVmZmVyKHMpIG5vdCBjcmVhdGVkIHlldCwgYXBwZW5kZWQgYnVmZmVyIHRyYWNrcyBpbiB0aGlzLnBlbmRpbmdUcmFja3NcbiAgICAvLyBpZiBzb3VyY2VidWZmZXJzIGFscmVhZHkgY3JlYXRlZCwgZG8gbm90aGluZyAuLi5cbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5zb3VyY2VCdWZmZXIpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZm9yICh2YXIgdHJhY2tOYW1lIGluIHRyYWNrcykge1xuICAgICAgICB0aGlzLnBlbmRpbmdUcmFja3NbdHJhY2tOYW1lXSA9IHRyYWNrc1t0cmFja05hbWVdO1xuICAgICAgfXZhciBtZWRpYVNvdXJjZSA9IHRoaXMubWVkaWFTb3VyY2U7XG4gICAgICBpZiAobWVkaWFTb3VyY2UgJiYgbWVkaWFTb3VyY2UucmVhZHlTdGF0ZSA9PT0gJ29wZW4nKSB7XG4gICAgICAgIC8vIHRyeSB0byBjcmVhdGUgc291cmNlYnVmZmVycyBpZiBtZWRpYXNvdXJjZSBvcGVuZWRcbiAgICAgICAgdGhpcy5jaGVja1BlbmRpbmdUcmFja3MoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuY3JlYXRlU291cmNlQnVmZmVycyA9IGZ1bmN0aW9uIGNyZWF0ZVNvdXJjZUJ1ZmZlcnModHJhY2tzKSB7XG4gICAgdmFyIHNvdXJjZUJ1ZmZlciA9IHRoaXMuc291cmNlQnVmZmVyLFxuICAgICAgICBtZWRpYVNvdXJjZSA9IHRoaXMubWVkaWFTb3VyY2U7XG5cbiAgICBmb3IgKHZhciB0cmFja05hbWUgaW4gdHJhY2tzKSB7XG4gICAgICBpZiAoIXNvdXJjZUJ1ZmZlclt0cmFja05hbWVdKSB7XG4gICAgICAgIHZhciB0cmFjayA9IHRyYWNrc1t0cmFja05hbWVdO1xuICAgICAgICAvLyB1c2UgbGV2ZWxDb2RlYyBhcyBmaXJzdCBwcmlvcml0eVxuICAgICAgICB2YXIgY29kZWMgPSB0cmFjay5sZXZlbENvZGVjIHx8IHRyYWNrLmNvZGVjO1xuICAgICAgICB2YXIgbWltZVR5cGUgPSB0cmFjay5jb250YWluZXIgKyAnO2NvZGVjcz0nICsgY29kZWM7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnY3JlYXRpbmcgc291cmNlQnVmZmVyKCcgKyBtaW1lVHlwZSArICcpJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHNiID0gc291cmNlQnVmZmVyW3RyYWNrTmFtZV0gPSBtZWRpYVNvdXJjZS5hZGRTb3VyY2VCdWZmZXIobWltZVR5cGUpO1xuICAgICAgICAgIHNiLmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIHRoaXMub25zYnVlKTtcbiAgICAgICAgICBzYi5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMub25zYmUpO1xuICAgICAgICAgIHRoaXMudHJhY2tzW3RyYWNrTmFtZV0gPSB7IGNvZGVjOiBjb2RlYywgY29udGFpbmVyOiB0cmFjay5jb250YWluZXIgfTtcbiAgICAgICAgICB0cmFjay5idWZmZXIgPSBzYjtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ2Vycm9yIHdoaWxlIHRyeWluZyB0byBhZGQgc291cmNlQnVmZmVyOicgKyBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfQUREX0NPREVDX0VSUk9SLCBmYXRhbDogZmFsc2UsIGVycjogZXJyLCBtaW1lVHlwZTogbWltZVR5cGUgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0NSRUFURUQsIHsgdHJhY2tzOiB0cmFja3MgfSk7XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJBcHBlbmRpbmcgPSBmdW5jdGlvbiBvbkJ1ZmZlckFwcGVuZGluZyhkYXRhKSB7XG4gICAgaWYgKCF0aGlzLl9uZWVkc0ZsdXNoKSB7XG4gICAgICBpZiAoIXRoaXMuc2VnbWVudHMpIHtcbiAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtkYXRhXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VnbWVudHMucHVzaChkYXRhKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kb0FwcGVuZGluZygpO1xuICAgIH1cbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckFwcGVuZEZhaWwgPSBmdW5jdGlvbiBvbkJ1ZmZlckFwcGVuZEZhaWwoZGF0YSkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdzb3VyY2VCdWZmZXIgZXJyb3I6JywgZGF0YS5ldmVudCk7XG4gICAgLy8gYWNjb3JkaW5nIHRvIGh0dHA6Ly93d3cudzMub3JnL1RSL21lZGlhLXNvdXJjZS8jc291cmNlYnVmZmVyLWFwcGVuZC1lcnJvclxuICAgIC8vIHRoaXMgZXJyb3IgbWlnaHQgbm90IGFsd2F5cyBiZSBmYXRhbCAoaXQgaXMgZmF0YWwgaWYgZGVjb2RlIGVycm9yIGlzIHNldCwgaW4gdGhhdCBjYXNlXG4gICAgLy8gaXQgd2lsbCBiZSBmb2xsb3dlZCBieSBhIG1lZGlhRWxlbWVudCBlcnJvciAuLi4pXG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfQVBQRU5ESU5HX0VSUk9SLCBmYXRhbDogZmFsc2UgfSk7XG4gIH07XG5cbiAgLy8gb24gQlVGRkVSX0VPUyBtYXJrIG1hdGNoaW5nIHNvdXJjZWJ1ZmZlcihzKSBhcyBlbmRlZCBhbmQgdHJpZ2dlciBjaGVja0VvcygpXG5cblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckVvcyA9IGZ1bmN0aW9uIG9uQnVmZmVyRW9zKGRhdGEpIHtcbiAgICB2YXIgc2IgPSB0aGlzLnNvdXJjZUJ1ZmZlcjtcbiAgICB2YXIgZGF0YVR5cGUgPSBkYXRhLnR5cGU7XG4gICAgZm9yICh2YXIgdHlwZSBpbiBzYikge1xuICAgICAgaWYgKCFkYXRhVHlwZSB8fCB0eXBlID09PSBkYXRhVHlwZSkge1xuICAgICAgICBpZiAoIXNiW3R5cGVdLmVuZGVkKSB7XG4gICAgICAgICAgc2JbdHlwZV0uZW5kZWQgPSB0cnVlO1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZyh0eXBlICsgJyBzb3VyY2VCdWZmZXIgbm93IEVPUycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY2hlY2tFb3MoKTtcbiAgfTtcblxuICAvLyBpZiBhbGwgc291cmNlIGJ1ZmZlcnMgYXJlIG1hcmtlZCBhcyBlbmRlZCwgc2lnbmFsIGVuZE9mU3RyZWFtKCkgdG8gTWVkaWFTb3VyY2UuXG5cblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5jaGVja0VvcyA9IGZ1bmN0aW9uIGNoZWNrRW9zKCkge1xuICAgIHZhciBzYiA9IHRoaXMuc291cmNlQnVmZmVyLFxuICAgICAgICBtZWRpYVNvdXJjZSA9IHRoaXMubWVkaWFTb3VyY2U7XG4gICAgaWYgKCFtZWRpYVNvdXJjZSB8fCBtZWRpYVNvdXJjZS5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgIHRoaXMuX25lZWRzRW9zID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAodmFyIHR5cGUgaW4gc2IpIHtcbiAgICAgIHZhciBzYm9iaiA9IHNiW3R5cGVdO1xuICAgICAgaWYgKCFzYm9iai5lbmRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzYm9iai51cGRhdGluZykge1xuICAgICAgICB0aGlzLl9uZWVkc0VvcyA9IHRydWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhbGwgbWVkaWEgZGF0YSBhdmFpbGFibGUsIHNpZ25hbCBlbmRPZlN0cmVhbSgpIHRvIE1lZGlhU291cmNlIGFuZCBzdG9wIGxvYWRpbmcgZnJhZ21lbnQnKTtcbiAgICAvLyBOb3RpZnkgdGhlIG1lZGlhIGVsZW1lbnQgdGhhdCBpdCBub3cgaGFzIGFsbCBvZiB0aGUgbWVkaWEgZGF0YVxuICAgIHRyeSB7XG4gICAgICBtZWRpYVNvdXJjZS5lbmRPZlN0cmVhbSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2V4Y2VwdGlvbiB3aGlsZSBjYWxsaW5nIG1lZGlhU291cmNlLmVuZE9mU3RyZWFtKCknKTtcbiAgICB9XG4gICAgdGhpcy5fbmVlZHNFb3MgPSBmYWxzZTtcbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckZsdXNoaW5nID0gZnVuY3Rpb24gb25CdWZmZXJGbHVzaGluZyhkYXRhKSB7XG4gICAgdGhpcy5mbHVzaFJhbmdlLnB1c2goeyBzdGFydDogZGF0YS5zdGFydE9mZnNldCwgZW5kOiBkYXRhLmVuZE9mZnNldCwgdHlwZTogZGF0YS50eXBlIH0pO1xuICAgIC8vIGF0dGVtcHQgZmx1c2ggaW1tZWRpYXRlbHlcbiAgICB0aGlzLmZsdXNoQnVmZmVyQ291bnRlciA9IDA7XG4gICAgdGhpcy5kb0ZsdXNoKCk7XG4gIH07XG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25MZXZlbFVwZGF0ZWQgPSBmdW5jdGlvbiBvbkxldmVsVXBkYXRlZChfcmVmKSB7XG4gICAgdmFyIGRldGFpbHMgPSBfcmVmLmRldGFpbHM7XG5cbiAgICBpZiAoZGV0YWlscy5mcmFnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5fbGV2ZWxEdXJhdGlvbiA9IGRldGFpbHMudG90YWxkdXJhdGlvbiArIGRldGFpbHMuZnJhZ21lbnRzWzBdLnN0YXJ0O1xuICAgICAgdGhpcy5fbGl2ZSA9IGRldGFpbHMubGl2ZTtcbiAgICAgIHRoaXMudXBkYXRlTWVkaWFFbGVtZW50RHVyYXRpb24oKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBNZWRpYSBTb3VyY2UgZHVyYXRpb24gdG8gY3VycmVudCBsZXZlbCBkdXJhdGlvbiBvciBvdmVycmlkZSB0byBJbmZpbml0eSBpZiBjb25maWd1cmF0aW9uIHBhcmFtZXRlclxuICAgKiAnbGl2ZUR1cmF0aW9uSW5maW5pdHlgIGlzIHNldCB0byBgdHJ1ZWBcbiAgICogTW9yZSBkZXRhaWxzOiBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9pc3N1ZXMvMzU1XG4gICAqL1xuXG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlTWVkaWFFbGVtZW50RHVyYXRpb24gPSBmdW5jdGlvbiB1cGRhdGVNZWRpYUVsZW1lbnREdXJhdGlvbigpIHtcbiAgICB2YXIgY29uZmlnID0gdGhpcy5obHMuY29uZmlnO1xuXG4gICAgdmFyIGR1cmF0aW9uID0gdm9pZCAwO1xuXG4gICAgaWYgKHRoaXMuX2xldmVsRHVyYXRpb24gPT09IG51bGwgfHwgIXRoaXMubWVkaWEgfHwgIXRoaXMubWVkaWFTb3VyY2UgfHwgIXRoaXMuc291cmNlQnVmZmVyIHx8IHRoaXMubWVkaWEucmVhZHlTdGF0ZSA9PT0gMCB8fCB0aGlzLm1lZGlhU291cmNlLnJlYWR5U3RhdGUgIT09ICdvcGVuJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIHR5cGUgaW4gdGhpcy5zb3VyY2VCdWZmZXIpIHtcbiAgICAgIGlmICh0aGlzLnNvdXJjZUJ1ZmZlclt0eXBlXS51cGRhdGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAvLyBjYW4ndCBzZXQgZHVyYXRpb24gd2hpbHN0IGEgYnVmZmVyIGlzIHVwZGF0aW5nXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkdXJhdGlvbiA9IHRoaXMubWVkaWEuZHVyYXRpb247XG4gICAgLy8gaW5pdGlhbGlzZSB0byB0aGUgdmFsdWUgdGhhdCB0aGUgbWVkaWEgc291cmNlIGlzIHJlcG9ydGluZ1xuICAgIGlmICh0aGlzLl9tc0R1cmF0aW9uID09PSBudWxsKSB7XG4gICAgICB0aGlzLl9tc0R1cmF0aW9uID0gdGhpcy5tZWRpYVNvdXJjZS5kdXJhdGlvbjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbGl2ZSA9PT0gdHJ1ZSAmJiBjb25maWcubGl2ZUR1cmF0aW9uSW5maW5pdHkgPT09IHRydWUpIHtcbiAgICAgIC8vIE92ZXJyaWRlIGR1cmF0aW9uIHRvIEluZmluaXR5XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ01lZGlhIFNvdXJjZSBkdXJhdGlvbiBpcyBzZXQgdG8gSW5maW5pdHknKTtcbiAgICAgIHRoaXMuX21zRHVyYXRpb24gPSB0aGlzLm1lZGlhU291cmNlLmR1cmF0aW9uID0gSW5maW5pdHk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9sZXZlbER1cmF0aW9uID4gdGhpcy5fbXNEdXJhdGlvbiAmJiB0aGlzLl9sZXZlbER1cmF0aW9uID4gZHVyYXRpb24gfHwgIU9iamVjdChudW1iZXJfaXNGaW5pdGVbXCJhXCIgLyogaXNGaW5pdGVOdW1iZXIgKi9dKShkdXJhdGlvbikpIHtcbiAgICAgIC8vIGxldmVsRHVyYXRpb24gd2FzIHRoZSBsYXN0IHZhbHVlIHdlIHNldC5cbiAgICAgIC8vIG5vdCB1c2luZyBtZWRpYVNvdXJjZS5kdXJhdGlvbiBhcyB0aGUgYnJvd3NlciBtYXkgdHdlYWsgdGhpcyB2YWx1ZVxuICAgICAgLy8gb25seSB1cGRhdGUgTWVkaWEgU291cmNlIGR1cmF0aW9uIGlmIGl0cyB2YWx1ZSBpbmNyZWFzZSwgdGhpcyBpcyB0byBhdm9pZFxuICAgICAgLy8gZmx1c2hpbmcgYWxyZWFkeSBidWZmZXJlZCBwb3J0aW9uIHdoZW4gc3dpdGNoaW5nIGJldHdlZW4gcXVhbGl0eSBsZXZlbFxuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdVcGRhdGluZyBNZWRpYSBTb3VyY2UgZHVyYXRpb24gdG8gJyArIHRoaXMuX2xldmVsRHVyYXRpb24udG9GaXhlZCgzKSk7XG4gICAgICB0aGlzLl9tc0R1cmF0aW9uID0gdGhpcy5tZWRpYVNvdXJjZS5kdXJhdGlvbiA9IHRoaXMuX2xldmVsRHVyYXRpb247XG4gICAgfVxuICB9O1xuXG4gIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLmRvRmx1c2ggPSBmdW5jdGlvbiBkb0ZsdXNoKCkge1xuICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgYnVmZmVyIHJhbmdlcyB0byBmbHVzaFxuICAgIHdoaWxlICh0aGlzLmZsdXNoUmFuZ2UubGVuZ3RoKSB7XG4gICAgICB2YXIgcmFuZ2UgPSB0aGlzLmZsdXNoUmFuZ2VbMF07XG4gICAgICAvLyBmbHVzaEJ1ZmZlciB3aWxsIGFib3J0IGFueSBidWZmZXIgYXBwZW5kIGluIHByb2dyZXNzIGFuZCBmbHVzaCBBdWRpby9WaWRlbyBCdWZmZXJcbiAgICAgIGlmICh0aGlzLmZsdXNoQnVmZmVyKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQsIHJhbmdlLnR5cGUpKSB7XG4gICAgICAgIC8vIHJhbmdlIGZsdXNoZWQsIHJlbW92ZSBmcm9tIGZsdXNoIGFycmF5XG4gICAgICAgIHRoaXMuZmx1c2hSYW5nZS5zaGlmdCgpO1xuICAgICAgICB0aGlzLmZsdXNoQnVmZmVyQ291bnRlciA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9uZWVkc0ZsdXNoID0gdHJ1ZTtcbiAgICAgICAgLy8gYXZvaWQgbG9vcGluZywgd2FpdCBmb3IgU0IgdXBkYXRlIGVuZCB0byByZXRyaWdnZXIgYSBmbHVzaFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmZsdXNoUmFuZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBldmVyeXRoaW5nIGZsdXNoZWRcbiAgICAgIHRoaXMuX25lZWRzRmx1c2ggPSBmYWxzZTtcblxuICAgICAgLy8gbGV0J3MgcmVjb21wdXRlIHRoaXMuYXBwZW5kZWQsIHdoaWNoIGlzIHVzZWQgdG8gYXZvaWQgZmx1c2ggbG9vcGluZ1xuICAgICAgdmFyIGFwcGVuZGVkID0gMDtcbiAgICAgIHZhciBzb3VyY2VCdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIHR5cGUgaW4gc291cmNlQnVmZmVyKSB7XG4gICAgICAgICAgYXBwZW5kZWQgKz0gc291cmNlQnVmZmVyW3R5cGVdLmJ1ZmZlcmVkLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gZXJyb3IgY291bGQgYmUgdGhyb3duIHdoaWxlIGFjY2Vzc2luZyBidWZmZXJlZCwgaW4gY2FzZSBzb3VyY2VidWZmZXIgaGFzIGFscmVhZHkgYmVlbiByZW1vdmVkIGZyb20gTWVkaWFTb3VyY2VcbiAgICAgICAgLy8gdGhpcyBpcyBoYXJtZXNzIGF0IHRoaXMgc3RhZ2UsIGNhdGNoIHRoaXMgdG8gYXZvaWQgcmVwb3J0aW5nIGFuIGludGVybmFsIGV4Y2VwdGlvblxuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignZXJyb3Igd2hpbGUgYWNjZXNzaW5nIHNvdXJjZUJ1ZmZlci5idWZmZXJlZCcpO1xuICAgICAgfVxuICAgICAgdGhpcy5hcHBlbmRlZCA9IGFwcGVuZGVkO1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0ZMVVNIRUQpO1xuICAgIH1cbiAgfTtcblxuICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5kb0FwcGVuZGluZyA9IGZ1bmN0aW9uIGRvQXBwZW5kaW5nKCkge1xuICAgIHZhciBobHMgPSB0aGlzLmhscyxcbiAgICAgICAgc291cmNlQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXIsXG4gICAgICAgIHNlZ21lbnRzID0gdGhpcy5zZWdtZW50cztcbiAgICBpZiAoT2JqZWN0LmtleXMoc291cmNlQnVmZmVyKS5sZW5ndGgpIHtcbiAgICAgIGlmICh0aGlzLm1lZGlhLmVycm9yKSB7XG4gICAgICAgIHRoaXMuc2VnbWVudHMgPSBbXTtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ3RyeWluZyB0byBhcHBlbmQgYWx0aG91Z2ggYSBtZWRpYSBlcnJvciBvY2N1cmVkLCBmbHVzaCBzZWdtZW50IGFuZCBhYm9ydCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hcHBlbmRpbmcpIHtcbiAgICAgICAgLy8gbG9nZ2VyLmxvZyhgc2IgYXBwZW5kaW5nIGluIHByb2dyZXNzYCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChzZWdtZW50cyAmJiBzZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHNlZ21lbnQgPSBzZWdtZW50cy5zaGlmdCgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciB0eXBlID0gc2VnbWVudC50eXBlLFxuICAgICAgICAgICAgICBzYiA9IHNvdXJjZUJ1ZmZlclt0eXBlXTtcbiAgICAgICAgICBpZiAoc2IpIHtcbiAgICAgICAgICAgIGlmICghc2IudXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgLy8gcmVzZXQgc291cmNlQnVmZmVyIGVuZGVkIGZsYWcgYmVmb3JlIGFwcGVuZGluZyBzZWdtZW50XG4gICAgICAgICAgICAgIHNiLmVuZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coYGFwcGVuZGluZyAke3NlZ21lbnQuY29udGVudH0gJHt0eXBlfSBTQiwgc2l6ZToke3NlZ21lbnQuZGF0YS5sZW5ndGh9LCAke3NlZ21lbnQucGFyZW50fWApO1xuICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHNlZ21lbnQucGFyZW50O1xuICAgICAgICAgICAgICBzYi5hcHBlbmRCdWZmZXIoc2VnbWVudC5kYXRhKTtcbiAgICAgICAgICAgICAgdGhpcy5hcHBlbmRFcnJvciA9IDA7XG4gICAgICAgICAgICAgIHRoaXMuYXBwZW5kZWQrKztcbiAgICAgICAgICAgICAgdGhpcy5hcHBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VnbWVudHMudW5zaGlmdChzZWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaW4gY2FzZSB3ZSBkb24ndCBoYXZlIGFueSBzb3VyY2UgYnVmZmVyIG1hdGNoaW5nIHdpdGggdGhpcyBzZWdtZW50IHR5cGUsXG4gICAgICAgICAgICAvLyBpdCBtZWFucyB0aGF0IE1lZGlhc291cmNlIGZhaWxzIHRvIGNyZWF0ZSBzb3VyY2VidWZmZXJcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgdGhpcyBzZWdtZW50LCBhbmQgdHJpZ2dlciB1cGRhdGUgZW5kXG4gICAgICAgICAgICB0aGlzLm9uU0JVcGRhdGVFbmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIC8vIGluIGNhc2UgYW55IGVycm9yIG9jY3VyZWQgd2hpbGUgYXBwZW5kaW5nLCBwdXQgYmFjayBzZWdtZW50IGluIHNlZ21lbnRzIHRhYmxlXG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ2Vycm9yIHdoaWxlIHRyeWluZyB0byBhcHBlbmQgYnVmZmVyOicgKyBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgc2VnbWVudHMudW5zaGlmdChzZWdtZW50KTtcbiAgICAgICAgICB2YXIgZXZlbnQgPSB7IHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUiwgcGFyZW50OiBzZWdtZW50LnBhcmVudCB9O1xuICAgICAgICAgIGlmIChlcnIuY29kZSAhPT0gMjIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFwcGVuZEVycm9yKSB7XG4gICAgICAgICAgICAgIHRoaXMuYXBwZW5kRXJyb3IrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuYXBwZW5kRXJyb3IgPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBldmVudC5kZXRhaWxzID0gZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uQlVGRkVSX0FQUEVORF9FUlJPUjtcbiAgICAgICAgICAgIC8qIHdpdGggVUhEIGNvbnRlbnQsIHdlIGNvdWxkIGdldCBsb29wIG9mIHF1b3RhIGV4Y2VlZGVkIGVycm9yIHVudGlsXG4gICAgICAgICAgICAgIGJyb3dzZXIgaXMgYWJsZSB0byBldmljdCBzb21lIGRhdGEgZnJvbSBzb3VyY2VidWZmZXIuIHJldHJ5aW5nIGhlbHAgcmVjb3ZlcmluZyB0aGlzXG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuYXBwZW5kRXJyb3IgPiBobHMuY29uZmlnLmFwcGVuZEVycm9yTWF4UmV0cnkpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdmYWlsICcgKyBobHMuY29uZmlnLmFwcGVuZEVycm9yTWF4UmV0cnkgKyAnIHRpbWVzIHRvIGFwcGVuZCBzZWdtZW50IGluIHNvdXJjZUJ1ZmZlcicpO1xuICAgICAgICAgICAgICBzZWdtZW50cyA9IFtdO1xuICAgICAgICAgICAgICBldmVudC5mYXRhbCA9IHRydWU7XG4gICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgZXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXZlbnQuZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCBldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFF1b3RhRXhjZWVkZWRFcnJvcjogaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNxdW90YWV4Y2VlZGVkZXJyb3JcbiAgICAgICAgICAgIC8vIGxldCdzIHN0b3AgYXBwZW5kaW5nIGFueSBzZWdtZW50cywgYW5kIHJlcG9ydCBCVUZGRVJfRlVMTF9FUlJPUiBlcnJvclxuICAgICAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgICAgICAgICAgZXZlbnQuZGV0YWlscyA9IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkJVRkZFUl9GVUxMX0VSUk9SO1xuICAgICAgICAgICAgZXZlbnQuZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKlxuICAgIGZsdXNoIHNwZWNpZmllZCBidWZmZXJlZCByYW5nZSxcbiAgICByZXR1cm4gdHJ1ZSBvbmNlIHJhbmdlIGhhcyBiZWVuIGZsdXNoZWQuXG4gICAgYXMgc291cmNlQnVmZmVyLnJlbW92ZSgpIGlzIGFzeW5jaHJvbm91cywgZmx1c2hCdWZmZXIgd2lsbCBiZSByZXRyaWdnZXJlZCBvbiBzb3VyY2VCdWZmZXIgdXBkYXRlIGVuZFxuICAqL1xuXG5cbiAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuZmx1c2hCdWZmZXIgPSBmdW5jdGlvbiBmbHVzaEJ1ZmZlcihzdGFydE9mZnNldCwgZW5kT2Zmc2V0LCB0eXBlSW4pIHtcbiAgICB2YXIgc2IgPSB2b2lkIDAsXG4gICAgICAgIGkgPSB2b2lkIDAsXG4gICAgICAgIGJ1ZlN0YXJ0ID0gdm9pZCAwLFxuICAgICAgICBidWZFbmQgPSB2b2lkIDAsXG4gICAgICAgIGZsdXNoU3RhcnQgPSB2b2lkIDAsXG4gICAgICAgIGZsdXNoRW5kID0gdm9pZCAwLFxuICAgICAgICBzb3VyY2VCdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlcjtcbiAgICBpZiAoT2JqZWN0LmtleXMoc291cmNlQnVmZmVyKS5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnZmx1c2hCdWZmZXIscG9zL3N0YXJ0L2VuZDogJyArIHRoaXMubWVkaWEuY3VycmVudFRpbWUudG9GaXhlZCgzKSArICcvJyArIHN0YXJ0T2Zmc2V0ICsgJy8nICsgZW5kT2Zmc2V0KTtcbiAgICAgIC8vIHNhZmVndWFyZCB0byBhdm9pZCBpbmZpbml0ZSBsb29waW5nIDogZG9uJ3QgdHJ5IHRvIGZsdXNoIG1vcmUgdGhhbiB0aGUgbmIgb2YgYXBwZW5kZWQgc2VnbWVudHNcbiAgICAgIGlmICh0aGlzLmZsdXNoQnVmZmVyQ291bnRlciA8IHRoaXMuYXBwZW5kZWQpIHtcbiAgICAgICAgZm9yICh2YXIgdHlwZSBpbiBzb3VyY2VCdWZmZXIpIHtcbiAgICAgICAgICAvLyBjaGVjayBpZiBzb3VyY2VidWZmZXIgdHlwZSBpcyBkZWZpbmVkICh0eXBlSW4pOiBpZiB5ZXMsIGxldCdzIG9ubHkgZmx1c2ggdGhpcyBvbmVcbiAgICAgICAgICAvLyBpZiBubywgbGV0J3MgZmx1c2ggYWxsIHNvdXJjZWJ1ZmZlcnNcbiAgICAgICAgICBpZiAodHlwZUluICYmIHR5cGUgIT09IHR5cGVJbikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2IgPSBzb3VyY2VCdWZmZXJbdHlwZV07XG4gICAgICAgICAgLy8gd2UgYXJlIGdvaW5nIHRvIGZsdXNoIGJ1ZmZlciwgbWFyayBzb3VyY2UgYnVmZmVyIGFzICdub3QgZW5kZWQnXG4gICAgICAgICAgc2IuZW5kZWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoIXNiLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2IuYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBidWZTdGFydCA9IHNiLmJ1ZmZlcmVkLnN0YXJ0KGkpO1xuICAgICAgICAgICAgICAgIGJ1ZkVuZCA9IHNiLmJ1ZmZlcmVkLmVuZChpKTtcbiAgICAgICAgICAgICAgICAvLyB3b3JrYXJvdW5kIGZpcmVmb3ggbm90IGFibGUgdG8gcHJvcGVybHkgZmx1c2ggbXVsdGlwbGUgYnVmZmVyZWQgcmFuZ2UuXG4gICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdmaXJlZm94JykgIT09IC0xICYmIGVuZE9mZnNldCA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICAgICAgICBmbHVzaFN0YXJ0ID0gc3RhcnRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICBmbHVzaEVuZCA9IGVuZE9mZnNldDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZmx1c2hTdGFydCA9IE1hdGgubWF4KGJ1ZlN0YXJ0LCBzdGFydE9mZnNldCk7XG4gICAgICAgICAgICAgICAgICBmbHVzaEVuZCA9IE1hdGgubWluKGJ1ZkVuZCwgZW5kT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogc29tZXRpbWVzIHNvdXJjZWJ1ZmZlci5yZW1vdmUoKSBkb2VzIG5vdCBmbHVzaFxuICAgICAgICAgICAgICAgICAgIHRoZSBleGFjdCBleHBlY3RlZCB0aW1lIHJhbmdlLlxuICAgICAgICAgICAgICAgICAgIHRvIGF2b2lkIHJvdW5kaW5nIGlzc3Vlcy9pbmZpbml0ZSBsb29wLFxuICAgICAgICAgICAgICAgICAgIG9ubHkgZmx1c2ggYnVmZmVyIHJhbmdlIG9mIGxlbmd0aCBncmVhdGVyIHRoYW4gNTAwbXMuXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5taW4oZmx1c2hFbmQsIGJ1ZkVuZCkgLSBmbHVzaFN0YXJ0ID4gMC41KSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmZsdXNoQnVmZmVyQ291bnRlcisrO1xuICAgICAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdmbHVzaCAnICsgdHlwZSArICcgWycgKyBmbHVzaFN0YXJ0ICsgJywnICsgZmx1c2hFbmQgKyAnXSwgb2YgWycgKyBidWZTdGFydCArICcsJyArIGJ1ZkVuZCArICddLCBwb3M6JyArIHRoaXMubWVkaWEuY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgc2IucmVtb3ZlKGZsdXNoU3RhcnQsIGZsdXNoRW5kKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignZXhjZXB0aW9uIHdoaWxlIGFjY2Vzc2luZyBzb3VyY2VidWZmZXIsIGl0IG1pZ2h0IGhhdmUgYmVlbiByZW1vdmVkIGZyb20gTWVkaWFTb3VyY2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnYWJvcnQgJyArIHR5cGUgKyAnIGFwcGVuZCBpbiBwcm9ncmVzcycpO1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGFib3J0IGFueSBhcHBlbmRpbmcgaW4gcHJvZ3Jlc3NcbiAgICAgICAgICAgIC8vIHNiLmFib3J0KCk7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdjYW5ub3QgZmx1c2gsIHNiIHVwZGF0aW5nIGluIHByb2dyZXNzJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdhYm9ydCBmbHVzaGluZyB0b28gbWFueSByZXRyaWVzJyk7XG4gICAgICB9XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2J1ZmZlciBmbHVzaGVkJyk7XG4gICAgfVxuICAgIC8vIGV2ZXJ5dGhpbmcgZmx1c2hlZCAhXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgcmV0dXJuIEJ1ZmZlckNvbnRyb2xsZXI7XG59KGV2ZW50X2hhbmRsZXIpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBidWZmZXJfY29udHJvbGxlciA9IChidWZmZXJfY29udHJvbGxlcl9CdWZmZXJDb250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvY2FwLWxldmVsLWNvbnRyb2xsZXIuanNcbnZhciBjYXBfbGV2ZWxfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIGNhcF9sZXZlbF9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGNhcF9sZXZlbF9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBjYXBfbGV2ZWxfY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIGNhcCBzdHJlYW0gbGV2ZWwgdG8gbWVkaWEgc2l6ZSBkaW1lbnNpb24gY29udHJvbGxlclxuKi9cblxuXG5cblxudmFyIGNhcF9sZXZlbF9jb250cm9sbGVyX0NhcExldmVsQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIGNhcF9sZXZlbF9jb250cm9sbGVyX19pbmhlcml0cyhDYXBMZXZlbENvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIENhcExldmVsQ29udHJvbGxlcihobHMpIHtcbiAgICBjYXBfbGV2ZWxfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FwTGV2ZWxDb250cm9sbGVyKTtcblxuICAgIHZhciBfdGhpcyA9IGNhcF9sZXZlbF9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUFNfRFJPUF9MRVZFTF9DQVBQSU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfQVRUQUNISU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfUEFSU0VELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0NPREVDUywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0RFVEFDSElORykpO1xuXG4gICAgX3RoaXMuYXV0b0xldmVsQ2FwcGluZyA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBfdGhpcy5maXJzdExldmVsID0gbnVsbDtcbiAgICBfdGhpcy5sZXZlbHMgPSBbXTtcbiAgICBfdGhpcy5tZWRpYSA9IG51bGw7XG4gICAgX3RoaXMucmVzdHJpY3RlZExldmVscyA9IFtdO1xuICAgIF90aGlzLnRpbWVyID0gbnVsbDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmhscy5jb25maWcuY2FwTGV2ZWxUb1BsYXllclNpemUpIHtcbiAgICAgIHRoaXMubWVkaWEgPSBudWxsO1xuICAgICAgdGhpcy5fc3RvcENhcHBpbmcoKTtcbiAgICB9XG4gIH07XG5cbiAgQ2FwTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkZwc0Ryb3BMZXZlbENhcHBpbmcgPSBmdW5jdGlvbiBvbkZwc0Ryb3BMZXZlbENhcHBpbmcoZGF0YSkge1xuICAgIC8vIERvbid0IGFkZCBhIHJlc3RyaWN0ZWQgbGV2ZWwgbW9yZSB0aGFuIG9uY2VcbiAgICBpZiAoQ2FwTGV2ZWxDb250cm9sbGVyLmlzTGV2ZWxBbGxvd2VkKGRhdGEuZHJvcHBlZExldmVsLCB0aGlzLnJlc3RyaWN0ZWRMZXZlbHMpKSB7XG4gICAgICB0aGlzLnJlc3RyaWN0ZWRMZXZlbHMucHVzaChkYXRhLmRyb3BwZWRMZXZlbCk7XG4gICAgfVxuICB9O1xuXG4gIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFBdHRhY2hpbmcoZGF0YSkge1xuICAgIHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhIGluc3RhbmNlb2Ygd2luZG93LkhUTUxWaWRlb0VsZW1lbnQgPyBkYXRhLm1lZGlhIDogbnVsbDtcbiAgfTtcblxuICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RQYXJzZWQgPSBmdW5jdGlvbiBvbk1hbmlmZXN0UGFyc2VkKGRhdGEpIHtcbiAgICB2YXIgaGxzID0gdGhpcy5obHM7XG4gICAgdGhpcy5yZXN0cmljdGVkTGV2ZWxzID0gW107XG4gICAgdGhpcy5sZXZlbHMgPSBkYXRhLmxldmVscztcbiAgICB0aGlzLmZpcnN0TGV2ZWwgPSBkYXRhLmZpcnN0TGV2ZWw7XG4gICAgaWYgKGhscy5jb25maWcuY2FwTGV2ZWxUb1BsYXllclNpemUgJiYgKGRhdGEudmlkZW8gfHwgZGF0YS5sZXZlbHMubGVuZ3RoICYmIGRhdGEuYWx0QXVkaW8pKSB7XG4gICAgICAvLyBTdGFydCBjYXBwaW5nIGltbWVkaWF0ZWx5IGlmIHRoZSBtYW5pZmVzdCBoYXMgc2lnbmFsZWQgdmlkZW8gY29kZWNzXG4gICAgICB0aGlzLl9zdGFydENhcHBpbmcoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gT25seSBhY3RpdmF0ZSBjYXBwaW5nIHdoZW4gcGxheWluZyBhIHZpZGVvIHN0cmVhbTsgb3RoZXJ3aXNlLCBtdWx0aS1iaXRyYXRlIGF1ZGlvLW9ubHkgc3RyZWFtcyB3aWxsIGJlIHJlc3RyaWN0ZWRcbiAgLy8gdG8gdGhlIGZpcnN0IGxldmVsXG5cblxuICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQ29kZWNzID0gZnVuY3Rpb24gb25CdWZmZXJDb2RlY3MoZGF0YSkge1xuICAgIHZhciBobHMgPSB0aGlzLmhscztcbiAgICBpZiAoaGxzLmNvbmZpZy5jYXBMZXZlbFRvUGxheWVyU2l6ZSAmJiBkYXRhLnZpZGVvKSB7XG4gICAgICAvLyBJZiB0aGUgbWFuaWZlc3QgZGlkIG5vdCBzaWduYWwgYSB2aWRlbyBjb2RlYyBjYXBwaW5nIGhhcyBiZWVuIGRlZmVycmVkIHVudGlsIHdlJ3JlIGNlcnRhaW4gdmlkZW8gaXMgcHJlc2VudFxuICAgICAgdGhpcy5fc3RhcnRDYXBwaW5nKCk7XG4gICAgfVxuICB9O1xuXG4gIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25MZXZlbHNVcGRhdGVkID0gZnVuY3Rpb24gb25MZXZlbHNVcGRhdGVkKGRhdGEpIHtcbiAgICB0aGlzLmxldmVscyA9IGRhdGEubGV2ZWxzO1xuICB9O1xuXG4gIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYURldGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFEZXRhY2hpbmcoKSB7XG4gICAgdGhpcy5fc3RvcENhcHBpbmcoKTtcbiAgfTtcblxuICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLmRldGVjdFBsYXllclNpemUgPSBmdW5jdGlvbiBkZXRlY3RQbGF5ZXJTaXplKCkge1xuICAgIGlmICh0aGlzLm1lZGlhKSB7XG4gICAgICB2YXIgbGV2ZWxzTGVuZ3RoID0gdGhpcy5sZXZlbHMgPyB0aGlzLmxldmVscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKGxldmVsc0xlbmd0aCkge1xuICAgICAgICB2YXIgaGxzID0gdGhpcy5obHM7XG4gICAgICAgIGhscy5hdXRvTGV2ZWxDYXBwaW5nID0gdGhpcy5nZXRNYXhMZXZlbChsZXZlbHNMZW5ndGggLSAxKTtcbiAgICAgICAgaWYgKGhscy5hdXRvTGV2ZWxDYXBwaW5nID4gdGhpcy5hdXRvTGV2ZWxDYXBwaW5nKSB7XG4gICAgICAgICAgLy8gaWYgYXV0byBsZXZlbCBjYXBwaW5nIGhhcyBhIGhpZ2hlciB2YWx1ZSBmb3IgdGhlIHByZXZpb3VzIG9uZSwgZmx1c2ggdGhlIGJ1ZmZlciB1c2luZyBuZXh0TGV2ZWxTd2l0Y2hcbiAgICAgICAgICAvLyB1c3VhbGx5IGhhcHBlbiB3aGVuIHRoZSB1c2VyIGdvIHRvIHRoZSBmdWxsc2NyZWVuIG1vZGUuXG4gICAgICAgICAgaGxzLnN0cmVhbUNvbnRyb2xsZXIubmV4dExldmVsU3dpdGNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdXRvTGV2ZWxDYXBwaW5nID0gaGxzLmF1dG9MZXZlbENhcHBpbmc7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qXG4gICogcmV0dXJucyBsZXZlbCBzaG91bGQgYmUgdGhlIG9uZSB3aXRoIHRoZSBkaW1lbnNpb25zIGVxdWFsIG9yIGdyZWF0ZXIgdGhhbiB0aGUgbWVkaWEgKHBsYXllcikgZGltZW5zaW9ucyAoc28gdGhlIHZpZGVvIHdpbGwgYmUgZG93bnNjYWxlZClcbiAgKi9cblxuXG4gIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWF4TGV2ZWwgPSBmdW5jdGlvbiBnZXRNYXhMZXZlbChjYXBMZXZlbEluZGV4KSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBpZiAoIXRoaXMubGV2ZWxzKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgdmFyIHZhbGlkTGV2ZWxzID0gdGhpcy5sZXZlbHMuZmlsdGVyKGZ1bmN0aW9uIChsZXZlbCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiBDYXBMZXZlbENvbnRyb2xsZXIuaXNMZXZlbEFsbG93ZWQoaW5kZXgsIF90aGlzMi5yZXN0cmljdGVkTGV2ZWxzKSAmJiBpbmRleCA8PSBjYXBMZXZlbEluZGV4O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIENhcExldmVsQ29udHJvbGxlci5nZXRNYXhMZXZlbEJ5TWVkaWFTaXplKHZhbGlkTGV2ZWxzLCB0aGlzLm1lZGlhV2lkdGgsIHRoaXMubWVkaWFIZWlnaHQpO1xuICB9O1xuXG4gIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuX3N0YXJ0Q2FwcGluZyA9IGZ1bmN0aW9uIF9zdGFydENhcHBpbmcoKSB7XG4gICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgIC8vIERvbid0IHJlc2V0IGNhcHBpbmcgaWYgc3RhcnRlZCB0d2ljZTsgdGhpcyBjYW4gaGFwcGVuIGlmIHRoZSBtYW5pZmVzdCBzaWduYWxzIGEgdmlkZW8gY29kZWNcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hdXRvTGV2ZWxDYXBwaW5nID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIHRoaXMuaGxzLmZpcnN0TGV2ZWwgPSB0aGlzLmdldE1heExldmVsKHRoaXMuZmlyc3RMZXZlbCk7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5kZXRlY3RQbGF5ZXJTaXplLmJpbmQodGhpcyksIDEwMDApO1xuICAgIHRoaXMuZGV0ZWN0UGxheWVyU2l6ZSgpO1xuICB9O1xuXG4gIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuX3N0b3BDYXBwaW5nID0gZnVuY3Rpb24gX3N0b3BDYXBwaW5nKCkge1xuICAgIHRoaXMucmVzdHJpY3RlZExldmVscyA9IFtdO1xuICAgIHRoaXMuZmlyc3RMZXZlbCA9IG51bGw7XG4gICAgdGhpcy5hdXRvTGV2ZWxDYXBwaW5nID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICB0aGlzLnRpbWVyID0gY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBDYXBMZXZlbENvbnRyb2xsZXIuaXNMZXZlbEFsbG93ZWQgPSBmdW5jdGlvbiBpc0xldmVsQWxsb3dlZChsZXZlbCkge1xuICAgIHZhciByZXN0cmljdGVkTGV2ZWxzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcblxuICAgIHJldHVybiByZXN0cmljdGVkTGV2ZWxzLmluZGV4T2YobGV2ZWwpID09PSAtMTtcbiAgfTtcblxuICBDYXBMZXZlbENvbnRyb2xsZXIuZ2V0TWF4TGV2ZWxCeU1lZGlhU2l6ZSA9IGZ1bmN0aW9uIGdldE1heExldmVsQnlNZWRpYVNpemUobGV2ZWxzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgaWYgKCFsZXZlbHMgfHwgbGV2ZWxzICYmICFsZXZlbHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLy8gTGV2ZWxzIGNhbiBoYXZlIHRoZSBzYW1lIGRpbWVuc2lvbnMgYnV0IGRpZmZlcmluZyBiYW5kd2lkdGhzIC0gc2luY2UgbGV2ZWxzIGFyZSBvcmRlcmVkLCB3ZSBjYW4gbG9vayB0byB0aGUgbmV4dFxuICAgIC8vIHRvIGRldGVybWluZSB3aGV0aGVyIHdlJ3ZlIGNob3NlbiB0aGUgZ3JlYXRlc3QgYmFuZHdpZHRoIGZvciB0aGUgbWVkaWEncyBkaW1lbnNpb25zXG4gICAgdmFyIGF0R3JlYXRlc3RCYW5kaXdkdGggPSBmdW5jdGlvbiBhdEdyZWF0ZXN0QmFuZGl3ZHRoKGN1ckxldmVsLCBuZXh0TGV2ZWwpIHtcbiAgICAgIGlmICghbmV4dExldmVsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3VyTGV2ZWwud2lkdGggIT09IG5leHRMZXZlbC53aWR0aCB8fCBjdXJMZXZlbC5oZWlnaHQgIT09IG5leHRMZXZlbC5oZWlnaHQ7XG4gICAgfTtcblxuICAgIC8vIElmIHdlIHJ1biB0aHJvdWdoIHRoZSBsb29wIHdpdGhvdXQgYnJlYWtpbmcsIHRoZSBtZWRpYSdzIGRpbWVuc2lvbnMgYXJlIGdyZWF0ZXIgdGhhbiBldmVyeSBsZXZlbCwgc28gZGVmYXVsdCB0b1xuICAgIC8vIHRoZSBtYXggbGV2ZWxcbiAgICB2YXIgbWF4TGV2ZWxJbmRleCA9IGxldmVscy5sZW5ndGggLSAxO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZXZlbHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIHZhciBsZXZlbCA9IGxldmVsc1tpXTtcbiAgICAgIGlmICgobGV2ZWwud2lkdGggPj0gd2lkdGggfHwgbGV2ZWwuaGVpZ2h0ID49IGhlaWdodCkgJiYgYXRHcmVhdGVzdEJhbmRpd2R0aChsZXZlbCwgbGV2ZWxzW2kgKyAxXSkpIHtcbiAgICAgICAgbWF4TGV2ZWxJbmRleCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXhMZXZlbEluZGV4O1xuICB9O1xuXG4gIGNhcF9sZXZlbF9jb250cm9sbGVyX19jcmVhdGVDbGFzcyhDYXBMZXZlbENvbnRyb2xsZXIsIFt7XG4gICAga2V5OiAnbWVkaWFXaWR0aCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgd2lkdGggPSB2b2lkIDA7XG4gICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIHdpZHRoID0gbWVkaWEud2lkdGggfHwgbWVkaWEuY2xpZW50V2lkdGggfHwgbWVkaWEub2Zmc2V0V2lkdGg7XG4gICAgICAgIHdpZHRoICo9IENhcExldmVsQ29udHJvbGxlci5jb250ZW50U2NhbGVGYWN0b3I7XG4gICAgICB9XG4gICAgICByZXR1cm4gd2lkdGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbWVkaWFIZWlnaHQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGhlaWdodCA9IHZvaWQgMDtcbiAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaGVpZ2h0ID0gbWVkaWEuaGVpZ2h0IHx8IG1lZGlhLmNsaWVudEhlaWdodCB8fCBtZWRpYS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGhlaWdodCAqPSBDYXBMZXZlbENvbnRyb2xsZXIuY29udGVudFNjYWxlRmFjdG9yO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ2NvbnRlbnRTY2FsZUZhY3RvcicsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgcGl4ZWxSYXRpbyA9IDE7XG4gICAgICB0cnkge1xuICAgICAgICBwaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgcmV0dXJuIHBpeGVsUmF0aW87XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhcExldmVsQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGNhcF9sZXZlbF9jb250cm9sbGVyID0gKGNhcF9sZXZlbF9jb250cm9sbGVyX0NhcExldmVsQ29udHJvbGxlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL2Zwcy1jb250cm9sbGVyLmpzXG5mdW5jdGlvbiBmcHNfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBmcHNfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gZnBzX2NvbnRyb2xsZXJfX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qXG4gKiBGUFMgQ29udHJvbGxlclxuKi9cblxuXG5cblxuXG52YXIgZnBzX2NvbnRyb2xsZXJfX3dpbmRvdyA9IHdpbmRvdyxcbiAgICBmcHNfY29udHJvbGxlcl9wZXJmb3JtYW5jZSA9IGZwc19jb250cm9sbGVyX193aW5kb3cucGVyZm9ybWFuY2U7XG5cbnZhciBmcHNfY29udHJvbGxlcl9GUFNDb250cm9sbGVyID0gZnVuY3Rpb24gKF9FdmVudEhhbmRsZXIpIHtcbiAgZnBzX2NvbnRyb2xsZXJfX2luaGVyaXRzKEZQU0NvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIEZQU0NvbnRyb2xsZXIoaGxzKSB7XG4gICAgZnBzX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZQU0NvbnRyb2xsZXIpO1xuXG4gICAgcmV0dXJuIGZwc19jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9BVFRBQ0hJTkcpKTtcbiAgfVxuXG4gIEZQU0NvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgIH1cblxuICAgIHRoaXMuaXNWaWRlb1BsYXliYWNrUXVhbGl0eUF2YWlsYWJsZSA9IGZhbHNlO1xuICB9O1xuXG4gIEZQU0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hpbmcgPSBmdW5jdGlvbiBvbk1lZGlhQXR0YWNoaW5nKGRhdGEpIHtcbiAgICB2YXIgY29uZmlnID0gdGhpcy5obHMuY29uZmlnO1xuICAgIGlmIChjb25maWcuY2FwTGV2ZWxPbkZQU0Ryb3ApIHtcbiAgICAgIHZhciB2aWRlbyA9IHRoaXMudmlkZW8gPSBkYXRhLm1lZGlhIGluc3RhbmNlb2Ygd2luZG93LkhUTUxWaWRlb0VsZW1lbnQgPyBkYXRhLm1lZGlhIDogbnVsbDtcbiAgICAgIGlmICh0eXBlb2YgdmlkZW8uZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5pc1ZpZGVvUGxheWJhY2tRdWFsaXR5QXZhaWxhYmxlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLmNoZWNrRlBTSW50ZXJ2YWwuYmluZCh0aGlzKSwgY29uZmlnLmZwc0Ryb3BwZWRNb25pdG9yaW5nUGVyaW9kKTtcbiAgICB9XG4gIH07XG5cbiAgRlBTQ29udHJvbGxlci5wcm90b3R5cGUuY2hlY2tGUFMgPSBmdW5jdGlvbiBjaGVja0ZQUyh2aWRlbywgZGVjb2RlZEZyYW1lcywgZHJvcHBlZEZyYW1lcykge1xuICAgIHZhciBjdXJyZW50VGltZSA9IGZwc19jb250cm9sbGVyX3BlcmZvcm1hbmNlLm5vdygpO1xuICAgIGlmIChkZWNvZGVkRnJhbWVzKSB7XG4gICAgICBpZiAodGhpcy5sYXN0VGltZSkge1xuICAgICAgICB2YXIgY3VycmVudFBlcmlvZCA9IGN1cnJlbnRUaW1lIC0gdGhpcy5sYXN0VGltZSxcbiAgICAgICAgICAgIGN1cnJlbnREcm9wcGVkID0gZHJvcHBlZEZyYW1lcyAtIHRoaXMubGFzdERyb3BwZWRGcmFtZXMsXG4gICAgICAgICAgICBjdXJyZW50RGVjb2RlZCA9IGRlY29kZWRGcmFtZXMgLSB0aGlzLmxhc3REZWNvZGVkRnJhbWVzLFxuICAgICAgICAgICAgZHJvcHBlZEZQUyA9IDEwMDAgKiBjdXJyZW50RHJvcHBlZCAvIGN1cnJlbnRQZXJpb2QsXG4gICAgICAgICAgICBobHMgPSB0aGlzLmhscztcbiAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZQU19EUk9QLCB7IGN1cnJlbnREcm9wcGVkOiBjdXJyZW50RHJvcHBlZCwgY3VycmVudERlY29kZWQ6IGN1cnJlbnREZWNvZGVkLCB0b3RhbERyb3BwZWRGcmFtZXM6IGRyb3BwZWRGcmFtZXMgfSk7XG4gICAgICAgIGlmIChkcm9wcGVkRlBTID4gMCkge1xuICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ2NoZWNrRlBTIDogZHJvcHBlZEZQUy9kZWNvZGVkRlBTOicgKyBkcm9wcGVkRlBTLygxMDAwICogY3VycmVudERlY29kZWQgLyBjdXJyZW50UGVyaW9kKSk7XG4gICAgICAgICAgaWYgKGN1cnJlbnREcm9wcGVkID4gaGxzLmNvbmZpZy5mcHNEcm9wcGVkTW9uaXRvcmluZ1RocmVzaG9sZCAqIGN1cnJlbnREZWNvZGVkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudExldmVsID0gaGxzLmN1cnJlbnRMZXZlbDtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ2Ryb3AgRlBTIHJhdGlvIGdyZWF0ZXIgdGhhbiBtYXggYWxsb3dlZCB2YWx1ZSBmb3IgY3VycmVudExldmVsOiAnICsgY3VycmVudExldmVsKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50TGV2ZWwgPiAwICYmIChobHMuYXV0b0xldmVsQ2FwcGluZyA9PT0gLTEgfHwgaGxzLmF1dG9MZXZlbENhcHBpbmcgPj0gY3VycmVudExldmVsKSkge1xuICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwgPSBjdXJyZW50TGV2ZWwgLSAxO1xuICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlBTX0RST1BfTEVWRUxfQ0FQUElORywgeyBsZXZlbDogY3VycmVudExldmVsLCBkcm9wcGVkTGV2ZWw6IGhscy5jdXJyZW50TGV2ZWwgfSk7XG4gICAgICAgICAgICAgIGhscy5hdXRvTGV2ZWxDYXBwaW5nID0gY3VycmVudExldmVsO1xuICAgICAgICAgICAgICBobHMuc3RyZWFtQ29udHJvbGxlci5uZXh0TGV2ZWxTd2l0Y2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICAgIHRoaXMubGFzdERyb3BwZWRGcmFtZXMgPSBkcm9wcGVkRnJhbWVzO1xuICAgICAgdGhpcy5sYXN0RGVjb2RlZEZyYW1lcyA9IGRlY29kZWRGcmFtZXM7XG4gICAgfVxuICB9O1xuXG4gIEZQU0NvbnRyb2xsZXIucHJvdG90eXBlLmNoZWNrRlBTSW50ZXJ2YWwgPSBmdW5jdGlvbiBjaGVja0ZQU0ludGVydmFsKCkge1xuICAgIHZhciB2aWRlbyA9IHRoaXMudmlkZW87XG4gICAgaWYgKHZpZGVvKSB7XG4gICAgICBpZiAodGhpcy5pc1ZpZGVvUGxheWJhY2tRdWFsaXR5QXZhaWxhYmxlKSB7XG4gICAgICAgIHZhciB2aWRlb1BsYXliYWNrUXVhbGl0eSA9IHZpZGVvLmdldFZpZGVvUGxheWJhY2tRdWFsaXR5KCk7XG4gICAgICAgIHRoaXMuY2hlY2tGUFModmlkZW8sIHZpZGVvUGxheWJhY2tRdWFsaXR5LnRvdGFsVmlkZW9GcmFtZXMsIHZpZGVvUGxheWJhY2tRdWFsaXR5LmRyb3BwZWRWaWRlb0ZyYW1lcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNoZWNrRlBTKHZpZGVvLCB2aWRlby53ZWJraXREZWNvZGVkRnJhbWVDb3VudCwgdmlkZW8ud2Via2l0RHJvcHBlZEZyYW1lQ291bnQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gRlBTQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGZwc19jb250cm9sbGVyID0gKGZwc19jb250cm9sbGVyX0ZQU0NvbnRyb2xsZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMveGhyLWxvYWRlci5qc1xuZnVuY3Rpb24geGhyX2xvYWRlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFhIUiBiYXNlZCBsb2dnZXJcbiovXG5cblxuXG52YXIgeGhyX2xvYWRlcl9fd2luZG93ID0gd2luZG93LFxuICAgIHhocl9sb2FkZXJfcGVyZm9ybWFuY2UgPSB4aHJfbG9hZGVyX193aW5kb3cucGVyZm9ybWFuY2UsXG4gICAgWE1MSHR0cFJlcXVlc3QgPSB4aHJfbG9hZGVyX193aW5kb3cuWE1MSHR0cFJlcXVlc3Q7XG5cbnZhciB4aHJfbG9hZGVyX1hockxvYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gWGhyTG9hZGVyKGNvbmZpZykge1xuICAgIHhocl9sb2FkZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFhockxvYWRlcik7XG5cbiAgICBpZiAoY29uZmlnICYmIGNvbmZpZy54aHJTZXR1cCkge1xuICAgICAgdGhpcy54aHJTZXR1cCA9IGNvbmZpZy54aHJTZXR1cDtcbiAgICB9XG4gIH1cblxuICBYaHJMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHRoaXMuYWJvcnQoKTtcbiAgICB0aGlzLmxvYWRlciA9IG51bGw7XG4gIH07XG5cbiAgWGhyTG9hZGVyLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgIHZhciBsb2FkZXIgPSB0aGlzLmxvYWRlcjtcbiAgICBpZiAobG9hZGVyICYmIGxvYWRlci5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICB0aGlzLnN0YXRzLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgfVxuXG4gICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJlcXVlc3RUaW1lb3V0KTtcbiAgICB0aGlzLnJlcXVlc3RUaW1lb3V0ID0gbnVsbDtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmV0cnlUaW1lb3V0KTtcbiAgICB0aGlzLnJldHJ5VGltZW91dCA9IG51bGw7XG4gIH07XG5cbiAgWGhyTG9hZGVyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZChjb250ZXh0LCBjb25maWcsIGNhbGxiYWNrcykge1xuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gICAgdGhpcy5zdGF0cyA9IHsgdHJlcXVlc3Q6IHhocl9sb2FkZXJfcGVyZm9ybWFuY2Uubm93KCksIHJldHJ5OiAwIH07XG4gICAgdGhpcy5yZXRyeURlbGF5ID0gY29uZmlnLnJldHJ5RGVsYXk7XG4gICAgdGhpcy5sb2FkSW50ZXJuYWwoKTtcbiAgfTtcblxuICBYaHJMb2FkZXIucHJvdG90eXBlLmxvYWRJbnRlcm5hbCA9IGZ1bmN0aW9uIGxvYWRJbnRlcm5hbCgpIHtcbiAgICB2YXIgeGhyID0gdm9pZCAwLFxuICAgICAgICBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHhociA9IHRoaXMubG9hZGVyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICB2YXIgc3RhdHMgPSB0aGlzLnN0YXRzO1xuICAgIHN0YXRzLnRmaXJzdCA9IDA7XG4gICAgc3RhdHMubG9hZGVkID0gMDtcbiAgICB2YXIgeGhyU2V0dXAgPSB0aGlzLnhoclNldHVwO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh4aHJTZXR1cCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHhoclNldHVwKHhociwgY29udGV4dC51cmwpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gZml4IHhoclNldHVwOiAoeGhyLCB1cmwpID0+IHt4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtTGFuZ3VhZ2VcIiwgXCJ0ZXN0XCIpO31cbiAgICAgICAgICAvLyBub3Qgd29ya2luZywgYXMgeGhyLnNldFJlcXVlc3RIZWFkZXIgZXhwZWN0cyB4aHIucmVhZHlTdGF0ZSA9PT0gT1BFTlxuICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCBjb250ZXh0LnVybCwgdHJ1ZSk7XG4gICAgICAgICAgeGhyU2V0dXAoeGhyLCBjb250ZXh0LnVybCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgheGhyLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIGNvbnRleHQudXJsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBJRTExIHRocm93cyBhbiBleGNlcHRpb24gb24geGhyLm9wZW4gaWYgYXR0ZW1wdGluZyB0byBhY2Nlc3MgYW4gSFRUUCByZXNvdXJjZSBvdmVyIEhUVFBTXG4gICAgICB0aGlzLmNhbGxiYWNrcy5vbkVycm9yKHsgY29kZTogeGhyLnN0YXR1cywgdGV4dDogZS5tZXNzYWdlIH0sIGNvbnRleHQsIHhocik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNvbnRleHQucmFuZ2VFbmQpIHtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdSYW5nZScsICdieXRlcz0nICsgY29udGV4dC5yYW5nZVN0YXJ0ICsgJy0nICsgKGNvbnRleHQucmFuZ2VFbmQgLSAxKSk7XG4gICAgfVxuXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHRoaXMucmVhZHlzdGF0ZWNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHhoci5vbnByb2dyZXNzID0gdGhpcy5sb2FkcHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gY29udGV4dC5yZXNwb25zZVR5cGU7XG5cbiAgICAvLyBzZXR1cCB0aW1lb3V0IGJlZm9yZSB3ZSBwZXJmb3JtIHJlcXVlc3RcbiAgICB0aGlzLnJlcXVlc3RUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpLCB0aGlzLmNvbmZpZy50aW1lb3V0KTtcbiAgICB4aHIuc2VuZCgpO1xuICB9O1xuXG4gIFhockxvYWRlci5wcm90b3R5cGUucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIHJlYWR5c3RhdGVjaGFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgeGhyID0gZXZlbnQuY3VycmVudFRhcmdldCxcbiAgICAgICAgcmVhZHlTdGF0ZSA9IHhoci5yZWFkeVN0YXRlLFxuICAgICAgICBzdGF0cyA9IHRoaXMuc3RhdHMsXG4gICAgICAgIGNvbnRleHQgPSB0aGlzLmNvbnRleHQsXG4gICAgICAgIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuXG4gICAgLy8gZG9uJ3QgcHJvY2VlZCBpZiB4aHIgaGFzIGJlZW4gYWJvcnRlZFxuICAgIGlmIChzdGF0cy5hYm9ydGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gPj0gSEVBREVSU19SRUNFSVZFRFxuICAgIGlmIChyZWFkeVN0YXRlID49IDIpIHtcbiAgICAgIC8vIGNsZWFyIHhociB0aW1lb3V0IGFuZCByZWFybSBpdCBpZiByZWFkeVN0YXRlIGxlc3MgdGhhbiA0XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmVxdWVzdFRpbWVvdXQpO1xuICAgICAgaWYgKHN0YXRzLnRmaXJzdCA9PT0gMCkge1xuICAgICAgICBzdGF0cy50Zmlyc3QgPSBNYXRoLm1heCh4aHJfbG9hZGVyX3BlcmZvcm1hbmNlLm5vdygpLCBzdGF0cy50cmVxdWVzdCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgIHZhciBzdGF0dXMgPSB4aHIuc3RhdHVzO1xuICAgICAgICAvLyBodHRwIHN0YXR1cyBiZXR3ZWVuIDIwMCB0byAyOTkgYXJlIGFsbCBzdWNjZXNzZnVsXG4gICAgICAgIGlmIChzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgIHN0YXRzLnRsb2FkID0gTWF0aC5tYXgoc3RhdHMudGZpcnN0LCB4aHJfbG9hZGVyX3BlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgICB2YXIgZGF0YSA9IHZvaWQgMCxcbiAgICAgICAgICAgICAgbGVuID0gdm9pZCAwO1xuICAgICAgICAgIGlmIChjb250ZXh0LnJlc3BvbnNlVHlwZSA9PT0gJ2FycmF5YnVmZmVyJykge1xuICAgICAgICAgICAgZGF0YSA9IHhoci5yZXNwb25zZTtcbiAgICAgICAgICAgIGxlbiA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICBsZW4gPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhdHMubG9hZGVkID0gc3RhdHMudG90YWwgPSBsZW47XG4gICAgICAgICAgdmFyIHJlc3BvbnNlID0geyB1cmw6IHhoci5yZXNwb25zZVVSTCwgZGF0YTogZGF0YSB9O1xuICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uU3VjY2VzcyhyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQsIHhocik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgbWF4IG5iIG9mIHJldHJpZXMgcmVhY2hlZCBvciBpZiBodHRwIHN0YXR1cyBiZXR3ZWVuIDQwMCBhbmQgNDk5IChzdWNoIGVycm9yIGNhbm5vdCBiZSByZWNvdmVyZWQsIHJldHJ5aW5nIGlzIHVzZWxlc3MpLCByZXR1cm4gZXJyb3JcbiAgICAgICAgICBpZiAoc3RhdHMucmV0cnkgPj0gY29uZmlnLm1heFJldHJ5IHx8IHN0YXR1cyA+PSA0MDAgJiYgc3RhdHVzIDwgNDk5KSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcihzdGF0dXMgKyAnIHdoaWxlIGxvYWRpbmcgJyArIGNvbnRleHQudXJsKTtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uRXJyb3IoeyBjb2RlOiBzdGF0dXMsIHRleHQ6IHhoci5zdGF0dXNUZXh0IH0sIGNvbnRleHQsIHhocik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJldHJ5XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKHN0YXR1cyArICcgd2hpbGUgbG9hZGluZyAnICsgY29udGV4dC51cmwgKyAnLCByZXRyeWluZyBpbiAnICsgdGhpcy5yZXRyeURlbGF5ICsgJy4uLicpO1xuICAgICAgICAgICAgLy8gYWJvcnRzIGFuZCByZXNldHMgaW50ZXJuYWwgc3RhdGVcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgLy8gc2NoZWR1bGUgcmV0cnlcbiAgICAgICAgICAgIHRoaXMucmV0cnlUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5sb2FkSW50ZXJuYWwuYmluZCh0aGlzKSwgdGhpcy5yZXRyeURlbGF5KTtcbiAgICAgICAgICAgIC8vIHNldCBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICAgICAgICB0aGlzLnJldHJ5RGVsYXkgPSBNYXRoLm1pbigyICogdGhpcy5yZXRyeURlbGF5LCBjb25maWcubWF4UmV0cnlEZWxheSk7XG4gICAgICAgICAgICBzdGF0cy5yZXRyeSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVhZHlTdGF0ZSA+PSAyIEFORCByZWFkeVN0YXRlICE9PTQgKHJlYWR5U3RhdGUgPSBIRUFERVJTX1JFQ0VJVkVEIHx8IExPQURJTkcpIHJlYXJtIHRpbWVvdXQgYXMgeGhyIG5vdCBmaW5pc2hlZCB5ZXRcbiAgICAgICAgdGhpcy5yZXF1ZXN0VGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMubG9hZHRpbWVvdXQuYmluZCh0aGlzKSwgY29uZmlnLnRpbWVvdXQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBYaHJMb2FkZXIucHJvdG90eXBlLmxvYWR0aW1lb3V0ID0gZnVuY3Rpb24gbG9hZHRpbWVvdXQoKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybigndGltZW91dCB3aGlsZSBsb2FkaW5nICcgKyB0aGlzLmNvbnRleHQudXJsKTtcbiAgICB0aGlzLmNhbGxiYWNrcy5vblRpbWVvdXQodGhpcy5zdGF0cywgdGhpcy5jb250ZXh0LCBudWxsKTtcbiAgfTtcblxuICBYaHJMb2FkZXIucHJvdG90eXBlLmxvYWRwcm9ncmVzcyA9IGZ1bmN0aW9uIGxvYWRwcm9ncmVzcyhldmVudCkge1xuICAgIHZhciB4aHIgPSBldmVudC5jdXJyZW50VGFyZ2V0LFxuICAgICAgICBzdGF0cyA9IHRoaXMuc3RhdHM7XG5cbiAgICBzdGF0cy5sb2FkZWQgPSBldmVudC5sb2FkZWQ7XG4gICAgaWYgKGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgIHN0YXRzLnRvdGFsID0gZXZlbnQudG90YWw7XG4gICAgfVxuXG4gICAgdmFyIG9uUHJvZ3Jlc3MgPSB0aGlzLmNhbGxiYWNrcy5vblByb2dyZXNzO1xuICAgIGlmIChvblByb2dyZXNzKSB7XG4gICAgICAvLyB0aGlyZCBhcmcgaXMgdG8gcHJvdmlkZSBvbiBwcm9ncmVzcyBkYXRhXG4gICAgICBvblByb2dyZXNzKHN0YXRzLCB0aGlzLmNvbnRleHQsIG51bGwsIHhocik7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBYaHJMb2FkZXI7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHhocl9sb2FkZXIgPSAoeGhyX2xvYWRlcl9YaHJMb2FkZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29udHJvbGxlci9hdWRpby10cmFjay1jb250cm9sbGVyLmpzXG52YXIgYXVkaW9fdHJhY2tfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIGF1ZGlvX3RyYWNrX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gYXVkaW9fdHJhY2tfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gYXVkaW9fdHJhY2tfY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuXG5cblxuXG5cbi8qKlxuICogQGNsYXNzIEF1ZGlvVHJhY2tDb250cm9sbGVyXG4gKiBAaW1wbGVtZW50cyB7RXZlbnRIYW5kbGVyfVxuICpcbiAqIEhhbmRsZXMgbWFpbiBtYW5pZmVzdCBhbmQgYXVkaW8tdHJhY2sgbWV0YWRhdGEgbG9hZGVkLFxuICogb3ducyBhbmQgZXhwb3NlcyB0aGUgc2VsZWN0YWJsZSBhdWRpby10cmFja3MgZGF0YS1tb2RlbHMuXG4gKlxuICogRXhwb3NlcyBpbnRlcm5hbCBpbnRlcmZhY2UgdG8gc2VsZWN0IGF2YWlsYWJsZSBhdWRpby10cmFja3MuXG4gKlxuICogSGFuZGxlcyBlcnJvcnMgb24gbG9hZGluZyBhdWRpby10cmFjayBwbGF5bGlzdHMuIE1hbmFnZXMgZmFsbGJhY2sgbWVjaGFuaXNtXG4gKiB3aXRoIHJlZHVuZGFudHMgdHJhY2tzIChncm91cC1JRHMpLlxuICpcbiAqIEhhbmRsZXMgbGV2ZWwtbG9hZGluZyBhbmQgZ3JvdXAtSUQgc3dpdGNoZXMgZm9yIHZpZGVvIChmYWxsYmFjayBvbiB2aWRlbyBsZXZlbHMpLFxuICogYW5kIGV2ZW50dWFsbHkgYWRhcHRzIHRoZSBhdWRpby10cmFjayBncm91cC1JRCB0byBtYXRjaC5cbiAqXG4gKiBAZmlyZXMgQVVESU9fVFJBQ0tfTE9BRElOR1xuICogQGZpcmVzIEFVRElPX1RSQUNLX1NXSVRDSElOR1xuICogQGZpcmVzIEFVRElPX1RSQUNLU19VUERBVEVEXG4gKiBAZmlyZXMgRVJST1JcbiAqXG4gKi9cblxudmFyIGF1ZGlvX3RyYWNrX2NvbnRyb2xsZXJfQXVkaW9UcmFja0NvbnRyb2xsZXIgPSBmdW5jdGlvbiAoX1Rhc2tMb29wKSB7XG4gIGF1ZGlvX3RyYWNrX2NvbnRyb2xsZXJfX2luaGVyaXRzKEF1ZGlvVHJhY2tDb250cm9sbGVyLCBfVGFza0xvb3ApO1xuXG4gIGZ1bmN0aW9uIEF1ZGlvVHJhY2tDb250cm9sbGVyKGhscykge1xuICAgIGF1ZGlvX3RyYWNrX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1ZGlvVHJhY2tDb250cm9sbGVyKTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQ3VycmVudGx5IHNlbGVjdGVkIGluZGV4IGluIGB0cmFja3NgXG4gICAgICogQG1lbWJlciB7bnVtYmVyfSB0cmFja0lkXG4gICAgICovXG4gICAgdmFyIF90aGlzID0gYXVkaW9fdHJhY2tfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVGFza0xvb3AuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FESU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfUEFSU0VELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfU1dJVENIRUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUikpO1xuXG4gICAgX3RoaXMuX3RyYWNrSWQgPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogSWYgc2hvdWxkIHNlbGVjdCB0cmFja3MgYWNjb3JkaW5nIHRvIGRlZmF1bHQgdHJhY2sgYXR0cmlidXRlXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn0gX3NlbGVjdERlZmF1bHRUcmFja1xuICAgICAqL1xuICAgIF90aGlzLl9zZWxlY3REZWZhdWx0VHJhY2sgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEFsbCB0cmFja3MgYXZhaWxhYmxlXG4gICAgICogQG1lbWJlciB7QXVkaW9UcmFja1tdfVxuICAgICAqL1xuICAgIF90aGlzLnRyYWNrcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQHB1YmxpY1xuICAgICAqIExpc3Qgb2YgYmxhY2tsaXN0ZWQgYXVkaW8gdHJhY2sgSURzICh0aGF0IGhhdmUgY2F1c2VkIGZhaWx1cmUpXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgX3RoaXMudHJhY2tJZEJsYWNrbGlzdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICAvKipcbiAgICAgKiBAcHVibGljXG4gICAgICogVGhlIGN1cnJlbnRseSBydW5uaW5nIGdyb3VwIElEIGZvciBhdWRpb1xuICAgICAqICh3ZSBncmFiIHRoaXMgb24gbWFuaWZlc3QtcGFyc2VkIGFuZCBuZXcgbGV2ZWwtbG9hZGVkKVxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBfdGhpcy5hdWRpb0dyb3VwSWQgPSBudWxsO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCBhdWRpbyB0cmFja3Mgb24gbmV3IG1hbmlmZXN0IGxvYWRpbmcuXG4gICAqL1xuXG5cbiAgQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkaW5nID0gZnVuY3Rpb24gb25NYW5pZmVzdExvYWRpbmcoKSB7XG4gICAgdGhpcy50cmFja3MgPSBbXTtcbiAgICB0aGlzLl90cmFja0lkID0gLTE7XG4gICAgdGhpcy5fc2VsZWN0RGVmYXVsdFRyYWNrID0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcmUgdHJhY2tzIGRhdGEgZnJvbSBtYW5pZmVzdCBwYXJzZWQgZGF0YS5cbiAgICpcbiAgICogVHJpZ2dlciBBVURJT19UUkFDS1NfVVBEQVRFRCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBkYXRhXG4gICAqL1xuXG5cbiAgQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RQYXJzZWQgPSBmdW5jdGlvbiBvbk1hbmlmZXN0UGFyc2VkKGRhdGEpIHtcbiAgICB2YXIgdHJhY2tzID0gdGhpcy50cmFja3MgPSBkYXRhLmF1ZGlvVHJhY2tzIHx8IFtdO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLU19VUERBVEVELCB7IGF1ZGlvVHJhY2tzOiB0cmFja3MgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3JlIHRyYWNrIGRldGFpbHMgb2YgbG9hZGVkIHRyYWNrIGluIG91ciBkYXRhLW1vZGVsLlxuICAgKlxuICAgKiBTZXQtdXAgbWV0YWRhdGEgdXBkYXRlIGludGVydmFsIHRhc2sgZm9yIGxpdmUtbW9kZSBzdHJlYW1zLlxuICAgKlxuICAgKiBAcGFyYW0ge30gZGF0YVxuICAgKi9cblxuXG4gIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tMb2FkZWQgPSBmdW5jdGlvbiBvbkF1ZGlvVHJhY2tMb2FkZWQoZGF0YSkge1xuICAgIGlmIChkYXRhLmlkID49IHRoaXMudHJhY2tzLmxlbmd0aCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignSW52YWxpZCBhdWRpbyB0cmFjayBpZDonLCBkYXRhLmlkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2F1ZGlvVHJhY2sgJyArIGRhdGEuaWQgKyAnIGxvYWRlZCcpO1xuXG4gICAgdGhpcy50cmFja3NbZGF0YS5pZF0uZGV0YWlscyA9IGRhdGEuZGV0YWlscztcblxuICAgIC8vIGNoZWNrIGlmIGN1cnJlbnQgcGxheWxpc3QgaXMgYSBsaXZlIHBsYXlsaXN0XG4gICAgLy8gYW5kIGlmIHdlIGhhdmUgYWxyZWFkeSBvdXIgcmVsb2FkIGludGVydmFsIHNldHVwXG4gICAgaWYgKGRhdGEuZGV0YWlscy5saXZlICYmICF0aGlzLmhhc0ludGVydmFsKCkpIHtcbiAgICAgIC8vIGlmIGxpdmUgcGxheWxpc3Qgd2Ugd2lsbCBoYXZlIHRvIHJlbG9hZCBpdCBwZXJpb2RpY2FsbHlcbiAgICAgIC8vIHNldCByZWxvYWQgcGVyaW9kIHRvIHBsYXlsaXN0IHRhcmdldCBkdXJhdGlvblxuICAgICAgdmFyIHVwZGF0ZVBlcmlvZE1zID0gZGF0YS5kZXRhaWxzLnRhcmdldGR1cmF0aW9uICogMTAwMDtcbiAgICAgIHRoaXMuc2V0SW50ZXJ2YWwodXBkYXRlUGVyaW9kTXMpO1xuICAgIH1cblxuICAgIGlmICghZGF0YS5kZXRhaWxzLmxpdmUgJiYgdGhpcy5oYXNJbnRlcnZhbCgpKSB7XG4gICAgICAvLyBwbGF5bGlzdCBpcyBub3QgbGl2ZSBhbmQgdGltZXIgaXMgc2NoZWR1bGVkOiBjYW5jZWwgaXRcbiAgICAgIHRoaXMuY2xlYXJJbnRlcnZhbCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBpbnRlcm5hbCBncm91cCBJRCB0byBhbnkgYXVkaW8tdHJhY2sgd2UgbWF5IGhhdmUgc2V0IG1hbnVhbGx5XG4gICAqIG9yIGJlY2F1c2Ugb2YgYSBmYWlsdXJlLWhhbmRsaW5nIGZhbGxiYWNrLlxuICAgKlxuICAgKiBRdWFsaXR5LWxldmVscyBzaG91bGQgdXBkYXRlIHRvIHRoYXQgZ3JvdXAgSUQgaW4gdGhpcyBjYXNlLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGRhdGFcbiAgICovXG5cblxuICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25BdWRpb1RyYWNrU3dpdGNoZWQgPSBmdW5jdGlvbiBvbkF1ZGlvVHJhY2tTd2l0Y2hlZChkYXRhKSB7XG4gICAgdmFyIGF1ZGlvR3JvdXBJZCA9IHRoaXMudHJhY2tzW2RhdGEuaWRdLmdyb3VwSWQ7XG4gICAgaWYgKGF1ZGlvR3JvdXBJZCAmJiB0aGlzLmF1ZGlvR3JvdXBJZCAhPT0gYXVkaW9Hcm91cElkKSB7XG4gICAgICB0aGlzLmF1ZGlvR3JvdXBJZCA9IGF1ZGlvR3JvdXBJZDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFdoZW4gYSBsZXZlbCBnZXRzIGxvYWRlZCwgaWYgaXQgaGFzIHJlZHVuZGFudCBhdWRpb0dyb3VwSWRzIChpbiB0aGUgc2FtZSBvcmRpbmFsaXR5IGFzIGl0J3MgcmVkdW5kYW50IFVSTHMpXG4gICAqIHdlIGFyZSBzZXR0aW5nIG91ciBhdWRpby1ncm91cCBJRCBpbnRlcm5hbGx5IHRvIHRoZSBvbmUgc2V0LCBpZiBpdCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgZ3JvdXAgSUQgY3VycmVudGx5IHNldC5cbiAgICpcbiAgICogSWYgZ3JvdXAtSUQgZ290IHVwZGF0ZSwgd2UgcmUtc2VsZWN0IHRoZSBhcHByb3ByaWF0ZSBhdWRpby10cmFjayB3aXRoIHRoaXMgZ3JvdXAtSUQgbWF0Y2hpbmcgdGhlIGN1cnJlbnRseVxuICAgKiBzZWxlY3RlZCBvbmUgKGJhc2VkIG9uIE5BTUUgcHJvcGVydHkpLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGRhdGFcbiAgICovXG5cblxuICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25MZXZlbExvYWRlZCA9IGZ1bmN0aW9uIG9uTGV2ZWxMb2FkZWQoZGF0YSkge1xuICAgIC8vIEZJWE1FOiBjcmFzaGVzIGJlY2F1c2UgY3VycmVudExldmVsIGlzIHVuZGVmaW5lZFxuICAgIC8vIGNvbnN0IGxldmVsSW5mbyA9IHRoaXMuaGxzLmxldmVsc1t0aGlzLmhscy5jdXJyZW50TGV2ZWxdO1xuXG4gICAgdmFyIGxldmVsSW5mbyA9IHRoaXMuaGxzLmxldmVsc1tkYXRhLmxldmVsXTtcblxuICAgIGlmICghbGV2ZWxJbmZvLmF1ZGlvR3JvdXBJZHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYXVkaW9Hcm91cElkID0gbGV2ZWxJbmZvLmF1ZGlvR3JvdXBJZHNbbGV2ZWxJbmZvLnVybElkXTtcbiAgICBpZiAodGhpcy5hdWRpb0dyb3VwSWQgIT09IGF1ZGlvR3JvdXBJZCkge1xuICAgICAgdGhpcy5hdWRpb0dyb3VwSWQgPSBhdWRpb0dyb3VwSWQ7XG4gICAgICB0aGlzLl9zZWxlY3RJbml0aWFsQXVkaW9UcmFjaygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlIG5ldHdvcmsgZXJyb3JzIGxvYWRpbmcgYXVkaW8gdHJhY2sgbWFuaWZlc3RzXG4gICAqIGFuZCBhbHNvIHBhdXNpbmcgb24gYW55IG5ldHdvayBlcnJvcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7RXJyb3JFdmVudERhdGF9IGRhdGFcbiAgICovXG5cblxuICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIG9uRXJyb3IoZGF0YSkge1xuICAgIC8vIE9ubHkgaGFuZGxlIG5ldHdvcmsgZXJyb3JzXG4gICAgaWYgKGRhdGEudHlwZSAhPT0gZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk5FVFdPUktfRVJST1IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBmYXRhbCBuZXR3b3JrIGVycm9yLCBjYW5jZWwgdXBkYXRlIHRhc2tcbiAgICBpZiAoZGF0YS5mYXRhbCkge1xuICAgICAgdGhpcy5jbGVhckludGVydmFsKCk7XG4gICAgfVxuXG4gICAgLy8gSWYgbm90IGFuIGF1ZGlvLXRyYWNrIGxvYWRpbmcgZXJyb3IgZG9uJ3QgaGFuZGxlIGZ1cnRoZXJcbiAgICBpZiAoZGF0YS5kZXRhaWxzICE9PSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5BVURJT19UUkFDS19MT0FEX0VSUk9SKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignTmV0d29yayBmYWlsdXJlIG9uIGF1ZGlvLXRyYWNrIGlkOicsIGRhdGEuY29udGV4dC5pZCk7XG4gICAgdGhpcy5faGFuZGxlTG9hZEVycm9yKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtBdWRpb1RyYWNrW119IEF1ZGlvLXRyYWNrIGxpc3Qgd2Ugb3duXG4gICAqL1xuXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuZXdJZFxuICAgKi9cbiAgQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLl9zZXRBdWRpb1RyYWNrID0gZnVuY3Rpb24gX3NldEF1ZGlvVHJhY2sobmV3SWQpIHtcbiAgICAvLyBub29wIG9uIHNhbWUgYXVkaW8gdHJhY2sgaWQgYXMgYWxyZWFkeSBzZXRcbiAgICBpZiAodGhpcy5fdHJhY2tJZCA9PT0gbmV3SWQgJiYgdGhpcy50cmFja3NbdGhpcy5fdHJhY2tJZF0uZGV0YWlscykge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZGVidWcoJ1NhbWUgaWQgYXMgY3VycmVudCBhdWRpby10cmFjayBwYXNzZWQsIGFuZCB0cmFjayBkZXRhaWxzIGF2YWlsYWJsZSAtPiBuby1vcCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGlmIGxldmVsIGlkeCBpcyB2YWxpZFxuICAgIGlmIChuZXdJZCA8IDAgfHwgbmV3SWQgPj0gdGhpcy50cmFja3MubGVuZ3RoKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdJbnZhbGlkIGlkIHBhc3NlZCB0byBhdWRpby10cmFjayBjb250cm9sbGVyJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGF1ZGlvVHJhY2sgPSB0aGlzLnRyYWNrc1tuZXdJZF07XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ05vdyBzd2l0Y2hpbmcgdG8gYXVkaW8tdHJhY2sgaW5kZXggJyArIG5ld0lkKTtcblxuICAgIC8vIHN0b3BwaW5nIGxpdmUgcmVsb2FkaW5nIHRpbWVyIGlmIGFueVxuICAgIHRoaXMuY2xlYXJJbnRlcnZhbCgpO1xuICAgIHRoaXMuX3RyYWNrSWQgPSBuZXdJZDtcblxuICAgIHZhciB1cmwgPSBhdWRpb1RyYWNrLnVybCxcbiAgICAgICAgdHlwZSA9IGF1ZGlvVHJhY2sudHlwZSxcbiAgICAgICAgaWQgPSBhdWRpb1RyYWNrLmlkO1xuXG4gICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfU1dJVENISU5HLCB7IGlkOiBpZCwgdHlwZTogdHlwZSwgdXJsOiB1cmwgfSk7XG4gICAgdGhpcy5fbG9hZFRyYWNrRGV0YWlsc0lmTmVlZGVkKGF1ZGlvVHJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG5cblxuICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuZG9UaWNrID0gZnVuY3Rpb24gZG9UaWNrKCkge1xuICAgIHRoaXMuX3VwZGF0ZVRyYWNrKHRoaXMuX3RyYWNrSWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZWxlY3QgaW5pdGlhbCB0cmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5fc2VsZWN0SW5pdGlhbEF1ZGlvVHJhY2sgPSBmdW5jdGlvbiBfc2VsZWN0SW5pdGlhbEF1ZGlvVHJhY2soKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgdHJhY2tzID0gdGhpcy50cmFja3M7XG4gICAgaWYgKCF0cmFja3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGN1cnJlbnRBdWRpb1RyYWNrID0gdGhpcy50cmFja3NbdGhpcy5fdHJhY2tJZF07XG5cbiAgICB2YXIgbmFtZSA9IG51bGw7XG4gICAgaWYgKGN1cnJlbnRBdWRpb1RyYWNrKSB7XG4gICAgICBuYW1lID0gY3VycmVudEF1ZGlvVHJhY2submFtZTtcbiAgICB9XG5cbiAgICAvLyBQcmUtc2VsZWN0IGRlZmF1bHQgdHJhY2tzIGlmIHRoZXJlIGFyZSBhbnlcbiAgICBpZiAodGhpcy5fc2VsZWN0RGVmYXVsdFRyYWNrKSB7XG4gICAgICB2YXIgZGVmYXVsdFRyYWNrcyA9IHRyYWNrcy5maWx0ZXIoZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHJldHVybiB0cmFjay5kZWZhdWx0O1xuICAgICAgfSk7XG4gICAgICBpZiAoZGVmYXVsdFRyYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgdHJhY2tzID0gZGVmYXVsdFRyYWNrcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ05vIGRlZmF1bHQgYXVkaW8gdHJhY2tzIGRlZmluZWQnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJhY2tGb3VuZCA9IGZhbHNlO1xuXG4gICAgdmFyIHRyYXZlcnNlVHJhY2tzID0gZnVuY3Rpb24gdHJhdmVyc2VUcmFja3MoKSB7XG4gICAgICAvLyBTZWxlY3QgdHJhY2sgd2l0aCByaWdodCBncm91cCBJRFxuICAgICAgdHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIGlmICh0cmFja0ZvdW5kKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gbWF0Y2ggdGhlIChwcmUtKXNlbGVjdGVkIGdyb3VwIElEXG4gICAgICAgIC8vIGFuZCB0aGUgTkFNRSBvZiB0aGUgY3VycmVudCB0cmFjay5cbiAgICAgICAgaWYgKCghX3RoaXMyLmF1ZGlvR3JvdXBJZCB8fCB0cmFjay5ncm91cElkID09PSBfdGhpczIuYXVkaW9Hcm91cElkKSAmJiAoIW5hbWUgfHwgbmFtZSA9PT0gdHJhY2submFtZSkpIHtcbiAgICAgICAgICAvLyBJZiB0aGVyZSB3YXMgYSBwcmV2aW91cyB0cmFjayB0cnkgdG8gc3RheSB3aXRoIHRoZSBzYW1lIGBOQU1FYC5cbiAgICAgICAgICAvLyBJdCBzaG91bGQgYmUgdW5pcXVlIGFjcm9zcyB0cmFja3Mgb2Ygc2FtZSBncm91cCwgYW5kIGNvbnNpc3RlbnQgdGhyb3VnaCByZWR1bmRhbnQgdHJhY2sgZ3JvdXBzLlxuICAgICAgICAgIF90aGlzMi5fc2V0QXVkaW9UcmFjayh0cmFjay5pZCk7XG4gICAgICAgICAgdHJhY2tGb3VuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0cmF2ZXJzZVRyYWNrcygpO1xuXG4gICAgaWYgKCF0cmFja0ZvdW5kKSB7XG4gICAgICBuYW1lID0gbnVsbDtcbiAgICAgIHRyYXZlcnNlVHJhY2tzKCk7XG4gICAgfVxuXG4gICAgaWYgKCF0cmFja0ZvdW5kKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignTm8gdHJhY2sgZm91bmQgZm9yIHJ1bm5pbmcgYXVkaW8gZ3JvdXAtSUQ6ICcgKyB0aGlzLmF1ZGlvR3JvdXBJZCk7XG5cbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7XG4gICAgICAgIHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5NRURJQV9FUlJPUixcbiAgICAgICAgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uQVVESU9fVFJBQ0tfTE9BRF9FUlJPUixcbiAgICAgICAgZmF0YWw6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBdWRpb1RyYWNrfSBhdWRpb1RyYWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cblxuXG4gIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5fbmVlZHNUcmFja0xvYWRpbmcgPSBmdW5jdGlvbiBfbmVlZHNUcmFja0xvYWRpbmcoYXVkaW9UcmFjaykge1xuICAgIHZhciBkZXRhaWxzID0gYXVkaW9UcmFjay5kZXRhaWxzO1xuXG5cbiAgICBpZiAoIWRldGFpbHMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZGV0YWlscy5saXZlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXVkaW9UcmFja30gYXVkaW9UcmFja1xuICAgKi9cblxuXG4gIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5fbG9hZFRyYWNrRGV0YWlsc0lmTmVlZGVkID0gZnVuY3Rpb24gX2xvYWRUcmFja0RldGFpbHNJZk5lZWRlZChhdWRpb1RyYWNrKSB7XG4gICAgaWYgKHRoaXMuX25lZWRzVHJhY2tMb2FkaW5nKGF1ZGlvVHJhY2spKSB7XG4gICAgICB2YXIgdXJsID0gYXVkaW9UcmFjay51cmwsXG4gICAgICAgICAgaWQgPSBhdWRpb1RyYWNrLmlkO1xuICAgICAgLy8gdHJhY2sgbm90IHJldHJpZXZlZCB5ZXQsIG9yIGxpdmUgcGxheWxpc3Qgd2UgbmVlZCB0byAocmUpbG9hZCBpdFxuXG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xvYWRpbmcgYXVkaW8tdHJhY2sgcGxheWxpc3QgZm9yIGlkOiAnICsgaWQpO1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfTE9BRElORywgeyB1cmw6IHVybCwgaWQ6IGlkIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5ld0lkXG4gICAqL1xuXG5cbiAgQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLl91cGRhdGVUcmFjayA9IGZ1bmN0aW9uIF91cGRhdGVUcmFjayhuZXdJZCkge1xuICAgIC8vIGNoZWNrIGlmIGxldmVsIGlkeCBpcyB2YWxpZFxuICAgIGlmIChuZXdJZCA8IDAgfHwgbmV3SWQgPj0gdGhpcy50cmFja3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc3RvcHBpbmcgbGl2ZSByZWxvYWRpbmcgdGltZXIgaWYgYW55XG4gICAgdGhpcy5jbGVhckludGVydmFsKCk7XG4gICAgdGhpcy5fdHJhY2tJZCA9IG5ld0lkO1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygndHJ5aW5nIHRvIHVwZGF0ZSBhdWRpby10cmFjayAnICsgbmV3SWQpO1xuICAgIHZhciBhdWRpb1RyYWNrID0gdGhpcy50cmFja3NbbmV3SWRdO1xuICAgIHRoaXMuX2xvYWRUcmFja0RldGFpbHNJZk5lZWRlZChhdWRpb1RyYWNrKTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuX2hhbmRsZUxvYWRFcnJvciA9IGZ1bmN0aW9uIF9oYW5kbGVMb2FkRXJyb3IoKSB7XG4gICAgLy8gRmlyc3QsIGxldCdzIGJsYWNrIGxpc3QgY3VycmVudCB0cmFjayBpZFxuICAgIHRoaXMudHJhY2tJZEJsYWNrbGlzdFt0aGlzLl90cmFja0lkXSA9IHRydWU7XG5cbiAgICAvLyBMZXQncyB0cnkgdG8gZmFsbCBiYWNrIG9uIGEgZnVuY3Rpb25hbCBhdWRpby10cmFjayB3aXRoIHRoZSBzYW1lIGdyb3VwIElEXG4gICAgdmFyIHByZXZpb3VzSWQgPSB0aGlzLl90cmFja0lkO1xuICAgIHZhciBfdHJhY2tzJHByZXZpb3VzSWQgPSB0aGlzLnRyYWNrc1twcmV2aW91c0lkXSxcbiAgICAgICAgbmFtZSA9IF90cmFja3MkcHJldmlvdXNJZC5uYW1lLFxuICAgICAgICBsYW5ndWFnZSA9IF90cmFja3MkcHJldmlvdXNJZC5sYW5ndWFnZSxcbiAgICAgICAgZ3JvdXBJZCA9IF90cmFja3MkcHJldmlvdXNJZC5ncm91cElkO1xuXG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdMb2FkaW5nIGZhaWxlZCBvbiBhdWRpbyB0cmFjayBpZDogJyArIHByZXZpb3VzSWQgKyAnLCBncm91cC1pZDogJyArIGdyb3VwSWQgKyAnLCBuYW1lL2xhbmd1YWdlOiBcIicgKyBuYW1lICsgJ1wiIC8gXCInICsgbGFuZ3VhZ2UgKyAnXCInKTtcblxuICAgIC8vIEZpbmQgYSBub24tYmxhY2tsaXN0ZWQgdHJhY2sgSUQgd2l0aCB0aGUgc2FtZSBOQU1FXG4gICAgLy8gQXQgbGVhc3QgYSB0cmFjayB0aGF0IGlzIG5vdCBibGFja2xpc3RlZCwgdGh1cyBvbiBhbm90aGVyIGdyb3VwLUlELlxuICAgIHZhciBuZXdJZCA9IHByZXZpb3VzSWQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMudHJhY2tJZEJsYWNrbGlzdFtpXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdUcmFjayA9IHRoaXMudHJhY2tzW2ldO1xuICAgICAgaWYgKG5ld1RyYWNrLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgbmV3SWQgPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmV3SWQgPT09IHByZXZpb3VzSWQpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ05vIGZhbGxiYWNrIGF1ZGlvLXRyYWNrIGZvdW5kIGZvciBuYW1lL2xhbmd1YWdlOiBcIicgKyBuYW1lICsgJ1wiIC8gXCInICsgbGFuZ3VhZ2UgKyAnXCInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0F0dGVtcHRpbmcgYXVkaW8tdHJhY2sgZmFsbGJhY2sgaWQ6JywgbmV3SWQsICdncm91cC1pZDonLCB0aGlzLnRyYWNrc1tuZXdJZF0uZ3JvdXBJZCk7XG5cbiAgICB0aGlzLl9zZXRBdWRpb1RyYWNrKG5ld0lkKTtcbiAgfTtcblxuICBhdWRpb190cmFja19jb250cm9sbGVyX19jcmVhdGVDbGFzcyhBdWRpb1RyYWNrQ29udHJvbGxlciwgW3tcbiAgICBrZXk6ICdhdWRpb1RyYWNrcycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50cmFja3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn0gSW5kZXggaW50byBhdWRpby10cmFja3MgbGlzdCBvZiBjdXJyZW50bHkgc2VsZWN0ZWQgdHJhY2suXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2F1ZGlvVHJhY2snLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RyYWNrSWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0IGN1cnJlbnQgdHJhY2sgYnkgaW5kZXhcbiAgICAgKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3SWQpIHtcbiAgICAgIHRoaXMuX3NldEF1ZGlvVHJhY2sobmV3SWQpO1xuICAgICAgLy8gSWYgYXVkaW8gdHJhY2sgaXMgc2VsZWN0ZWQgZnJvbSBBUEkgdGhlbiBkb24ndCBjaG9vc2UgZnJvbSB0aGUgbWFuaWZlc3QgZGVmYXVsdCB0cmFja1xuICAgICAgdGhpcy5fc2VsZWN0RGVmYXVsdFRyYWNrID0gZmFsc2U7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEF1ZGlvVHJhY2tDb250cm9sbGVyO1xufSh0YXNrX2xvb3ApO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBhdWRpb190cmFja19jb250cm9sbGVyID0gKGF1ZGlvX3RyYWNrX2NvbnRyb2xsZXJfQXVkaW9UcmFja0NvbnRyb2xsZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29udHJvbGxlci9hdWRpby1zdHJlYW0tY29udHJvbGxlci5qc1xuXG5cbnZhciBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIEF1ZGlvIFN0cmVhbSBDb250cm9sbGVyXG4qL1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9fd2luZG93ID0gd2luZG93LFxuICAgIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX3BlcmZvcm1hbmNlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfX3dpbmRvdy5wZXJmb3JtYW5jZTtcblxuXG52YXIgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUgPSB7XG4gIFNUT1BQRUQ6ICdTVE9QUEVEJyxcbiAgU1RBUlRJTkc6ICdTVEFSVElORycsXG4gIElETEU6ICdJRExFJyxcbiAgUEFVU0VEOiAnUEFVU0VEJyxcbiAgS0VZX0xPQURJTkc6ICdLRVlfTE9BRElORycsXG4gIEZSQUdfTE9BRElORzogJ0ZSQUdfTE9BRElORycsXG4gIEZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZOiAnRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlknLFxuICBXQUlUSU5HX1RSQUNLOiAnV0FJVElOR19UUkFDSycsXG4gIFBBUlNJTkc6ICdQQVJTSU5HJyxcbiAgUEFSU0VEOiAnUEFSU0VEJyxcbiAgQlVGRkVSX0ZMVVNISU5HOiAnQlVGRkVSX0ZMVVNISU5HJyxcbiAgRU5ERUQ6ICdFTkRFRCcsXG4gIEVSUk9SOiAnRVJST1InLFxuICBXQUlUSU5HX0lOSVRfUFRTOiAnV0FJVElOR19JTklUX1BUUydcbn07XG5cbnZhciBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9BdWRpb1N0cmVhbUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoX1Rhc2tMb29wKSB7XG4gIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX19pbmhlcml0cyhBdWRpb1N0cmVhbUNvbnRyb2xsZXIsIF9UYXNrTG9vcCk7XG5cbiAgZnVuY3Rpb24gQXVkaW9TdHJlYW1Db250cm9sbGVyKGhscywgZnJhZ21lbnRUcmFja2VyKSB7XG4gICAgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1ZGlvU3RyZWFtQ29udHJvbGxlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfVGFza0xvb3AuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9BVFRBQ0hFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0RFVEFDSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLU19VUERBVEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfU1dJVENISU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uS0VZX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19EQVRBLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTRUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9SRVNFVCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9DUkVBVEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0FQUEVOREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0ZMVVNIRUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5JTklUX1BUU19GT1VORCkpO1xuXG4gICAgX3RoaXMuZnJhZ21lbnRUcmFja2VyID0gZnJhZ21lbnRUcmFja2VyO1xuICAgIF90aGlzLmNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgX3RoaXMuYXVkaW9Db2RlY1N3YXAgPSBmYWxzZTtcbiAgICBfdGhpcy5fc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5TVE9QUEVEO1xuICAgIF90aGlzLmluaXRQVFMgPSBbXTtcbiAgICBfdGhpcy53YWl0aW5nRnJhZ21lbnQgPSBudWxsO1xuICAgIF90aGlzLnZpZGVvVHJhY2tDQyA9IG51bGw7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95aW5nID0gZnVuY3Rpb24gb25IYW5kbGVyRGVzdHJveWluZygpIHtcbiAgICB0aGlzLnN0b3BMb2FkKCk7XG4gICAgX1Rhc2tMb29wLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95aW5nLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95ZWQgPSBmdW5jdGlvbiBvbkhhbmRsZXJEZXN0cm95ZWQoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlNUT1BQRUQ7XG4gICAgdGhpcy5mcmFnbWVudFRyYWNrZXIgPSBudWxsO1xuICAgIF9UYXNrTG9vcC5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWVkLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgLy8gU2lnbmFsIHRoYXQgdmlkZW8gUFRTIHdhcyBmb3VuZFxuXG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkluaXRQdHNGb3VuZCA9IGZ1bmN0aW9uIG9uSW5pdFB0c0ZvdW5kKGRhdGEpIHtcbiAgICB2YXIgZGVtdXhlcklkID0gZGF0YS5pZCxcbiAgICAgICAgY2MgPSBkYXRhLmZyYWcuY2MsXG4gICAgICAgIGluaXRQVFMgPSBkYXRhLmluaXRQVFM7XG4gICAgaWYgKGRlbXV4ZXJJZCA9PT0gJ21haW4nKSB7XG4gICAgICAvLyBBbHdheXMgdXBkYXRlIHRoZSBuZXcgSU5JVCBQVFNcbiAgICAgIC8vIENhbiBjaGFuZ2UgZHVlIGxldmVsIHN3aXRjaFxuICAgICAgdGhpcy5pbml0UFRTW2NjXSA9IGluaXRQVFM7XG4gICAgICB0aGlzLnZpZGVvVHJhY2tDQyA9IGNjO1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdJbml0UFRTIGZvciBjYzogJyArIGNjICsgJyBmb3VuZCBmcm9tIHZpZGVvIHRyYWNrOiAnICsgaW5pdFBUUyk7XG5cbiAgICAgIC8vIElmIHdlIGFyZSB3YWl0aW5nIHdlIG5lZWQgdG8gZGVtdXgvcmVtdXggdGhlIHdhaXRpbmcgZnJhZ1xuICAgICAgLy8gV2l0aCB0aGUgbmV3IGluaXRQVFNcbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5XQUlUSU5HX0lOSVRfUFRTKSB7XG4gICAgICAgIHRoaXMudGljaygpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLnN0YXJ0TG9hZCA9IGZ1bmN0aW9uIHN0YXJ0TG9hZChzdGFydFBvc2l0aW9uKSB7XG4gICAgaWYgKHRoaXMudHJhY2tzKSB7XG4gICAgICB2YXIgbGFzdEN1cnJlbnRUaW1lID0gdGhpcy5sYXN0Q3VycmVudFRpbWU7XG4gICAgICB0aGlzLnN0b3BMb2FkKCk7XG4gICAgICB0aGlzLnNldEludGVydmFsKDEwMCk7XG4gICAgICB0aGlzLmZyYWdMb2FkRXJyb3IgPSAwO1xuICAgICAgaWYgKGxhc3RDdXJyZW50VGltZSA+IDAgJiYgc3RhcnRQb3NpdGlvbiA9PT0gLTEpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhdWRpbzpvdmVycmlkZSBzdGFydFBvc2l0aW9uIHdpdGggbGFzdEN1cnJlbnRUaW1lIEAnICsgbGFzdEN1cnJlbnRUaW1lLnRvRml4ZWQoMykpO1xuICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGFzdEN1cnJlbnRUaW1lID0gdGhpcy5zdGFydFBvc2l0aW9uID8gdGhpcy5zdGFydFBvc2l0aW9uIDogc3RhcnRQb3NpdGlvbjtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlNUQVJUSU5HO1xuICAgICAgfVxuICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uID0gdGhpcy5sYXN0Q3VycmVudFRpbWU7XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcbiAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5TVE9QUEVEO1xuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLnN0b3BMb2FkID0gZnVuY3Rpb24gc3RvcExvYWQoKSB7XG4gICAgdmFyIGZyYWcgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIGlmIChmcmFnKSB7XG4gICAgICBpZiAoZnJhZy5sb2FkZXIpIHtcbiAgICAgICAgZnJhZy5sb2FkZXIuYWJvcnQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlRnJhZ21lbnQoZnJhZyk7XG4gICAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5mcmFnUHJldmlvdXMgPSBudWxsO1xuICAgIGlmICh0aGlzLmRlbXV4ZXIpIHtcbiAgICAgIHRoaXMuZGVtdXhlci5kZXN0cm95KCk7XG4gICAgICB0aGlzLmRlbXV4ZXIgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuU1RPUFBFRDtcbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmRvVGljayA9IGZ1bmN0aW9uIGRvVGljaygpIHtcbiAgICB2YXIgcG9zID0gdm9pZCAwLFxuICAgICAgICB0cmFjayA9IHZvaWQgMCxcbiAgICAgICAgdHJhY2tEZXRhaWxzID0gdm9pZCAwLFxuICAgICAgICBobHMgPSB0aGlzLmhscyxcbiAgICAgICAgY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICAvLyBsb2dnZXIubG9nKCdhdWRpb1N0cmVhbTonICsgdGhpcy5zdGF0ZSk7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICBjYXNlIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkVSUk9SOlxuICAgICAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgaW4gZXJyb3Igc3RhdGUgdG8gYXZvaWQgYnJlYWtpbmcgZnVydGhlciAuLi5cbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFVU0VEOlxuICAgICAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgaW4gcGF1c2VkIHN0YXRlIGVpdGhlciAuLi5cbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuQlVGRkVSX0ZMVVNISU5HOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuU1RBUlRJTkc6XG4gICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5XQUlUSU5HX1RSQUNLO1xuICAgICAgICB0aGlzLmxvYWRlZG1ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFOlxuICAgICAgICB2YXIgdHJhY2tzID0gdGhpcy50cmFja3M7XG4gICAgICAgIC8vIGF1ZGlvIHRyYWNrcyBub3QgcmVjZWl2ZWQgPT4gZXhpdCBsb29wXG4gICAgICAgIGlmICghdHJhY2tzKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB2aWRlbyBub3QgYXR0YWNoZWQgQU5EXG4gICAgICAgIC8vIHN0YXJ0IGZyYWdtZW50IGFscmVhZHkgcmVxdWVzdGVkIE9SIHN0YXJ0IGZyYWcgcHJlZmV0Y2ggZGlzYWJsZVxuICAgICAgICAvLyBleGl0IGxvb3BcbiAgICAgICAgLy8gPT4gaWYgbWVkaWEgbm90IGF0dGFjaGVkIGJ1dCBzdGFydCBmcmFnIHByZWZldGNoIGlzIGVuYWJsZWQgYW5kIHN0YXJ0IGZyYWcgbm90IHJlcXVlc3RlZCB5ZXQsIHdlIHdpbGwgbm90IGV4aXQgbG9vcFxuICAgICAgICBpZiAoIXRoaXMubWVkaWEgJiYgKHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkIHx8ICFjb25maWcuc3RhcnRGcmFnUHJlZmV0Y2gpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZXRlcm1pbmUgbmV4dCBjYW5kaWRhdGUgZnJhZ21lbnQgdG8gYmUgbG9hZGVkLCBiYXNlZCBvbiBjdXJyZW50IHBvc2l0aW9uIGFuZFxuICAgICAgICAvLyAgZW5kIG9mIGJ1ZmZlciBwb3NpdGlvblxuICAgICAgICAvLyBpZiB3ZSBoYXZlIG5vdCB5ZXQgbG9hZGVkIGFueSBmcmFnbWVudCwgc3RhcnQgbG9hZGluZyBmcm9tIHN0YXJ0IHBvc2l0aW9uXG4gICAgICAgIGlmICh0aGlzLmxvYWRlZG1ldGFkYXRhKSB7XG4gICAgICAgICAgcG9zID0gdGhpcy5tZWRpYS5jdXJyZW50VGltZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwb3MgPSB0aGlzLm5leHRMb2FkUG9zaXRpb247XG4gICAgICAgICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiB0aGlzLm1lZGlhLFxuICAgICAgICAgICAgdmlkZW9CdWZmZXIgPSB0aGlzLnZpZGVvQnVmZmVyID8gdGhpcy52aWRlb0J1ZmZlciA6IHRoaXMubWVkaWEsXG4gICAgICAgICAgICBidWZmZXJJbmZvID0gQnVmZmVySGVscGVyLmJ1ZmZlckluZm8obWVkaWEsIHBvcywgY29uZmlnLm1heEJ1ZmZlckhvbGUpLFxuICAgICAgICAgICAgbWFpbkJ1ZmZlckluZm8gPSBCdWZmZXJIZWxwZXIuYnVmZmVySW5mbyh2aWRlb0J1ZmZlciwgcG9zLCBjb25maWcubWF4QnVmZmVySG9sZSksXG4gICAgICAgICAgICBidWZmZXJMZW4gPSBidWZmZXJJbmZvLmxlbixcbiAgICAgICAgICAgIGJ1ZmZlckVuZCA9IGJ1ZmZlckluZm8uZW5kLFxuICAgICAgICAgICAgZnJhZ1ByZXZpb3VzID0gdGhpcy5mcmFnUHJldmlvdXMsXG5cbiAgICAgICAgLy8gZW5zdXJlIHdlIGJ1ZmZlciBhdCBsZWFzdCBjb25maWcubWF4QnVmZmVyTGVuZ3RoIChkZWZhdWx0IDMwcykgb3IgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCAoZGVmYXVsdDogNjAwcylcbiAgICAgICAgLy8gd2hpY2hldmVyIGlzIHNtYWxsZXIuXG4gICAgICAgIC8vIG9uY2Ugd2UgcmVhY2ggdGhhdCB0aHJlc2hvbGQsIGRvbid0IGJ1ZmZlciBtb3JlIHRoYW4gdmlkZW8gKG1haW5CdWZmZXJJbmZvLmxlbilcbiAgICAgICAgbWF4Q29uZmlnQnVmZmVyID0gTWF0aC5taW4oY29uZmlnLm1heEJ1ZmZlckxlbmd0aCwgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCksXG4gICAgICAgICAgICBtYXhCdWZMZW4gPSBNYXRoLm1heChtYXhDb25maWdCdWZmZXIsIG1haW5CdWZmZXJJbmZvLmxlbiksXG4gICAgICAgICAgICBhdWRpb1N3aXRjaCA9IHRoaXMuYXVkaW9Td2l0Y2gsXG4gICAgICAgICAgICB0cmFja0lkID0gdGhpcy50cmFja0lkO1xuXG4gICAgICAgIC8vIGlmIGJ1ZmZlciBsZW5ndGggaXMgbGVzcyB0aGFuIG1heEJ1ZkxlbiB0cnkgdG8gbG9hZCBhIG5ldyBmcmFnbWVudFxuICAgICAgICBpZiAoKGJ1ZmZlckxlbiA8IG1heEJ1ZkxlbiB8fCBhdWRpb1N3aXRjaCkgJiYgdHJhY2tJZCA8IHRyYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICB0cmFja0RldGFpbHMgPSB0cmFja3NbdHJhY2tJZF0uZGV0YWlscztcbiAgICAgICAgICAvLyBpZiB0cmFjayBpbmZvIG5vdCByZXRyaWV2ZWQgeWV0LCBzd2l0Y2ggc3RhdGUgYW5kIHdhaXQgZm9yIHRyYWNrIHJldHJpZXZhbFxuICAgICAgICAgIGlmICh0eXBlb2YgdHJhY2tEZXRhaWxzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLldBSVRJTkdfVFJBQ0s7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIGZpbmFsaXplIG1lZGlhIHN0cmVhbVxuICAgICAgICAgIC8vIHdlIGp1c3QgZ290IGRvbmUgbG9hZGluZyB0aGUgZmluYWwgZnJhZ21lbnQgYW5kIHRoZXJlIGlzIG5vIG90aGVyIGJ1ZmZlcmVkIHJhbmdlIGFmdGVyIC4uLlxuICAgICAgICAgIC8vIHJhdGlvbmFsZSBpcyB0aGF0IGluIGNhc2UgdGhlcmUgYXJlIGFueSBidWZmZXJlZCByYW5nZXMgYWZ0ZXIsIGl0IG1lYW5zIHRoYXQgdGhlcmUgYXJlIHVuYnVmZmVyZWQgcG9ydGlvbiBpbiBiZXR3ZWVuXG4gICAgICAgICAgLy8gc28gd2Ugc2hvdWxkIG5vdCBzd2l0Y2ggdG8gRU5ERUQgaW4gdGhhdCBjYXNlLCB0byBiZSBhYmxlIHRvIGJ1ZmZlciB0aGVtXG4gICAgICAgICAgaWYgKCFhdWRpb1N3aXRjaCAmJiAhdHJhY2tEZXRhaWxzLmxpdmUgJiYgZnJhZ1ByZXZpb3VzICYmIGZyYWdQcmV2aW91cy5zbiA9PT0gdHJhY2tEZXRhaWxzLmVuZFNOICYmICFidWZmZXJJbmZvLm5leHRTdGFydCkge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBzZWVraW5nIG9yIGlmIHdlIGFyZSBzZWVraW5nIGJ1dCBldmVyeXRoaW5nIChhbG1vc3QpIHRpbCB0aGUgZW5kIGlzIGJ1ZmZlcmVkLCBsZXQncyBzaWduYWwgZW9zXG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjb21wYXJlIGV4YWN0bHkgbWVkaWEuZHVyYXRpb24gPT09IGJ1ZmZlckluZm8uZW5kIGFzIHRoZXJlIGNvdWxkIGJlIHNvbWUgc3VidGxlIG1lZGlhIGR1cmF0aW9uIGRpZmZlcmVuY2Ugd2hlbiBzd2l0Y2hpbmdcbiAgICAgICAgICAgIC8vIGJldHdlZW4gZGlmZmVyZW50IHJlbmRpdGlvbnMuIHVzaW5nIGhhbGYgZnJhZyBkdXJhdGlvbiBzaG91bGQgaGVscCBjb3BlIHdpdGggdGhlc2UgY2FzZXMuXG4gICAgICAgICAgICBpZiAoIXRoaXMubWVkaWEuc2Vla2luZyB8fCB0aGlzLm1lZGlhLmR1cmF0aW9uIC0gYnVmZmVyRW5kIDwgZnJhZ1ByZXZpb3VzLmR1cmF0aW9uIC8gMikge1xuICAgICAgICAgICAgICAvLyBGaW5hbGl6ZSB0aGUgbWVkaWEgc3RyZWFtXG4gICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkJVRkZFUl9FT1MsIHsgdHlwZTogJ2F1ZGlvJyB9KTtcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkVOREVEO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBmaW5kIGZyYWdtZW50IGluZGV4LCBjb250aWd1b3VzIHdpdGggZW5kIG9mIGJ1ZmZlciBwb3NpdGlvblxuICAgICAgICAgIHZhciBmcmFnbWVudHMgPSB0cmFja0RldGFpbHMuZnJhZ21lbnRzLFxuICAgICAgICAgICAgICBmcmFnTGVuID0gZnJhZ21lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgc3RhcnQgPSBmcmFnbWVudHNbMF0uc3RhcnQsXG4gICAgICAgICAgICAgIGVuZCA9IGZyYWdtZW50c1tmcmFnTGVuIC0gMV0uc3RhcnQgKyBmcmFnbWVudHNbZnJhZ0xlbiAtIDFdLmR1cmF0aW9uLFxuICAgICAgICAgICAgICBmcmFnID0gdm9pZCAwO1xuXG4gICAgICAgICAgLy8gV2hlbiBzd2l0Y2hpbmcgYXVkaW8gdHJhY2ssIHJlbG9hZCBhdWRpbyBhcyBjbG9zZSBhcyBwb3NzaWJsZSB0byBjdXJyZW50VGltZVxuICAgICAgICAgIGlmIChhdWRpb1N3aXRjaCkge1xuICAgICAgICAgICAgaWYgKHRyYWNrRGV0YWlscy5saXZlICYmICF0cmFja0RldGFpbHMuUFRTS25vd24pIHtcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2l0Y2hpbmcgYXVkaW90cmFjaywgbGl2ZSBzdHJlYW0sIHVua25vd24gUFRTLGxvYWQgZmlyc3QgZnJhZ21lbnQnKTtcbiAgICAgICAgICAgICAgYnVmZmVyRW5kID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJ1ZmZlckVuZCA9IHBvcztcbiAgICAgICAgICAgICAgLy8gaWYgY3VycmVudFRpbWUgKHBvcykgaXMgbGVzcyB0aGFuIGFsdCBhdWRpbyBwbGF5bGlzdCBzdGFydCB0aW1lLCBpdCBtZWFucyB0aGF0IGFsdCBhdWRpbyBpcyBhaGVhZCBvZiBjdXJyZW50VGltZVxuICAgICAgICAgICAgICBpZiAodHJhY2tEZXRhaWxzLlBUU0tub3duICYmIHBvcyA8IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgZXZlcnl0aGluZyBpcyBidWZmZXJlZCBmcm9tIHBvcyB0byBzdGFydCBvciBpZiBhdWRpbyBidWZmZXIgdXBmcm9udCwgbGV0J3Mgc2VlayB0byBzdGFydFxuICAgICAgICAgICAgICAgIGlmIChidWZmZXJJbmZvLmVuZCA+IHN0YXJ0IHx8IGJ1ZmZlckluZm8ubmV4dFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2FsdCBhdWRpbyB0cmFjayBhaGVhZCBvZiBtYWluIHRyYWNrLCBzZWVrIHRvIHN0YXJ0IG9mIGFsdCBhdWRpbyB0cmFjaycpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYS5jdXJyZW50VGltZSA9IHN0YXJ0ICsgMC4wNTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHJhY2tEZXRhaWxzLmluaXRTZWdtZW50ICYmICF0cmFja0RldGFpbHMuaW5pdFNlZ21lbnQuZGF0YSkge1xuICAgICAgICAgICAgZnJhZyA9IHRyYWNrRGV0YWlscy5pbml0U2VnbWVudDtcbiAgICAgICAgICB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYnJhY2Utc3R5bGVcbiAgICAgICAgICAvLyBpZiBidWZmZXJFbmQgYmVmb3JlIHN0YXJ0IG9mIHBsYXlsaXN0LCBsb2FkIGZpcnN0IGZyYWdtZW50XG4gICAgICAgICAgZWxzZSBpZiAoYnVmZmVyRW5kIDw9IHN0YXJ0KSB7XG4gICAgICAgICAgICAgIGZyYWcgPSBmcmFnbWVudHNbMF07XG4gICAgICAgICAgICAgIGlmICh0aGlzLnZpZGVvVHJhY2tDQyAhPT0gbnVsbCAmJiBmcmFnLmNjICE9PSB0aGlzLnZpZGVvVHJhY2tDQykge1xuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB3ZSBmaW5kIGEgZnJhZ21lbnQgd2hpY2ggbWF0Y2hlcyB0aGUgY29udGludWl0eSBvZiB0aGUgdmlkZW8gdHJhY2tcbiAgICAgICAgICAgICAgICBmcmFnID0gZmluZEZyYWdXaXRoQ0MoZnJhZ21lbnRzLCB0aGlzLnZpZGVvVHJhY2tDQyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHRyYWNrRGV0YWlscy5saXZlICYmIGZyYWcubG9hZElkeCAmJiBmcmFnLmxvYWRJZHggPT09IHRoaXMuZnJhZ0xvYWRJZHgpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBqdXN0IGxvYWRlZCB0aGlzIGZpcnN0IGZyYWdtZW50LCBhbmQgd2UgYXJlIHN0aWxsIGxhZ2dpbmcgYmVoaW5kIHRoZSBzdGFydCBvZiB0aGUgbGl2ZSBwbGF5bGlzdFxuICAgICAgICAgICAgICAgIC8vIGxldCdzIGZvcmNlIHNlZWsgdG8gc3RhcnRcbiAgICAgICAgICAgICAgICB2YXIgbmV4dEJ1ZmZlcmVkID0gYnVmZmVySW5mby5uZXh0U3RhcnQgPyBidWZmZXJJbmZvLm5leHRTdGFydCA6IHN0YXJ0O1xuICAgICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbm8gYWx0IGF1ZGlvIGF2YWlsYWJsZSBAY3VycmVudFRpbWU6JyArIHRoaXMubWVkaWEuY3VycmVudFRpbWUgKyAnLCBzZWVraW5nIEAnICsgKG5leHRCdWZmZXJlZCArIDAuMDUpKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lID0gbmV4dEJ1ZmZlcmVkICsgMC4wNTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBmb3VuZEZyYWcgPSB2b2lkIDA7XG4gICAgICAgICAgICAgIHZhciBtYXhGcmFnTG9va1VwVG9sZXJhbmNlID0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2U7XG4gICAgICAgICAgICAgIHZhciBmcmFnTmV4dCA9IGZyYWdQcmV2aW91cyA/IGZyYWdtZW50c1tmcmFnUHJldmlvdXMuc24gLSBmcmFnbWVudHNbMF0uc24gKyAxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgdmFyIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdCA9IGZ1bmN0aW9uIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXQgc2hvdWxkIGJlIHdpdGhpbiBmcmFnbWVudCBib3VuZGFyeSAtIGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0byBjb3BlIHdpdGggc2l0dWF0aW9ucyBsaWtlXG4gICAgICAgICAgICAgICAgLy8gYnVmZmVyRW5kID0gOS45OTFcbiAgICAgICAgICAgICAgICAvLyBmcmFnW8OYXSA6IFswLDEwXVxuICAgICAgICAgICAgICAgIC8vIGZyYWdbMV0gOiBbMTAsMjBdXG4gICAgICAgICAgICAgICAgLy8gYnVmZmVyRW5kIGlzIHdpdGhpbiBmcmFnWzBdIHJhbmdlIC4uLiBhbHRob3VnaCB3aGF0IHdlIGFyZSBleHBlY3RpbmcgaXMgdG8gcmV0dXJuIGZyYWdbMV0gaGVyZVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICBmcmFnIHN0YXJ0ICAgICAgICAgICAgICAgZnJhZyBzdGFydCtkdXJhdGlvblxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICA8LS0tPiAgICAgICAgICAgICAgICAgICAgICAgICA8LS0tPlxuICAgICAgICAgICAgICAgIC8vICAuLi4tLS0tLS0tLT48LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+PC0tLS0tLS0tLS4uLi5cbiAgICAgICAgICAgICAgICAvLyBwcmV2aW91cyBmcmFnICAgICAgICAgbWF0Y2hpbmcgZnJhZ21lbnQgICAgICAgICBuZXh0IGZyYWdcbiAgICAgICAgICAgICAgICAvLyAgcmV0dXJuIC0xICAgICAgICAgICAgIHJldHVybiAwICAgICAgICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coYGxldmVsL3NuL3N0YXJ0L2VuZC9idWZFbmQ6JHtsZXZlbH0vJHtjYW5kaWRhdGUuc259LyR7Y2FuZGlkYXRlLnN0YXJ0fS8keyhjYW5kaWRhdGUuc3RhcnQrY2FuZGlkYXRlLmR1cmF0aW9uKX0vJHtidWZmZXJFbmR9YCk7XG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBsb29rdXAgdG9sZXJhbmNlIHRvIGJlIHNtYWxsIGVub3VnaCB0byBkZXRlY3QgdGhlIGN1cnJlbnQgc2VnbWVudCAtIGVuc3VyZXMgd2UgZG9uJ3Qgc2tpcCBvdmVyIHZlcnkgc21hbGwgc2VnbWVudHNcbiAgICAgICAgICAgICAgICB2YXIgY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID0gTWF0aC5taW4obWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwgY2FuZGlkYXRlLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlLnN0YXJ0ICsgY2FuZGlkYXRlLmR1cmF0aW9uIC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlIDw9IGJ1ZmZlckVuZCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjYW5kaWRhdGUuc3RhcnQgLSBjYW5kaWRhdGVMb29rdXBUb2xlcmFuY2UgPiBidWZmZXJFbmQgJiYgY2FuZGlkYXRlLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAvLyBpZiBtYXhGcmFnTG9va1VwVG9sZXJhbmNlIHdpbGwgaGF2ZSBuZWdhdGl2ZSB2YWx1ZSB0aGVuIGRvbid0IHJldHVybiAtMSBmb3IgZmlyc3QgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGlmIChidWZmZXJFbmQgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyRW5kID4gZW5kIC0gbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgICAgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gUHJlZmVyIHRoZSBuZXh0IGZyYWdtZW50IGlmIGl0J3Mgd2l0aGluIHRvbGVyYW5jZVxuICAgICAgICAgICAgICAgIGlmIChmcmFnTmV4dCAmJiAhZnJhZ21lbnRXaXRoaW5Ub2xlcmFuY2VUZXN0KGZyYWdOZXh0KSkge1xuICAgICAgICAgICAgICAgICAgZm91bmRGcmFnID0gZnJhZ05leHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGZvdW5kRnJhZyA9IGJpbmFyeV9zZWFyY2guc2VhcmNoKGZyYWdtZW50cywgZnJhZ21lbnRXaXRoaW5Ub2xlcmFuY2VUZXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmVhY2ggZW5kIG9mIHBsYXlsaXN0XG4gICAgICAgICAgICAgICAgZm91bmRGcmFnID0gZnJhZ21lbnRzW2ZyYWdMZW4gLSAxXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZm91bmRGcmFnKSB7XG4gICAgICAgICAgICAgICAgZnJhZyA9IGZvdW5kRnJhZztcbiAgICAgICAgICAgICAgICBzdGFydCA9IGZvdW5kRnJhZy5zdGFydDtcbiAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKCdmaW5kIFNOIG1hdGNoaW5nIHdpdGggcG9zOicgKyAgYnVmZmVyRW5kICsgJzonICsgZnJhZy5zbik7XG4gICAgICAgICAgICAgICAgaWYgKGZyYWdQcmV2aW91cyAmJiBmcmFnLmxldmVsID09PSBmcmFnUHJldmlvdXMubGV2ZWwgJiYgZnJhZy5zbiA9PT0gZnJhZ1ByZXZpb3VzLnNuKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZnJhZy5zbiA8IHRyYWNrRGV0YWlscy5lbmRTTikge1xuICAgICAgICAgICAgICAgICAgICBmcmFnID0gZnJhZ21lbnRzW2ZyYWcuc24gKyAxIC0gdHJhY2tEZXRhaWxzLnN0YXJ0U05dO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1NOIGp1c3QgbG9hZGVkLCBsb2FkIG5leHQgb25lOiAnICsgZnJhZy5zbik7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcmFnID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZnJhZykge1xuICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnICAgICAgbG9hZGluZyBmcmFnICcgKyBpICsnLHBvcy9idWZFbmQ6JyArIHBvcy50b0ZpeGVkKDMpICsgJy8nICsgYnVmZmVyRW5kLnRvRml4ZWQoMykpO1xuICAgICAgICAgICAgaWYgKGZyYWcuZW5jcnlwdGVkKSB7XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTG9hZGluZyBrZXkgZm9yICcgKyBmcmFnLnNuICsgJyBvZiBbJyArIHRyYWNrRGV0YWlscy5zdGFydFNOICsgJyAsJyArIHRyYWNrRGV0YWlscy5lbmRTTiArICddLHRyYWNrICcgKyB0cmFja0lkKTtcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLktFWV9MT0FESU5HO1xuICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uS0VZX0xPQURJTkcsIHsgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTG9hZGluZyAnICsgZnJhZy5zbiArICcsIGNjOiAnICsgZnJhZy5jYyArICcgb2YgWycgKyB0cmFja0RldGFpbHMuc3RhcnRTTiArICcgLCcgKyB0cmFja0RldGFpbHMuZW5kU04gKyAnXSx0cmFjayAnICsgdHJhY2tJZCArICcsIGN1cnJlbnRUaW1lOicgKyBwb3MgKyAnLGJ1ZmZlckVuZDonICsgYnVmZmVyRW5kLnRvRml4ZWQoMykpO1xuICAgICAgICAgICAgICAvLyBvbmx5IGxvYWQgaWYgZnJhZ21lbnQgaXMgbm90IGxvYWRlZCBvciBpZiBpbiBhdWRpbyBzd2l0Y2hcbiAgICAgICAgICAgICAgLy8gd2UgZm9yY2UgYSBmcmFnIGxvYWRpbmcgaW4gYXVkaW8gc3dpdGNoIGFzIGZyYWdtZW50IHRyYWNrZXIgbWlnaHQgbm90IGhhdmUgZXZpY3RlZCBwcmV2aW91cyBmcmFncyBpbiBjYXNlIG9mIHF1aWNrIGF1ZGlvIHN3aXRjaFxuICAgICAgICAgICAgICBpZiAoYXVkaW9Td2l0Y2ggfHwgdGhpcy5mcmFnbWVudFRyYWNrZXIuZ2V0U3RhdGUoZnJhZykgPT09IEZyYWdtZW50U3RhdGUuTk9UX0xPQURFRCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBmcmFnO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKGZyYWcuc24pKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSBmcmFnLnN0YXJ0ICsgZnJhZy5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FESU5HLCB7IGZyYWc6IGZyYWcgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkZSQUdfTE9BRElORztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuV0FJVElOR19UUkFDSzpcbiAgICAgICAgdHJhY2sgPSB0aGlzLnRyYWNrc1t0aGlzLnRyYWNrSWRdO1xuICAgICAgICAvLyBjaGVjayBpZiBwbGF5bGlzdCBpcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICBpZiAodHJhY2sgJiYgdHJhY2suZGV0YWlscykge1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZOlxuICAgICAgICB2YXIgbm93ID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHZhciByZXRyeURhdGUgPSB0aGlzLnJldHJ5RGF0ZTtcbiAgICAgICAgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgICB2YXIgaXNTZWVraW5nID0gbWVkaWEgJiYgbWVkaWEuc2Vla2luZztcbiAgICAgICAgLy8gaWYgY3VycmVudCB0aW1lIGlzIGd0IHRoYW4gcmV0cnlEYXRlLCBvciBpZiBtZWRpYSBzZWVraW5nIGxldCdzIHN3aXRjaCB0byBJRExFIHN0YXRlIHRvIHJldHJ5IGxvYWRpbmdcbiAgICAgICAgaWYgKCFyZXRyeURhdGUgfHwgbm93ID49IHJldHJ5RGF0ZSB8fCBpc1NlZWtpbmcpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2F1ZGlvU3RyZWFtQ29udHJvbGxlcjogcmV0cnlEYXRlIHJlYWNoZWQsIHN3aXRjaCBiYWNrIHRvIElETEUgc3RhdGUnKTtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuV0FJVElOR19JTklUX1BUUzpcbiAgICAgICAgdmFyIHZpZGVvVHJhY2tDQyA9IHRoaXMudmlkZW9UcmFja0NDO1xuICAgICAgICBpZiAodGhpcy5pbml0UFRTW3ZpZGVvVHJhY2tDQ10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRW5zdXJlIHdlIGRvbid0IGdldCBzdHVjayBpbiB0aGUgV0FJVElOR19JTklUX1BUUyBzdGF0ZSBpZiB0aGUgd2FpdGluZyBmcmFnIENDIGRvZXNuJ3QgbWF0Y2ggYW55IGluaXRQVFNcbiAgICAgICAgdmFyIHdhaXRpbmdGcmFnID0gdGhpcy53YWl0aW5nRnJhZ21lbnQ7XG4gICAgICAgIGlmICh3YWl0aW5nRnJhZykge1xuICAgICAgICAgIHZhciB3YWl0aW5nRnJhZ0NDID0gd2FpdGluZ0ZyYWcuZnJhZy5jYztcbiAgICAgICAgICBpZiAodmlkZW9UcmFja0NDICE9PSB3YWl0aW5nRnJhZ0NDKSB7XG4gICAgICAgICAgICB0cmFjayA9IHRoaXMudHJhY2tzW3RoaXMudHJhY2tJZF07XG4gICAgICAgICAgICBpZiAodHJhY2suZGV0YWlscyAmJiB0cmFjay5kZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignV2FpdGluZyBmcmFnbWVudCBDQyAoJyArIHdhaXRpbmdGcmFnQ0MgKyAnKSBkb2VzIG5vdCBtYXRjaCB2aWRlbyB0cmFjayBDQyAoJyArIHZpZGVvVHJhY2tDQyArICcpJyk7XG4gICAgICAgICAgICAgIHRoaXMud2FpdGluZ0ZyYWdtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLklETEU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5GUkFHX0xPQURJTkc7XG4gICAgICAgICAgICB0aGlzLm9uRnJhZ0xvYWRlZCh0aGlzLndhaXRpbmdGcmFnbWVudCk7XG4gICAgICAgICAgICB0aGlzLndhaXRpbmdGcmFnbWVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlNUT1BQRUQ6XG4gICAgICBjYXNlIGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkZSQUdfTE9BRElORzpcbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0lORzpcbiAgICAgIGNhc2UgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0VEOlxuICAgICAgY2FzZSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5FTkRFRDpcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhQXR0YWNoZWQgPSBmdW5jdGlvbiBvbk1lZGlhQXR0YWNoZWQoZGF0YSkge1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID0gZGF0YS5tZWRpYTtcbiAgICB0aGlzLm9udnNlZWtpbmcgPSB0aGlzLm9uTWVkaWFTZWVraW5nLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbnZlbmRlZCA9IHRoaXMub25NZWRpYUVuZGVkLmJpbmQodGhpcyk7XG4gICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcignc2Vla2luZycsIHRoaXMub252c2Vla2luZyk7XG4gICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLm9udmVuZGVkKTtcbiAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgaWYgKHRoaXMudHJhY2tzICYmIGNvbmZpZy5hdXRvU3RhcnRMb2FkKSB7XG4gICAgICB0aGlzLnN0YXJ0TG9hZChjb25maWcuc3RhcnRQb3NpdGlvbik7XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYURldGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFEZXRhY2hpbmcoKSB7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICBpZiAobWVkaWEgJiYgbWVkaWEuZW5kZWQpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTVNFIGRldGFjaGluZyBhbmQgdmlkZW8gZW5kZWQsIHJlc2V0IHN0YXJ0UG9zaXRpb24nKTtcbiAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHRoaXMubGFzdEN1cnJlbnRUaW1lID0gMDtcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgdmlkZW8gbGlzdGVuZXJzXG4gICAgaWYgKG1lZGlhKSB7XG4gICAgICBtZWRpYS5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWVraW5nJywgdGhpcy5vbnZzZWVraW5nKTtcbiAgICAgIG1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgdGhpcy5vbnZlbmRlZCk7XG4gICAgICB0aGlzLm9udnNlZWtpbmcgPSB0aGlzLm9udnNlZWtlZCA9IHRoaXMub252ZW5kZWQgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLm1lZGlhID0gdGhpcy5tZWRpYUJ1ZmZlciA9IHRoaXMudmlkZW9CdWZmZXIgPSBudWxsO1xuICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSBmYWxzZTtcbiAgICB0aGlzLnN0b3BMb2FkKCk7XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhU2Vla2luZyA9IGZ1bmN0aW9uIG9uTWVkaWFTZWVraW5nKCkge1xuICAgIGlmICh0aGlzLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5FTkRFRCkge1xuICAgICAgLy8gc3dpdGNoIHRvIElETEUgc3RhdGUgdG8gY2hlY2sgZm9yIHBvdGVudGlhbCBuZXcgZnJhZ21lbnRcbiAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuICAgIH1cbiAgICBpZiAodGhpcy5tZWRpYSkge1xuICAgICAgdGhpcy5sYXN0Q3VycmVudFRpbWUgPSB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lO1xuICAgIH1cblxuICAgIC8vIHRpY2sgdG8gc3BlZWQgdXAgcHJvY2Vzc2luZ1xuICAgIHRoaXMudGljaygpO1xuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUVuZGVkID0gZnVuY3Rpb24gb25NZWRpYUVuZGVkKCkge1xuICAgIC8vIHJlc2V0IHN0YXJ0UG9zaXRpb24gYW5kIGxhc3RDdXJyZW50VGltZSB0byByZXN0YXJ0IHBsYXliYWNrIEAgc3RyZWFtIGJlZ2lubmluZ1xuICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHRoaXMubGFzdEN1cnJlbnRUaW1lID0gMDtcbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja3NVcGRhdGVkID0gZnVuY3Rpb24gb25BdWRpb1RyYWNrc1VwZGF0ZWQoZGF0YSkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYXVkaW8gdHJhY2tzIHVwZGF0ZWQnKTtcbiAgICB0aGlzLnRyYWNrcyA9IGRhdGEuYXVkaW9UcmFja3M7XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tTd2l0Y2hpbmcgPSBmdW5jdGlvbiBvbkF1ZGlvVHJhY2tTd2l0Y2hpbmcoZGF0YSkge1xuICAgIC8vIGlmIGFueSBVUkwgZm91bmQgb24gbmV3IGF1ZGlvIHRyYWNrLCBpdCBpcyBhbiBhbHRlcm5hdGUgYXVkaW8gdHJhY2tcbiAgICB2YXIgYWx0QXVkaW8gPSAhIWRhdGEudXJsO1xuICAgIHRoaXMudHJhY2tJZCA9IGRhdGEuaWQ7XG5cbiAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFVU0VEO1xuICAgIHRoaXMud2FpdGluZ0ZyYWdtZW50ID0gbnVsbDtcbiAgICAvLyBkZXN0cm95IHVzZWxlc3MgZGVtdXhlciB3aGVuIHN3aXRjaGluZyBhdWRpbyB0byBtYWluXG4gICAgaWYgKCFhbHRBdWRpbykge1xuICAgICAgaWYgKHRoaXMuZGVtdXhlcikge1xuICAgICAgICB0aGlzLmRlbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmRlbXV4ZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzd2l0Y2hpbmcgdG8gYXVkaW8gdHJhY2ssIHN0YXJ0IHRpbWVyIGlmIG5vdCBhbHJlYWR5IHN0YXJ0ZWRcbiAgICAgIHRoaXMuc2V0SW50ZXJ2YWwoMTAwKTtcbiAgICB9XG5cbiAgICAvLyBzaG91bGQgd2Ugc3dpdGNoIHRyYWNrcyA/XG4gICAgaWYgKGFsdEF1ZGlvKSB7XG4gICAgICB0aGlzLmF1ZGlvU3dpdGNoID0gdHJ1ZTtcbiAgICAgIC8vIG1haW4gYXVkaW8gdHJhY2sgYXJlIGhhbmRsZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXIsIGp1c3QgZG8gc29tZXRoaW5nIGlmIHN3aXRjaGluZyB0byBhbHQgYXVkaW8gdHJhY2tcbiAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuICAgIH1cbiAgICB0aGlzLnRpY2soKTtcbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja0xvYWRlZCA9IGZ1bmN0aW9uIG9uQXVkaW9UcmFja0xvYWRlZChkYXRhKSB7XG4gICAgdmFyIG5ld0RldGFpbHMgPSBkYXRhLmRldGFpbHMsXG4gICAgICAgIHRyYWNrSWQgPSBkYXRhLmlkLFxuICAgICAgICB0cmFjayA9IHRoaXMudHJhY2tzW3RyYWNrSWRdLFxuICAgICAgICBkdXJhdGlvbiA9IG5ld0RldGFpbHMudG90YWxkdXJhdGlvbixcbiAgICAgICAgc2xpZGluZyA9IDA7XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3RyYWNrICcgKyB0cmFja0lkICsgJyBsb2FkZWQgWycgKyBuZXdEZXRhaWxzLnN0YXJ0U04gKyAnLCcgKyBuZXdEZXRhaWxzLmVuZFNOICsgJ10sZHVyYXRpb246JyArIGR1cmF0aW9uKTtcblxuICAgIGlmIChuZXdEZXRhaWxzLmxpdmUpIHtcbiAgICAgIHZhciBjdXJEZXRhaWxzID0gdHJhY2suZGV0YWlscztcbiAgICAgIGlmIChjdXJEZXRhaWxzICYmIG5ld0RldGFpbHMuZnJhZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gd2UgYWxyZWFkeSBoYXZlIGRldGFpbHMgZm9yIHRoYXQgbGV2ZWwsIG1lcmdlIHRoZW1cbiAgICAgICAgbWVyZ2VEZXRhaWxzKGN1ckRldGFpbHMsIG5ld0RldGFpbHMpO1xuICAgICAgICBzbGlkaW5nID0gbmV3RGV0YWlscy5mcmFnbWVudHNbMF0uc3RhcnQ7XG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLy8gdGhpcy5saXZlU3luY1Bvc2l0aW9uID0gdGhpcy5jb21wdXRlTGl2ZVBvc2l0aW9uKHNsaWRpbmcsIGN1ckRldGFpbHMpO1xuICAgICAgICBpZiAobmV3RGV0YWlscy5QVFNLbm93bikge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGl2ZSBhdWRpbyBwbGF5bGlzdCBzbGlkaW5nOicgKyBzbGlkaW5nLnRvRml4ZWQoMykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnbGl2ZSBhdWRpbyBwbGF5bGlzdCAtIG91dGRhdGVkIFBUUywgdW5rbm93biBzbGlkaW5nJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0RldGFpbHMuUFRTS25vd24gPSBmYWxzZTtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdsaXZlIGF1ZGlvIHBsYXlsaXN0IC0gZmlyc3QgbG9hZCwgdW5rbm93biBzbGlkaW5nJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0RldGFpbHMuUFRTS25vd24gPSBmYWxzZTtcbiAgICB9XG4gICAgdHJhY2suZGV0YWlscyA9IG5ld0RldGFpbHM7XG5cbiAgICAvLyBjb21wdXRlIHN0YXJ0IHBvc2l0aW9uXG4gICAgaWYgKCF0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCkge1xuICAgICAgLy8gY29tcHV0ZSBzdGFydCBwb3NpdGlvbiBpZiBzZXQgdG8gLTEuIHVzZSBpdCBzdHJhaWdodCBhd2F5IGlmIHZhbHVlIGlzIGRlZmluZWRcbiAgICAgIGlmICh0aGlzLnN0YXJ0UG9zaXRpb24gPT09IC0xKSB7XG4gICAgICAgIC8vIGZpcnN0LCBjaGVjayBpZiBzdGFydCB0aW1lIG9mZnNldCBoYXMgYmVlbiBzZXQgaW4gcGxheWxpc3QsIGlmIHllcywgdXNlIHRoaXMgdmFsdWVcbiAgICAgICAgdmFyIHN0YXJ0VGltZU9mZnNldCA9IG5ld0RldGFpbHMuc3RhcnRUaW1lT2Zmc2V0O1xuICAgICAgICBpZiAoT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKHN0YXJ0VGltZU9mZnNldCkpIHtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N0YXJ0IHRpbWUgb2Zmc2V0IGZvdW5kIGluIHBsYXlsaXN0LCBhZGp1c3Qgc3RhcnRQb3NpdGlvbiB0byAnICsgc3RhcnRUaW1lT2Zmc2V0KTtcbiAgICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSBzdGFydFRpbWVPZmZzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uO1xuICAgIH1cbiAgICAvLyBvbmx5IHN3aXRjaCBiYXRjayB0byBJRExFIHN0YXRlIGlmIHdlIHdlcmUgd2FpdGluZyBmb3IgdHJhY2sgdG8gc3RhcnQgZG93bmxvYWRpbmcgYSBuZXcgZnJhZ21lbnRcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuV0FJVElOR19UUkFDSykge1xuICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLklETEU7XG4gICAgfVxuXG4gICAgLy8gdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgIHRoaXMudGljaygpO1xuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25LZXlMb2FkZWQgPSBmdW5jdGlvbiBvbktleUxvYWRlZCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuS0VZX0xPQURJTkcpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuICAgICAgdGhpcy50aWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZGVkID0gZnVuY3Rpb24gb25GcmFnTG9hZGVkKGRhdGEpIHtcbiAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50LFxuICAgICAgICBmcmFnTG9hZGVkID0gZGF0YS5mcmFnO1xuICAgIGlmICh0aGlzLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5GUkFHX0xPQURJTkcgJiYgZnJhZ0N1cnJlbnQgJiYgZnJhZ0xvYWRlZC50eXBlID09PSAnYXVkaW8nICYmIGZyYWdMb2FkZWQubGV2ZWwgPT09IGZyYWdDdXJyZW50LmxldmVsICYmIGZyYWdMb2FkZWQuc24gPT09IGZyYWdDdXJyZW50LnNuKSB7XG4gICAgICB2YXIgdHJhY2sgPSB0aGlzLnRyYWNrc1t0aGlzLnRyYWNrSWRdLFxuICAgICAgICAgIGRldGFpbHMgPSB0cmFjay5kZXRhaWxzLFxuICAgICAgICAgIGR1cmF0aW9uID0gZGV0YWlscy50b3RhbGR1cmF0aW9uLFxuICAgICAgICAgIHRyYWNrSWQgPSBmcmFnQ3VycmVudC5sZXZlbCxcbiAgICAgICAgICBzbiA9IGZyYWdDdXJyZW50LnNuLFxuICAgICAgICAgIGNjID0gZnJhZ0N1cnJlbnQuY2MsXG4gICAgICAgICAgYXVkaW9Db2RlYyA9IHRoaXMuY29uZmlnLmRlZmF1bHRBdWRpb0NvZGVjIHx8IHRyYWNrLmF1ZGlvQ29kZWMgfHwgJ21wNGEuNDAuMicsXG4gICAgICAgICAgc3RhdHMgPSB0aGlzLnN0YXRzID0gZGF0YS5zdGF0cztcbiAgICAgIGlmIChzbiA9PT0gJ2luaXRTZWdtZW50Jykge1xuICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcblxuICAgICAgICBzdGF0cy50cGFyc2VkID0gc3RhdHMudGJ1ZmZlcmVkID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGRldGFpbHMuaW5pdFNlZ21lbnQuZGF0YSA9IGRhdGEucGF5bG9hZDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19CVUZGRVJFRCwgeyBzdGF0czogc3RhdHMsIGZyYWc6IGZyYWdDdXJyZW50LCBpZDogJ2F1ZGlvJyB9KTtcbiAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0lORztcbiAgICAgICAgLy8gdHJhbnNtdXggdGhlIE1QRUctVFMgZGF0YSB0byBJU08tQk1GRiBzZWdtZW50c1xuICAgICAgICB0aGlzLmFwcGVuZGVkID0gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy5kZW11eGVyKSB7XG4gICAgICAgICAgdGhpcy5kZW11eGVyID0gbmV3IGRlbXV4X2RlbXV4ZXIodGhpcy5obHMsICdhdWRpbycpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSB2aWRlbyBpbml0UFRTXG4gICAgICAgIC8vIElmIG5vdCB3ZSBuZWVkIHRvIHdhaXQgZm9yIGl0XG4gICAgICAgIHZhciBpbml0UFRTID0gdGhpcy5pbml0UFRTW2NjXTtcbiAgICAgICAgdmFyIGluaXRTZWdtZW50RGF0YSA9IGRldGFpbHMuaW5pdFNlZ21lbnQgPyBkZXRhaWxzLmluaXRTZWdtZW50LmRhdGEgOiBbXTtcbiAgICAgICAgaWYgKGRldGFpbHMuaW5pdFNlZ21lbnQgfHwgaW5pdFBUUyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyaW5nID0gdHJ1ZTtcbiAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0RlbXV4aW5nICcgKyBzbiArICcgb2YgWycgKyBkZXRhaWxzLnN0YXJ0U04gKyAnICwnICsgZGV0YWlscy5lbmRTTiArICddLHRyYWNrICcgKyB0cmFja0lkKTtcbiAgICAgICAgICAvLyB0aW1lIE9mZnNldCBpcyBhY2N1cmF0ZSBpZiBsZXZlbCBQVFMgaXMga25vd24sIG9yIGlmIHBsYXlsaXN0IGlzIG5vdCBzbGlkaW5nIChub3QgbGl2ZSlcbiAgICAgICAgICB2YXIgYWNjdXJhdGVUaW1lT2Zmc2V0ID0gZmFsc2U7IC8vIGRldGFpbHMuUFRTS25vd24gfHwgIWRldGFpbHMubGl2ZTtcbiAgICAgICAgICB0aGlzLmRlbXV4ZXIucHVzaChkYXRhLnBheWxvYWQsIGluaXRTZWdtZW50RGF0YSwgYXVkaW9Db2RlYywgbnVsbCwgZnJhZ0N1cnJlbnQsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGluaXRQVFMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygndW5rbm93biB2aWRlbyBQVFMgZm9yIGNvbnRpbnVpdHkgY291bnRlciAnICsgY2MgKyAnLCB3YWl0aW5nIGZvciB2aWRlbyBQVFMgYmVmb3JlIGRlbXV4aW5nIGF1ZGlvIGZyYWcgJyArIHNuICsgJyBvZiBbJyArIGRldGFpbHMuc3RhcnRTTiArICcgLCcgKyBkZXRhaWxzLmVuZFNOICsgJ10sdHJhY2sgJyArIHRyYWNrSWQpO1xuICAgICAgICAgIHRoaXMud2FpdGluZ0ZyYWdtZW50ID0gZGF0YTtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuV0FJVElOR19JTklUX1BUUztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmZyYWdMb2FkRXJyb3IgPSAwO1xuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnUGFyc2luZ0luaXRTZWdtZW50ID0gZnVuY3Rpb24gb25GcmFnUGFyc2luZ0luaXRTZWdtZW50KGRhdGEpIHtcbiAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIHZhciBmcmFnTmV3ID0gZGF0YS5mcmFnO1xuICAgIGlmIChmcmFnQ3VycmVudCAmJiBkYXRhLmlkID09PSAnYXVkaW8nICYmIGZyYWdOZXcuc24gPT09IGZyYWdDdXJyZW50LnNuICYmIGZyYWdOZXcubGV2ZWwgPT09IGZyYWdDdXJyZW50LmxldmVsICYmIHRoaXMuc3RhdGUgPT09IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBUlNJTkcpIHtcbiAgICAgIHZhciB0cmFja3MgPSBkYXRhLnRyYWNrcyxcbiAgICAgICAgICB0cmFjayA9IHZvaWQgMDtcblxuICAgICAgLy8gZGVsZXRlIGFueSB2aWRlbyB0cmFjayBmb3VuZCBvbiBhdWRpbyBkZW11eGVyXG4gICAgICBpZiAodHJhY2tzLnZpZGVvKSB7XG4gICAgICAgIGRlbGV0ZSB0cmFja3MudmlkZW87XG4gICAgICB9XG5cbiAgICAgIC8vIGluY2x1ZGUgbGV2ZWxDb2RlYyBpbiBhdWRpbyBhbmQgdmlkZW8gdHJhY2tzXG4gICAgICB0cmFjayA9IHRyYWNrcy5hdWRpbztcbiAgICAgIGlmICh0cmFjaykge1xuICAgICAgICB0cmFjay5sZXZlbENvZGVjID0gdHJhY2suY29kZWM7XG4gICAgICAgIHRyYWNrLmlkID0gZGF0YS5pZDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0NPREVDUywgdHJhY2tzKTtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdhdWRpbyB0cmFjazphdWRpbyxjb250YWluZXI6JyArIHRyYWNrLmNvbnRhaW5lciArICcsY29kZWNzW2xldmVsL3BhcnNlZF09WycgKyB0cmFjay5sZXZlbENvZGVjICsgJy8nICsgdHJhY2suY29kZWMgKyAnXScpO1xuICAgICAgICB2YXIgaW5pdFNlZ21lbnQgPSB0cmFjay5pbml0U2VnbWVudDtcbiAgICAgICAgaWYgKGluaXRTZWdtZW50KSB7XG4gICAgICAgICAgdmFyIGFwcGVuZE9iaiA9IHsgdHlwZTogJ2F1ZGlvJywgZGF0YTogaW5pdFNlZ21lbnQsIHBhcmVudDogJ2F1ZGlvJywgY29udGVudDogJ2luaXRTZWdtZW50JyB9O1xuICAgICAgICAgIGlmICh0aGlzLmF1ZGlvU3dpdGNoKSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdEYXRhID0gW2FwcGVuZE9ial07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gYXJtIHBlbmRpbmcgQnVmZmVyaW5nIGZsYWcgYmVmb3JlIGFwcGVuZGluZyBhIHNlZ21lbnRcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlcmluZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQVBQRU5ESU5HLCBhcHBlbmRPYmopO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgICAgIHRoaXMudGljaygpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ1BhcnNpbmdEYXRhID0gZnVuY3Rpb24gb25GcmFnUGFyc2luZ0RhdGEoZGF0YSkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICB2YXIgZnJhZ05ldyA9IGRhdGEuZnJhZztcbiAgICBpZiAoZnJhZ0N1cnJlbnQgJiYgZGF0YS5pZCA9PT0gJ2F1ZGlvJyAmJiBkYXRhLnR5cGUgPT09ICdhdWRpbycgJiYgZnJhZ05ldy5zbiA9PT0gZnJhZ0N1cnJlbnQuc24gJiYgZnJhZ05ldy5sZXZlbCA9PT0gZnJhZ0N1cnJlbnQubGV2ZWwgJiYgdGhpcy5zdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0lORykge1xuICAgICAgdmFyIHRyYWNrSWQgPSB0aGlzLnRyYWNrSWQsXG4gICAgICAgICAgdHJhY2sgPSB0aGlzLnRyYWNrc1t0cmFja0lkXSxcbiAgICAgICAgICBobHMgPSB0aGlzLmhscztcblxuICAgICAgaWYgKCFPYmplY3QobnVtYmVyX2lzRmluaXRlW1wiYVwiIC8qIGlzRmluaXRlTnVtYmVyICovXSkoZGF0YS5lbmRQVFMpKSB7XG4gICAgICAgIGRhdGEuZW5kUFRTID0gZGF0YS5zdGFydFBUUyArIGZyYWdDdXJyZW50LmR1cmF0aW9uO1xuICAgICAgICBkYXRhLmVuZERUUyA9IGRhdGEuc3RhcnREVFMgKyBmcmFnQ3VycmVudC5kdXJhdGlvbjtcbiAgICAgIH1cblxuICAgICAgZnJhZ0N1cnJlbnQuYWRkRWxlbWVudGFyeVN0cmVhbShsb2FkZXJfZnJhZ21lbnQuRWxlbWVudGFyeVN0cmVhbVR5cGVzLkFVRElPKTtcblxuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdwYXJzZWQgJyArIGRhdGEudHlwZSArICcsUFRTOlsnICsgZGF0YS5zdGFydFBUUy50b0ZpeGVkKDMpICsgJywnICsgZGF0YS5lbmRQVFMudG9GaXhlZCgzKSArICddLERUUzpbJyArIGRhdGEuc3RhcnREVFMudG9GaXhlZCgzKSArICcvJyArIGRhdGEuZW5kRFRTLnRvRml4ZWQoMykgKyAnXSxuYjonICsgZGF0YS5uYik7XG4gICAgICB1cGRhdGVGcmFnUFRTRFRTKHRyYWNrLmRldGFpbHMsIGZyYWdDdXJyZW50LCBkYXRhLnN0YXJ0UFRTLCBkYXRhLmVuZFBUUyk7XG5cbiAgICAgIHZhciBhdWRpb1N3aXRjaCA9IHRoaXMuYXVkaW9Td2l0Y2gsXG4gICAgICAgICAgbWVkaWEgPSB0aGlzLm1lZGlhLFxuICAgICAgICAgIGFwcGVuZE9uQnVmZmVyRmx1c2ggPSBmYWxzZTtcbiAgICAgIC8vIE9ubHkgZmx1c2ggYXVkaW8gZnJvbSBvbGQgYXVkaW8gdHJhY2tzIHdoZW4gUFRTIGlzIGtub3duIG9uIG5ldyBhdWRpbyB0cmFja1xuICAgICAgaWYgKGF1ZGlvU3dpdGNoICYmIG1lZGlhKSB7XG4gICAgICAgIGlmIChtZWRpYS5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2l0Y2hpbmcgYXVkaW8gdHJhY2sgOiBjdXJyZW50VGltZTonICsgY3VycmVudFRpbWUpO1xuICAgICAgICAgIGlmIChjdXJyZW50VGltZSA+PSBkYXRhLnN0YXJ0UFRTKSB7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N3aXRjaGluZyBhdWRpbyB0cmFjayA6IGZsdXNoaW5nIGFsbCBhdWRpbycpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkJVRkZFUl9GTFVTSElORztcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfRkxVU0hJTkcsIHsgc3RhcnRPZmZzZXQ6IDAsIGVuZE9mZnNldDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0eXBlOiAnYXVkaW8nIH0pO1xuICAgICAgICAgICAgYXBwZW5kT25CdWZmZXJGbHVzaCA9IHRydWU7XG4gICAgICAgICAgICAvLyBMZXRzIGFubm91bmNlIHRoYXQgdGhlIGluaXRpYWwgYXVkaW8gdHJhY2sgc3dpdGNoIGZsdXNoIG9jY3VyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvU3dpdGNoID0gZmFsc2U7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfU1dJVENIRUQsIHsgaWQ6IHRyYWNrSWQgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIExldHMgYW5ub3VuY2UgdGhhdCB0aGUgaW5pdGlhbCBhdWRpbyB0cmFjayBzd2l0Y2ggZmx1c2ggb2NjdXJcbiAgICAgICAgICB0aGlzLmF1ZGlvU3dpdGNoID0gZmFsc2U7XG4gICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFVRElPX1RSQUNLX1NXSVRDSEVELCB7IGlkOiB0cmFja0lkIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBwZW5kaW5nRGF0YSA9IHRoaXMucGVuZGluZ0RhdGE7XG5cbiAgICAgIGlmICghcGVuZGluZ0RhdGEpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignQXBwYXJlbnRseSBhdHRlbXB0IHRvIGVucXVldWUgbWVkaWEgcGF5bG9hZCB3aXRob3V0IGNvZGVjIGluaXRpYWxpemF0aW9uIGRhdGEgdXBmcm9udCcpO1xuICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHsgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBudWxsLCBmYXRhbDogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuYXVkaW9Td2l0Y2gpIHtcbiAgICAgICAgW2RhdGEuZGF0YTEsIGRhdGEuZGF0YTJdLmZvckVhY2goZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICAgIGlmIChidWZmZXIgJiYgYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgcGVuZGluZ0RhdGEucHVzaCh7IHR5cGU6IGRhdGEudHlwZSwgZGF0YTogYnVmZmVyLCBwYXJlbnQ6ICdhdWRpbycsIGNvbnRlbnQ6ICdkYXRhJyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWFwcGVuZE9uQnVmZmVyRmx1c2ggJiYgcGVuZGluZ0RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgcGVuZGluZ0RhdGEuZm9yRWFjaChmdW5jdGlvbiAoYXBwZW5kT2JqKSB7XG4gICAgICAgICAgICAvLyBvbmx5IGFwcGVuZCBpbiBQQVJTSU5HIHN0YXRlIChyYXRpb25hbGUgaXMgdGhhdCBhbiBhcHBlbmRpbmcgZXJyb3IgY291bGQgaGFwcGVuIHN5bmNocm9ub3VzbHkgb24gZmlyc3Qgc2VnbWVudCBhcHBlbmRpbmcpXG4gICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UgaXQgaXMgdXNlbGVzcyB0byBhcHBlbmQgZm9sbG93aW5nIHNlZ21lbnRzXG4gICAgICAgICAgICBpZiAoX3RoaXMyLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTSU5HKSB7XG4gICAgICAgICAgICAgIC8vIGFybSBwZW5kaW5nIEJ1ZmZlcmluZyBmbGFnIGJlZm9yZSBhcHBlbmRpbmcgYSBzZWdtZW50XG4gICAgICAgICAgICAgIF90aGlzMi5wZW5kaW5nQnVmZmVyaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgX3RoaXMyLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQVBQRU5ESU5HLCBhcHBlbmRPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMucGVuZGluZ0RhdGEgPSBbXTtcbiAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgICAgdGhpcy50aWNrKCk7XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnUGFyc2VkID0gZnVuY3Rpb24gb25GcmFnUGFyc2VkKGRhdGEpIHtcbiAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgIHZhciBmcmFnTmV3ID0gZGF0YS5mcmFnO1xuICAgIGlmIChmcmFnQ3VycmVudCAmJiBkYXRhLmlkID09PSAnYXVkaW8nICYmIGZyYWdOZXcuc24gPT09IGZyYWdDdXJyZW50LnNuICYmIGZyYWdOZXcubGV2ZWwgPT09IGZyYWdDdXJyZW50LmxldmVsICYmIHRoaXMuc3RhdGUgPT09IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBUlNJTkcpIHtcbiAgICAgIHRoaXMuc3RhdHMudHBhcnNlZCA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX3BlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgdGhpcy5zdGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBUlNFRDtcbiAgICAgIHRoaXMuX2NoZWNrQXBwZW5kZWRQYXJzZWQoKTtcbiAgICB9XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlclJlc2V0ID0gZnVuY3Rpb24gb25CdWZmZXJSZXNldCgpIHtcbiAgICAvLyByZXNldCByZWZlcmVuY2UgdG8gc291cmNlYnVmZmVyc1xuICAgIHRoaXMubWVkaWFCdWZmZXIgPSB0aGlzLnZpZGVvQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmxvYWRlZG1ldGFkYXRhID0gZmFsc2U7XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckNyZWF0ZWQgPSBmdW5jdGlvbiBvbkJ1ZmZlckNyZWF0ZWQoZGF0YSkge1xuICAgIHZhciBhdWRpb1RyYWNrID0gZGF0YS50cmFja3MuYXVkaW87XG4gICAgaWYgKGF1ZGlvVHJhY2spIHtcbiAgICAgIHRoaXMubWVkaWFCdWZmZXIgPSBhdWRpb1RyYWNrLmJ1ZmZlcjtcbiAgICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoZGF0YS50cmFja3MudmlkZW8pIHtcbiAgICAgIHRoaXMudmlkZW9CdWZmZXIgPSBkYXRhLnRyYWNrcy52aWRlby5idWZmZXI7XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJBcHBlbmRlZCA9IGZ1bmN0aW9uIG9uQnVmZmVyQXBwZW5kZWQoZGF0YSkge1xuICAgIGlmIChkYXRhLnBhcmVudCA9PT0gJ2F1ZGlvJykge1xuICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIGlmIChzdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0lORyB8fCBzdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0VEKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIGFsbCBidWZmZXJzIGhhdmUgYmVlbiBhcHBlbmRlZFxuICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXJpbmcgPSBkYXRhLnBlbmRpbmcgPiAwO1xuICAgICAgICB0aGlzLl9jaGVja0FwcGVuZGVkUGFyc2VkKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2NoZWNrQXBwZW5kZWRQYXJzZWQgPSBmdW5jdGlvbiBfY2hlY2tBcHBlbmRlZFBhcnNlZCgpIHtcbiAgICAvLyB0cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLlBBUlNFRCAmJiAoIXRoaXMuYXBwZW5kZWQgfHwgIXRoaXMucGVuZGluZ0J1ZmZlcmluZykpIHtcbiAgICAgIHZhciBmcmFnID0gdGhpcy5mcmFnQ3VycmVudCxcbiAgICAgICAgICBzdGF0cyA9IHRoaXMuc3RhdHMsXG4gICAgICAgICAgaGxzID0gdGhpcy5obHM7XG4gICAgICBpZiAoZnJhZykge1xuICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IGZyYWc7XG4gICAgICAgIHN0YXRzLnRidWZmZXJlZCA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX3BlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19CVUZGRVJFRCwgeyBzdGF0czogc3RhdHMsIGZyYWc6IGZyYWcsIGlkOiAnYXVkaW8nIH0pO1xuICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IHRoaXMubWVkaWE7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYXVkaW8gYnVmZmVyZWQgOiAnICsgdGltZV9yYW5nZXMudG9TdHJpbmcobWVkaWEuYnVmZmVyZWQpKTtcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9Td2l0Y2ggJiYgdGhpcy5hcHBlbmRlZCkge1xuICAgICAgICAgIHRoaXMuYXVkaW9Td2l0Y2ggPSBmYWxzZTtcbiAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQVVESU9fVFJBQ0tfU1dJVENIRUQsIHsgaWQ6IHRoaXMudHJhY2tJZCB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgIH1cbiAgICAgIHRoaXMudGljaygpO1xuICAgIH1cbiAgfTtcblxuICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiBvbkVycm9yKGRhdGEpIHtcbiAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZztcbiAgICAvLyBkb24ndCBoYW5kbGUgZnJhZyBlcnJvciBub3QgcmVsYXRlZCB0byBhdWRpbyBmcmFnbWVudFxuICAgIGlmIChmcmFnICYmIGZyYWcudHlwZSAhPT0gJ2F1ZGlvJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZGF0YS5kZXRhaWxzKSB7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkZSQUdfTE9BRF9FUlJPUjpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uRlJBR19MT0FEX1RJTUVPVVQ6XG4gICAgICAgIHZhciBfZnJhZyA9IGRhdGEuZnJhZztcbiAgICAgICAgLy8gZG9uJ3QgaGFuZGxlIGZyYWcgZXJyb3Igbm90IHJlbGF0ZWQgdG8gYXVkaW8gZnJhZ21lbnRcbiAgICAgICAgaWYgKF9mcmFnICYmIF9mcmFnLnR5cGUgIT09ICdhdWRpbycpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGF0YS5mYXRhbCkge1xuICAgICAgICAgIHZhciBsb2FkRXJyb3IgPSB0aGlzLmZyYWdMb2FkRXJyb3I7XG4gICAgICAgICAgaWYgKGxvYWRFcnJvcikge1xuICAgICAgICAgICAgbG9hZEVycm9yKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvYWRFcnJvciA9IDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICAgIGlmIChsb2FkRXJyb3IgPD0gY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnkpIHtcbiAgICAgICAgICAgIHRoaXMuZnJhZ0xvYWRFcnJvciA9IGxvYWRFcnJvcjtcbiAgICAgICAgICAgIC8vIGV4cG9uZW50aWFsIGJhY2tvZmYgY2FwcGVkIHRvIGNvbmZpZy5mcmFnTG9hZGluZ01heFJldHJ5VGltZW91dFxuICAgICAgICAgICAgdmFyIGRlbGF5ID0gTWF0aC5taW4oTWF0aC5wb3coMiwgbG9hZEVycm9yIC0gMSkgKiBjb25maWcuZnJhZ0xvYWRpbmdSZXRyeURlbGF5LCBjb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQpO1xuICAgICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignQXVkaW9TdHJlYW1Db250cm9sbGVyOiBmcmFnIGxvYWRpbmcgZmFpbGVkLCByZXRyeSBpbiAnICsgZGVsYXkgKyAnIG1zJyk7XG4gICAgICAgICAgICB0aGlzLnJldHJ5RGF0ZSA9IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX3BlcmZvcm1hbmNlLm5vdygpICsgZGVsYXk7XG4gICAgICAgICAgICAvLyByZXRyeSBsb2FkaW5nIHN0YXRlXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdBdWRpb1N0cmVhbUNvbnRyb2xsZXI6ICcgKyBkYXRhLmRldGFpbHMgKyAnIHJlYWNoZXMgbWF4IHJldHJ5LCByZWRpc3BhdGNoIGFzIGZhdGFsIC4uLicpO1xuICAgICAgICAgICAgLy8gc3dpdGNoIGVycm9yIHRvIGZhdGFsXG4gICAgICAgICAgICBkYXRhLmZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5FUlJPUjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkFVRElPX1RSQUNLX0xPQURfRVJST1I6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLkFVRElPX1RSQUNLX0xPQURfVElNRU9VVDpcbiAgICAgIGNhc2UgZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uS0VZX0xPQURfRVJST1I6XG4gICAgICBjYXNlIGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLktFWV9MT0FEX1RJTUVPVVQ6XG4gICAgICAgIC8vICB3aGVuIGluIEVSUk9SIHN0YXRlLCBkb24ndCBzd2l0Y2ggYmFjayB0byBJRExFIHN0YXRlIGluIGNhc2UgYSBub24tZmF0YWwgZXJyb3IgaXMgcmVjZWl2ZWRcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLkVSUk9SKSB7XG4gICAgICAgICAgLy8gaWYgZmF0YWwgZXJyb3IsIHN0b3AgcHJvY2Vzc2luZywgb3RoZXJ3aXNlIG1vdmUgdG8gSURMRSB0byByZXRyeSBsb2FkaW5nXG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IGRhdGEuZmF0YWwgPyBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5FUlJPUiA6IGF1ZGlvX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLklETEU7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ud2FybignQXVkaW9TdHJlYW1Db250cm9sbGVyOiAnICsgZGF0YS5kZXRhaWxzICsgJyB3aGlsZSBsb2FkaW5nIGZyYWcsIG5vdyBzd2l0Y2hpbmcgdG8gJyArIHRoaXMuc3RhdGUgKyAnIHN0YXRlIC4uLicpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5CVUZGRVJfRlVMTF9FUlJPUjpcbiAgICAgICAgLy8gaWYgaW4gYXBwZW5kaW5nIHN0YXRlXG4gICAgICAgIGlmIChkYXRhLnBhcmVudCA9PT0gJ2F1ZGlvJyAmJiAodGhpcy5zdGF0ZSA9PT0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuUEFSU0lORyB8fCB0aGlzLnN0YXRlID09PSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTRUQpKSB7XG4gICAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYUJ1ZmZlcixcbiAgICAgICAgICAgICAgY3VycmVudFRpbWUgPSB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lLFxuICAgICAgICAgICAgICBtZWRpYUJ1ZmZlcmVkID0gbWVkaWEgJiYgQnVmZmVySGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIGN1cnJlbnRUaW1lKSAmJiBCdWZmZXJIZWxwZXIuaXNCdWZmZXJlZChtZWRpYSwgY3VycmVudFRpbWUgKyAwLjUpO1xuICAgICAgICAgIC8vIHJlZHVjZSBtYXggYnVmIGxlbiBpZiBjdXJyZW50IHBvc2l0aW9uIGlzIGJ1ZmZlcmVkXG4gICAgICAgICAgaWYgKG1lZGlhQnVmZmVyZWQpIHtcbiAgICAgICAgICAgIHZhciBfY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgICAgICAgICBpZiAoX2NvbmZpZy5tYXhNYXhCdWZmZXJMZW5ndGggPj0gX2NvbmZpZy5tYXhCdWZmZXJMZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gcmVkdWNlIG1heCBidWZmZXIgbGVuZ3RoIGFzIGl0IG1pZ2h0IGJlIHRvbyBoaWdoLiB3ZSBkbyB0aGlzIHRvIGF2b2lkIGxvb3AgZmx1c2hpbmcgLi4uXG4gICAgICAgICAgICAgIF9jb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoIC89IDI7XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ0F1ZGlvU3RyZWFtQ29udHJvbGxlcjogcmVkdWNlIG1heCBidWZmZXIgbGVuZ3RoIHRvICcgKyBfY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCArICdzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY3VycmVudCBwb3NpdGlvbiBpcyBub3QgYnVmZmVyZWQsIGJ1dCBicm93c2VyIGlzIHN0aWxsIGNvbXBsYWluaW5nIGFib3V0IGJ1ZmZlciBmdWxsIGVycm9yXG4gICAgICAgICAgICAvLyB0aGlzIGhhcHBlbnMgb24gSUUvRWRnZSwgcmVmZXIgdG8gaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvcHVsbC83MDhcbiAgICAgICAgICAgIC8vIGluIHRoYXQgY2FzZSBmbHVzaCB0aGUgd2hvbGUgYXVkaW8gYnVmZmVyIHRvIHJlY292ZXJcbiAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLndhcm4oJ0F1ZGlvU3RyZWFtQ29udHJvbGxlcjogYnVmZmVyIGZ1bGwgZXJyb3IgYWxzbyBtZWRpYS5jdXJyZW50VGltZSBpcyBub3QgYnVmZmVyZWQsIGZsdXNoIGF1ZGlvIGJ1ZmZlcicpO1xuICAgICAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBmbHVzaCBldmVyeXRoaW5nXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuQlVGRkVSX0ZMVVNISU5HO1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uQlVGRkVSX0ZMVVNISU5HLCB7IHN0YXJ0T2Zmc2V0OiAwLCBlbmRPZmZzZXQ6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgdHlwZTogJ2F1ZGlvJyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG5cbiAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckZsdXNoZWQgPSBmdW5jdGlvbiBvbkJ1ZmZlckZsdXNoZWQoKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB2YXIgcGVuZGluZ0RhdGEgPSB0aGlzLnBlbmRpbmdEYXRhO1xuICAgIGlmIChwZW5kaW5nRGF0YSAmJiBwZW5kaW5nRGF0YS5sZW5ndGgpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnQXVkaW9TdHJlYW1Db250cm9sbGVyOiBhcHBlbmRpbmcgcGVuZGluZyBhdWRpbyBkYXRhIGFmdGVyIGJ1ZmZlciBmbHVzaGVkJyk7XG4gICAgICBwZW5kaW5nRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChhcHBlbmRPYmopIHtcbiAgICAgICAgX3RoaXMzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5CVUZGRVJfQVBQRU5ESU5HLCBhcHBlbmRPYmopO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmFwcGVuZGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMucGVuZGluZ0RhdGEgPSBbXTtcbiAgICAgIHRoaXMuc3RhdGUgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5QQVJTRUQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG1vdmUgdG8gSURMRSBvbmNlIGZsdXNoIGNvbXBsZXRlLiB0aGlzIHNob3VsZCB0cmlnZ2VyIG5ldyBmcmFnbWVudCBsb2FkaW5nXG4gICAgICB0aGlzLnN0YXRlID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgIC8vIHJlc2V0IHJlZmVyZW5jZSB0byBmcmFnXG4gICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzKEF1ZGlvU3RyZWFtQ29udHJvbGxlciwgW3tcbiAgICBrZXk6ICdzdGF0ZScsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV4dFN0YXRlKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gbmV4dFN0YXRlKSB7XG4gICAgICAgIHZhciBwcmV2aW91c1N0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnYXVkaW8gc3RyZWFtOicgKyBwcmV2aW91c1N0YXRlICsgJy0+JyArIG5leHRTdGF0ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQXVkaW9TdHJlYW1Db250cm9sbGVyO1xufSh0YXNrX2xvb3ApO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBhdWRpb19zdHJlYW1fY29udHJvbGxlciA9IChhdWRpb19zdHJlYW1fY29udHJvbGxlcl9BdWRpb1N0cmVhbUNvbnRyb2xsZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvdnR0Y3VlLmpzXG4vKipcbiAqIENvcHlyaWdodCAyMDEzIHZ0dC5qcyBDb250cmlidXRvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHZ0dGN1ZSA9ICgoZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LlZUVEN1ZSkge1xuICAgIHJldHVybiB3aW5kb3cuVlRUQ3VlO1xuICB9XG5cbiAgdmFyIGF1dG9LZXl3b3JkID0gJ2F1dG8nO1xuICB2YXIgZGlyZWN0aW9uU2V0dGluZyA9IHtcbiAgICAnJzogdHJ1ZSxcbiAgICBscjogdHJ1ZSxcbiAgICBybDogdHJ1ZVxuICB9O1xuICB2YXIgYWxpZ25TZXR0aW5nID0ge1xuICAgIHN0YXJ0OiB0cnVlLFxuICAgIG1pZGRsZTogdHJ1ZSxcbiAgICBlbmQ6IHRydWUsXG4gICAgbGVmdDogdHJ1ZSxcbiAgICByaWdodDogdHJ1ZVxuICB9O1xuXG4gIGZ1bmN0aW9uIGZpbmREaXJlY3Rpb25TZXR0aW5nKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZGlyID0gZGlyZWN0aW9uU2V0dGluZ1t2YWx1ZS50b0xvd2VyQ2FzZSgpXTtcbiAgICByZXR1cm4gZGlyID8gdmFsdWUudG9Mb3dlckNhc2UoKSA6IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZEFsaWduU2V0dGluZyh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGFsaWduID0gYWxpZ25TZXR0aW5nW3ZhbHVlLnRvTG93ZXJDYXNlKCldO1xuICAgIHJldHVybiBhbGlnbiA/IHZhbHVlLnRvTG93ZXJDYXNlKCkgOiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4dGVuZChvYmopIHtcbiAgICB2YXIgaSA9IDE7XG4gICAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjb2JqID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIgcCBpbiBjb2JqKSB7XG4gICAgICAgIG9ialtwXSA9IGNvYmpbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIFZUVEN1ZShzdGFydFRpbWUsIGVuZFRpbWUsIHRleHQpIHtcbiAgICB2YXIgY3VlID0gdGhpcztcbiAgICB2YXIgaXNJRTggPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gKC9NU0lFXFxzOFxcLjAvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgICAgICk7XG4gICAgfSgpO1xuICAgIHZhciBiYXNlT2JqID0ge307XG5cbiAgICBpZiAoaXNJRTgpIHtcbiAgICAgIGN1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2N1c3RvbScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYXNlT2JqLmVudW1lcmFibGUgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNoaW0gaW1wbGVtZW50YXRpb24gc3BlY2lmaWMgcHJvcGVydGllcy4gVGhlc2UgcHJvcGVydGllcyBhcmUgbm90IGluXG4gICAgICogdGhlIHNwZWMuXG4gICAgICovXG5cbiAgICAvLyBMZXRzIHVzIGtub3cgd2hlbiB0aGUgVlRUQ3VlJ3MgZGF0YSBoYXMgY2hhbmdlZCBpbiBzdWNoIGEgd2F5IHRoYXQgd2UgbmVlZFxuICAgIC8vIHRvIHJlY29tcHV0ZSBpdHMgZGlzcGxheSBzdGF0ZS4gVGhpcyBsZXRzIHVzIGNvbXB1dGUgaXRzIGRpc3BsYXkgc3RhdGVcbiAgICAvLyBsYXppbHkuXG4gICAgY3VlLmhhc0JlZW5SZXNldCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVlRUQ3VlIGFuZCBUZXh0VHJhY2tDdWUgcHJvcGVydGllc1xuICAgICAqIGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3dlYnZ0dC8jdnR0Y3VlLWludGVyZmFjZVxuICAgICAqL1xuXG4gICAgdmFyIF9pZCA9ICcnO1xuICAgIHZhciBfcGF1c2VPbkV4aXQgPSBmYWxzZTtcbiAgICB2YXIgX3N0YXJ0VGltZSA9IHN0YXJ0VGltZTtcbiAgICB2YXIgX2VuZFRpbWUgPSBlbmRUaW1lO1xuICAgIHZhciBfdGV4dCA9IHRleHQ7XG4gICAgdmFyIF9yZWdpb24gPSBudWxsO1xuICAgIHZhciBfdmVydGljYWwgPSAnJztcbiAgICB2YXIgX3NuYXBUb0xpbmVzID0gdHJ1ZTtcbiAgICB2YXIgX2xpbmUgPSAnYXV0byc7XG4gICAgdmFyIF9saW5lQWxpZ24gPSAnc3RhcnQnO1xuICAgIHZhciBfcG9zaXRpb24gPSA1MDtcbiAgICB2YXIgX3Bvc2l0aW9uQWxpZ24gPSAnbWlkZGxlJztcbiAgICB2YXIgX3NpemUgPSA1MDtcbiAgICB2YXIgX2FsaWduID0gJ21pZGRsZSc7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAnaWQnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2lkO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIF9pZCA9ICcnICsgdmFsdWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3BhdXNlT25FeGl0JywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9wYXVzZU9uRXhpdDtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBfcGF1c2VPbkV4aXQgPSAhIXZhbHVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdzdGFydFRpbWUnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3N0YXJ0VGltZTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0YXJ0IHRpbWUgbXVzdCBiZSBzZXQgdG8gYSBudW1iZXIuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBfc3RhcnRUaW1lID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAnZW5kVGltZScsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfZW5kVGltZTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0VuZCB0aW1lIG11c3QgYmUgc2V0IHRvIGEgbnVtYmVyLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2VuZFRpbWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICd0ZXh0JywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF90ZXh0O1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIF90ZXh0ID0gJycgKyB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdyZWdpb24nLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3JlZ2lvbjtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBfcmVnaW9uID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAndmVydGljYWwnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX3ZlcnRpY2FsO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIHZhciBzZXR0aW5nID0gZmluZERpcmVjdGlvblNldHRpbmcodmFsdWUpO1xuICAgICAgICAvLyBIYXZlIHRvIGNoZWNrIGZvciBmYWxzZSBiZWNhdXNlIHRoZSBzZXR0aW5nIGFuIGJlIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgICAgaWYgKHNldHRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBfdmVydGljYWwgPSBzZXR0aW5nO1xuICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3NuYXBUb0xpbmVzJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9zbmFwVG9MaW5lcztcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBfc25hcFRvTGluZXMgPSAhIXZhbHVlO1xuICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ2xpbmUnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2xpbmU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicgJiYgdmFsdWUgIT09IGF1dG9LZXl3b3JkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdBbiBpbnZhbGlkIG51bWJlciBvciBpbGxlZ2FsIHN0cmluZyB3YXMgc3BlY2lmaWVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2xpbmUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdsaW5lQWxpZ24nLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2xpbmVBbGlnbjtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICB2YXIgc2V0dGluZyA9IGZpbmRBbGlnblNldHRpbmcodmFsdWUpO1xuICAgICAgICBpZiAoIXNldHRpbmcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0FuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9saW5lQWxpZ24gPSBzZXR0aW5nO1xuICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3Bvc2l0aW9uJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9wb3NpdGlvbjtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID4gMTAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQb3NpdGlvbiBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMTAwLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3Bvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAncG9zaXRpb25BbGlnbicsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfcG9zaXRpb25BbGlnbjtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICB2YXIgc2V0dGluZyA9IGZpbmRBbGlnblNldHRpbmcodmFsdWUpO1xuICAgICAgICBpZiAoIXNldHRpbmcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0FuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9wb3NpdGlvbkFsaWduID0gc2V0dGluZztcbiAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdzaXplJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9zaXplO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPiAxMDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpemUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9zaXplID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAnYWxpZ24nLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2FsaWduO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIHZhciBzZXR0aW5nID0gZmluZEFsaWduU2V0dGluZyh2YWx1ZSk7XG4gICAgICAgIGlmICghc2V0dGluZykge1xuICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignQW4gaW52YWxpZCBvciBpbGxlZ2FsIHN0cmluZyB3YXMgc3BlY2lmaWVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2FsaWduID0gc2V0dGluZztcbiAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIC8qKlxuICAgICAqIE90aGVyIDx0cmFjaz4gc3BlYyBkZWZpbmVkIHByb3BlcnRpZXNcbiAgICAgKi9cblxuICAgIC8vIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL3RoZS12aWRlby1lbGVtZW50Lmh0bWwjdGV4dC10cmFjay1jdWUtZGlzcGxheS1zdGF0ZVxuICAgIGN1ZS5kaXNwbGF5U3RhdGUgPSB1bmRlZmluZWQ7XG5cbiAgICBpZiAoaXNJRTgpIHtcbiAgICAgIHJldHVybiBjdWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZUVEN1ZSBtZXRob2RzXG4gICAqL1xuXG4gIFZUVEN1ZS5wcm90b3R5cGUuZ2V0Q3VlQXNIVE1MID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIEFzc3VtZSBXZWJWVFQuY29udmVydEN1ZVRvRE9NVHJlZSBpcyBvbiB0aGUgZ2xvYmFsLlxuICAgIHZhciBXZWJWVFQgPSB3aW5kb3cuV2ViVlRUO1xuICAgIHJldHVybiBXZWJWVFQuY29udmVydEN1ZVRvRE9NVHJlZSh3aW5kb3csIHRoaXMudGV4dCk7XG4gIH07XG5cbiAgcmV0dXJuIFZUVEN1ZTtcbn0pKCkpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvdnR0cGFyc2VyLmpzXG4vKlxuICogU291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS92dHQuanMvYmxvYi9tYXN0ZXIvZGlzdC92dHQuanMjTDE3MTZcbiAqL1xuXG5cblxudmFyIFN0cmluZ0RlY29kZXIgPSBmdW5jdGlvbiBTdHJpbmdEZWNvZGVyKCkge1xuICByZXR1cm4ge1xuICAgIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGRhdGEpIHtcbiAgICAgIGlmICghZGF0YSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciAtIGV4cGVjdGVkIHN0cmluZyBkYXRhLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVuY29kZVVSSUNvbXBvbmVudChkYXRhKSk7XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb24gVlRUUGFyc2VyKCkge1xuICB0aGlzLndpbmRvdyA9IHdpbmRvdztcbiAgdGhpcy5zdGF0ZSA9ICdJTklUSUFMJztcbiAgdGhpcy5idWZmZXIgPSAnJztcbiAgdGhpcy5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIoKTtcbiAgdGhpcy5yZWdpb25MaXN0ID0gW107XG59XG5cbi8vIFRyeSB0byBwYXJzZSBpbnB1dCBhcyBhIHRpbWUgc3RhbXAuXG5mdW5jdGlvbiBwYXJzZVRpbWVTdGFtcChpbnB1dCkge1xuICBmdW5jdGlvbiBjb21wdXRlU2Vjb25kcyhoLCBtLCBzLCBmKSB7XG4gICAgcmV0dXJuIChoIHwgMCkgKiAzNjAwICsgKG0gfCAwKSAqIDYwICsgKHMgfCAwKSArIChmIHwgMCkgLyAxMDAwO1xuICB9XG5cbiAgdmFyIG0gPSBpbnB1dC5tYXRjaCgvXihcXGQrKTooXFxkezJ9KSg6XFxkezJ9KT9cXC4oXFxkezN9KS8pO1xuICBpZiAoIW0pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChtWzNdKSB7XG4gICAgLy8gVGltZXN0YW1wIHRha2VzIHRoZSBmb3JtIG9mIFtob3Vyc106W21pbnV0ZXNdOltzZWNvbmRzXS5bbWlsbGlzZWNvbmRzXVxuICAgIHJldHVybiBjb21wdXRlU2Vjb25kcyhtWzFdLCBtWzJdLCBtWzNdLnJlcGxhY2UoJzonLCAnJyksIG1bNF0pO1xuICB9IGVsc2UgaWYgKG1bMV0gPiA1OSkge1xuICAgIC8vIFRpbWVzdGFtcCB0YWtlcyB0aGUgZm9ybSBvZiBbaG91cnNdOlttaW51dGVzXS5bbWlsbGlzZWNvbmRzXVxuICAgIC8vIEZpcnN0IHBvc2l0aW9uIGlzIGhvdXJzIGFzIGl0J3Mgb3ZlciA1OS5cbiAgICByZXR1cm4gY29tcHV0ZVNlY29uZHMobVsxXSwgbVsyXSwgMCwgbVs0XSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVGltZXN0YW1wIHRha2VzIHRoZSBmb3JtIG9mIFttaW51dGVzXTpbc2Vjb25kc10uW21pbGxpc2Vjb25kc11cbiAgICByZXR1cm4gY29tcHV0ZVNlY29uZHMoMCwgbVsxXSwgbVsyXSwgbVs0XSk7XG4gIH1cbn1cblxuLy8gQSBzZXR0aW5ncyBvYmplY3QgaG9sZHMga2V5L3ZhbHVlIHBhaXJzIGFuZCB3aWxsIGlnbm9yZSBhbnl0aGluZyBidXQgdGhlIGZpcnN0XG4vLyBhc3NpZ25tZW50IHRvIGEgc3BlY2lmaWMga2V5LlxuZnVuY3Rpb24gU2V0dGluZ3MoKSB7XG4gIHRoaXMudmFsdWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxuU2V0dGluZ3MucHJvdG90eXBlID0ge1xuICAvLyBPbmx5IGFjY2VwdCB0aGUgZmlyc3QgYXNzaWdubWVudCB0byBhbnkga2V5LlxuICBzZXQ6IGZ1bmN0aW9uIHNldChrLCB2KSB7XG4gICAgaWYgKCF0aGlzLmdldChrKSAmJiB2ICE9PSAnJykge1xuICAgICAgdGhpcy52YWx1ZXNba10gPSB2O1xuICAgIH1cbiAgfSxcbiAgLy8gUmV0dXJuIHRoZSB2YWx1ZSBmb3IgYSBrZXksIG9yIGEgZGVmYXVsdCB2YWx1ZS5cbiAgLy8gSWYgJ2RlZmF1bHRLZXknIGlzIHBhc3NlZCB0aGVuICdkZmx0JyBpcyBhc3N1bWVkIHRvIGJlIGFuIG9iamVjdCB3aXRoXG4gIC8vIGEgbnVtYmVyIG9mIHBvc3NpYmxlIGRlZmF1bHQgdmFsdWVzIGFzIHByb3BlcnRpZXMgd2hlcmUgJ2RlZmF1bHRLZXknIGlzXG4gIC8vIHRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRoYXQgd2lsbCBiZSBjaG9zZW47IG90aGVyd2lzZSBpdCdzIGFzc3VtZWQgdG8gYmVcbiAgLy8gYSBzaW5nbGUgdmFsdWUuXG4gIGdldDogZnVuY3Rpb24gZ2V0KGssIGRmbHQsIGRlZmF1bHRLZXkpIHtcbiAgICBpZiAoZGVmYXVsdEtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzKGspID8gdGhpcy52YWx1ZXNba10gOiBkZmx0W2RlZmF1bHRLZXldO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmhhcyhrKSA/IHRoaXMudmFsdWVzW2tdIDogZGZsdDtcbiAgfSxcbiAgLy8gQ2hlY2sgd2hldGhlciB3ZSBoYXZlIGEgdmFsdWUgZm9yIGEga2V5LlxuICBoYXM6IGZ1bmN0aW9uIGhhcyhrKSB7XG4gICAgcmV0dXJuIGsgaW4gdGhpcy52YWx1ZXM7XG4gIH0sXG4gIC8vIEFjY2VwdCBhIHNldHRpbmcgaWYgaXRzIG9uZSBvZiB0aGUgZ2l2ZW4gYWx0ZXJuYXRpdmVzLlxuICBhbHQ6IGZ1bmN0aW9uIGFsdChrLCB2LCBhKSB7XG4gICAgZm9yICh2YXIgbiA9IDA7IG4gPCBhLmxlbmd0aDsgKytuKSB7XG4gICAgICBpZiAodiA9PT0gYVtuXSkge1xuICAgICAgICB0aGlzLnNldChrLCB2KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICAvLyBBY2NlcHQgYSBzZXR0aW5nIGlmIGl0cyBhIHZhbGlkIChzaWduZWQpIGludGVnZXIuXG4gIGludGVnZXI6IGZ1bmN0aW9uIGludGVnZXIoaywgdikge1xuICAgIGlmICgvXi0/XFxkKyQvLnRlc3QodikpIHtcbiAgICAgIC8vIGludGVnZXJcbiAgICAgIHRoaXMuc2V0KGssIHBhcnNlSW50KHYsIDEwKSk7XG4gICAgfVxuICB9LFxuICAvLyBBY2NlcHQgYSBzZXR0aW5nIGlmIGl0cyBhIHZhbGlkIHBlcmNlbnRhZ2UuXG4gIHBlcmNlbnQ6IGZ1bmN0aW9uIHBlcmNlbnQoaywgdikge1xuICAgIHZhciBtID0gdm9pZCAwO1xuICAgIGlmIChtID0gdi5tYXRjaCgvXihbXFxkXXsxLDN9KShcXC5bXFxkXSopPyUkLykpIHtcbiAgICAgIHYgPSBwYXJzZUZsb2F0KHYpO1xuICAgICAgaWYgKHYgPj0gMCAmJiB2IDw9IDEwMCkge1xuICAgICAgICB0aGlzLnNldChrLCB2KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHBhcnNlIGlucHV0IGludG8gZ3JvdXBzIHNlcGFyYXRlZCBieSAnZ3JvdXBEZWxpbScsIGFuZFxuLy8gaW50ZXJwcmV0ZSBlYWNoIGdyb3VwIGFzIGEga2V5L3ZhbHVlIHBhaXIgc2VwYXJhdGVkIGJ5ICdrZXlWYWx1ZURlbGltJy5cbmZ1bmN0aW9uIHBhcnNlT3B0aW9ucyhpbnB1dCwgY2FsbGJhY2ssIGtleVZhbHVlRGVsaW0sIGdyb3VwRGVsaW0pIHtcbiAgdmFyIGdyb3VwcyA9IGdyb3VwRGVsaW0gPyBpbnB1dC5zcGxpdChncm91cERlbGltKSA6IFtpbnB1dF07XG4gIGZvciAodmFyIGkgaW4gZ3JvdXBzKSB7XG4gICAgaWYgKHR5cGVvZiBncm91cHNbaV0gIT09ICdzdHJpbmcnKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICB2YXIga3YgPSBncm91cHNbaV0uc3BsaXQoa2V5VmFsdWVEZWxpbSk7XG4gICAgaWYgKGt2Lmxlbmd0aCAhPT0gMikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdmFyIGsgPSBrdlswXTtcbiAgICB2YXIgdiA9IGt2WzFdO1xuICAgIGNhbGxiYWNrKGssIHYpO1xuICB9XG59XG5cbnZhciBkZWZhdWx0cyA9IG5ldyB2dHRjdWUoMCwgMCwgMCk7XG4vLyAnbWlkZGxlJyB3YXMgY2hhbmdlZCB0byAnY2VudGVyJyBpbiB0aGUgc3BlYzogaHR0cHM6Ly9naXRodWIuY29tL3czYy93ZWJ2dHQvcHVsbC8yNDRcbi8vICBTYWZhcmkgZG9lc24ndCB5ZXQgc3VwcG9ydCB0aGlzIGNoYW5nZSwgYnV0IEZGIGFuZCBDaHJvbWUgZG8uXG52YXIgY2VudGVyID0gZGVmYXVsdHMuYWxpZ24gPT09ICdtaWRkbGUnID8gJ21pZGRsZScgOiAnY2VudGVyJztcblxuZnVuY3Rpb24gcGFyc2VDdWUoaW5wdXQsIGN1ZSwgcmVnaW9uTGlzdCkge1xuICAvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgaW5wdXQgaWYgd2UgbmVlZCB0byB0aHJvdyBhbiBlcnJvci5cbiAgdmFyIG9JbnB1dCA9IGlucHV0O1xuICAvLyA0LjEgV2ViVlRUIHRpbWVzdGFtcFxuICBmdW5jdGlvbiBjb25zdW1lVGltZVN0YW1wKCkge1xuICAgIHZhciB0cyA9IHBhcnNlVGltZVN0YW1wKGlucHV0KTtcbiAgICBpZiAodHMgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIHRpbWVzdGFtcDogJyArIG9JbnB1dCk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHRpbWUgc3RhbXAgZnJvbSBpbnB1dC5cbiAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoL15bXlxcc2EtekEtWi1dKy8sICcnKTtcbiAgICByZXR1cm4gdHM7XG4gIH1cblxuICAvLyA0LjQuMiBXZWJWVFQgY3VlIHNldHRpbmdzXG4gIGZ1bmN0aW9uIGNvbnN1bWVDdWVTZXR0aW5ncyhpbnB1dCwgY3VlKSB7XG4gICAgdmFyIHNldHRpbmdzID0gbmV3IFNldHRpbmdzKCk7XG5cbiAgICBwYXJzZU9wdGlvbnMoaW5wdXQsIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICBzd2l0Y2ggKGspIHtcbiAgICAgICAgY2FzZSAncmVnaW9uJzpcbiAgICAgICAgICAvLyBGaW5kIHRoZSBsYXN0IHJlZ2lvbiB3ZSBwYXJzZWQgd2l0aCB0aGUgc2FtZSByZWdpb24gaWQuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IHJlZ2lvbkxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChyZWdpb25MaXN0W2ldLmlkID09PSB2KSB7XG4gICAgICAgICAgICAgIHNldHRpbmdzLnNldChrLCByZWdpb25MaXN0W2ldLnJlZ2lvbik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndmVydGljYWwnOlxuICAgICAgICAgIHNldHRpbmdzLmFsdChrLCB2LCBbJ3JsJywgJ2xyJ10pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdsaW5lJzpcbiAgICAgICAgICB2YXIgdmFscyA9IHYuc3BsaXQoJywnKSxcbiAgICAgICAgICAgICAgdmFsczAgPSB2YWxzWzBdO1xuICAgICAgICAgIHNldHRpbmdzLmludGVnZXIoaywgdmFsczApO1xuICAgICAgICAgIGlmIChzZXR0aW5ncy5wZXJjZW50KGssIHZhbHMwKSkge1xuICAgICAgICAgICAgc2V0dGluZ3Muc2V0KCdzbmFwVG9MaW5lcycsIGZhbHNlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZXR0aW5ncy5hbHQoaywgdmFsczAsIFsnYXV0byddKTtcbiAgICAgICAgICBpZiAodmFscy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLmFsdCgnbGluZUFsaWduJywgdmFsc1sxXSwgWydzdGFydCcsIGNlbnRlciwgJ2VuZCddKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncG9zaXRpb24nOlxuICAgICAgICAgIHZhbHMgPSB2LnNwbGl0KCcsJyk7XG4gICAgICAgICAgc2V0dGluZ3MucGVyY2VudChrLCB2YWxzWzBdKTtcbiAgICAgICAgICBpZiAodmFscy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLmFsdCgncG9zaXRpb25BbGlnbicsIHZhbHNbMV0sIFsnc3RhcnQnLCBjZW50ZXIsICdlbmQnLCAnbGluZS1sZWZ0JywgJ2xpbmUtcmlnaHQnLCAnYXV0byddKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2l6ZSc6XG4gICAgICAgICAgc2V0dGluZ3MucGVyY2VudChrLCB2KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYWxpZ24nOlxuICAgICAgICAgIHNldHRpbmdzLmFsdChrLCB2LCBbJ3N0YXJ0JywgY2VudGVyLCAnZW5kJywgJ2xlZnQnLCAncmlnaHQnXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSwgLzovLCAvXFxzLyk7XG5cbiAgICAvLyBBcHBseSBkZWZhdWx0IHZhbHVlcyBmb3IgYW55IG1pc3NpbmcgZmllbGRzLlxuICAgIGN1ZS5yZWdpb24gPSBzZXR0aW5ncy5nZXQoJ3JlZ2lvbicsIG51bGwpO1xuICAgIGN1ZS52ZXJ0aWNhbCA9IHNldHRpbmdzLmdldCgndmVydGljYWwnLCAnJyk7XG4gICAgdmFyIGxpbmUgPSBzZXR0aW5ncy5nZXQoJ2xpbmUnLCAnYXV0bycpO1xuICAgIGlmIChsaW5lID09PSAnYXV0bycgJiYgZGVmYXVsdHMubGluZSA9PT0gLTEpIHtcbiAgICAgIC8vIHNldCBudW1lcmljIGxpbmUgbnVtYmVyIGZvciBTYWZhcmlcbiAgICAgIGxpbmUgPSAtMTtcbiAgICB9XG4gICAgY3VlLmxpbmUgPSBsaW5lO1xuICAgIGN1ZS5saW5lQWxpZ24gPSBzZXR0aW5ncy5nZXQoJ2xpbmVBbGlnbicsICdzdGFydCcpO1xuICAgIGN1ZS5zbmFwVG9MaW5lcyA9IHNldHRpbmdzLmdldCgnc25hcFRvTGluZXMnLCB0cnVlKTtcbiAgICBjdWUuc2l6ZSA9IHNldHRpbmdzLmdldCgnc2l6ZScsIDEwMCk7XG4gICAgY3VlLmFsaWduID0gc2V0dGluZ3MuZ2V0KCdhbGlnbicsIGNlbnRlcik7XG4gICAgdmFyIHBvc2l0aW9uID0gc2V0dGluZ3MuZ2V0KCdwb3NpdGlvbicsICdhdXRvJyk7XG4gICAgaWYgKHBvc2l0aW9uID09PSAnYXV0bycgJiYgZGVmYXVsdHMucG9zaXRpb24gPT09IDUwKSB7XG4gICAgICAvLyBzZXQgbnVtZXJpYyBwb3NpdGlvbiBmb3IgU2FmYXJpXG4gICAgICBwb3NpdGlvbiA9IGN1ZS5hbGlnbiA9PT0gJ3N0YXJ0JyB8fCBjdWUuYWxpZ24gPT09ICdsZWZ0JyA/IDAgOiBjdWUuYWxpZ24gPT09ICdlbmQnIHx8IGN1ZS5hbGlnbiA9PT0gJ3JpZ2h0JyA/IDEwMCA6IDUwO1xuICAgIH1cbiAgICBjdWUucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNraXBXaGl0ZXNwYWNlKCkge1xuICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvXlxccysvLCAnJyk7XG4gIH1cblxuICAvLyA0LjEgV2ViVlRUIGN1ZSB0aW1pbmdzLlxuICBza2lwV2hpdGVzcGFjZSgpO1xuICBjdWUuc3RhcnRUaW1lID0gY29uc3VtZVRpbWVTdGFtcCgpOyAvLyAoMSkgY29sbGVjdCBjdWUgc3RhcnQgdGltZVxuICBza2lwV2hpdGVzcGFjZSgpO1xuICBpZiAoaW5wdXQuc3Vic3RyKDAsIDMpICE9PSAnLS0+Jykge1xuICAgIC8vICgzKSBuZXh0IGNoYXJhY3RlcnMgbXVzdCBtYXRjaCAnLS0+J1xuICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIHRpbWUgc3RhbXAgKHRpbWUgc3RhbXBzIG11c3QgYmUgc2VwYXJhdGVkIGJ5IFxcJy0tPlxcJyk6ICcgKyBvSW5wdXQpO1xuICB9XG4gIGlucHV0ID0gaW5wdXQuc3Vic3RyKDMpO1xuICBza2lwV2hpdGVzcGFjZSgpO1xuICBjdWUuZW5kVGltZSA9IGNvbnN1bWVUaW1lU3RhbXAoKTsgLy8gKDUpIGNvbGxlY3QgY3VlIGVuZCB0aW1lXG5cbiAgLy8gNC4xIFdlYlZUVCBjdWUgc2V0dGluZ3MgbGlzdC5cbiAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgY29uc3VtZUN1ZVNldHRpbmdzKGlucHV0LCBjdWUpO1xufVxuXG5mdW5jdGlvbiBmaXhMaW5lQnJlYWtzKGlucHV0KSB7XG4gIHJldHVybiBpbnB1dC5yZXBsYWNlKC88YnIoPzogXFwvKT8+L2dpLCAnXFxuJyk7XG59XG5cblZUVFBhcnNlci5wcm90b3R5cGUgPSB7XG4gIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShkYXRhKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gZGF0YSB0aGVuIHdlIHdvbid0IGRlY29kZSBpdCwgYnV0IHdpbGwganVzdCB0cnkgdG8gcGFyc2VcbiAgICAvLyB3aGF0ZXZlciBpcyBpbiBidWZmZXIgYWxyZWFkeS4gVGhpcyBtYXkgb2NjdXIgaW4gY2lyY3Vtc3RhbmNlcywgZm9yXG4gICAgLy8gZXhhbXBsZSB3aGVuIGZsdXNoKCkgaXMgY2FsbGVkLlxuICAgIGlmIChkYXRhKSB7XG4gICAgICAvLyBUcnkgdG8gZGVjb2RlIHRoZSBkYXRhIHRoYXQgd2UgcmVjZWl2ZWQuXG4gICAgICBzZWxmLmJ1ZmZlciArPSBzZWxmLmRlY29kZXIuZGVjb2RlKGRhdGEsIHsgc3RyZWFtOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbGxlY3ROZXh0TGluZSgpIHtcbiAgICAgIHZhciBidWZmZXIgPSBzZWxmLmJ1ZmZlcjtcbiAgICAgIHZhciBwb3MgPSAwO1xuXG4gICAgICBidWZmZXIgPSBmaXhMaW5lQnJlYWtzKGJ1ZmZlcik7XG5cbiAgICAgIHdoaWxlIChwb3MgPCBidWZmZXIubGVuZ3RoICYmIGJ1ZmZlcltwb3NdICE9PSAnXFxyJyAmJiBidWZmZXJbcG9zXSAhPT0gJ1xcbicpIHtcbiAgICAgICAgKytwb3M7XG4gICAgICB9XG5cbiAgICAgIHZhciBsaW5lID0gYnVmZmVyLnN1YnN0cigwLCBwb3MpO1xuICAgICAgLy8gQWR2YW5jZSB0aGUgYnVmZmVyIGVhcmx5IGluIGNhc2Ugd2UgZmFpbCBiZWxvdy5cbiAgICAgIGlmIChidWZmZXJbcG9zXSA9PT0gJ1xccicpIHtcbiAgICAgICAgKytwb3M7XG4gICAgICB9XG5cbiAgICAgIGlmIChidWZmZXJbcG9zXSA9PT0gJ1xcbicpIHtcbiAgICAgICAgKytwb3M7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuYnVmZmVyID0gYnVmZmVyLnN1YnN0cihwb3MpO1xuICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfVxuXG4gICAgLy8gMy4yIFdlYlZUVCBtZXRhZGF0YSBoZWFkZXIgc3ludGF4XG4gICAgZnVuY3Rpb24gcGFyc2VIZWFkZXIoaW5wdXQpIHtcbiAgICAgIHBhcnNlT3B0aW9ucyhpbnB1dCwgZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgc3dpdGNoIChrKSB7XG4gICAgICAgICAgY2FzZSAnUmVnaW9uJzpcbiAgICAgICAgICAgIC8vIDMuMyBXZWJWVFQgcmVnaW9uIG1ldGFkYXRhIGhlYWRlciBzeW50YXhcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwYXJzZSByZWdpb24nLCB2KTtcbiAgICAgICAgICAgIC8vIHBhcnNlUmVnaW9uKHYpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0sIC86Lyk7XG4gICAgfVxuXG4gICAgLy8gNS4xIFdlYlZUVCBmaWxlIHBhcnNpbmcuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBsaW5lID0gdm9pZCAwO1xuICAgICAgaWYgKHNlbGYuc3RhdGUgPT09ICdJTklUSUFMJykge1xuICAgICAgICAvLyBXZSBjYW4ndCBzdGFydCBwYXJzaW5nIHVudGlsIHdlIGhhdmUgdGhlIGZpcnN0IGxpbmUuXG4gICAgICAgIGlmICghL1xcclxcbnxcXG4vLnRlc3Qoc2VsZi5idWZmZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBsaW5lID0gY29sbGVjdE5leHRMaW5lKCk7XG4gICAgICAgIC8vIHN0cmlwIG9mIFVURi04IEJPTSBpZiBhbnlcbiAgICAgICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnl0ZV9vcmRlcl9tYXJrI1VURi04XG4gICAgICAgIHZhciBtID0gbGluZS5tYXRjaCgvXijDr8K7wr8pP1dFQlZUVChbIFxcdF0uKik/JC8pO1xuICAgICAgICBpZiAoIW0gfHwgIW1bMF0pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCBXZWJWVFQgc2lnbmF0dXJlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5zdGF0ZSA9ICdIRUFERVInO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWxyZWFkeUNvbGxlY3RlZExpbmUgPSBmYWxzZTtcbiAgICAgIHdoaWxlIChzZWxmLmJ1ZmZlcikge1xuICAgICAgICAvLyBXZSBjYW4ndCBwYXJzZSBhIGxpbmUgdW50aWwgd2UgaGF2ZSB0aGUgZnVsbCBsaW5lLlxuICAgICAgICBpZiAoIS9cXHJcXG58XFxuLy50ZXN0KHNlbGYuYnVmZmVyKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhbHJlYWR5Q29sbGVjdGVkTGluZSkge1xuICAgICAgICAgIGxpbmUgPSBjb2xsZWN0TmV4dExpbmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbHJlYWR5Q29sbGVjdGVkTGluZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChzZWxmLnN0YXRlKSB7XG4gICAgICAgICAgY2FzZSAnSEVBREVSJzpcbiAgICAgICAgICAgIC8vIDEzLTE4IC0gQWxsb3cgYSBoZWFkZXIgKG1ldGFkYXRhKSB1bmRlciB0aGUgV0VCVlRUIGxpbmUuXG4gICAgICAgICAgICBpZiAoLzovLnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgICAgcGFyc2VIZWFkZXIobGluZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgIC8vIEFuIGVtcHR5IGxpbmUgdGVybWluYXRlcyB0aGUgaGVhZGVyIGFuZCBzdGFydHMgdGhlIGJvZHkgKGN1ZXMpLlxuICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gJ0lEJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgJ05PVEUnOlxuICAgICAgICAgICAgLy8gSWdub3JlIE5PVEUgYmxvY2tzLlxuICAgICAgICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnSUQnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjYXNlICdJRCc6XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgdGhlIHN0YXJ0IG9mIE5PVEUgYmxvY2tzLlxuICAgICAgICAgICAgaWYgKC9eTk9URSgkfFsgXFx0XSkvLnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdOT1RFJztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAxOS0yOSAtIEFsbG93IGFueSBudW1iZXIgb2YgbGluZSB0ZXJtaW5hdG9ycywgdGhlbiBpbml0aWFsaXplIG5ldyBjdWUgdmFsdWVzLlxuICAgICAgICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLmN1ZSA9IG5ldyB2dHRjdWUoMCwgMCwgJycpO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdDVUUnO1xuICAgICAgICAgICAgLy8gMzAtMzkgLSBDaGVjayBpZiBzZWxmIGxpbmUgY29udGFpbnMgYW4gb3B0aW9uYWwgaWRlbnRpZmllciBvciB0aW1pbmcgZGF0YS5cbiAgICAgICAgICAgIGlmIChsaW5lLmluZGV4T2YoJy0tPicpID09PSAtMSkge1xuICAgICAgICAgICAgICBzZWxmLmN1ZS5pZCA9IGxpbmU7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIC8vIFByb2Nlc3MgbGluZSBhcyBzdGFydCBvZiBhIGN1ZS5cbiAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgY2FzZSAnQ1VFJzpcbiAgICAgICAgICAgIC8vIDQwIC0gQ29sbGVjdCBjdWUgdGltaW5ncyBhbmQgc2V0dGluZ3MuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBwYXJzZUN1ZShsaW5lLCBzZWxmLmN1ZSwgc2VsZi5yZWdpb25MaXN0KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgLy8gSW4gY2FzZSBvZiBhbiBlcnJvciBpZ25vcmUgcmVzdCBvZiB0aGUgY3VlLlxuICAgICAgICAgICAgICBzZWxmLmN1ZSA9IG51bGw7XG4gICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnQkFEQ1VFJztcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLnN0YXRlID0gJ0NVRVRFWFQnO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSAnQ1VFVEVYVCc6XG4gICAgICAgICAgICB2YXIgaGFzU3Vic3RyaW5nID0gbGluZS5pbmRleE9mKCctLT4nKSAhPT0gLTE7XG4gICAgICAgICAgICAvLyAzNCAtIElmIHdlIGhhdmUgYW4gZW1wdHkgbGluZSB0aGVuIHJlcG9ydCB0aGUgY3VlLlxuICAgICAgICAgICAgLy8gMzUgLSBJZiB3ZSBoYXZlIHRoZSBzcGVjaWFsIHN1YnN0cmluZyAnLS0+JyB0aGVuIHJlcG9ydCB0aGUgY3VlLFxuICAgICAgICAgICAgLy8gYnV0IGRvIG5vdCBjb2xsZWN0IHRoZSBsaW5lIGFzIHdlIG5lZWQgdG8gcHJvY2VzcyB0aGUgY3VycmVudFxuICAgICAgICAgICAgLy8gb25lIGFzIGEgbmV3IGN1ZS5cbiAgICAgICAgICAgIGlmICghbGluZSB8fCBoYXNTdWJzdHJpbmcgJiYgKGFscmVhZHlDb2xsZWN0ZWRMaW5lID0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgLy8gV2UgYXJlIGRvbmUgcGFyc2luZyBzZWxmIGN1ZS5cbiAgICAgICAgICAgICAgaWYgKHNlbGYub25jdWUpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm9uY3VlKHNlbGYuY3VlKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNlbGYuY3VlID0gbnVsbDtcbiAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdJRCc7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGYuY3VlLnRleHQpIHtcbiAgICAgICAgICAgICAgc2VsZi5jdWUudGV4dCArPSAnXFxuJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5jdWUudGV4dCArPSBsaW5lO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSAnQkFEQ1VFJzpcbiAgICAgICAgICAgIC8vIEJBRENVRVxuICAgICAgICAgICAgLy8gNTQtNjIgLSBDb2xsZWN0IGFuZCBkaXNjYXJkIHRoZSByZW1haW5pbmcgY3VlLlxuICAgICAgICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnSUQnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElmIHdlIGFyZSBjdXJyZW50bHkgcGFyc2luZyBhIGN1ZSwgcmVwb3J0IHdoYXQgd2UgaGF2ZS5cbiAgICAgIGlmIChzZWxmLnN0YXRlID09PSAnQ1VFVEVYVCcgJiYgc2VsZi5jdWUgJiYgc2VsZi5vbmN1ZSkge1xuICAgICAgICBzZWxmLm9uY3VlKHNlbGYuY3VlKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5jdWUgPSBudWxsO1xuICAgICAgLy8gRW50ZXIgQkFEV0VCVlRUIHN0YXRlIGlmIGhlYWRlciB3YXMgbm90IHBhcnNlZCBjb3JyZWN0bHkgb3RoZXJ3aXNlXG4gICAgICAvLyBhbm90aGVyIGV4Y2VwdGlvbiBvY2N1cnJlZCBzbyBlbnRlciBCQURDVUUgc3RhdGUuXG4gICAgICBzZWxmLnN0YXRlID0gc2VsZi5zdGF0ZSA9PT0gJ0lOSVRJQUwnID8gJ0JBRFdFQlZUVCcgOiAnQkFEQ1VFJztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGZsdXNoOiBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEZpbmlzaCBkZWNvZGluZyB0aGUgc3RyZWFtLlxuICAgICAgc2VsZi5idWZmZXIgKz0gc2VsZi5kZWNvZGVyLmRlY29kZSgpO1xuICAgICAgLy8gU3ludGhlc2l6ZSB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGN1ZSBvciByZWdpb24uXG4gICAgICBpZiAoc2VsZi5jdWUgfHwgc2VsZi5zdGF0ZSA9PT0gJ0hFQURFUicpIHtcbiAgICAgICAgc2VsZi5idWZmZXIgKz0gJ1xcblxcbic7XG4gICAgICAgIHNlbGYucGFyc2UoKTtcbiAgICAgIH1cbiAgICAgIC8vIElmIHdlJ3ZlIGZsdXNoZWQsIHBhcnNlZCwgYW5kIHdlJ3JlIHN0aWxsIG9uIHRoZSBJTklUSUFMIHN0YXRlIHRoZW5cbiAgICAgIC8vIHRoYXQgbWVhbnMgd2UgZG9uJ3QgaGF2ZSBlbm91Z2ggb2YgdGhlIHN0cmVhbSB0byBwYXJzZSB0aGUgZmlyc3RcbiAgICAgIC8vIGxpbmUuXG4gICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gJ0lOSVRJQUwnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIFdlYlZUVCBzaWduYXR1cmUuJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgaWYgKHNlbGYub25mbHVzaCkge1xuICAgICAgc2VsZi5vbmZsdXNoKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB2dHRwYXJzZXIgPSAoVlRUUGFyc2VyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3V0aWxzL2N1ZXMuanNcblxuXG5mdW5jdGlvbiBuZXdDdWUodHJhY2ssIHN0YXJ0VGltZSwgZW5kVGltZSwgY2FwdGlvblNjcmVlbikge1xuICB2YXIgcm93ID0gdm9pZCAwO1xuICB2YXIgY3VlID0gdm9pZCAwO1xuICB2YXIgaW5kZW50aW5nID0gdm9pZCAwO1xuICB2YXIgaW5kZW50ID0gdm9pZCAwO1xuICB2YXIgdGV4dCA9IHZvaWQgMDtcbiAgdmFyIFZUVEN1ZSA9IHdpbmRvdy5WVFRDdWUgfHwgd2luZG93LlRleHRUcmFja0N1ZTtcblxuICBmb3IgKHZhciByID0gMDsgciA8IGNhcHRpb25TY3JlZW4ucm93cy5sZW5ndGg7IHIrKykge1xuICAgIHJvdyA9IGNhcHRpb25TY3JlZW4ucm93c1tyXTtcbiAgICBpbmRlbnRpbmcgPSB0cnVlO1xuICAgIGluZGVudCA9IDA7XG4gICAgdGV4dCA9ICcnO1xuXG4gICAgaWYgKCFyb3cuaXNFbXB0eSgpKSB7XG4gICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHJvdy5jaGFycy5sZW5ndGg7IGMrKykge1xuICAgICAgICBpZiAocm93LmNoYXJzW2NdLnVjaGFyLm1hdGNoKC9cXHMvKSAmJiBpbmRlbnRpbmcpIHtcbiAgICAgICAgICBpbmRlbnQrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXh0ICs9IHJvdy5jaGFyc1tjXS51Y2hhcjtcbiAgICAgICAgICBpbmRlbnRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gVG8gYmUgdXNlZCBmb3IgY2xlYW5pbmctdXAgb3JwaGFuZWQgcm9sbC11cCBjYXB0aW9uc1xuICAgICAgcm93LmN1ZVN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcblxuICAgICAgLy8gR2l2ZSBhIHNsaWdodCBidW1wIHRvIHRoZSBlbmRUaW1lIGlmIGl0J3MgZXF1YWwgdG8gc3RhcnRUaW1lIHRvIGF2b2lkIGEgU3ludGF4RXJyb3IgaW4gSUVcbiAgICAgIGlmIChzdGFydFRpbWUgPT09IGVuZFRpbWUpIHtcbiAgICAgICAgZW5kVGltZSArPSAwLjAwMDE7XG4gICAgICB9XG5cbiAgICAgIGN1ZSA9IG5ldyBWVFRDdWUoc3RhcnRUaW1lLCBlbmRUaW1lLCBmaXhMaW5lQnJlYWtzKHRleHQudHJpbSgpKSk7XG5cbiAgICAgIGlmIChpbmRlbnQgPj0gMTYpIHtcbiAgICAgICAgaW5kZW50LS07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmRlbnQrKztcbiAgICAgIH1cblxuICAgICAgLy8gVlRUQ3VlLmxpbmUgZ2V0J3MgZmxha2V5IHdoZW4gdXNpbmcgY29udHJvbHMsIHNvIGxldCdzIG5vdyBpbmNsdWRlIGxpbmUgMTMmMTRcbiAgICAgIC8vIGFsc28sIGRyb3AgbGluZSAxIHNpbmNlIGl0J3MgdG8gY2xvc2UgdG8gdGhlIHRvcFxuICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZpcmVmb3hcXC8vKSkge1xuICAgICAgICBjdWUubGluZSA9IHIgKyAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VlLmxpbmUgPSByID4gNyA/IHIgLSAyIDogciArIDE7XG4gICAgICB9XG5cbiAgICAgIGN1ZS5hbGlnbiA9ICdsZWZ0JztcbiAgICAgIC8vIENsYW1wIHRoZSBwb3NpdGlvbiBiZXR3ZWVuIDAgYW5kIDEwMCAtIGlmIG91dCBvZiB0aGVzZSBib3VuZHMsIEZpcmVmb3ggdGhyb3dzIGFuIGV4Y2VwdGlvbiBhbmQgY2FwdGlvbnMgYnJlYWtcbiAgICAgIGN1ZS5wb3NpdGlvbiA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgMTAwICogKGluZGVudCAvIDMyKSArIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFwvLykgPyA1MCA6IDApKSk7XG4gICAgICB0cmFjay5hZGRDdWUoY3VlKTtcbiAgICB9XG4gIH1cbn1cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3V0aWxzL2NlYS02MDgtcGFyc2VyLmpzXG5mdW5jdGlvbiBjZWFfNjA4X3BhcnNlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqXG4gKiBUaGlzIGNvZGUgd2FzIHBvcnRlZCBmcm9tIHRoZSBkYXNoLmpzIHByb2plY3QgYXQ6XG4gKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9EYXNoLUluZHVzdHJ5LUZvcnVtL2Rhc2guanMvYmxvYi9kZXZlbG9wbWVudC9leHRlcm5hbHMvY2VhNjA4LXBhcnNlci5qc1xuICogICBodHRwczovL2dpdGh1Yi5jb20vRGFzaC1JbmR1c3RyeS1Gb3J1bS9kYXNoLmpzL2NvbW1pdC84MjY5YjI2YTc2MWUwODUzYmIyMWQ3ODc4MGVkOTQ1MTQ0ZWNkZDRkI2RpZmYtNzFiYzI5NWEyZDZiNmI3MDkzYTFkMzI5MGQ1M2E0YjJcbiAqXG4gKiBUaGUgb3JpZ2luYWwgY29weXJpZ2h0IGFwcGVhcnMgYmVsb3c6XG4gKlxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxuICogcmlnaHRzLCBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtMjAxNiwgREFTSCBJbmR1c3RyeSBGb3J1bS5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqICAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKiAgMi4gTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxuICogIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcbiAqICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXG4gKiAgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVFxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcbiAqICBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuLyoqXG4gICAgICogIEV4Y2VwdGlvbnMgZnJvbSByZWd1bGFyIEFTQ0lJLiBDb2RlUG9pbnRzIGFyZSBtYXBwZWQgdG8gVVRGLTE2IGNvZGVzXG4gICAgICovXG5cbnZhciBzcGVjaWFsQ2VhNjA4Q2hhcnNDb2RlcyA9IHtcbiAgMHgyYTogMHhlMSwgLy8gbG93ZXJjYXNlIGEsIGFjdXRlIGFjY2VudFxuICAweDVjOiAweGU5LCAvLyBsb3dlcmNhc2UgZSwgYWN1dGUgYWNjZW50XG4gIDB4NWU6IDB4ZWQsIC8vIGxvd2VyY2FzZSBpLCBhY3V0ZSBhY2NlbnRcbiAgMHg1ZjogMHhmMywgLy8gbG93ZXJjYXNlIG8sIGFjdXRlIGFjY2VudFxuICAweDYwOiAweGZhLCAvLyBsb3dlcmNhc2UgdSwgYWN1dGUgYWNjZW50XG4gIDB4N2I6IDB4ZTcsIC8vIGxvd2VyY2FzZSBjIHdpdGggY2VkaWxsYVxuICAweDdjOiAweGY3LCAvLyBkaXZpc2lvbiBzeW1ib2xcbiAgMHg3ZDogMHhkMSwgLy8gdXBwZXJjYXNlIE4gdGlsZGVcbiAgMHg3ZTogMHhmMSwgLy8gbG93ZXJjYXNlIG4gdGlsZGVcbiAgMHg3ZjogMHgyNTg4LCAvLyBGdWxsIGJsb2NrXG4gIC8vIFRISVMgQkxPQ0sgSU5DTFVERVMgVEhFIDE2IEVYVEVOREVEIChUV08tQllURSkgTElORSAyMSBDSEFSQUNURVJTXG4gIC8vIFRIQVQgQ09NRSBGUk9NIEhJIEJZVEU9MHgxMSBBTkQgTE9XIEJFVFdFRU4gMHgzMCBBTkQgMHgzRlxuICAvLyBUSElTIE1FQU5TIFRIQVQgXFx4NTAgTVVTVCBCRSBBRERFRCBUTyBUSEUgVkFMVUVTXG4gIDB4ODA6IDB4YWUsIC8vIFJlZ2lzdGVyZWQgc3ltYm9sIChSKVxuICAweDgxOiAweGIwLCAvLyBkZWdyZWUgc2lnblxuICAweDgyOiAweGJkLCAvLyAxLzIgc3ltYm9sXG4gIDB4ODM6IDB4YmYsIC8vIEludmVydGVkIChvcGVuKSBxdWVzdGlvbiBtYXJrXG4gIDB4ODQ6IDB4MjEyMiwgLy8gVHJhZGVtYXJrIHN5bWJvbCAoVE0pXG4gIDB4ODU6IDB4YTIsIC8vIENlbnRzIHN5bWJvbFxuICAweDg2OiAweGEzLCAvLyBQb3VuZHMgc3RlcmxpbmdcbiAgMHg4NzogMHgyNjZhLCAvLyBNdXNpYyA4J3RoIG5vdGVcbiAgMHg4ODogMHhlMCwgLy8gbG93ZXJjYXNlIGEsIGdyYXZlIGFjY2VudFxuICAweDg5OiAweDIwLCAvLyB0cmFuc3BhcmVudCBzcGFjZSAocmVndWxhcilcbiAgMHg4YTogMHhlOCwgLy8gbG93ZXJjYXNlIGUsIGdyYXZlIGFjY2VudFxuICAweDhiOiAweGUyLCAvLyBsb3dlcmNhc2UgYSwgY2lyY3VtZmxleCBhY2NlbnRcbiAgMHg4YzogMHhlYSwgLy8gbG93ZXJjYXNlIGUsIGNpcmN1bWZsZXggYWNjZW50XG4gIDB4OGQ6IDB4ZWUsIC8vIGxvd2VyY2FzZSBpLCBjaXJjdW1mbGV4IGFjY2VudFxuICAweDhlOiAweGY0LCAvLyBsb3dlcmNhc2UgbywgY2lyY3VtZmxleCBhY2NlbnRcbiAgMHg4ZjogMHhmYiwgLy8gbG93ZXJjYXNlIHUsIGNpcmN1bWZsZXggYWNjZW50XG4gIC8vIFRISVMgQkxPQ0sgSU5DTFVERVMgVEhFIDMyIEVYVEVOREVEIChUV08tQllURSkgTElORSAyMSBDSEFSQUNURVJTXG4gIC8vIFRIQVQgQ09NRSBGUk9NIEhJIEJZVEU9MHgxMiBBTkQgTE9XIEJFVFdFRU4gMHgyMCBBTkQgMHgzRlxuICAweDkwOiAweGMxLCAvLyBjYXBpdGFsIGxldHRlciBBIHdpdGggYWN1dGVcbiAgMHg5MTogMHhjOSwgLy8gY2FwaXRhbCBsZXR0ZXIgRSB3aXRoIGFjdXRlXG4gIDB4OTI6IDB4ZDMsIC8vIGNhcGl0YWwgbGV0dGVyIE8gd2l0aCBhY3V0ZVxuICAweDkzOiAweGRhLCAvLyBjYXBpdGFsIGxldHRlciBVIHdpdGggYWN1dGVcbiAgMHg5NDogMHhkYywgLy8gY2FwaXRhbCBsZXR0ZXIgVSB3aXRoIGRpYXJlc2lzXG4gIDB4OTU6IDB4ZmMsIC8vIGxvd2VyY2FzZSBsZXR0ZXIgVSB3aXRoIGRpYWVyZXNpc1xuICAweDk2OiAweDIwMTgsIC8vIG9wZW5pbmcgc2luZ2xlIHF1b3RlXG4gIDB4OTc6IDB4YTEsIC8vIGludmVydGVkIGV4Y2xhbWF0aW9uIG1hcmtcbiAgMHg5ODogMHgyYSwgLy8gYXN0ZXJpc2tcbiAgMHg5OTogMHgyMDE5LCAvLyBjbG9zaW5nIHNpbmdsZSBxdW90ZVxuICAweDlhOiAweDI1MDEsIC8vIGJveCBkcmF3aW5ncyBoZWF2eSBob3Jpem9udGFsXG4gIDB4OWI6IDB4YTksIC8vIGNvcHlyaWdodCBzaWduXG4gIDB4OWM6IDB4MjEyMCwgLy8gU2VydmljZSBtYXJrXG4gIDB4OWQ6IDB4MjAyMiwgLy8gKHJvdW5kKSBidWxsZXRcbiAgMHg5ZTogMHgyMDFjLCAvLyBMZWZ0IGRvdWJsZSBxdW90YXRpb24gbWFya1xuICAweDlmOiAweDIwMWQsIC8vIFJpZ2h0IGRvdWJsZSBxdW90YXRpb24gbWFya1xuICAweGEwOiAweGMwLCAvLyB1cHBlcmNhc2UgQSwgZ3JhdmUgYWNjZW50XG4gIDB4YTE6IDB4YzIsIC8vIHVwcGVyY2FzZSBBLCBjaXJjdW1mbGV4XG4gIDB4YTI6IDB4YzcsIC8vIHVwcGVyY2FzZSBDIHdpdGggY2VkaWxsYVxuICAweGEzOiAweGM4LCAvLyB1cHBlcmNhc2UgRSwgZ3JhdmUgYWNjZW50XG4gIDB4YTQ6IDB4Y2EsIC8vIHVwcGVyY2FzZSBFLCBjaXJjdW1mbGV4XG4gIDB4YTU6IDB4Y2IsIC8vIGNhcGl0YWwgbGV0dGVyIEUgd2l0aCBkaWFyZXNpc1xuICAweGE2OiAweGViLCAvLyBsb3dlcmNhc2UgbGV0dGVyIGUgd2l0aCBkaWFyZXNpc1xuICAweGE3OiAweGNlLCAvLyB1cHBlcmNhc2UgSSwgY2lyY3VtZmxleFxuICAweGE4OiAweGNmLCAvLyB1cHBlcmNhc2UgSSwgd2l0aCBkaWFyZXNpc1xuICAweGE5OiAweGVmLCAvLyBsb3dlcmNhc2UgaSwgd2l0aCBkaWFyZXNpc1xuICAweGFhOiAweGQ0LCAvLyB1cHBlcmNhc2UgTywgY2lyY3VtZmxleFxuICAweGFiOiAweGQ5LCAvLyB1cHBlcmNhc2UgVSwgZ3JhdmUgYWNjZW50XG4gIDB4YWM6IDB4ZjksIC8vIGxvd2VyY2FzZSB1LCBncmF2ZSBhY2NlbnRcbiAgMHhhZDogMHhkYiwgLy8gdXBwZXJjYXNlIFUsIGNpcmN1bWZsZXhcbiAgMHhhZTogMHhhYiwgLy8gbGVmdC1wb2ludGluZyBkb3VibGUgYW5nbGUgcXVvdGF0aW9uIG1hcmtcbiAgMHhhZjogMHhiYiwgLy8gcmlnaHQtcG9pbnRpbmcgZG91YmxlIGFuZ2xlIHF1b3RhdGlvbiBtYXJrXG4gIC8vIFRISVMgQkxPQ0sgSU5DTFVERVMgVEhFIDMyIEVYVEVOREVEIChUV08tQllURSkgTElORSAyMSBDSEFSQUNURVJTXG4gIC8vIFRIQVQgQ09NRSBGUk9NIEhJIEJZVEU9MHgxMyBBTkQgTE9XIEJFVFdFRU4gMHgyMCBBTkQgMHgzRlxuICAweGIwOiAweGMzLCAvLyBVcHBlcmNhc2UgQSwgdGlsZGVcbiAgMHhiMTogMHhlMywgLy8gTG93ZXJjYXNlIGEsIHRpbGRlXG4gIDB4YjI6IDB4Y2QsIC8vIFVwcGVyY2FzZSBJLCBhY3V0ZSBhY2NlbnRcbiAgMHhiMzogMHhjYywgLy8gVXBwZXJjYXNlIEksIGdyYXZlIGFjY2VudFxuICAweGI0OiAweGVjLCAvLyBMb3dlcmNhc2UgaSwgZ3JhdmUgYWNjZW50XG4gIDB4YjU6IDB4ZDIsIC8vIFVwcGVyY2FzZSBPLCBncmF2ZSBhY2NlbnRcbiAgMHhiNjogMHhmMiwgLy8gTG93ZXJjYXNlIG8sIGdyYXZlIGFjY2VudFxuICAweGI3OiAweGQ1LCAvLyBVcHBlcmNhc2UgTywgdGlsZGVcbiAgMHhiODogMHhmNSwgLy8gTG93ZXJjYXNlIG8sIHRpbGRlXG4gIDB4Yjk6IDB4N2IsIC8vIE9wZW4gY3VybHkgYnJhY2VcbiAgMHhiYTogMHg3ZCwgLy8gQ2xvc2luZyBjdXJseSBicmFjZVxuICAweGJiOiAweDVjLCAvLyBCYWNrc2xhc2hcbiAgMHhiYzogMHg1ZSwgLy8gQ2FyZXRcbiAgMHhiZDogMHg1ZiwgLy8gVW5kZXJzY29yZVxuICAweGJlOiAweDdjLCAvLyBQaXBlICh2ZXJ0aWNhbCBsaW5lKVxuICAweGJmOiAweDIyM2MsIC8vIFRpbGRlIG9wZXJhdG9yXG4gIDB4YzA6IDB4YzQsIC8vIFVwcGVyY2FzZSBBLCB1bWxhdXRcbiAgMHhjMTogMHhlNCwgLy8gTG93ZXJjYXNlIEEsIHVtbGF1dFxuICAweGMyOiAweGQ2LCAvLyBVcHBlcmNhc2UgTywgdW1sYXV0XG4gIDB4YzM6IDB4ZjYsIC8vIExvd2VyY2FzZSBvLCB1bWxhdXRcbiAgMHhjNDogMHhkZiwgLy8gRXNzemV0dCAoc2hhcnAgUylcbiAgMHhjNTogMHhhNSwgLy8gWWVuIHN5bWJvbFxuICAweGM2OiAweGE0LCAvLyBHZW5lcmljIGN1cnJlbmN5IHNpZ25cbiAgMHhjNzogMHgyNTAzLCAvLyBCb3ggZHJhd2luZ3MgaGVhdnkgdmVydGljYWxcbiAgMHhjODogMHhjNSwgLy8gVXBwZXJjYXNlIEEsIHJpbmdcbiAgMHhjOTogMHhlNSwgLy8gTG93ZXJjYXNlIEEsIHJpbmdcbiAgMHhjYTogMHhkOCwgLy8gVXBwZXJjYXNlIE8sIHN0cm9rZVxuICAweGNiOiAweGY4LCAvLyBMb3dlcmNhc2Ugbywgc3Ryb2tcbiAgMHhjYzogMHgyNTBmLCAvLyBCb3ggZHJhd2luZ3MgaGVhdnkgZG93biBhbmQgcmlnaHRcbiAgMHhjZDogMHgyNTEzLCAvLyBCb3ggZHJhd2luZ3MgaGVhdnkgZG93biBhbmQgbGVmdFxuICAweGNlOiAweDI1MTcsIC8vIEJveCBkcmF3aW5ncyBoZWF2eSB1cCBhbmQgcmlnaHRcbiAgMHhjZjogMHgyNTFiIC8vIEJveCBkcmF3aW5ncyBoZWF2eSB1cCBhbmQgbGVmdFxufTtcblxuLyoqXG4gKiBVdGlsc1xuICovXG52YXIgZ2V0Q2hhckZvckJ5dGUgPSBmdW5jdGlvbiBnZXRDaGFyRm9yQnl0ZShieXRlKSB7XG4gIHZhciBjaGFyQ29kZSA9IGJ5dGU7XG4gIGlmIChzcGVjaWFsQ2VhNjA4Q2hhcnNDb2Rlcy5oYXNPd25Qcm9wZXJ0eShieXRlKSkge1xuICAgIGNoYXJDb2RlID0gc3BlY2lhbENlYTYwOENoYXJzQ29kZXNbYnl0ZV07XG4gIH1cblxuICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSk7XG59O1xuXG52YXIgTlJfUk9XUyA9IDE1LFxuICAgIE5SX0NPTFMgPSAxMDA7XG4vLyBUYWJsZXMgdG8gbG9vayB1cCByb3cgZnJvbSBQQUMgZGF0YVxudmFyIHJvd3NMb3dDaDEgPSB7IDB4MTE6IDEsIDB4MTI6IDMsIDB4MTU6IDUsIDB4MTY6IDcsIDB4MTc6IDksIDB4MTA6IDExLCAweDEzOiAxMiwgMHgxNDogMTQgfTtcbnZhciByb3dzSGlnaENoMSA9IHsgMHgxMTogMiwgMHgxMjogNCwgMHgxNTogNiwgMHgxNjogOCwgMHgxNzogMTAsIDB4MTM6IDEzLCAweDE0OiAxNSB9O1xudmFyIHJvd3NMb3dDaDIgPSB7IDB4MTk6IDEsIDB4MUE6IDMsIDB4MUQ6IDUsIDB4MUU6IDcsIDB4MUY6IDksIDB4MTg6IDExLCAweDFCOiAxMiwgMHgxQzogMTQgfTtcbnZhciByb3dzSGlnaENoMiA9IHsgMHgxOTogMiwgMHgxQTogNCwgMHgxRDogNiwgMHgxRTogOCwgMHgxRjogMTAsIDB4MUI6IDEzLCAweDFDOiAxNSB9O1xuXG52YXIgYmFja2dyb3VuZENvbG9ycyA9IFsnd2hpdGUnLCAnZ3JlZW4nLCAnYmx1ZScsICdjeWFuJywgJ3JlZCcsICd5ZWxsb3cnLCAnbWFnZW50YScsICdibGFjaycsICd0cmFuc3BhcmVudCddO1xuXG4vKipcbiAqIFNpbXBsZSBsb2dnZXIgY2xhc3MgdG8gYmUgYWJsZSB0byB3cml0ZSB3aXRoIHRpbWUtc3RhbXBzIGFuZCBmaWx0ZXIgb24gbGV2ZWwuXG4gKi9cbnZhciBjZWFfNjA4X3BhcnNlcl9sb2dnZXIgPSB7XG4gIHZlcmJvc2VGaWx0ZXI6IHsgJ0RBVEEnOiAzLCAnREVCVUcnOiAzLCAnSU5GTyc6IDIsICdXQVJOSU5HJzogMiwgJ1RFWFQnOiAxLCAnRVJST1InOiAwIH0sXG4gIHRpbWU6IG51bGwsXG4gIHZlcmJvc2VMZXZlbDogMCwgLy8gT25seSB3cml0ZSBlcnJvcnNcbiAgc2V0VGltZTogZnVuY3Rpb24gc2V0VGltZShuZXdUaW1lKSB7XG4gICAgdGhpcy50aW1lID0gbmV3VGltZTtcbiAgfSxcbiAgbG9nOiBmdW5jdGlvbiBsb2coc2V2ZXJpdHksIG1zZykge1xuICAgIHZhciBtaW5MZXZlbCA9IHRoaXMudmVyYm9zZUZpbHRlcltzZXZlcml0eV07XG4gICAgaWYgKHRoaXMudmVyYm9zZUxldmVsID49IG1pbkxldmVsKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRpbWUgKyAnIFsnICsgc2V2ZXJpdHkgKyAnXSAnICsgbXNnKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBudW1BcnJheVRvSGV4QXJyYXkgPSBmdW5jdGlvbiBudW1BcnJheVRvSGV4QXJyYXkobnVtQXJyYXkpIHtcbiAgdmFyIGhleEFycmF5ID0gW107XG4gIGZvciAodmFyIGogPSAwOyBqIDwgbnVtQXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICBoZXhBcnJheS5wdXNoKG51bUFycmF5W2pdLnRvU3RyaW5nKDE2KSk7XG4gIH1cblxuICByZXR1cm4gaGV4QXJyYXk7XG59O1xuXG52YXIgUGVuU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFBlblN0YXRlKGZvcmVncm91bmQsIHVuZGVybGluZSwgaXRhbGljcywgYmFja2dyb3VuZCwgZmxhc2gpIHtcbiAgICBjZWFfNjA4X3BhcnNlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgUGVuU3RhdGUpO1xuXG4gICAgdGhpcy5mb3JlZ3JvdW5kID0gZm9yZWdyb3VuZCB8fCAnd2hpdGUnO1xuICAgIHRoaXMudW5kZXJsaW5lID0gdW5kZXJsaW5lIHx8IGZhbHNlO1xuICAgIHRoaXMuaXRhbGljcyA9IGl0YWxpY3MgfHwgZmFsc2U7XG4gICAgdGhpcy5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZCB8fCAnYmxhY2snO1xuICAgIHRoaXMuZmxhc2ggPSBmbGFzaCB8fCBmYWxzZTtcbiAgfVxuXG4gIFBlblN0YXRlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHRoaXMuZm9yZWdyb3VuZCA9ICd3aGl0ZSc7XG4gICAgdGhpcy51bmRlcmxpbmUgPSBmYWxzZTtcbiAgICB0aGlzLml0YWxpY3MgPSBmYWxzZTtcbiAgICB0aGlzLmJhY2tncm91bmQgPSAnYmxhY2snO1xuICAgIHRoaXMuZmxhc2ggPSBmYWxzZTtcbiAgfTtcblxuICBQZW5TdGF0ZS5wcm90b3R5cGUuc2V0U3R5bGVzID0gZnVuY3Rpb24gc2V0U3R5bGVzKHN0eWxlcykge1xuICAgIHZhciBhdHRyaWJzID0gWydmb3JlZ3JvdW5kJywgJ3VuZGVybGluZScsICdpdGFsaWNzJywgJ2JhY2tncm91bmQnLCAnZmxhc2gnXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzdHlsZSA9IGF0dHJpYnNbaV07XG4gICAgICBpZiAoc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlKSkge1xuICAgICAgICB0aGlzW3N0eWxlXSA9IHN0eWxlc1tzdHlsZV07XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFBlblN0YXRlLnByb3RvdHlwZS5pc0RlZmF1bHQgPSBmdW5jdGlvbiBpc0RlZmF1bHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9yZWdyb3VuZCA9PT0gJ3doaXRlJyAmJiAhdGhpcy51bmRlcmxpbmUgJiYgIXRoaXMuaXRhbGljcyAmJiB0aGlzLmJhY2tncm91bmQgPT09ICdibGFjaycgJiYgIXRoaXMuZmxhc2g7XG4gIH07XG5cbiAgUGVuU3RhdGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xuICAgIHJldHVybiB0aGlzLmZvcmVncm91bmQgPT09IG90aGVyLmZvcmVncm91bmQgJiYgdGhpcy51bmRlcmxpbmUgPT09IG90aGVyLnVuZGVybGluZSAmJiB0aGlzLml0YWxpY3MgPT09IG90aGVyLml0YWxpY3MgJiYgdGhpcy5iYWNrZ3JvdW5kID09PSBvdGhlci5iYWNrZ3JvdW5kICYmIHRoaXMuZmxhc2ggPT09IG90aGVyLmZsYXNoO1xuICB9O1xuXG4gIFBlblN0YXRlLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShuZXdQZW5TdGF0ZSkge1xuICAgIHRoaXMuZm9yZWdyb3VuZCA9IG5ld1BlblN0YXRlLmZvcmVncm91bmQ7XG4gICAgdGhpcy51bmRlcmxpbmUgPSBuZXdQZW5TdGF0ZS51bmRlcmxpbmU7XG4gICAgdGhpcy5pdGFsaWNzID0gbmV3UGVuU3RhdGUuaXRhbGljcztcbiAgICB0aGlzLmJhY2tncm91bmQgPSBuZXdQZW5TdGF0ZS5iYWNrZ3JvdW5kO1xuICAgIHRoaXMuZmxhc2ggPSBuZXdQZW5TdGF0ZS5mbGFzaDtcbiAgfTtcblxuICBQZW5TdGF0ZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gJ2NvbG9yPScgKyB0aGlzLmZvcmVncm91bmQgKyAnLCB1bmRlcmxpbmU9JyArIHRoaXMudW5kZXJsaW5lICsgJywgaXRhbGljcz0nICsgdGhpcy5pdGFsaWNzICsgJywgYmFja2dyb3VuZD0nICsgdGhpcy5iYWNrZ3JvdW5kICsgJywgZmxhc2g9JyArIHRoaXMuZmxhc2g7XG4gIH07XG5cbiAgcmV0dXJuIFBlblN0YXRlO1xufSgpO1xuXG4vKipcbiAqIFVuaWNvZGUgY2hhcmFjdGVyIHdpdGggc3R5bGluZyBhbmQgYmFja2dyb3VuZC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5cblxudmFyIFN0eWxlZFVuaWNvZGVDaGFyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTdHlsZWRVbmljb2RlQ2hhcih1Y2hhciwgZm9yZWdyb3VuZCwgdW5kZXJsaW5lLCBpdGFsaWNzLCBiYWNrZ3JvdW5kLCBmbGFzaCkge1xuICAgIGNlYV82MDhfcGFyc2VyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBTdHlsZWRVbmljb2RlQ2hhcik7XG5cbiAgICB0aGlzLnVjaGFyID0gdWNoYXIgfHwgJyAnOyAvLyB1bmljb2RlIGNoYXJhY3RlclxuICAgIHRoaXMucGVuU3RhdGUgPSBuZXcgUGVuU3RhdGUoZm9yZWdyb3VuZCwgdW5kZXJsaW5lLCBpdGFsaWNzLCBiYWNrZ3JvdW5kLCBmbGFzaCk7XG4gIH1cblxuICBTdHlsZWRVbmljb2RlQ2hhci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICB0aGlzLnVjaGFyID0gJyAnO1xuICAgIHRoaXMucGVuU3RhdGUucmVzZXQoKTtcbiAgfTtcblxuICBTdHlsZWRVbmljb2RlQ2hhci5wcm90b3R5cGUuc2V0Q2hhciA9IGZ1bmN0aW9uIHNldENoYXIodWNoYXIsIG5ld1BlblN0YXRlKSB7XG4gICAgdGhpcy51Y2hhciA9IHVjaGFyO1xuICAgIHRoaXMucGVuU3RhdGUuY29weShuZXdQZW5TdGF0ZSk7XG4gIH07XG5cbiAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlLnNldFBlblN0YXRlID0gZnVuY3Rpb24gc2V0UGVuU3RhdGUobmV3UGVuU3RhdGUpIHtcbiAgICB0aGlzLnBlblN0YXRlLmNvcHkobmV3UGVuU3RhdGUpO1xuICB9O1xuXG4gIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy51Y2hhciA9PT0gb3RoZXIudWNoYXIgJiYgdGhpcy5wZW5TdGF0ZS5lcXVhbHMob3RoZXIucGVuU3RhdGUpO1xuICB9O1xuXG4gIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShuZXdDaGFyKSB7XG4gICAgdGhpcy51Y2hhciA9IG5ld0NoYXIudWNoYXI7XG4gICAgdGhpcy5wZW5TdGF0ZS5jb3B5KG5ld0NoYXIucGVuU3RhdGUpO1xuICB9O1xuXG4gIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gdGhpcy51Y2hhciA9PT0gJyAnICYmIHRoaXMucGVuU3RhdGUuaXNEZWZhdWx0KCk7XG4gIH07XG5cbiAgcmV0dXJuIFN0eWxlZFVuaWNvZGVDaGFyO1xufSgpO1xuXG4vKipcbiAqIENFQS02MDggcm93IGNvbnNpc3Rpbmcgb2YgTlJfQ09MUyBpbnN0YW5jZXMgb2YgU3R5bGVkVW5pY29kZUNoYXIuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuXG5cbnZhciBSb3cgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFJvdygpIHtcbiAgICBjZWFfNjA4X3BhcnNlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgUm93KTtcblxuICAgIHRoaXMuY2hhcnMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgdGhpcy5jaGFycy5wdXNoKG5ldyBTdHlsZWRVbmljb2RlQ2hhcigpKTtcbiAgICB9XG5cbiAgICB0aGlzLnBvcyA9IDA7XG4gICAgdGhpcy5jdXJyUGVuU3RhdGUgPSBuZXcgUGVuU3RhdGUoKTtcbiAgfVxuXG4gIFJvdy5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7XG4gICAgdmFyIGVxdWFsID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLmNoYXJzW2ldLmVxdWFscyhvdGhlci5jaGFyc1tpXSkpIHtcbiAgICAgICAgZXF1YWwgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlcXVhbDtcbiAgfTtcblxuICBSb3cucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KG90aGVyKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9DT0xTOyBpKyspIHtcbiAgICAgIHRoaXMuY2hhcnNbaV0uY29weShvdGhlci5jaGFyc1tpXSk7XG4gICAgfVxuICB9O1xuXG4gIFJvdy5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgdmFyIGVtcHR5ID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLmNoYXJzW2ldLmlzRW1wdHkoKSkge1xuICAgICAgICBlbXB0eSA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVtcHR5O1xuICB9O1xuXG4gIC8qKlxuICAgICAqICBTZXQgdGhlIGN1cnNvciB0byBhIHZhbGlkIGNvbHVtbi5cbiAgICAgKi9cblxuXG4gIFJvdy5wcm90b3R5cGUuc2V0Q3Vyc29yID0gZnVuY3Rpb24gc2V0Q3Vyc29yKGFic1Bvcykge1xuICAgIGlmICh0aGlzLnBvcyAhPT0gYWJzUG9zKSB7XG4gICAgICB0aGlzLnBvcyA9IGFic1BvcztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wb3MgPCAwKSB7XG4gICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdFUlJPUicsICdOZWdhdGl2ZSBjdXJzb3IgcG9zaXRpb24gJyArIHRoaXMucG9zKTtcbiAgICAgIHRoaXMucG9zID0gMDtcbiAgICB9IGVsc2UgaWYgKHRoaXMucG9zID4gTlJfQ09MUykge1xuICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnRVJST1InLCAnVG9vIGxhcmdlIGN1cnNvciBwb3NpdGlvbiAnICsgdGhpcy5wb3MpO1xuICAgICAgdGhpcy5wb3MgPSBOUl9DT0xTO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICAgKiBNb3ZlIHRoZSBjdXJzb3IgcmVsYXRpdmUgdG8gY3VycmVudCBwb3NpdGlvbi5cbiAgICAgKi9cblxuXG4gIFJvdy5wcm90b3R5cGUubW92ZUN1cnNvciA9IGZ1bmN0aW9uIG1vdmVDdXJzb3IocmVsUG9zKSB7XG4gICAgdmFyIG5ld1BvcyA9IHRoaXMucG9zICsgcmVsUG9zO1xuICAgIGlmIChyZWxQb3MgPiAxKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5wb3MgKyAxOyBpIDwgbmV3UG9zICsgMTsgaSsrKSB7XG4gICAgICAgIHRoaXMuY2hhcnNbaV0uc2V0UGVuU3RhdGUodGhpcy5jdXJyUGVuU3RhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNldEN1cnNvcihuZXdQb3MpO1xuICB9O1xuXG4gIC8qKlxuICAgICAqIEJhY2tzcGFjZSwgbW92ZSBvbmUgc3RlcCBiYWNrIGFuZCBjbGVhciBjaGFyYWN0ZXIuXG4gICAgICovXG5cblxuICBSb3cucHJvdG90eXBlLmJhY2tTcGFjZSA9IGZ1bmN0aW9uIGJhY2tTcGFjZSgpIHtcbiAgICB0aGlzLm1vdmVDdXJzb3IoLTEpO1xuICAgIHRoaXMuY2hhcnNbdGhpcy5wb3NdLnNldENoYXIoJyAnLCB0aGlzLmN1cnJQZW5TdGF0ZSk7XG4gIH07XG5cbiAgUm93LnByb3RvdHlwZS5pbnNlcnRDaGFyID0gZnVuY3Rpb24gaW5zZXJ0Q2hhcihieXRlKSB7XG4gICAgaWYgKGJ5dGUgPj0gMHg5MCkge1xuICAgICAgLy8gRXh0ZW5kZWQgY2hhclxuICAgICAgdGhpcy5iYWNrU3BhY2UoKTtcbiAgICB9XG4gICAgdmFyIGNoYXIgPSBnZXRDaGFyRm9yQnl0ZShieXRlKTtcbiAgICBpZiAodGhpcy5wb3MgPj0gTlJfQ09MUykge1xuICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnRVJST1InLCAnQ2Fubm90IGluc2VydCAnICsgYnl0ZS50b1N0cmluZygxNikgKyAnICgnICsgY2hhciArICcpIGF0IHBvc2l0aW9uICcgKyB0aGlzLnBvcyArICcuIFNraXBwaW5nIGl0IScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNoYXJzW3RoaXMucG9zXS5zZXRDaGFyKGNoYXIsIHRoaXMuY3VyclBlblN0YXRlKTtcbiAgICB0aGlzLm1vdmVDdXJzb3IoMSk7XG4gIH07XG5cbiAgUm93LnByb3RvdHlwZS5jbGVhckZyb21Qb3MgPSBmdW5jdGlvbiBjbGVhckZyb21Qb3Moc3RhcnRQb3MpIHtcbiAgICB2YXIgaSA9IHZvaWQgMDtcbiAgICBmb3IgKGkgPSBzdGFydFBvczsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgdGhpcy5jaGFyc1tpXS5yZXNldCgpO1xuICAgIH1cbiAgfTtcblxuICBSb3cucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgdGhpcy5jbGVhckZyb21Qb3MoMCk7XG4gICAgdGhpcy5wb3MgPSAwO1xuICAgIHRoaXMuY3VyclBlblN0YXRlLnJlc2V0KCk7XG4gIH07XG5cbiAgUm93LnByb3RvdHlwZS5jbGVhclRvRW5kT2ZSb3cgPSBmdW5jdGlvbiBjbGVhclRvRW5kT2ZSb3coKSB7XG4gICAgdGhpcy5jbGVhckZyb21Qb3ModGhpcy5wb3MpO1xuICB9O1xuXG4gIFJvdy5wcm90b3R5cGUuZ2V0VGV4dFN0cmluZyA9IGZ1bmN0aW9uIGdldFRleHRTdHJpbmcoKSB7XG4gICAgdmFyIGNoYXJzID0gW107XG4gICAgdmFyIGVtcHR5ID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgdmFyIGNoYXIgPSB0aGlzLmNoYXJzW2ldLnVjaGFyO1xuICAgICAgaWYgKGNoYXIgIT09ICcgJykge1xuICAgICAgICBlbXB0eSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBjaGFycy5wdXNoKGNoYXIpO1xuICAgIH1cbiAgICBpZiAoZW1wdHkpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpO1xuICAgIH1cbiAgfTtcblxuICBSb3cucHJvdG90eXBlLnNldFBlblN0eWxlcyA9IGZ1bmN0aW9uIHNldFBlblN0eWxlcyhzdHlsZXMpIHtcbiAgICB0aGlzLmN1cnJQZW5TdGF0ZS5zZXRTdHlsZXMoc3R5bGVzKTtcbiAgICB2YXIgY3VyckNoYXIgPSB0aGlzLmNoYXJzW3RoaXMucG9zXTtcbiAgICBjdXJyQ2hhci5zZXRQZW5TdGF0ZSh0aGlzLmN1cnJQZW5TdGF0ZSk7XG4gIH07XG5cbiAgcmV0dXJuIFJvdztcbn0oKTtcblxuLyoqXG4gKiBLZWVwIGEgQ0VBLTYwOCBzY3JlZW4gb2YgMzJ4MTUgc3R5bGVkIGNoYXJhY3RlcnNcbiAqIEBjb25zdHJ1Y3RvclxuKi9cblxuXG52YXIgQ2FwdGlvblNjcmVlbiA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2FwdGlvblNjcmVlbigpIHtcbiAgICBjZWFfNjA4X3BhcnNlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FwdGlvblNjcmVlbik7XG5cbiAgICB0aGlzLnJvd3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgdGhpcy5yb3dzLnB1c2gobmV3IFJvdygpKTtcbiAgICB9IC8vIE5vdGUgdGhhdCB3ZSB1c2UgemVyby1iYXNlZCBudW1iZXJpbmcgKDAtMTQpXG5cbiAgICB0aGlzLmN1cnJSb3cgPSBOUl9ST1dTIC0gMTtcbiAgICB0aGlzLm5yUm9sbFVwUm93cyA9IG51bGw7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgdGhpcy5yb3dzW2ldLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jdXJyUm93ID0gTlJfUk9XUyAtIDE7XG4gIH07XG5cbiAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7XG4gICAgdmFyIGVxdWFsID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLnJvd3NbaV0uZXF1YWxzKG90aGVyLnJvd3NbaV0pKSB7XG4gICAgICAgIGVxdWFsID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXF1YWw7XG4gIH07XG5cbiAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkob3RoZXIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgdGhpcy5yb3dzW2ldLmNvcHkob3RoZXIucm93c1tpXSk7XG4gICAgfVxuICB9O1xuXG4gIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5KCkge1xuICAgIHZhciBlbXB0eSA9IHRydWU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9ST1dTOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5yb3dzW2ldLmlzRW1wdHkoKSkge1xuICAgICAgICBlbXB0eSA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVtcHR5O1xuICB9O1xuXG4gIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLmJhY2tTcGFjZSA9IGZ1bmN0aW9uIGJhY2tTcGFjZSgpIHtcbiAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgcm93LmJhY2tTcGFjZSgpO1xuICB9O1xuXG4gIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLmNsZWFyVG9FbmRPZlJvdyA9IGZ1bmN0aW9uIGNsZWFyVG9FbmRPZlJvdygpIHtcbiAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgcm93LmNsZWFyVG9FbmRPZlJvdygpO1xuICB9O1xuXG4gIC8qKlxuICAgICAqIEluc2VydCBhIGNoYXJhY3RlciAod2l0aG91dCBzdHlsaW5nKSBpbiB0aGUgY3VycmVudCByb3cuXG4gICAgICovXG5cblxuICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5pbnNlcnRDaGFyID0gZnVuY3Rpb24gaW5zZXJ0Q2hhcihjaGFyKSB7XG4gICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgIHJvdy5pbnNlcnRDaGFyKGNoYXIpO1xuICB9O1xuXG4gIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLnNldFBlbiA9IGZ1bmN0aW9uIHNldFBlbihzdHlsZXMpIHtcbiAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgcm93LnNldFBlblN0eWxlcyhzdHlsZXMpO1xuICB9O1xuXG4gIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLm1vdmVDdXJzb3IgPSBmdW5jdGlvbiBtb3ZlQ3Vyc29yKHJlbFBvcykge1xuICAgIHZhciByb3cgPSB0aGlzLnJvd3NbdGhpcy5jdXJyUm93XTtcbiAgICByb3cubW92ZUN1cnNvcihyZWxQb3MpO1xuICB9O1xuXG4gIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLnNldEN1cnNvciA9IGZ1bmN0aW9uIHNldEN1cnNvcihhYnNQb3MpIHtcbiAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ3NldEN1cnNvcjogJyArIGFic1Bvcyk7XG4gICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgIHJvdy5zZXRDdXJzb3IoYWJzUG9zKTtcbiAgfTtcblxuICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5zZXRQQUMgPSBmdW5jdGlvbiBzZXRQQUMocGFjRGF0YSkge1xuICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAncGFjRGF0YSA9ICcgKyBKU09OLnN0cmluZ2lmeShwYWNEYXRhKSk7XG4gICAgdmFyIG5ld1JvdyA9IHBhY0RhdGEucm93IC0gMTtcbiAgICBpZiAodGhpcy5uclJvbGxVcFJvd3MgJiYgbmV3Um93IDwgdGhpcy5uclJvbGxVcFJvd3MgLSAxKSB7XG4gICAgICBuZXdSb3cgPSB0aGlzLm5yUm9sbFVwUm93cyAtIDE7XG4gICAgfVxuXG4gICAgLy8gTWFrZSBzdXJlIHRoaXMgb25seSBhZmZlY3RzIFJvbGwtdXAgQ2FwdGlvbnMgYnkgY2hlY2tpbmcgdGhpcy5uclJvbGxVcFJvd3NcbiAgICBpZiAodGhpcy5uclJvbGxVcFJvd3MgJiYgdGhpcy5jdXJyUm93ICE9PSBuZXdSb3cpIHtcbiAgICAgIC8vIGNsZWFyIGFsbCByb3dzIGZpcnN0XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgICB0aGlzLnJvd3NbaV0uY2xlYXIoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29weSB0aGlzLm5yUm9sbFVwUm93cyByb3dzIGZyb20gbGFzdE91dHB1dFNjcmVlbiBhbmQgcGxhY2UgaXQgaW4gdGhlIG5ld1JvdyBsb2NhdGlvblxuICAgICAgLy8gdG9wUm93SW5kZXggLSB0aGUgc3RhcnQgb2Ygcm93cyB0byBjb3B5IChpbmNsdXNpdmUgaW5kZXgpXG4gICAgICB2YXIgdG9wUm93SW5kZXggPSB0aGlzLmN1cnJSb3cgKyAxIC0gdGhpcy5uclJvbGxVcFJvd3M7XG4gICAgICAvLyBXZSBvbmx5IGNvcHkgaWYgdGhlIGxhc3QgcG9zaXRpb24gd2FzIGFscmVhZHkgc2hvd24uXG4gICAgICAvLyBXZSB1c2UgdGhlIGN1ZVN0YXJ0VGltZSB2YWx1ZSB0byBjaGVjayB0aGlzLlxuICAgICAgdmFyIGxhc3RPdXRwdXRTY3JlZW4gPSB0aGlzLmxhc3RPdXRwdXRTY3JlZW47XG4gICAgICBpZiAobGFzdE91dHB1dFNjcmVlbikge1xuICAgICAgICB2YXIgcHJldkxpbmVUaW1lID0gbGFzdE91dHB1dFNjcmVlbi5yb3dzW3RvcFJvd0luZGV4XS5jdWVTdGFydFRpbWU7XG4gICAgICAgIGlmIChwcmV2TGluZVRpbWUgJiYgcHJldkxpbmVUaW1lIDwgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLnRpbWUpIHtcbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5uclJvbGxVcFJvd3M7IF9pKyspIHtcbiAgICAgICAgICAgIHRoaXMucm93c1tuZXdSb3cgLSB0aGlzLm5yUm9sbFVwUm93cyArIF9pICsgMV0uY29weShsYXN0T3V0cHV0U2NyZWVuLnJvd3NbdG9wUm93SW5kZXggKyBfaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY3VyclJvdyA9IG5ld1JvdztcbiAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgaWYgKHBhY0RhdGEuaW5kZW50ICE9PSBudWxsKSB7XG4gICAgICB2YXIgaW5kZW50ID0gcGFjRGF0YS5pbmRlbnQ7XG4gICAgICB2YXIgcHJldlBvcyA9IE1hdGgubWF4KGluZGVudCAtIDEsIDApO1xuICAgICAgcm93LnNldEN1cnNvcihwYWNEYXRhLmluZGVudCk7XG4gICAgICBwYWNEYXRhLmNvbG9yID0gcm93LmNoYXJzW3ByZXZQb3NdLnBlblN0YXRlLmZvcmVncm91bmQ7XG4gICAgfVxuICAgIHZhciBzdHlsZXMgPSB7IGZvcmVncm91bmQ6IHBhY0RhdGEuY29sb3IsIHVuZGVybGluZTogcGFjRGF0YS51bmRlcmxpbmUsIGl0YWxpY3M6IHBhY0RhdGEuaXRhbGljcywgYmFja2dyb3VuZDogJ2JsYWNrJywgZmxhc2g6IGZhbHNlIH07XG4gICAgdGhpcy5zZXRQZW4oc3R5bGVzKTtcbiAgfTtcblxuICAvKipcbiAgICAgKiBTZXQgYmFja2dyb3VuZC9leHRyYSBmb3JlZ3JvdW5kLCBidXQgZmlyc3QgZG8gYmFja19zcGFjZSwgYW5kIHRoZW4gaW5zZXJ0IHNwYWNlIChiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSkuXG4gICAgICovXG5cblxuICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5zZXRCa2dEYXRhID0gZnVuY3Rpb24gc2V0QmtnRGF0YShia2dEYXRhKSB7XG4gICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdia2dEYXRhID0gJyArIEpTT04uc3RyaW5naWZ5KGJrZ0RhdGEpKTtcbiAgICB0aGlzLmJhY2tTcGFjZSgpO1xuICAgIHRoaXMuc2V0UGVuKGJrZ0RhdGEpO1xuICAgIHRoaXMuaW5zZXJ0Q2hhcigweDIwKTsgLy8gU3BhY2VcbiAgfTtcblxuICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5zZXRSb2xsVXBSb3dzID0gZnVuY3Rpb24gc2V0Um9sbFVwUm93cyhuclJvd3MpIHtcbiAgICB0aGlzLm5yUm9sbFVwUm93cyA9IG5yUm93cztcbiAgfTtcblxuICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5yb2xsVXAgPSBmdW5jdGlvbiByb2xsVXAoKSB7XG4gICAgaWYgKHRoaXMubnJSb2xsVXBSb3dzID09PSBudWxsKSB7XG4gICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdERUJVRycsICdyb2xsX3VwIGJ1dCBuclJvbGxVcFJvd3Mgbm90IHNldCB5ZXQnKTtcbiAgICAgIHJldHVybjsgLy8gTm90IHByb3Blcmx5IHNldHVwXG4gICAgfVxuICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ1RFWFQnLCB0aGlzLmdldERpc3BsYXlUZXh0KCkpO1xuICAgIHZhciB0b3BSb3dJbmRleCA9IHRoaXMuY3VyclJvdyArIDEgLSB0aGlzLm5yUm9sbFVwUm93cztcbiAgICB2YXIgdG9wUm93ID0gdGhpcy5yb3dzLnNwbGljZSh0b3BSb3dJbmRleCwgMSlbMF07XG4gICAgdG9wUm93LmNsZWFyKCk7XG4gICAgdGhpcy5yb3dzLnNwbGljZSh0aGlzLmN1cnJSb3csIDAsIHRvcFJvdyk7XG4gICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdSb2xsaW5nIHVwJyk7XG4gICAgLy8gbG9nZ2VyLmxvZygnVEVYVCcsIHRoaXMuZ2V0X2Rpc3BsYXlfdGV4dCgpKVxuICB9O1xuXG4gIC8qKlxuICAgICogR2V0IGFsbCBub24tZW1wdHkgcm93cyB3aXRoIGFzIHVuaWNvZGUgdGV4dC5cbiAgICAqL1xuXG5cbiAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuZ2V0RGlzcGxheVRleHQgPSBmdW5jdGlvbiBnZXREaXNwbGF5VGV4dChhc09uZVJvdykge1xuICAgIGFzT25lUm93ID0gYXNPbmVSb3cgfHwgZmFsc2U7XG4gICAgdmFyIGRpc3BsYXlUZXh0ID0gW107XG4gICAgdmFyIHRleHQgPSAnJztcbiAgICB2YXIgcm93TnIgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgdmFyIHJvd1RleHQgPSB0aGlzLnJvd3NbaV0uZ2V0VGV4dFN0cmluZygpO1xuICAgICAgaWYgKHJvd1RleHQpIHtcbiAgICAgICAgcm93TnIgPSBpICsgMTtcbiAgICAgICAgaWYgKGFzT25lUm93KSB7XG4gICAgICAgICAgZGlzcGxheVRleHQucHVzaCgnUm93ICcgKyByb3dOciArICc6IFxcJycgKyByb3dUZXh0ICsgJ1xcJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpc3BsYXlUZXh0LnB1c2gocm93VGV4dC50cmltKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkaXNwbGF5VGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoYXNPbmVSb3cpIHtcbiAgICAgICAgdGV4dCA9ICdbJyArIGRpc3BsYXlUZXh0LmpvaW4oJyB8ICcpICsgJ10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IGRpc3BsYXlUZXh0LmpvaW4oJ1xcbicpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbiAgfTtcblxuICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5nZXRUZXh0QW5kRm9ybWF0ID0gZnVuY3Rpb24gZ2V0VGV4dEFuZEZvcm1hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5yb3dzO1xuICB9O1xuXG4gIHJldHVybiBDYXB0aW9uU2NyZWVuO1xufSgpO1xuXG4vLyB2YXIgbW9kZXMgPSBbJ01PREVfUk9MTC1VUCcsICdNT0RFX1BPUC1PTicsICdNT0RFX1BBSU5ULU9OJywgJ01PREVfVEVYVCddO1xuXG52YXIgQ2VhNjA4Q2hhbm5lbCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2VhNjA4Q2hhbm5lbChjaGFubmVsTnVtYmVyLCBvdXRwdXRGaWx0ZXIpIHtcbiAgICBjZWFfNjA4X3BhcnNlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2VhNjA4Q2hhbm5lbCk7XG5cbiAgICB0aGlzLmNoTnIgPSBjaGFubmVsTnVtYmVyO1xuICAgIHRoaXMub3V0cHV0RmlsdGVyID0gb3V0cHV0RmlsdGVyO1xuICAgIHRoaXMubW9kZSA9IG51bGw7XG4gICAgdGhpcy52ZXJib3NlID0gMDtcbiAgICB0aGlzLmRpc3BsYXllZE1lbW9yeSA9IG5ldyBDYXB0aW9uU2NyZWVuKCk7XG4gICAgdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnkgPSBuZXcgQ2FwdGlvblNjcmVlbigpO1xuICAgIHRoaXMubGFzdE91dHB1dFNjcmVlbiA9IG5ldyBDYXB0aW9uU2NyZWVuKCk7XG4gICAgdGhpcy5jdXJyUm9sbFVwUm93ID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkucm93c1tOUl9ST1dTIC0gMV07XG4gICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgIHRoaXMubW9kZSA9IG51bGw7XG4gICAgdGhpcy5jdWVTdGFydFRpbWUgPSBudWxsOyAvLyBLZWVwcyB0cmFjayBvZiB3aGVyZSBhIGN1ZSBzdGFydGVkLlxuICB9XG5cbiAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICB0aGlzLm1vZGUgPSBudWxsO1xuICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5LnJlc2V0KCk7XG4gICAgdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnkucmVzZXQoKTtcbiAgICB0aGlzLmxhc3RPdXRwdXRTY3JlZW4ucmVzZXQoKTtcbiAgICB0aGlzLmN1cnJSb2xsVXBSb3cgPSB0aGlzLmRpc3BsYXllZE1lbW9yeS5yb3dzW05SX1JPV1MgLSAxXTtcbiAgICB0aGlzLndyaXRlU2NyZWVuID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnk7XG4gICAgdGhpcy5tb2RlID0gbnVsbDtcbiAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IG51bGw7XG4gICAgdGhpcy5sYXN0Q3VlRW5kVGltZSA9IG51bGw7XG4gIH07XG5cbiAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuZ2V0SGFuZGxlciA9IGZ1bmN0aW9uIGdldEhhbmRsZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0cHV0RmlsdGVyO1xuICB9O1xuXG4gIENlYTYwOENoYW5uZWwucHJvdG90eXBlLnNldEhhbmRsZXIgPSBmdW5jdGlvbiBzZXRIYW5kbGVyKG5ld0hhbmRsZXIpIHtcbiAgICB0aGlzLm91dHB1dEZpbHRlciA9IG5ld0hhbmRsZXI7XG4gIH07XG5cbiAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuc2V0UEFDID0gZnVuY3Rpb24gc2V0UEFDKHBhY0RhdGEpIHtcbiAgICB0aGlzLndyaXRlU2NyZWVuLnNldFBBQyhwYWNEYXRhKTtcbiAgfTtcblxuICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5zZXRCa2dEYXRhID0gZnVuY3Rpb24gc2V0QmtnRGF0YShia2dEYXRhKSB7XG4gICAgdGhpcy53cml0ZVNjcmVlbi5zZXRCa2dEYXRhKGJrZ0RhdGEpO1xuICB9O1xuXG4gIENlYTYwOENoYW5uZWwucHJvdG90eXBlLnNldE1vZGUgPSBmdW5jdGlvbiBzZXRNb2RlKG5ld01vZGUpIHtcbiAgICBpZiAobmV3TW9kZSA9PT0gdGhpcy5tb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5tb2RlID0gbmV3TW9kZTtcbiAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ01PREU9JyArIG5ld01vZGUpO1xuICAgIGlmICh0aGlzLm1vZGUgPT09ICdNT0RFX1BPUC1PTicpIHtcbiAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgICAgdGhpcy53cml0ZVNjcmVlbi5yZXNldCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5tb2RlICE9PSAnTU9ERV9ST0xMLVVQJykge1xuICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkubnJSb2xsVXBSb3dzID0gbnVsbDtcbiAgICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5Lm5yUm9sbFVwUm93cyA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMubW9kZSA9IG5ld01vZGU7XG4gIH07XG5cbiAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuaW5zZXJ0Q2hhcnMgPSBmdW5jdGlvbiBpbnNlcnRDaGFycyhjaGFycykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMud3JpdGVTY3JlZW4uaW5zZXJ0Q2hhcihjaGFyc1tpXSk7XG4gICAgfVxuXG4gICAgdmFyIHNjcmVlbiA9IHRoaXMud3JpdGVTY3JlZW4gPT09IHRoaXMuZGlzcGxheWVkTWVtb3J5ID8gJ0RJU1AnIDogJ05PTl9ESVNQJztcbiAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgc2NyZWVuICsgJzogJyArIHRoaXMud3JpdGVTY3JlZW4uZ2V0RGlzcGxheVRleHQodHJ1ZSkpO1xuICAgIGlmICh0aGlzLm1vZGUgPT09ICdNT0RFX1BBSU5ULU9OJyB8fCB0aGlzLm1vZGUgPT09ICdNT0RFX1JPTEwtVVAnKSB7XG4gICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdURVhUJywgJ0RJU1BMQVlFRDogJyArIHRoaXMuZGlzcGxheWVkTWVtb3J5LmdldERpc3BsYXlUZXh0KHRydWUpKTtcbiAgICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1JDTCA9IGZ1bmN0aW9uIGNjUkNMKCkge1xuICAgIC8vIFJlc3VtZSBDYXB0aW9uIExvYWRpbmcgKHN3aXRjaCBtb2RlIHRvIFBvcCBPbilcbiAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ1JDTCAtIFJlc3VtZSBDYXB0aW9uIExvYWRpbmcnKTtcbiAgICB0aGlzLnNldE1vZGUoJ01PREVfUE9QLU9OJyk7XG4gIH07XG5cbiAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NCUyA9IGZ1bmN0aW9uIGNjQlMoKSB7XG4gICAgLy8gQmFja1NwYWNlXG4gICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdCUyAtIEJhY2tTcGFjZScpO1xuICAgIGlmICh0aGlzLm1vZGUgPT09ICdNT0RFX1RFWFQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy53cml0ZVNjcmVlbi5iYWNrU3BhY2UoKTtcbiAgICBpZiAodGhpcy53cml0ZVNjcmVlbiA9PT0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkpIHtcbiAgICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY0FPRiA9IGZ1bmN0aW9uIGNjQU9GKCkgey8vIFJlc2VydmVkIChmb3JtZXJseSBBbGFybSBPZmYpXG5cbiAgfTtcblxuICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY0FPTiA9IGZ1bmN0aW9uIGNjQU9OKCkgey8vIFJlc2VydmVkIChmb3JtZXJseSBBbGFybSBPbilcblxuICB9O1xuXG4gIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjREVSID0gZnVuY3Rpb24gY2NERVIoKSB7XG4gICAgLy8gRGVsZXRlIHRvIEVuZCBvZiBSb3dcbiAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ0RFUi0gRGVsZXRlIHRvIEVuZCBvZiBSb3cnKTtcbiAgICB0aGlzLndyaXRlU2NyZWVuLmNsZWFyVG9FbmRPZlJvdygpO1xuICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xuICB9O1xuXG4gIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjUlUgPSBmdW5jdGlvbiBjY1JVKG5yUm93cykge1xuICAgIC8vIFJvbGwtVXAgQ2FwdGlvbnMtMiwzLG9yIDQgUm93c1xuICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0lORk8nLCAnUlUoJyArIG5yUm93cyArICcpIC0gUm9sbCBVcCcpO1xuICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcbiAgICB0aGlzLnNldE1vZGUoJ01PREVfUk9MTC1VUCcpO1xuICAgIHRoaXMud3JpdGVTY3JlZW4uc2V0Um9sbFVwUm93cyhuclJvd3MpO1xuICB9O1xuXG4gIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjRk9OID0gZnVuY3Rpb24gY2NGT04oKSB7XG4gICAgLy8gRmxhc2ggT25cbiAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ0ZPTiAtIEZsYXNoIE9uJyk7XG4gICAgdGhpcy53cml0ZVNjcmVlbi5zZXRQZW4oeyBmbGFzaDogdHJ1ZSB9KTtcbiAgfTtcblxuICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1JEQyA9IGZ1bmN0aW9uIGNjUkRDKCkge1xuICAgIC8vIFJlc3VtZSBEaXJlY3QgQ2FwdGlvbmluZyAoc3dpdGNoIG1vZGUgdG8gUGFpbnRPbilcbiAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ1JEQyAtIFJlc3VtZSBEaXJlY3QgQ2FwdGlvbmluZycpO1xuICAgIHRoaXMuc2V0TW9kZSgnTU9ERV9QQUlOVC1PTicpO1xuICB9O1xuXG4gIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjVFIgPSBmdW5jdGlvbiBjY1RSKCkge1xuICAgIC8vIFRleHQgUmVzdGFydCBpbiB0ZXh0IG1vZGUgKG5vdCBzdXBwb3J0ZWQsIGhvd2V2ZXIpXG4gICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdUUicpO1xuICAgIHRoaXMuc2V0TW9kZSgnTU9ERV9URVhUJyk7XG4gIH07XG5cbiAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NSVEQgPSBmdW5jdGlvbiBjY1JURCgpIHtcbiAgICAvLyBSZXN1bWUgVGV4dCBEaXNwbGF5IGluIFRleHQgbW9kZSAobm90IHN1cHBvcnRlZCwgaG93ZXZlcilcbiAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ1JURCcpO1xuICAgIHRoaXMuc2V0TW9kZSgnTU9ERV9URVhUJyk7XG4gIH07XG5cbiAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NFRE0gPSBmdW5jdGlvbiBjY0VETSgpIHtcbiAgICAvLyBFcmFzZSBEaXNwbGF5ZWQgTWVtb3J5XG4gICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdFRE0gLSBFcmFzZSBEaXNwbGF5ZWQgTWVtb3J5Jyk7XG4gICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkucmVzZXQoKTtcbiAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUodHJ1ZSk7XG4gIH07XG5cbiAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NDUiA9IGZ1bmN0aW9uIGNjQ1IoKSB7XG4gICAgLy8gQ2FycmlhZ2UgUmV0dXJuXG4gICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnQ1IgLSBDYXJyaWFnZSBSZXR1cm4nKTtcbiAgICB0aGlzLndyaXRlU2NyZWVuLnJvbGxVcCgpO1xuICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSh0cnVlKTtcbiAgfTtcblxuICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY0VOTSA9IGZ1bmN0aW9uIGNjRU5NKCkge1xuICAgIC8vIEVyYXNlIE5vbi1EaXNwbGF5ZWQgTWVtb3J5XG4gICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdFTk0gLSBFcmFzZSBOb24tZGlzcGxheWVkIE1lbW9yeScpO1xuICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5LnJlc2V0KCk7XG4gIH07XG5cbiAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NFT0MgPSBmdW5jdGlvbiBjY0VPQygpIHtcbiAgICAvLyBFbmQgb2YgQ2FwdGlvbiAoRmxpcCBNZW1vcmllcylcbiAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ0VPQyAtIEVuZCBPZiBDYXB0aW9uJyk7XG4gICAgaWYgKHRoaXMubW9kZSA9PT0gJ01PREVfUE9QLU9OJykge1xuICAgICAgdmFyIHRtcCA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkgPSB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeTtcbiAgICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5ID0gdG1wO1xuICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMubm9uRGlzcGxheWVkTWVtb3J5O1xuICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnVEVYVCcsICdESVNQOiAnICsgdGhpcy5kaXNwbGF5ZWRNZW1vcnkuZ2V0RGlzcGxheVRleHQoKSk7XG4gICAgfVxuICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSh0cnVlKTtcbiAgfTtcblxuICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1RPID0gZnVuY3Rpb24gY2NUTyhuckNvbHMpIHtcbiAgICAvLyBUYWIgT2Zmc2V0IDEsMiwgb3IgMyBjb2x1bW5zXG4gICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdUTygnICsgbnJDb2xzICsgJykgLSBUYWIgT2Zmc2V0Jyk7XG4gICAgdGhpcy53cml0ZVNjcmVlbi5tb3ZlQ3Vyc29yKG5yQ29scyk7XG4gIH07XG5cbiAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NNSURST1cgPSBmdW5jdGlvbiBjY01JRFJPVyhzZWNvbmRCeXRlKSB7XG4gICAgLy8gUGFyc2UgTUlEUk9XIGNvbW1hbmRcbiAgICB2YXIgc3R5bGVzID0geyBmbGFzaDogZmFsc2UgfTtcbiAgICBzdHlsZXMudW5kZXJsaW5lID0gc2Vjb25kQnl0ZSAlIDIgPT09IDE7XG4gICAgc3R5bGVzLml0YWxpY3MgPSBzZWNvbmRCeXRlID49IDB4MmU7XG4gICAgaWYgKCFzdHlsZXMuaXRhbGljcykge1xuICAgICAgdmFyIGNvbG9ySW5kZXggPSBNYXRoLmZsb29yKHNlY29uZEJ5dGUgLyAyKSAtIDB4MTA7XG4gICAgICB2YXIgY29sb3JzID0gWyd3aGl0ZScsICdncmVlbicsICdibHVlJywgJ2N5YW4nLCAncmVkJywgJ3llbGxvdycsICdtYWdlbnRhJ107XG4gICAgICBzdHlsZXMuZm9yZWdyb3VuZCA9IGNvbG9yc1tjb2xvckluZGV4XTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzLmZvcmVncm91bmQgPSAnd2hpdGUnO1xuICAgIH1cbiAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdJTkZPJywgJ01JRFJPVzogJyArIEpTT04uc3RyaW5naWZ5KHN0eWxlcykpO1xuICAgIHRoaXMud3JpdGVTY3JlZW4uc2V0UGVuKHN0eWxlcyk7XG4gIH07XG5cbiAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUub3V0cHV0RGF0YVVwZGF0ZSA9IGZ1bmN0aW9uIG91dHB1dERhdGFVcGRhdGUoKSB7XG4gICAgdmFyIGRpc3BhdGNoID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgIHZhciB0ID0gY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLnRpbWU7XG4gICAgaWYgKHQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIpIHtcbiAgICAgIGlmICh0aGlzLmN1ZVN0YXJ0VGltZSA9PT0gbnVsbCAmJiAhdGhpcy5kaXNwbGF5ZWRNZW1vcnkuaXNFbXB0eSgpKSB7XG4gICAgICAgIC8vIFN0YXJ0IG9mIGEgbmV3IGN1ZVxuICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRoaXMuZGlzcGxheWVkTWVtb3J5LmVxdWFscyh0aGlzLmxhc3RPdXRwdXRTY3JlZW4pKSB7XG4gICAgICAgICAgaWYgKHRoaXMub3V0cHV0RmlsdGVyLm5ld0N1ZSkge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKHRoaXMuY3VlU3RhcnRUaW1lLCB0LCB0aGlzLmxhc3RPdXRwdXRTY3JlZW4pO1xuICAgICAgICAgICAgaWYgKGRpc3BhdGNoID09PSB0cnVlICYmIHRoaXMub3V0cHV0RmlsdGVyLmRpc3BhdGNoQ3VlKSB7XG4gICAgICAgICAgICAgIHRoaXMub3V0cHV0RmlsdGVyLmRpc3BhdGNoQ3VlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkuaXNFbXB0eSgpID8gbnVsbCA6IHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdE91dHB1dFNjcmVlbi5jb3B5KHRoaXMuZGlzcGxheWVkTWVtb3J5KTtcbiAgICB9XG4gIH07XG5cbiAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY3VlU3BsaXRBdFRpbWUgPSBmdW5jdGlvbiBjdWVTcGxpdEF0VGltZSh0KSB7XG4gICAgaWYgKHRoaXMub3V0cHV0RmlsdGVyKSB7XG4gICAgICBpZiAoIXRoaXMuZGlzcGxheWVkTWVtb3J5LmlzRW1wdHkoKSkge1xuICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKSB7XG4gICAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKHRoaXMuY3VlU3RhcnRUaW1lLCB0LCB0aGlzLmRpc3BsYXllZE1lbW9yeSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBDZWE2MDhDaGFubmVsO1xufSgpO1xuXG52YXIgQ2VhNjA4UGFyc2VyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDZWE2MDhQYXJzZXIoZmllbGQsIG91dDEsIG91dDIpIHtcbiAgICBjZWFfNjA4X3BhcnNlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2VhNjA4UGFyc2VyKTtcblxuICAgIHRoaXMuZmllbGQgPSBmaWVsZCB8fCAxO1xuICAgIHRoaXMub3V0cHV0cyA9IFtvdXQxLCBvdXQyXTtcbiAgICB0aGlzLmNoYW5uZWxzID0gW25ldyBDZWE2MDhDaGFubmVsKDEsIG91dDEpLCBuZXcgQ2VhNjA4Q2hhbm5lbCgyLCBvdXQyKV07XG4gICAgdGhpcy5jdXJyQ2hOciA9IC0xOyAvLyBXaWxsIGJlIDEgb3IgMlxuICAgIHRoaXMubGFzdENtZEEgPSBudWxsOyAvLyBGaXJzdCBieXRlIG9mIGxhc3QgY29tbWFuZFxuICAgIHRoaXMubGFzdENtZEIgPSBudWxsOyAvLyBTZWNvbmQgYnl0ZSBvZiBsYXN0IGNvbW1hbmRcbiAgICB0aGlzLmJ1ZmZlcmVkRGF0YSA9IFtdO1xuICAgIHRoaXMuc3RhcnRUaW1lID0gbnVsbDtcbiAgICB0aGlzLmxhc3RUaW1lID0gbnVsbDtcbiAgICB0aGlzLmRhdGFDb3VudGVycyA9IHsgJ3BhZGRpbmcnOiAwLCAnY2hhcic6IDAsICdjbWQnOiAwLCAnb3RoZXInOiAwIH07XG4gIH1cblxuICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLmdldEhhbmRsZXIgPSBmdW5jdGlvbiBnZXRIYW5kbGVyKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuY2hhbm5lbHNbaW5kZXhdLmdldEhhbmRsZXIoKTtcbiAgfTtcblxuICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLnNldEhhbmRsZXIgPSBmdW5jdGlvbiBzZXRIYW5kbGVyKGluZGV4LCBuZXdIYW5kbGVyKSB7XG4gICAgdGhpcy5jaGFubmVsc1tpbmRleF0uc2V0SGFuZGxlcihuZXdIYW5kbGVyKTtcbiAgfTtcblxuICAvKipcbiAgICAgKiBBZGQgZGF0YSBmb3IgdGltZSB0IGluIGZvcm1zIG9mIGxpc3Qgb2YgYnl0ZXMgKHVuc2lnbmVkIGludHMpLiBUaGUgYnl0ZXMgYXJlIHRyZWF0ZWQgYXMgcGFpcnMuXG4gICAgICovXG5cblxuICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLmFkZERhdGEgPSBmdW5jdGlvbiBhZGREYXRhKHQsIGJ5dGVMaXN0KSB7XG4gICAgdmFyIGNtZEZvdW5kID0gdm9pZCAwLFxuICAgICAgICBhID0gdm9pZCAwLFxuICAgICAgICBiID0gdm9pZCAwLFxuICAgICAgICBjaGFyc0ZvdW5kID0gZmFsc2U7XG5cbiAgICB0aGlzLmxhc3RUaW1lID0gdDtcbiAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIuc2V0VGltZSh0KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZUxpc3QubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIGEgPSBieXRlTGlzdFtpXSAmIDB4N2Y7XG4gICAgICBiID0gYnl0ZUxpc3RbaSArIDFdICYgMHg3ZjtcbiAgICAgIGlmIChhID09PSAwICYmIGIgPT09IDApIHtcbiAgICAgICAgdGhpcy5kYXRhQ291bnRlcnMucGFkZGluZyArPSAyO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0RBVEEnLCAnWycgKyBudW1BcnJheVRvSGV4QXJyYXkoW2J5dGVMaXN0W2ldLCBieXRlTGlzdFtpICsgMV1dKSArICddIC0+ICgnICsgbnVtQXJyYXlUb0hleEFycmF5KFthLCBiXSkgKyAnKScpO1xuICAgICAgfVxuICAgICAgY21kRm91bmQgPSB0aGlzLnBhcnNlQ21kKGEsIGIpO1xuICAgICAgaWYgKCFjbWRGb3VuZCkge1xuICAgICAgICBjbWRGb3VuZCA9IHRoaXMucGFyc2VNaWRyb3coYSwgYik7XG4gICAgICB9XG5cbiAgICAgIGlmICghY21kRm91bmQpIHtcbiAgICAgICAgY21kRm91bmQgPSB0aGlzLnBhcnNlUEFDKGEsIGIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWNtZEZvdW5kKSB7XG4gICAgICAgIGNtZEZvdW5kID0gdGhpcy5wYXJzZUJhY2tncm91bmRBdHRyaWJ1dGVzKGEsIGIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWNtZEZvdW5kKSB7XG4gICAgICAgIGNoYXJzRm91bmQgPSB0aGlzLnBhcnNlQ2hhcnMoYSwgYik7XG4gICAgICAgIGlmIChjaGFyc0ZvdW5kKSB7XG4gICAgICAgICAgaWYgKHRoaXMuY3VyckNoTnIgJiYgdGhpcy5jdXJyQ2hOciA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbdGhpcy5jdXJyQ2hOciAtIDFdO1xuICAgICAgICAgICAgY2hhbm5lbC5pbnNlcnRDaGFycyhjaGFyc0ZvdW5kKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnV0FSTklORycsICdObyBjaGFubmVsIGZvdW5kIHlldC4gVEVYVC1NT0RFPycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNtZEZvdW5kKSB7XG4gICAgICAgIHRoaXMuZGF0YUNvdW50ZXJzLmNtZCArPSAyO1xuICAgICAgfSBlbHNlIGlmIChjaGFyc0ZvdW5kKSB7XG4gICAgICAgIHRoaXMuZGF0YUNvdW50ZXJzLmNoYXIgKz0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGF0YUNvdW50ZXJzLm90aGVyICs9IDI7XG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ1dBUk5JTkcnLCAnQ291bGRuXFwndCBwYXJzZSBjbGVhbmVkIGRhdGEgJyArIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICsgJyBvcmlnOiAnICsgbnVtQXJyYXlUb0hleEFycmF5KFtieXRlTGlzdFtpXSwgYnl0ZUxpc3RbaSArIDFdXSkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICAgKiBQYXJzZSBDb21tYW5kLlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBUZWxscyBpZiBhIGNvbW1hbmQgd2FzIGZvdW5kXG4gICAgICovXG5cblxuICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLnBhcnNlQ21kID0gZnVuY3Rpb24gcGFyc2VDbWQoYSwgYikge1xuICAgIHZhciBjaE5yID0gbnVsbDtcblxuICAgIHZhciBjb25kMSA9IChhID09PSAweDE0IHx8IGEgPT09IDB4MUMpICYmIGIgPj0gMHgyMCAmJiBiIDw9IDB4MkY7XG4gICAgdmFyIGNvbmQyID0gKGEgPT09IDB4MTcgfHwgYSA9PT0gMHgxRikgJiYgYiA+PSAweDIxICYmIGIgPD0gMHgyMztcbiAgICBpZiAoIShjb25kMSB8fCBjb25kMikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYSA9PT0gdGhpcy5sYXN0Q21kQSAmJiBiID09PSB0aGlzLmxhc3RDbWRCKSB7XG4gICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDtcbiAgICAgIHRoaXMubGFzdENtZEIgPSBudWxsOyAvLyBSZXBlYXRlZCBjb21tYW5kcyBhcmUgZHJvcHBlZCAob25jZSlcbiAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0RFQlVHJywgJ1JlcGVhdGVkIGNvbW1hbmQgKCcgKyBudW1BcnJheVRvSGV4QXJyYXkoW2EsIGJdKSArICcpIGlzIGRyb3BwZWQnKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChhID09PSAweDE0IHx8IGEgPT09IDB4MTcpIHtcbiAgICAgIGNoTnIgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaE5yID0gMjtcbiAgICB9IC8vIChhID09PSAweDFDIHx8IGE9PT0gMHgxZilcblxuICAgIHZhciBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjaE5yIC0gMV07XG5cbiAgICBpZiAoYSA9PT0gMHgxNCB8fCBhID09PSAweDFDKSB7XG4gICAgICBpZiAoYiA9PT0gMHgyMCkge1xuICAgICAgICBjaGFubmVsLmNjUkNMKCk7XG4gICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjEpIHtcbiAgICAgICAgY2hhbm5lbC5jY0JTKCk7XG4gICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjIpIHtcbiAgICAgICAgY2hhbm5lbC5jY0FPRigpO1xuICAgICAgfSBlbHNlIGlmIChiID09PSAweDIzKSB7XG4gICAgICAgIGNoYW5uZWwuY2NBT04oKTtcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyNCkge1xuICAgICAgICBjaGFubmVsLmNjREVSKCk7XG4gICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjUpIHtcbiAgICAgICAgY2hhbm5lbC5jY1JVKDIpO1xuICAgICAgfSBlbHNlIGlmIChiID09PSAweDI2KSB7XG4gICAgICAgIGNoYW5uZWwuY2NSVSgzKTtcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyNykge1xuICAgICAgICBjaGFubmVsLmNjUlUoNCk7XG4gICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjgpIHtcbiAgICAgICAgY2hhbm5lbC5jY0ZPTigpO1xuICAgICAgfSBlbHNlIGlmIChiID09PSAweDI5KSB7XG4gICAgICAgIGNoYW5uZWwuY2NSREMoKTtcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyQSkge1xuICAgICAgICBjaGFubmVsLmNjVFIoKTtcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyQikge1xuICAgICAgICBjaGFubmVsLmNjUlREKCk7XG4gICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MkMpIHtcbiAgICAgICAgY2hhbm5lbC5jY0VETSgpO1xuICAgICAgfSBlbHNlIGlmIChiID09PSAweDJEKSB7XG4gICAgICAgIGNoYW5uZWwuY2NDUigpO1xuICAgICAgfSBlbHNlIGlmIChiID09PSAweDJFKSB7XG4gICAgICAgIGNoYW5uZWwuY2NFTk0oKTtcbiAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyRikge1xuICAgICAgICBjaGFubmVsLmNjRU9DKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGEgPT0gMHgxNyB8fCBhID09IDB4MUZcbiAgICAgIGNoYW5uZWwuY2NUTyhiIC0gMHgyMCk7XG4gICAgfVxuICAgIHRoaXMubGFzdENtZEEgPSBhO1xuICAgIHRoaXMubGFzdENtZEIgPSBiO1xuICAgIHRoaXMuY3VyckNoTnIgPSBjaE5yO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgICAqIFBhcnNlIG1pZHJvdyBzdHlsaW5nIGNvbW1hbmRcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cblxuXG4gIENlYTYwOFBhcnNlci5wcm90b3R5cGUucGFyc2VNaWRyb3cgPSBmdW5jdGlvbiBwYXJzZU1pZHJvdyhhLCBiKSB7XG4gICAgdmFyIGNoTnIgPSBudWxsO1xuXG4gICAgaWYgKChhID09PSAweDExIHx8IGEgPT09IDB4MTkpICYmIGIgPj0gMHgyMCAmJiBiIDw9IDB4MmYpIHtcbiAgICAgIGlmIChhID09PSAweDExKSB7XG4gICAgICAgIGNoTnIgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hOciA9IDI7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaE5yICE9PSB0aGlzLmN1cnJDaE5yKSB7XG4gICAgICAgIGNlYV82MDhfcGFyc2VyX2xvZ2dlci5sb2coJ0VSUk9SJywgJ01pc21hdGNoIGNoYW5uZWwgaW4gbWlkcm93IHBhcnNpbmcnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoTnIgLSAxXTtcbiAgICAgIGNoYW5uZWwuY2NNSURST1coYik7XG4gICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdERUJVRycsICdNSURST1cgKCcgKyBudW1BcnJheVRvSGV4QXJyYXkoW2EsIGJdKSArICcpJyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICAvKipcbiAgICAgKiBQYXJzZSBQcmVhYmxlIEFjY2VzcyBDb2RlcyAoVGFibGUgNTMpLlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBUZWxscyBpZiBQQUMgZm91bmRcbiAgICAgKi9cblxuXG4gIENlYTYwOFBhcnNlci5wcm90b3R5cGUucGFyc2VQQUMgPSBmdW5jdGlvbiBwYXJzZVBBQyhhLCBiKSB7XG4gICAgdmFyIGNoTnIgPSBudWxsO1xuICAgIHZhciByb3cgPSBudWxsO1xuXG4gICAgdmFyIGNhc2UxID0gKGEgPj0gMHgxMSAmJiBhIDw9IDB4MTcgfHwgYSA+PSAweDE5ICYmIGEgPD0gMHgxRikgJiYgYiA+PSAweDQwICYmIGIgPD0gMHg3RjtcbiAgICB2YXIgY2FzZTIgPSAoYSA9PT0gMHgxMCB8fCBhID09PSAweDE4KSAmJiBiID49IDB4NDAgJiYgYiA8PSAweDVGO1xuICAgIGlmICghKGNhc2UxIHx8IGNhc2UyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChhID09PSB0aGlzLmxhc3RDbWRBICYmIGIgPT09IHRoaXMubGFzdENtZEIpIHtcbiAgICAgIHRoaXMubGFzdENtZEEgPSBudWxsO1xuICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gUmVwZWF0ZWQgY29tbWFuZHMgYXJlIGRyb3BwZWQgKG9uY2UpXG4gICAgfVxuXG4gICAgY2hOciA9IGEgPD0gMHgxNyA/IDEgOiAyO1xuXG4gICAgaWYgKGIgPj0gMHg0MCAmJiBiIDw9IDB4NUYpIHtcbiAgICAgIHJvdyA9IGNoTnIgPT09IDEgPyByb3dzTG93Q2gxW2FdIDogcm93c0xvd0NoMlthXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gMHg2MCA8PSBiIDw9IDB4N0ZcbiAgICAgIHJvdyA9IGNoTnIgPT09IDEgPyByb3dzSGlnaENoMVthXSA6IHJvd3NIaWdoQ2gyW2FdO1xuICAgIH1cbiAgICB2YXIgcGFjRGF0YSA9IHRoaXMuaW50ZXJwcmV0UEFDKHJvdywgYik7XG4gICAgdmFyIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoTnIgLSAxXTtcbiAgICBjaGFubmVsLnNldFBBQyhwYWNEYXRhKTtcbiAgICB0aGlzLmxhc3RDbWRBID0gYTtcbiAgICB0aGlzLmxhc3RDbWRCID0gYjtcbiAgICB0aGlzLmN1cnJDaE5yID0gY2hOcjtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICAgKiBJbnRlcnByZXQgdGhlIHNlY29uZCBieXRlIG9mIHRoZSBwYWMsIGFuZCByZXR1cm4gdGhlIGluZm9ybWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IHBhY0RhdGEgd2l0aCBzdHlsZSBwYXJhbWV0ZXJzLlxuICAgICAqL1xuXG5cbiAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5pbnRlcnByZXRQQUMgPSBmdW5jdGlvbiBpbnRlcnByZXRQQUMocm93LCBieXRlKSB7XG4gICAgdmFyIHBhY0luZGV4ID0gYnl0ZTtcbiAgICB2YXIgcGFjRGF0YSA9IHsgY29sb3I6IG51bGwsIGl0YWxpY3M6IGZhbHNlLCBpbmRlbnQ6IG51bGwsIHVuZGVybGluZTogZmFsc2UsIHJvdzogcm93IH07XG5cbiAgICBpZiAoYnl0ZSA+IDB4NUYpIHtcbiAgICAgIHBhY0luZGV4ID0gYnl0ZSAtIDB4NjA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhY0luZGV4ID0gYnl0ZSAtIDB4NDA7XG4gICAgfVxuXG4gICAgcGFjRGF0YS51bmRlcmxpbmUgPSAocGFjSW5kZXggJiAxKSA9PT0gMTtcbiAgICBpZiAocGFjSW5kZXggPD0gMHhkKSB7XG4gICAgICBwYWNEYXRhLmNvbG9yID0gWyd3aGl0ZScsICdncmVlbicsICdibHVlJywgJ2N5YW4nLCAncmVkJywgJ3llbGxvdycsICdtYWdlbnRhJywgJ3doaXRlJ11bTWF0aC5mbG9vcihwYWNJbmRleCAvIDIpXTtcbiAgICB9IGVsc2UgaWYgKHBhY0luZGV4IDw9IDB4Zikge1xuICAgICAgcGFjRGF0YS5pdGFsaWNzID0gdHJ1ZTtcbiAgICAgIHBhY0RhdGEuY29sb3IgPSAnd2hpdGUnO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYWNEYXRhLmluZGVudCA9IE1hdGguZmxvb3IoKHBhY0luZGV4IC0gMHgxMCkgLyAyKSAqIDQ7XG4gICAgfVxuICAgIHJldHVybiBwYWNEYXRhOyAvLyBOb3RlIHRoYXQgcm93IGhhcyB6ZXJvIG9mZnNldC4gVGhlIHNwZWMgdXNlcyAxLlxuICB9O1xuXG4gIC8qKlxuICAgICAqIFBhcnNlIGNoYXJhY3RlcnMuXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgd2l0aCAxIHRvIDIgY29kZXMgY29ycmVzcG9uZGluZyB0byBjaGFycywgaWYgZm91bmQuIG51bGwgb3RoZXJ3aXNlLlxuICAgICAqL1xuXG5cbiAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5wYXJzZUNoYXJzID0gZnVuY3Rpb24gcGFyc2VDaGFycyhhLCBiKSB7XG4gICAgdmFyIGNoYW5uZWxOciA9IG51bGwsXG4gICAgICAgIGNoYXJDb2RlcyA9IG51bGwsXG4gICAgICAgIGNoYXJDb2RlMSA9IG51bGw7XG5cbiAgICBpZiAoYSA+PSAweDE5KSB7XG4gICAgICBjaGFubmVsTnIgPSAyO1xuICAgICAgY2hhckNvZGUxID0gYSAtIDg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoYW5uZWxOciA9IDE7XG4gICAgICBjaGFyQ29kZTEgPSBhO1xuICAgIH1cbiAgICBpZiAoY2hhckNvZGUxID49IDB4MTEgJiYgY2hhckNvZGUxIDw9IDB4MTMpIHtcbiAgICAgIC8vIFNwZWNpYWwgY2hhcmFjdGVyXG4gICAgICB2YXIgb25lQ29kZSA9IGI7XG4gICAgICBpZiAoY2hhckNvZGUxID09PSAweDExKSB7XG4gICAgICAgIG9uZUNvZGUgPSBiICsgMHg1MDtcbiAgICAgIH0gZWxzZSBpZiAoY2hhckNvZGUxID09PSAweDEyKSB7XG4gICAgICAgIG9uZUNvZGUgPSBiICsgMHg3MDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uZUNvZGUgPSBiICsgMHg5MDtcbiAgICAgIH1cblxuICAgICAgY2VhXzYwOF9wYXJzZXJfbG9nZ2VyLmxvZygnSU5GTycsICdTcGVjaWFsIGNoYXIgXFwnJyArIGdldENoYXJGb3JCeXRlKG9uZUNvZGUpICsgJ1xcJyBpbiBjaGFubmVsICcgKyBjaGFubmVsTnIpO1xuICAgICAgY2hhckNvZGVzID0gW29uZUNvZGVdO1xuICAgIH0gZWxzZSBpZiAoYSA+PSAweDIwICYmIGEgPD0gMHg3Zikge1xuICAgICAgY2hhckNvZGVzID0gYiA9PT0gMCA/IFthXSA6IFthLCBiXTtcbiAgICB9XG4gICAgaWYgKGNoYXJDb2Rlcykge1xuICAgICAgdmFyIGhleENvZGVzID0gbnVtQXJyYXlUb0hleEFycmF5KGNoYXJDb2Rlcyk7XG4gICAgICBjZWFfNjA4X3BhcnNlcl9sb2dnZXIubG9nKCdERUJVRycsICdDaGFyIGNvZGVzID0gICcgKyBoZXhDb2Rlcy5qb2luKCcsJykpO1xuICAgICAgdGhpcy5sYXN0Q21kQSA9IG51bGw7XG4gICAgICB0aGlzLmxhc3RDbWRCID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJDb2RlcztcbiAgfTtcblxuICAvKipcbiAgICAqIFBhcnNlIGV4dGVuZGVkIGJhY2tncm91bmQgYXR0cmlidXRlcyBhcyB3ZWxsIGFzIG5ldyBmb3JlZ3JvdW5kIGNvbG9yIGJsYWNrLlxuICAgICogQHJldHVybnN7Qm9vbGVhbn0gVGVsbHMgaWYgYmFja2dyb3VuZCBhdHRyaWJ1dGVzIGFyZSBmb3VuZFxuICAgICovXG5cblxuICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLnBhcnNlQmFja2dyb3VuZEF0dHJpYnV0ZXMgPSBmdW5jdGlvbiBwYXJzZUJhY2tncm91bmRBdHRyaWJ1dGVzKGEsIGIpIHtcbiAgICB2YXIgYmtnRGF0YSA9IHZvaWQgMCxcbiAgICAgICAgaW5kZXggPSB2b2lkIDAsXG4gICAgICAgIGNoTnIgPSB2b2lkIDAsXG4gICAgICAgIGNoYW5uZWwgPSB2b2lkIDA7XG5cbiAgICB2YXIgY2FzZTEgPSAoYSA9PT0gMHgxMCB8fCBhID09PSAweDE4KSAmJiBiID49IDB4MjAgJiYgYiA8PSAweDJmO1xuICAgIHZhciBjYXNlMiA9IChhID09PSAweDE3IHx8IGEgPT09IDB4MWYpICYmIGIgPj0gMHgyZCAmJiBiIDw9IDB4MmY7XG4gICAgaWYgKCEoY2FzZTEgfHwgY2FzZTIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgYmtnRGF0YSA9IHt9O1xuICAgIGlmIChhID09PSAweDEwIHx8IGEgPT09IDB4MTgpIHtcbiAgICAgIGluZGV4ID0gTWF0aC5mbG9vcigoYiAtIDB4MjApIC8gMik7XG4gICAgICBia2dEYXRhLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kQ29sb3JzW2luZGV4XTtcbiAgICAgIGlmIChiICUgMiA9PT0gMSkge1xuICAgICAgICBia2dEYXRhLmJhY2tncm91bmQgPSBia2dEYXRhLmJhY2tncm91bmQgKyAnX3NlbWknO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyZCkge1xuICAgICAgYmtnRGF0YS5iYWNrZ3JvdW5kID0gJ3RyYW5zcGFyZW50JztcbiAgICB9IGVsc2Uge1xuICAgICAgYmtnRGF0YS5mb3JlZ3JvdW5kID0gJ2JsYWNrJztcbiAgICAgIGlmIChiID09PSAweDJmKSB7XG4gICAgICAgIGJrZ0RhdGEudW5kZXJsaW5lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2hOciA9IGEgPCAweDE4ID8gMSA6IDI7XG4gICAgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hOciAtIDFdO1xuICAgIGNoYW5uZWwuc2V0QmtnRGF0YShia2dEYXRhKTtcbiAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDtcbiAgICB0aGlzLmxhc3RDbWRCID0gbnVsbDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICAgKiBSZXNldCBzdGF0ZSBvZiBwYXJzZXIgYW5kIGl0cyBjaGFubmVscy5cbiAgICAgKi9cblxuXG4gIENlYTYwOFBhcnNlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hhbm5lbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmNoYW5uZWxzW2ldKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbHNbaV0ucmVzZXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5sYXN0Q21kQSA9IG51bGw7XG4gICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAgICogVHJpZ2dlciB0aGUgZ2VuZXJhdGlvbiBvZiBhIGN1ZSwgYW5kIHRoZSBzdGFydCBvZiBhIG5ldyBvbmUgaWYgZGlzcGxheVNjcmVlbnMgYXJlIG5vdCBlbXB0eS5cbiAgICAgKi9cblxuXG4gIENlYTYwOFBhcnNlci5wcm90b3R5cGUuY3VlU3BsaXRBdFRpbWUgPSBmdW5jdGlvbiBjdWVTcGxpdEF0VGltZSh0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoYW5uZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5jaGFubmVsc1tpXSkge1xuICAgICAgICB0aGlzLmNoYW5uZWxzW2ldLmN1ZVNwbGl0QXRUaW1lKHQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gQ2VhNjA4UGFyc2VyO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBjZWFfNjA4X3BhcnNlciA9IChDZWE2MDhQYXJzZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvb3V0cHV0LWZpbHRlci5qc1xuZnVuY3Rpb24gb3V0cHV0X2ZpbHRlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgT3V0cHV0RmlsdGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBPdXRwdXRGaWx0ZXIodGltZWxpbmVDb250cm9sbGVyLCB0cmFja05hbWUpIHtcbiAgICBvdXRwdXRfZmlsdGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBPdXRwdXRGaWx0ZXIpO1xuXG4gICAgdGhpcy50aW1lbGluZUNvbnRyb2xsZXIgPSB0aW1lbGluZUNvbnRyb2xsZXI7XG4gICAgdGhpcy50cmFja05hbWUgPSB0cmFja05hbWU7XG4gICAgdGhpcy5zdGFydFRpbWUgPSBudWxsO1xuICAgIHRoaXMuZW5kVGltZSA9IG51bGw7XG4gICAgdGhpcy5zY3JlZW4gPSBudWxsO1xuICB9XG5cbiAgT3V0cHV0RmlsdGVyLnByb3RvdHlwZS5kaXNwYXRjaEN1ZSA9IGZ1bmN0aW9uIGRpc3BhdGNoQ3VlKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0VGltZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudGltZWxpbmVDb250cm9sbGVyLmFkZEN1ZXModGhpcy50cmFja05hbWUsIHRoaXMuc3RhcnRUaW1lLCB0aGlzLmVuZFRpbWUsIHRoaXMuc2NyZWVuKTtcbiAgICB0aGlzLnN0YXJ0VGltZSA9IG51bGw7XG4gIH07XG5cbiAgT3V0cHV0RmlsdGVyLnByb3RvdHlwZS5uZXdDdWUgPSBmdW5jdGlvbiBuZXdDdWUoc3RhcnRUaW1lLCBlbmRUaW1lLCBzY3JlZW4pIHtcbiAgICBpZiAodGhpcy5zdGFydFRpbWUgPT09IG51bGwgfHwgdGhpcy5zdGFydFRpbWUgPiBzdGFydFRpbWUpIHtcbiAgICAgIHRoaXMuc3RhcnRUaW1lID0gc3RhcnRUaW1lO1xuICAgIH1cblxuICAgIHRoaXMuZW5kVGltZSA9IGVuZFRpbWU7XG4gICAgdGhpcy5zY3JlZW4gPSBzY3JlZW47XG4gICAgdGhpcy50aW1lbGluZUNvbnRyb2xsZXIuY3JlYXRlQ2FwdGlvbnNUcmFjayh0aGlzLnRyYWNrTmFtZSk7XG4gIH07XG5cbiAgcmV0dXJuIE91dHB1dEZpbHRlcjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgb3V0cHV0X2ZpbHRlciA9IChPdXRwdXRGaWx0ZXIpO1xuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdXRpbHMvd2VidnR0LXBhcnNlci5qc1xuXG5cblxuXG4vLyBTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGggaXMgbm90IHN1cHBvcnRlZCBpbiBJRTExXG52YXIgc3RhcnRzV2l0aCA9IGZ1bmN0aW9uIHN0YXJ0c1dpdGgoaW5wdXRTdHJpbmcsIHNlYXJjaFN0cmluZywgcG9zaXRpb24pIHtcbiAgcmV0dXJuIGlucHV0U3RyaW5nLnN1YnN0cihwb3NpdGlvbiB8fCAwLCBzZWFyY2hTdHJpbmcubGVuZ3RoKSA9PT0gc2VhcmNoU3RyaW5nO1xufTtcblxudmFyIHdlYnZ0dF9wYXJzZXJfY3VlU3RyaW5nMm1pbGxpcyA9IGZ1bmN0aW9uIGN1ZVN0cmluZzJtaWxsaXModGltZVN0cmluZykge1xuICB2YXIgdHMgPSBwYXJzZUludCh0aW1lU3RyaW5nLnN1YnN0cigtMykpO1xuICB2YXIgc2VjcyA9IHBhcnNlSW50KHRpbWVTdHJpbmcuc3Vic3RyKC02LCAyKSk7XG4gIHZhciBtaW5zID0gcGFyc2VJbnQodGltZVN0cmluZy5zdWJzdHIoLTksIDIpKTtcbiAgdmFyIGhvdXJzID0gdGltZVN0cmluZy5sZW5ndGggPiA5ID8gcGFyc2VJbnQodGltZVN0cmluZy5zdWJzdHIoMCwgdGltZVN0cmluZy5pbmRleE9mKCc6JykpKSA6IDA7XG5cbiAgaWYgKCFPYmplY3QobnVtYmVyX2lzRmluaXRlW1wiYVwiIC8qIGlzRmluaXRlTnVtYmVyICovXSkodHMpIHx8ICFPYmplY3QobnVtYmVyX2lzRmluaXRlW1wiYVwiIC8qIGlzRmluaXRlTnVtYmVyICovXSkoc2VjcykgfHwgIU9iamVjdChudW1iZXJfaXNGaW5pdGVbXCJhXCIgLyogaXNGaW5pdGVOdW1iZXIgKi9dKShtaW5zKSB8fCAhT2JqZWN0KG51bWJlcl9pc0Zpbml0ZVtcImFcIiAvKiBpc0Zpbml0ZU51bWJlciAqL10pKGhvdXJzKSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHRzICs9IDEwMDAgKiBzZWNzO1xuICB0cyArPSA2MCAqIDEwMDAgKiBtaW5zO1xuICB0cyArPSA2MCAqIDYwICogMTAwMCAqIGhvdXJzO1xuXG4gIHJldHVybiB0cztcbn07XG5cbi8vIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtza3lhcHAvc3RyaW5nLWhhc2hcbnZhciBoYXNoID0gZnVuY3Rpb24gaGFzaCh0ZXh0KSB7XG4gIHZhciBoYXNoID0gNTM4MTtcbiAgdmFyIGkgPSB0ZXh0Lmxlbmd0aDtcbiAgd2hpbGUgKGkpIHtcbiAgICBoYXNoID0gaGFzaCAqIDMzIF4gdGV4dC5jaGFyQ29kZUF0KC0taSk7XG4gIH1cblxuICByZXR1cm4gKGhhc2ggPj4+IDApLnRvU3RyaW5nKCk7XG59O1xuXG52YXIgY2FsY3VsYXRlT2Zmc2V0ID0gZnVuY3Rpb24gY2FsY3VsYXRlT2Zmc2V0KHZ0dENDcywgY2MsIHByZXNlbnRhdGlvblRpbWUpIHtcbiAgdmFyIGN1cnJDQyA9IHZ0dENDc1tjY107XG4gIHZhciBwcmV2Q0MgPSB2dHRDQ3NbY3VyckNDLnByZXZDQ107XG5cbiAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgZGlzY29udGludWl0eSBvciBjdWVzIGhhdmUgYmVlbiBwcm9jZXNzZWQgc2luY2UgdGhlIGxhc3QgZGlzY29udGludWl0eVxuICAvLyBPZmZzZXQgPSBjdXJyZW50IGRpc2NvbnRpbnVpdHkgdGltZVxuICBpZiAoIXByZXZDQyB8fCAhcHJldkNDLm5ldyAmJiBjdXJyQ0MubmV3KSB7XG4gICAgdnR0Q0NzLmNjT2Zmc2V0ID0gdnR0Q0NzLnByZXNlbnRhdGlvbk9mZnNldCA9IGN1cnJDQy5zdGFydDtcbiAgICBjdXJyQ0MubmV3ID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gVGhlcmUgaGF2ZSBiZWVuIGRpc2NvbnRpbnVpdGllcyBzaW5jZSBjdWVzIHdlcmUgbGFzdCBwYXJzZWQuXG4gIC8vIE9mZnNldCA9IHRpbWUgZWxhcHNlZFxuICB3aGlsZSAocHJldkNDICYmIHByZXZDQy5uZXcpIHtcbiAgICB2dHRDQ3MuY2NPZmZzZXQgKz0gY3VyckNDLnN0YXJ0IC0gcHJldkNDLnN0YXJ0O1xuICAgIGN1cnJDQy5uZXcgPSBmYWxzZTtcbiAgICBjdXJyQ0MgPSBwcmV2Q0M7XG4gICAgcHJldkNDID0gdnR0Q0NzW2N1cnJDQy5wcmV2Q0NdO1xuICB9XG5cbiAgdnR0Q0NzLnByZXNlbnRhdGlvbk9mZnNldCA9IHByZXNlbnRhdGlvblRpbWU7XG59O1xuXG52YXIgV2ViVlRUUGFyc2VyID0ge1xuICBwYXJzZTogZnVuY3Rpb24gcGFyc2UodnR0Qnl0ZUFycmF5LCBzeW5jUFRTLCB2dHRDQ3MsIGNjLCBjYWxsQmFjaywgZXJyb3JDYWxsQmFjaykge1xuICAgIC8vIENvbnZlcnQgYnl0ZUFycmF5IGludG8gc3RyaW5nLCByZXBsYWNpbmcgYW55IHNvbWV3aGF0IGV4b3RpYyBsaW5lZmVlZHMgd2l0aCBcIlxcblwiLCB0aGVuIHNwbGl0IG9uIHRoYXQgY2hhcmFjdGVyLlxuICAgIHZhciByZSA9IC9cXHJcXG58XFxuXFxyfFxcbnxcXHIvZztcbiAgICAvLyBVaW50OEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgaXMgbm90IGltcGxlbWVudGVkIGluIElFMTFcbiAgICB2YXIgdnR0TGluZXMgPSBPYmplY3QoaWQzW1wiYlwiIC8qIHV0ZjhBcnJheVRvU3RyICovXSkobmV3IFVpbnQ4QXJyYXkodnR0Qnl0ZUFycmF5KSkudHJpbSgpLnJlcGxhY2UocmUsICdcXG4nKS5zcGxpdCgnXFxuJyk7XG5cbiAgICB2YXIgY3VlVGltZSA9ICcwMDowMC4wMDAnO1xuICAgIHZhciBtcGVnVHMgPSAwO1xuICAgIHZhciBsb2NhbFRpbWUgPSAwO1xuICAgIHZhciBwcmVzZW50YXRpb25UaW1lID0gMDtcbiAgICB2YXIgY3VlcyA9IFtdO1xuICAgIHZhciBwYXJzaW5nRXJyb3IgPSB2b2lkIDA7XG4gICAgdmFyIGluSGVhZGVyID0gdHJ1ZTtcbiAgICAvLyBsZXQgVlRUQ3VlID0gVlRUQ3VlIHx8IHdpbmRvdy5UZXh0VHJhY2tDdWU7XG5cbiAgICAvLyBDcmVhdGUgcGFyc2VyIG9iamVjdCB1c2luZyBWVFRDdWUgd2l0aCBUZXh0VHJhY2tDdWUgZmFsbGJhY2sgb24gY2VydGFpbiBicm93c2Vycy5cbiAgICB2YXIgcGFyc2VyID0gbmV3IHZ0dHBhcnNlcigpO1xuXG4gICAgcGFyc2VyLm9uY3VlID0gZnVuY3Rpb24gKGN1ZSkge1xuICAgICAgLy8gQWRqdXN0IGN1ZSB0aW1pbmc7IGNsYW1wIGN1ZXMgdG8gc3RhcnQgbm8gZWFybGllciB0aGFuIC0gYW5kIGRyb3AgY3VlcyB0aGF0IGRvbid0IGVuZCBhZnRlciAtIDAgb24gdGltZWxpbmUuXG4gICAgICB2YXIgY3VyckNDID0gdnR0Q0NzW2NjXTtcbiAgICAgIHZhciBjdWVPZmZzZXQgPSB2dHRDQ3MuY2NPZmZzZXQ7XG5cbiAgICAgIC8vIFVwZGF0ZSBvZmZzZXRzIGZvciBuZXcgZGlzY29udGludWl0aWVzXG4gICAgICBpZiAoY3VyckNDICYmIGN1cnJDQy5uZXcpIHtcbiAgICAgICAgaWYgKGxvY2FsVGltZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBsb2NhbCB0aW1lIGlzIHByb3ZpZGVkLCBvZmZzZXQgPSBkaXNjb250aW51aXR5IHN0YXJ0IHRpbWUgLSBsb2NhbCB0aW1lXG4gICAgICAgICAgY3VlT2Zmc2V0ID0gdnR0Q0NzLmNjT2Zmc2V0ID0gY3VyckNDLnN0YXJ0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGN1bGF0ZU9mZnNldCh2dHRDQ3MsIGNjLCBwcmVzZW50YXRpb25UaW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJlc2VudGF0aW9uVGltZSkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIE1QRUdUUywgb2Zmc2V0ID0gcHJlc2VudGF0aW9uIHRpbWUgKyBkaXNjb250aW51aXR5IG9mZnNldFxuICAgICAgICBjdWVPZmZzZXQgPSBwcmVzZW50YXRpb25UaW1lICsgdnR0Q0NzLmNjT2Zmc2V0IC0gdnR0Q0NzLnByZXNlbnRhdGlvbk9mZnNldDtcbiAgICAgIH1cblxuICAgICAgY3VlLnN0YXJ0VGltZSArPSBjdWVPZmZzZXQgLSBsb2NhbFRpbWU7XG4gICAgICBjdWUuZW5kVGltZSArPSBjdWVPZmZzZXQgLSBsb2NhbFRpbWU7XG5cbiAgICAgIC8vIENyZWF0ZSBhIHVuaXF1ZSBoYXNoIGlkIGZvciBhIGN1ZSBiYXNlZCBvbiBzdGFydC9lbmQgdGltZXMgYW5kIHRleHQuXG4gICAgICAvLyBUaGlzIGhlbHBzIHRpbWVsaW5lLWNvbnRyb2xsZXIgdG8gYXZvaWQgc2hvd2luZyByZXBlYXRlZCBjYXB0aW9ucy5cbiAgICAgIGN1ZS5pZCA9IGhhc2goY3VlLnN0YXJ0VGltZS50b1N0cmluZygpKSArIGhhc2goY3VlLmVuZFRpbWUudG9TdHJpbmcoKSkgKyBoYXNoKGN1ZS50ZXh0KTtcblxuICAgICAgLy8gRml4IGVuY29kaW5nIG9mIHNwZWNpYWwgY2hhcmFjdGVycy4gVE9ETzogVGVzdCB3aXRoIGFsbCBzb3J0cyBvZiB3ZWlyZCBjaGFyYWN0ZXJzLlxuICAgICAgY3VlLnRleHQgPSBkZWNvZGVVUklDb21wb25lbnQoZW5jb2RlVVJJQ29tcG9uZW50KGN1ZS50ZXh0KSk7XG4gICAgICBpZiAoY3VlLmVuZFRpbWUgPiAwKSB7XG4gICAgICAgIGN1ZXMucHVzaChjdWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBwYXJzZXIub25wYXJzaW5nZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcGFyc2luZ0Vycm9yID0gZTtcbiAgICB9O1xuXG4gICAgcGFyc2VyLm9uZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocGFyc2luZ0Vycm9yICYmIGVycm9yQ2FsbEJhY2spIHtcbiAgICAgICAgZXJyb3JDYWxsQmFjayhwYXJzaW5nRXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYWxsQmFjayhjdWVzKTtcbiAgICB9O1xuXG4gICAgLy8gR28gdGhyb3VnaCBjb250ZW50cyBsaW5lIGJ5IGxpbmUuXG4gICAgdnR0TGluZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZSkge1xuICAgICAgaWYgKGluSGVhZGVyKSB7XG4gICAgICAgIC8vIExvb2sgZm9yIFgtVElNRVNUQU1QLU1BUCBpbiBoZWFkZXIuXG4gICAgICAgIGlmIChzdGFydHNXaXRoKGxpbmUsICdYLVRJTUVTVEFNUC1NQVA9JykpIHtcbiAgICAgICAgICAvLyBPbmNlIGZvdW5kLCBubyBtb3JlIGFyZSBhbGxvd2VkIGFueXdheSwgc28gc3RvcCBzZWFyY2hpbmcuXG4gICAgICAgICAgaW5IZWFkZXIgPSBmYWxzZTtcbiAgICAgICAgICAvLyBFeHRyYWN0IExPQ0FMIGFuZCBNUEVHVFMuXG4gICAgICAgICAgbGluZS5zdWJzdHIoMTYpLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbiAodGltZXN0YW1wKSB7XG4gICAgICAgICAgICBpZiAoc3RhcnRzV2l0aCh0aW1lc3RhbXAsICdMT0NBTDonKSkge1xuICAgICAgICAgICAgICBjdWVUaW1lID0gdGltZXN0YW1wLnN1YnN0cig2KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRzV2l0aCh0aW1lc3RhbXAsICdNUEVHVFM6JykpIHtcbiAgICAgICAgICAgICAgbXBlZ1RzID0gcGFyc2VJbnQodGltZXN0YW1wLnN1YnN0cig3KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBzdWJ0aXRsZSBvZmZzZXQgaW4gbWlsbGlzZWNvbmRzLlxuICAgICAgICAgICAgLy8gSWYgc3luYyBQVFMgaXMgbGVzcyB0aGFuIHplcm8sIHdlIGhhdmUgYSAzMy1iaXQgd3JhcGFyb3VuZCwgd2hpY2ggaXMgZml4ZWQgYnkgYWRkaW5nIDJeMzMgPSA4NTg5OTM0NTkyLlxuICAgICAgICAgICAgc3luY1BUUyA9IHN5bmNQVFMgPCAwID8gc3luY1BUUyArIDg1ODk5MzQ1OTIgOiBzeW5jUFRTO1xuICAgICAgICAgICAgLy8gQWRqdXN0IE1QRUdUUyBieSBzeW5jIFBUUy5cbiAgICAgICAgICAgIG1wZWdUcyAtPSBzeW5jUFRTO1xuICAgICAgICAgICAgLy8gQ29udmVydCBjdWUgdGltZSB0byBzZWNvbmRzXG4gICAgICAgICAgICBsb2NhbFRpbWUgPSB3ZWJ2dHRfcGFyc2VyX2N1ZVN0cmluZzJtaWxsaXMoY3VlVGltZSkgLyAxMDAwO1xuICAgICAgICAgICAgLy8gQ29udmVydCBNUEVHVFMgdG8gc2Vjb25kcyBmcm9tIDkwa0h6LlxuICAgICAgICAgICAgcHJlc2VudGF0aW9uVGltZSA9IG1wZWdUcyAvIDkwMDAwO1xuXG4gICAgICAgICAgICBpZiAobG9jYWxUaW1lID09PSAtMSkge1xuICAgICAgICAgICAgICBwYXJzaW5nRXJyb3IgPSBuZXcgRXJyb3IoJ01hbGZvcm1lZCBYLVRJTUVTVEFNUC1NQVA6ICcgKyBsaW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBwYXJzaW5nRXJyb3IgPSBuZXcgRXJyb3IoJ01hbGZvcm1lZCBYLVRJTUVTVEFNUC1NQVA6ICcgKyBsaW5lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUmV0dXJuIHdpdGhvdXQgcGFyc2luZyBYLVRJTUVTVEFNUC1NQVAgbGluZS5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAobGluZSA9PT0gJycpIHtcbiAgICAgICAgICBpbkhlYWRlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBQYXJzZSBsaW5lIGJ5IGRlZmF1bHQuXG4gICAgICBwYXJzZXIucGFyc2UobGluZSArICdcXG4nKTtcbiAgICB9KTtcblxuICAgIHBhcnNlci5mbHVzaCgpO1xuICB9XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB3ZWJ2dHRfcGFyc2VyID0gKFdlYlZUVFBhcnNlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL3RpbWVsaW5lLWNvbnRyb2xsZXIuanNcbmZ1bmN0aW9uIHRpbWVsaW5lX2NvbnRyb2xsZXJfX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gdGltZWxpbmVfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gdGltZWxpbmVfY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIFRpbWVsaW5lIENvbnRyb2xsZXJcbiovXG5cblxuXG5cblxuXG5cblxuXG5mdW5jdGlvbiByZXVzZVZ0dFRleHRUcmFjayhpblVzZVRyYWNrLCBtYW5pZmVzdFRyYWNrKSB7XG4gIHJldHVybiBpblVzZVRyYWNrICYmIGluVXNlVHJhY2subGFiZWwgPT09IG1hbmlmZXN0VHJhY2submFtZSAmJiAhKGluVXNlVHJhY2sudGV4dFRyYWNrMSB8fCBpblVzZVRyYWNrLnRleHRUcmFjazIpO1xufVxuXG5mdW5jdGlvbiBpbnRlcnNlY3Rpb24oeDEsIHgyLCB5MSwgeTIpIHtcbiAgcmV0dXJuIE1hdGgubWluKHgyLCB5MikgLSBNYXRoLm1heCh4MSwgeTEpO1xufVxuXG52YXIgdGltZWxpbmVfY29udHJvbGxlcl9UaW1lbGluZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoX0V2ZW50SGFuZGxlcikge1xuICB0aW1lbGluZV9jb250cm9sbGVyX19pbmhlcml0cyhUaW1lbGluZUNvbnRyb2xsZXIsIF9FdmVudEhhbmRsZXIpO1xuXG4gIGZ1bmN0aW9uIFRpbWVsaW5lQ29udHJvbGxlcihobHMpIHtcbiAgICB0aW1lbGluZV9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBUaW1lbGluZUNvbnRyb2xsZXIpO1xuXG4gICAgdmFyIF90aGlzID0gdGltZWxpbmVfY29udHJvbGxlcl9fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRIYW5kbGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfQVRUQUNISU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfREVUQUNISU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTSU5HX1VTRVJEQVRBLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19ERUNSWVBURUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FESU5HLCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5MRVZFTF9TV0lUQ0hJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5JTklUX1BUU19GT1VORCkpO1xuXG4gICAgX3RoaXMuaGxzID0gaGxzO1xuICAgIF90aGlzLmNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgX3RoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgX3RoaXMuQ3VlcyA9IGhscy5jb25maWcuY3VlSGFuZGxlcjtcbiAgICBfdGhpcy50ZXh0VHJhY2tzID0gW107XG4gICAgX3RoaXMudHJhY2tzID0gW107XG4gICAgX3RoaXMudW5wYXJzZWRWdHRGcmFncyA9IFtdO1xuICAgIF90aGlzLmluaXRQVFMgPSB1bmRlZmluZWQ7XG4gICAgX3RoaXMuY3VlUmFuZ2VzID0gW107XG4gICAgX3RoaXMuY2FwdGlvbnNUcmFja3MgPSB7fTtcblxuICAgIF90aGlzLmNhcHRpb25zUHJvcGVydGllcyA9IHtcbiAgICAgIHRleHRUcmFjazE6IHtcbiAgICAgICAgbGFiZWw6IF90aGlzLmNvbmZpZy5jYXB0aW9uc1RleHRUcmFjazFMYWJlbCxcbiAgICAgICAgbGFuZ3VhZ2VDb2RlOiBfdGhpcy5jb25maWcuY2FwdGlvbnNUZXh0VHJhY2sxTGFuZ3VhZ2VDb2RlXG4gICAgICB9LFxuICAgICAgdGV4dFRyYWNrMjoge1xuICAgICAgICBsYWJlbDogX3RoaXMuY29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMkxhYmVsLFxuICAgICAgICBsYW5ndWFnZUNvZGU6IF90aGlzLmNvbmZpZy5jYXB0aW9uc1RleHRUcmFjazJMYW5ndWFnZUNvZGVcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKF90aGlzLmNvbmZpZy5lbmFibGVDRUE3MDhDYXB0aW9ucykge1xuICAgICAgdmFyIGNoYW5uZWwxID0gbmV3IG91dHB1dF9maWx0ZXIoX3RoaXMsICd0ZXh0VHJhY2sxJyk7XG4gICAgICB2YXIgY2hhbm5lbDIgPSBuZXcgb3V0cHV0X2ZpbHRlcihfdGhpcywgJ3RleHRUcmFjazInKTtcblxuICAgICAgX3RoaXMuY2VhNjA4UGFyc2VyID0gbmV3IGNlYV82MDhfcGFyc2VyKDAsIGNoYW5uZWwxLCBjaGFubmVsMik7XG4gICAgfVxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuYWRkQ3VlcyA9IGZ1bmN0aW9uIGFkZEN1ZXModHJhY2tOYW1lLCBzdGFydFRpbWUsIGVuZFRpbWUsIHNjcmVlbikge1xuICAgIC8vIHNraXAgY3VlcyB3aGljaCBvdmVybGFwIG1vcmUgdGhhbiA1MCUgd2l0aCBwcmV2aW91c2x5IHBhcnNlZCB0aW1lIHJhbmdlc1xuICAgIHZhciByYW5nZXMgPSB0aGlzLmN1ZVJhbmdlcztcbiAgICB2YXIgbWVyZ2VkID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IHJhbmdlcy5sZW5ndGg7IGktLTspIHtcbiAgICAgIHZhciBjdWVSYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgIHZhciBvdmVybGFwID0gaW50ZXJzZWN0aW9uKGN1ZVJhbmdlWzBdLCBjdWVSYW5nZVsxXSwgc3RhcnRUaW1lLCBlbmRUaW1lKTtcbiAgICAgIGlmIChvdmVybGFwID49IDApIHtcbiAgICAgICAgY3VlUmFuZ2VbMF0gPSBNYXRoLm1pbihjdWVSYW5nZVswXSwgc3RhcnRUaW1lKTtcbiAgICAgICAgY3VlUmFuZ2VbMV0gPSBNYXRoLm1heChjdWVSYW5nZVsxXSwgZW5kVGltZSk7XG4gICAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgICAgIGlmIChvdmVybGFwIC8gKGVuZFRpbWUgLSBzdGFydFRpbWUpID4gMC41KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbWVyZ2VkKSB7XG4gICAgICByYW5nZXMucHVzaChbc3RhcnRUaW1lLCBlbmRUaW1lXSk7XG4gICAgfVxuXG4gICAgdGhpcy5DdWVzLm5ld0N1ZSh0aGlzLmNhcHRpb25zVHJhY2tzW3RyYWNrTmFtZV0sIHN0YXJ0VGltZSwgZW5kVGltZSwgc2NyZWVuKTtcbiAgfTtcblxuICAvLyBUcmlnZ2VyZWQgd2hlbiBhbiBpbml0aWFsIFBUUyBpcyBmb3VuZDsgdXNlZCBmb3Igc3luY2hyb25pc2F0aW9uIG9mIFdlYlZUVC5cblxuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25Jbml0UHRzRm91bmQgPSBmdW5jdGlvbiBvbkluaXRQdHNGb3VuZChkYXRhKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBpZiAodHlwZW9mIHRoaXMuaW5pdFBUUyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuaW5pdFBUUyA9IGRhdGEuaW5pdFBUUztcbiAgICB9XG5cbiAgICAvLyBEdWUgdG8gYXN5bmNocm9ueSwgaW5pdGlhbCBQVFMgbWF5IGFycml2ZSBsYXRlciB0aGFuIHRoZSBmaXJzdCBWVFQgZnJhZ21lbnRzIGFyZSBsb2FkZWQuXG4gICAgLy8gUGFyc2UgYW55IHVucGFyc2VkIGZyYWdtZW50cyB1cG9uIHJlY2VpdmluZyB0aGUgaW5pdGlhbCBQVFMuXG4gICAgaWYgKHRoaXMudW5wYXJzZWRWdHRGcmFncy5sZW5ndGgpIHtcbiAgICAgIHRoaXMudW5wYXJzZWRWdHRGcmFncy5mb3JFYWNoKGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgICAgIF90aGlzMi5vbkZyYWdMb2FkZWQoZnJhZyk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMudW5wYXJzZWRWdHRGcmFncyA9IFtdO1xuICAgIH1cbiAgfTtcblxuICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLmdldEV4aXN0aW5nVHJhY2sgPSBmdW5jdGlvbiBnZXRFeGlzdGluZ1RyYWNrKHRyYWNrTmFtZSkge1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG5cbiAgICBpZiAobWVkaWEpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVkaWEudGV4dFRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdGV4dFRyYWNrID0gbWVkaWEudGV4dFRyYWNrc1tpXTtcbiAgICAgICAgaWYgKHRleHRUcmFja1t0cmFja05hbWVdKSB7XG4gICAgICAgICAgcmV0dXJuIHRleHRUcmFjaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLmNyZWF0ZUNhcHRpb25zVHJhY2sgPSBmdW5jdGlvbiBjcmVhdGVDYXB0aW9uc1RyYWNrKHRyYWNrTmFtZSkge1xuICAgIHZhciBfY2FwdGlvbnNQcm9wZXJ0aWVzJHQgPSB0aGlzLmNhcHRpb25zUHJvcGVydGllc1t0cmFja05hbWVdLFxuICAgICAgICBsYWJlbCA9IF9jYXB0aW9uc1Byb3BlcnRpZXMkdC5sYWJlbCxcbiAgICAgICAgbGFuZ3VhZ2VDb2RlID0gX2NhcHRpb25zUHJvcGVydGllcyR0Lmxhbmd1YWdlQ29kZTtcblxuICAgIHZhciBjYXB0aW9uc1RyYWNrcyA9IHRoaXMuY2FwdGlvbnNUcmFja3M7XG4gICAgaWYgKCFjYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdKSB7XG4gICAgICAvLyBFbmFibGUgcmV1c2Ugb2YgZXhpc3RpbmcgdGV4dCB0cmFjay5cbiAgICAgIHZhciBleGlzdGluZ1RyYWNrID0gdGhpcy5nZXRFeGlzdGluZ1RyYWNrKHRyYWNrTmFtZSk7XG4gICAgICBpZiAoIWV4aXN0aW5nVHJhY2spIHtcbiAgICAgICAgdmFyIHRleHRUcmFjayA9IHRoaXMuY3JlYXRlVGV4dFRyYWNrKCdjYXB0aW9ucycsIGxhYmVsLCBsYW5ndWFnZUNvZGUpO1xuICAgICAgICBpZiAodGV4dFRyYWNrKSB7XG4gICAgICAgICAgLy8gU2V0IGEgc3BlY2lhbCBwcm9wZXJ0eSBvbiB0aGUgdHJhY2sgc28gd2Uga25vdyBpdCdzIG1hbmFnZWQgYnkgSGxzLmpzXG4gICAgICAgICAgdGV4dFRyYWNrW3RyYWNrTmFtZV0gPSB0cnVlO1xuICAgICAgICAgIGNhcHRpb25zVHJhY2tzW3RyYWNrTmFtZV0gPSB0ZXh0VHJhY2s7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcHRpb25zVHJhY2tzW3RyYWNrTmFtZV0gPSBleGlzdGluZ1RyYWNrO1xuICAgICAgICBjbGVhckN1cnJlbnRDdWVzKGNhcHRpb25zVHJhY2tzW3RyYWNrTmFtZV0pO1xuICAgICAgICBzZW5kQWRkVHJhY2tFdmVudChjYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdLCB0aGlzLm1lZGlhKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5jcmVhdGVUZXh0VHJhY2sgPSBmdW5jdGlvbiBjcmVhdGVUZXh0VHJhY2soa2luZCwgbGFiZWwsIGxhbmcpIHtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgIGlmIChtZWRpYSkge1xuICAgICAgcmV0dXJuIG1lZGlhLmFkZFRleHRUcmFjayhraW5kLCBsYWJlbCwgbGFuZyk7XG4gICAgfVxuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgZXZlbnRfaGFuZGxlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGluZyA9IGZ1bmN0aW9uIG9uTWVkaWFBdHRhY2hpbmcoZGF0YSkge1xuICAgIHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICAgIHRoaXMuX2NsZWFuVHJhY2tzKCk7XG4gIH07XG5cbiAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nID0gZnVuY3Rpb24gb25NZWRpYURldGFjaGluZygpIHtcbiAgICB2YXIgY2FwdGlvbnNUcmFja3MgPSB0aGlzLmNhcHRpb25zVHJhY2tzO1xuXG4gICAgT2JqZWN0LmtleXMoY2FwdGlvbnNUcmFja3MpLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrTmFtZSkge1xuICAgICAgY2xlYXJDdXJyZW50Q3VlcyhjYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdKTtcbiAgICAgIGRlbGV0ZSBjYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdO1xuICAgIH0pO1xuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRpbmcgPSBmdW5jdGlvbiBvbk1hbmlmZXN0TG9hZGluZygpIHtcbiAgICB0aGlzLmxhc3RTbiA9IC0xOyAvLyBEZXRlY3QgZGlzY29udGlndWl0eSBpbiBmcmFnbWVudCBwYXJzaW5nXG4gICAgdGhpcy5wcmV2Q0MgPSAtMTtcbiAgICB0aGlzLnZ0dENDcyA9IHsgY2NPZmZzZXQ6IDAsIHByZXNlbnRhdGlvbk9mZnNldDogMCB9OyAvLyBEZXRlY3QgZGlzY29udGludWl0eSBpbiBzdWJ0aXRsZSBtYW5pZmVzdHNcbiAgICB0aGlzLl9jbGVhblRyYWNrcygpO1xuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuX2NsZWFuVHJhY2tzID0gZnVuY3Rpb24gX2NsZWFuVHJhY2tzKCkge1xuICAgIC8vIGNsZWFyIG91dGRhdGVkIHN1YnRpdGxlc1xuICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgaWYgKG1lZGlhKSB7XG4gICAgICB2YXIgdGV4dFRyYWNrcyA9IG1lZGlhLnRleHRUcmFja3M7XG4gICAgICBpZiAodGV4dFRyYWNrcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRUcmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjbGVhckN1cnJlbnRDdWVzKHRleHRUcmFja3NbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRlZCA9IGZ1bmN0aW9uIG9uTWFuaWZlc3RMb2FkZWQoZGF0YSkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdGhpcy50ZXh0VHJhY2tzID0gW107XG4gICAgdGhpcy51bnBhcnNlZFZ0dEZyYWdzID0gdGhpcy51bnBhcnNlZFZ0dEZyYWdzIHx8IFtdO1xuICAgIHRoaXMuaW5pdFBUUyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmN1ZVJhbmdlcyA9IFtdO1xuXG4gICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZVdlYlZUVCkge1xuICAgICAgdGhpcy50cmFja3MgPSBkYXRhLnN1YnRpdGxlcyB8fCBbXTtcbiAgICAgIHZhciBpblVzZVRyYWNrcyA9IHRoaXMubWVkaWEgPyB0aGlzLm1lZGlhLnRleHRUcmFja3MgOiBbXTtcblxuICAgICAgdGhpcy50cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2ssIGluZGV4KSB7XG4gICAgICAgIHZhciB0ZXh0VHJhY2sgPSB2b2lkIDA7XG4gICAgICAgIGlmIChpbmRleCA8IGluVXNlVHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBpblVzZVRyYWNrID0gaW5Vc2VUcmFja3NbaW5kZXhdO1xuICAgICAgICAgIC8vIFJldXNlIHRyYWNrcyB3aXRoIHRoZSBzYW1lIGxhYmVsLCBidXQgZG8gbm90IHJldXNlIDYwOC83MDggdHJhY2tzXG4gICAgICAgICAgaWYgKHJldXNlVnR0VGV4dFRyYWNrKGluVXNlVHJhY2ssIHRyYWNrKSkge1xuICAgICAgICAgICAgdGV4dFRyYWNrID0gaW5Vc2VUcmFjaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0ZXh0VHJhY2spIHtcbiAgICAgICAgICB0ZXh0VHJhY2sgPSBfdGhpczMuY3JlYXRlVGV4dFRyYWNrKCdzdWJ0aXRsZXMnLCB0cmFjay5uYW1lLCB0cmFjay5sYW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFjay5kZWZhdWx0KSB7XG4gICAgICAgICAgdGV4dFRyYWNrLm1vZGUgPSBfdGhpczMuaGxzLnN1YnRpdGxlRGlzcGxheSA/ICdzaG93aW5nJyA6ICdoaWRkZW4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHRUcmFjay5tb2RlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMy50ZXh0VHJhY2tzLnB1c2godGV4dFRyYWNrKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTGV2ZWxTd2l0Y2hpbmcgPSBmdW5jdGlvbiBvbkxldmVsU3dpdGNoaW5nKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRoaXMuaGxzLmN1cnJlbnRMZXZlbC5jbG9zZWRDYXB0aW9ucyAhPT0gJ05PTkUnO1xuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZGVkID0gZnVuY3Rpb24gb25GcmFnTG9hZGVkKGRhdGEpIHtcbiAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZyxcbiAgICAgICAgcGF5bG9hZCA9IGRhdGEucGF5bG9hZDtcbiAgICBpZiAoZnJhZy50eXBlID09PSAnbWFpbicpIHtcbiAgICAgIHZhciBzbiA9IGZyYWcuc247XG4gICAgICAvLyBpZiB0aGlzIGZyYWcgaXNuJ3QgY29udGlndW91cywgY2xlYXIgdGhlIHBhcnNlciBzbyBjdWVzIHdpdGggYmFkIHN0YXJ0L2VuZCB0aW1lcyBhcmVuJ3QgYWRkZWQgdG8gdGhlIHRleHRUcmFja1xuICAgICAgaWYgKHNuICE9PSB0aGlzLmxhc3RTbiArIDEpIHtcbiAgICAgICAgdmFyIGNlYTYwOFBhcnNlciA9IHRoaXMuY2VhNjA4UGFyc2VyO1xuICAgICAgICBpZiAoY2VhNjA4UGFyc2VyKSB7XG4gICAgICAgICAgY2VhNjA4UGFyc2VyLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdFNuID0gc247XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJyYWNlLXN0eWxlXG4gICAgLy8gSWYgZnJhZ21lbnQgaXMgc3VidGl0bGUgdHlwZSwgcGFyc2UgYXMgV2ViVlRULlxuICAgIGVsc2UgaWYgKGZyYWcudHlwZSA9PT0gJ3N1YnRpdGxlJykge1xuICAgICAgICBpZiAocGF5bG9hZC5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgLy8gV2UgbmVlZCBhbiBpbml0aWFsIHN5bmNocm9uaXNhdGlvbiBQVFMuIFN0b3JlIGZyYWdtZW50cyBhcyBsb25nIGFzIG5vbmUgaGFzIGFycml2ZWQuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmluaXRQVFMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnVucGFyc2VkVnR0RnJhZ3MucHVzaChkYXRhKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZGVjcnlwdERhdGEgPSBmcmFnLmRlY3J5cHRkYXRhO1xuICAgICAgICAgIC8vIElmIHRoZSBzdWJ0aXRsZXMgYXJlIG5vdCBlbmNyeXB0ZWQsIHBhcnNlIFZUVHMgbm93LiBPdGhlcndpc2UsIHdlIG5lZWQgdG8gd2FpdC5cbiAgICAgICAgICBpZiAoZGVjcnlwdERhdGEgPT0gbnVsbCB8fCBkZWNyeXB0RGF0YS5rZXkgPT0gbnVsbCB8fCBkZWNyeXB0RGF0YS5tZXRob2QgIT09ICdBRVMtMTI4Jykge1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VWVFRzKGZyYWcsIHBheWxvYWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJbiBjYXNlIHRoZXJlIGlzIG5vIHBheWxvYWQsIGZpbmlzaCB1bnN1Y2Nlc3NmdWxseS5cbiAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5TVUJUSVRMRV9GUkFHX1BST0NFU1NFRCwgeyBzdWNjZXNzOiBmYWxzZSwgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuX3BhcnNlVlRUcyA9IGZ1bmN0aW9uIF9wYXJzZVZUVHMoZnJhZywgcGF5bG9hZCkge1xuICAgIHZhciB2dHRDQ3MgPSB0aGlzLnZ0dENDcztcbiAgICBpZiAoIXZ0dENDc1tmcmFnLmNjXSkge1xuICAgICAgdnR0Q0NzW2ZyYWcuY2NdID0geyBzdGFydDogZnJhZy5zdGFydCwgcHJldkNDOiB0aGlzLnByZXZDQywgbmV3OiB0cnVlIH07XG4gICAgICB0aGlzLnByZXZDQyA9IGZyYWcuY2M7XG4gICAgfVxuICAgIHZhciB0ZXh0VHJhY2tzID0gdGhpcy50ZXh0VHJhY2tzLFxuICAgICAgICBobHMgPSB0aGlzLmhscztcblxuICAgIC8vIFBhcnNlIHRoZSBXZWJWVFQgZmlsZSBjb250ZW50cy5cbiAgICB3ZWJ2dHRfcGFyc2VyLnBhcnNlKHBheWxvYWQsIHRoaXMuaW5pdFBUUywgdnR0Q0NzLCBmcmFnLmNjLCBmdW5jdGlvbiAoY3Vlcykge1xuICAgICAgdmFyIGN1cnJlbnRUcmFjayA9IHRleHRUcmFja3NbZnJhZy50cmFja0lkXTtcbiAgICAgIC8vIFdlYlZUVFBhcnNlci5wYXJzZSBpcyBhbiBhc3luYyBtZXRob2QgYW5kIGlmIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdGV4dCB0cmFjayBtb2RlIGlzIHNldCB0byBcImRpc2FibGVkXCJcbiAgICAgIC8vIGJlZm9yZSBwYXJzaW5nIGlzIGRvbmUgdGhlbiBkb24ndCB0cnkgdG8gYWNjZXNzIGN1cnJlbnRUcmFjay5jdWVzLmdldEN1ZUJ5SWQgYXMgY3VlcyB3aWxsIGJlIG51bGxcbiAgICAgIC8vIGFuZCB0cnlpbmcgdG8gYWNjZXNzIGdldEN1ZUJ5SWQgbWV0aG9kIG9mIGN1ZXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb25cbiAgICAgIGlmIChjdXJyZW50VHJhY2subW9kZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfRlJBR19QUk9DRVNTRUQsIHsgc3VjY2VzczogZmFsc2UsIGZyYWc6IGZyYWcgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEFkZCBjdWVzIGFuZCB0cmlnZ2VyIGV2ZW50IHdpdGggc3VjY2VzcyB0cnVlLlxuICAgICAgY3Vlcy5mb3JFYWNoKGZ1bmN0aW9uIChjdWUpIHtcbiAgICAgICAgLy8gU29tZXRpbWVzIHRoZXJlIGFyZSBjdWUgb3ZlcmxhcHMgb24gc2VnbWVudGVkIHZ0dHMgc28gdGhlIHNhbWVcbiAgICAgICAgLy8gY3VlIGNhbiBhcHBlYXIgbW9yZSB0aGFuIG9uY2UgaW4gZGlmZmVyZW50IHZ0dCBmaWxlcy5cbiAgICAgICAgLy8gVGhpcyBhdm9pZCBzaG93aW5nIGR1cGxpY2F0ZWQgY3VlcyB3aXRoIHNhbWUgdGltZWNvZGUgYW5kIHRleHQuXG4gICAgICAgIGlmICghY3VycmVudFRyYWNrLmN1ZXMuZ2V0Q3VlQnlJZChjdWUuaWQpKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGN1cnJlbnRUcmFjay5hZGRDdWUoY3VlKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0VHJhY2tDdWUgPSBuZXcgd2luZG93LlRleHRUcmFja0N1ZShjdWUuc3RhcnRUaW1lLCBjdWUuZW5kVGltZSwgY3VlLnRleHQpO1xuICAgICAgICAgICAgdGV4dFRyYWNrQ3VlLmlkID0gY3VlLmlkO1xuICAgICAgICAgICAgY3VycmVudFRyYWNrLmFkZEN1ZSh0ZXh0VHJhY2tDdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfRlJBR19QUk9DRVNTRUQsIHsgc3VjY2VzczogdHJ1ZSwgZnJhZzogZnJhZyB9KTtcbiAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgcGFyc2luZy4gVHJpZ2dlciBldmVudCB3aXRoIHN1Y2Nlc3MgZmFsc2UuXG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ0ZhaWxlZCB0byBwYXJzZSBWVFQgY3VlOiAnICsgZSk7XG4gICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfRlJBR19QUk9DRVNTRUQsIHsgc3VjY2VzczogZmFsc2UsIGZyYWc6IGZyYWcgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdEZWNyeXB0ZWQgPSBmdW5jdGlvbiBvbkZyYWdEZWNyeXB0ZWQoZGF0YSkge1xuICAgIHZhciBkZWNyeXB0ZWREYXRhID0gZGF0YS5wYXlsb2FkLFxuICAgICAgICBmcmFnID0gZGF0YS5mcmFnO1xuXG4gICAgaWYgKGZyYWcudHlwZSA9PT0gJ3N1YnRpdGxlJykge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLmluaXRQVFMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMudW5wYXJzZWRWdHRGcmFncy5wdXNoKGRhdGEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3BhcnNlVlRUcyhmcmFnLCBkZWNyeXB0ZWREYXRhKTtcbiAgICB9XG4gIH07XG5cbiAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzaW5nVXNlcmRhdGEgPSBmdW5jdGlvbiBvbkZyYWdQYXJzaW5nVXNlcmRhdGEoZGF0YSkge1xuICAgIC8vIHB1c2ggYWxsIG9mIHRoZSBDRUEtNzA4IG1lc3NhZ2VzIGludG8gdGhlIGludGVycHJldGVyXG4gICAgLy8gaW1tZWRpYXRlbHkuIEl0IHdpbGwgY3JlYXRlIHRoZSBwcm9wZXIgdGltZXN0YW1wcyBiYXNlZCBvbiBvdXIgUFRTIHZhbHVlXG4gICAgaWYgKHRoaXMuZW5hYmxlZCAmJiB0aGlzLmNvbmZpZy5lbmFibGVDRUE3MDhDYXB0aW9ucykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNjZGF0YXMgPSB0aGlzLmV4dHJhY3RDZWE2MDhEYXRhKGRhdGEuc2FtcGxlc1tpXS5ieXRlcyk7XG4gICAgICAgIHRoaXMuY2VhNjA4UGFyc2VyLmFkZERhdGEoZGF0YS5zYW1wbGVzW2ldLnB0cywgY2NkYXRhcyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZXh0cmFjdENlYTYwOERhdGEgPSBmdW5jdGlvbiBleHRyYWN0Q2VhNjA4RGF0YShieXRlQXJyYXkpIHtcbiAgICB2YXIgY291bnQgPSBieXRlQXJyYXlbMF0gJiAzMTtcbiAgICB2YXIgcG9zaXRpb24gPSAyO1xuICAgIHZhciB0bXBCeXRlID0gdm9pZCAwLFxuICAgICAgICBjY2J5dGUxID0gdm9pZCAwLFxuICAgICAgICBjY2J5dGUyID0gdm9pZCAwLFxuICAgICAgICBjY1ZhbGlkID0gdm9pZCAwLFxuICAgICAgICBjY1R5cGUgPSB2b2lkIDA7XG4gICAgdmFyIGFjdHVhbENDQnl0ZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgY291bnQ7IGorKykge1xuICAgICAgdG1wQnl0ZSA9IGJ5dGVBcnJheVtwb3NpdGlvbisrXTtcbiAgICAgIGNjYnl0ZTEgPSAweDdGICYgYnl0ZUFycmF5W3Bvc2l0aW9uKytdO1xuICAgICAgY2NieXRlMiA9IDB4N0YgJiBieXRlQXJyYXlbcG9zaXRpb24rK107XG4gICAgICBjY1ZhbGlkID0gKDQgJiB0bXBCeXRlKSAhPT0gMDtcbiAgICAgIGNjVHlwZSA9IDMgJiB0bXBCeXRlO1xuXG4gICAgICBpZiAoY2NieXRlMSA9PT0gMCAmJiBjY2J5dGUyID09PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2NWYWxpZCkge1xuICAgICAgICBpZiAoY2NUeXBlID09PSAwKSB7XG4gICAgICAgICAgLy8gfHwgY2NUeXBlID09PSAxXG4gICAgICAgICAgYWN0dWFsQ0NCeXRlcy5wdXNoKGNjYnl0ZTEpO1xuICAgICAgICAgIGFjdHVhbENDQnl0ZXMucHVzaChjY2J5dGUyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWN0dWFsQ0NCeXRlcztcbiAgfTtcblxuICByZXR1cm4gVGltZWxpbmVDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgdGltZWxpbmVfY29udHJvbGxlciA9ICh0aW1lbGluZV9jb250cm9sbGVyX1RpbWVsaW5lQ29udHJvbGxlcik7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb250cm9sbGVyL3N1YnRpdGxlLXRyYWNrLWNvbnRyb2xsZXIuanNcbnZhciBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gc3VidGl0bGVfdHJhY2tfY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKlxuICogc3VidGl0bGUgdHJhY2sgY29udHJvbGxlclxuKi9cblxuXG5cblxuXG5mdW5jdGlvbiBmaWx0ZXJTdWJ0aXRsZVRyYWNrcyh0ZXh0VHJhY2tMaXN0KSB7XG4gIHZhciB0cmFja3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0VHJhY2tMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHRleHRUcmFja0xpc3RbaV0ua2luZCA9PT0gJ3N1YnRpdGxlcycpIHtcbiAgICAgIHRyYWNrcy5wdXNoKHRleHRUcmFja0xpc3RbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJhY2tzO1xufVxuXG52YXIgc3VidGl0bGVfdHJhY2tfY29udHJvbGxlcl9TdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIHN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfX2luaGVyaXRzKFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICBmdW5jdGlvbiBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlcihobHMpIHtcbiAgICBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9BVFRBQ0hFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0RFVEFDSElORywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX0xPQURJTkcsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NQU5JRkVTVF9MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5TVUJUSVRMRV9UUkFDS19MT0FERUQpKTtcblxuICAgIF90aGlzLnRyYWNrcyA9IFtdO1xuICAgIF90aGlzLnRyYWNrSWQgPSAtMTtcbiAgICBfdGhpcy5tZWRpYSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufSBzdWJ0aXRsZURpc3BsYXkgRW5hYmxlL2Rpc2FibGUgc3VidGl0bGUgZGlzcGxheSByZW5kZXJpbmdcbiAgICAgKi9cbiAgICBfdGhpcy5zdWJ0aXRsZURpc3BsYXkgPSB0cnVlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5fb25UZXh0VHJhY2tzQ2hhbmdlZCA9IGZ1bmN0aW9uIF9vblRleHRUcmFja3NDaGFuZ2VkKCkge1xuICAgIC8vIE1lZGlhIGlzIHVuZGVmaW5lZCB3aGVuIHN3aXRjaGluZyBzdHJlYW1zIHZpYSBsb2FkU291cmNlKClcbiAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdHJhY2tJZCA9IC0xO1xuICAgIHZhciB0cmFja3MgPSBmaWx0ZXJTdWJ0aXRsZVRyYWNrcyh0aGlzLm1lZGlhLnRleHRUcmFja3MpO1xuICAgIGZvciAodmFyIGlkID0gMDsgaWQgPCB0cmFja3MubGVuZ3RoOyBpZCsrKSB7XG4gICAgICBpZiAodHJhY2tzW2lkXS5tb2RlID09PSAnaGlkZGVuJykge1xuICAgICAgICAvLyBEbyBub3QgYnJlYWsgaW4gY2FzZSB0aGVyZSBpcyBhIGZvbGxvd2luZyB0cmFjayB3aXRoIHNob3dpbmcuXG4gICAgICAgIHRyYWNrSWQgPSBpZDtcbiAgICAgIH0gZWxzZSBpZiAodHJhY2tzW2lkXS5tb2RlID09PSAnc2hvd2luZycpIHtcbiAgICAgICAgdHJhY2tJZCA9IGlkO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXR0aW5nIGN1cnJlbnQgc3VidGl0bGVUcmFjayB3aWxsIGludm9rZSBjb2RlLlxuICAgIHRoaXMuc3VidGl0bGVUcmFjayA9IHRyYWNrSWQ7XG4gIH07XG5cbiAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGV2ZW50X2hhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgfTtcblxuICAvLyBMaXN0ZW4gZm9yIHN1YnRpdGxlIHRyYWNrIGNoYW5nZSwgdGhlbiBleHRyYWN0IHRoZSBjdXJyZW50IHRyYWNrIElELlxuXG5cbiAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hlZCA9IGZ1bmN0aW9uIG9uTWVkaWFBdHRhY2hlZChkYXRhKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB0aGlzLm1lZGlhID0gZGF0YS5tZWRpYTtcbiAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5xdWV1ZWREZWZhdWx0VHJhY2spIHtcbiAgICAgIHRoaXMuc3VidGl0bGVUcmFjayA9IHRoaXMucXVldWVkRGVmYXVsdFRyYWNrO1xuICAgICAgZGVsZXRlIHRoaXMucXVldWVkRGVmYXVsdFRyYWNrO1xuICAgIH1cblxuICAgIHRoaXMudHJhY2tDaGFuZ2VMaXN0ZW5lciA9IHRoaXMuX29uVGV4dFRyYWNrc0NoYW5nZWQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMudXNlVGV4dFRyYWNrUG9sbGluZyA9ICEodGhpcy5tZWRpYS50ZXh0VHJhY2tzICYmICdvbmNoYW5nZScgaW4gdGhpcy5tZWRpYS50ZXh0VHJhY2tzKTtcbiAgICBpZiAodGhpcy51c2VUZXh0VHJhY2tQb2xsaW5nKSB7XG4gICAgICB0aGlzLnN1YnRpdGxlUG9sbGluZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIudHJhY2tDaGFuZ2VMaXN0ZW5lcigpO1xuICAgICAgfSwgNTAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZWRpYS50ZXh0VHJhY2tzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMudHJhY2tDaGFuZ2VMaXN0ZW5lcik7XG4gICAgfVxuICB9O1xuXG4gIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nID0gZnVuY3Rpb24gb25NZWRpYURldGFjaGluZygpIHtcbiAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy51c2VUZXh0VHJhY2tQb2xsaW5nKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuc3VidGl0bGVQb2xsaW5nSW50ZXJ2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1lZGlhLnRleHRUcmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy50cmFja0NoYW5nZUxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lZGlhID0gbnVsbDtcbiAgfTtcblxuICAvLyBSZXNldCBzdWJ0aXRsZSB0cmFja3Mgb24gbWFuaWZlc3QgbG9hZGluZ1xuXG5cbiAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkaW5nID0gZnVuY3Rpb24gb25NYW5pZmVzdExvYWRpbmcoKSB7XG4gICAgdGhpcy50cmFja3MgPSBbXTtcbiAgICB0aGlzLnRyYWNrSWQgPSAtMTtcbiAgfTtcblxuICAvLyBGaXJlZCB3aGVuZXZlciBhIG5ldyBtYW5pZmVzdCBpcyBsb2FkZWQuXG5cblxuICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRlZCA9IGZ1bmN0aW9uIG9uTWFuaWZlc3RMb2FkZWQoZGF0YSkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIHRyYWNrcyA9IGRhdGEuc3VidGl0bGVzIHx8IFtdO1xuICAgIHRoaXMudHJhY2tzID0gdHJhY2tzO1xuICAgIHRoaXMudHJhY2tJZCA9IC0xO1xuICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX1RSQUNLU19VUERBVEVELCB7IHN1YnRpdGxlVHJhY2tzOiB0cmFja3MgfSk7XG5cbiAgICAvLyBsb29wIHRocm91Z2ggYXZhaWxhYmxlIHN1YnRpdGxlIHRyYWNrcyBhbmQgYXV0b3NlbGVjdCBkZWZhdWx0IGlmIG5lZWRlZFxuICAgIC8vIFRPRE86IGltcHJvdmUgc2VsZWN0aW9uIGxvZ2ljIHRvIGhhbmRsZSBmb3JjZWQsIGV0Y1xuICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgaWYgKHRyYWNrLmRlZmF1bHQpIHtcbiAgICAgICAgLy8gc2V0dGluZyB0aGlzLnN1YnRpdGxlVHJhY2sgd2lsbCB0cmlnZ2VyIGludGVybmFsIGxvZ2ljXG4gICAgICAgIC8vIGlmIG1lZGlhIGhhcyBub3QgYmVlbiBhdHRhY2hlZCB5ZXQsIGl0IHdpbGwgZmFpbFxuICAgICAgICAvLyB3ZSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBkZWZhdWx0IHRyYWNrIGlkXG4gICAgICAgIC8vIGFuZCB3ZSdsbCBzZXQgc3VidGl0bGVUcmFjayB3aGVuIG9uTWVkaWFBdHRhY2hlZCBpcyB0cmlnZ2VyZWRcbiAgICAgICAgaWYgKF90aGlzMy5tZWRpYSkge1xuICAgICAgICAgIF90aGlzMy5zdWJ0aXRsZVRyYWNrID0gdHJhY2suaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMzLnF1ZXVlZERlZmF1bHRUcmFjayA9IHRyYWNrLmlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gVHJpZ2dlciBzdWJ0aXRsZSB0cmFjayBwbGF5bGlzdCByZWxvYWQuXG5cblxuICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25UaWNrID0gZnVuY3Rpb24gb25UaWNrKCkge1xuICAgIHZhciB0cmFja0lkID0gdGhpcy50cmFja0lkO1xuICAgIHZhciBzdWJ0aXRsZVRyYWNrID0gdGhpcy50cmFja3NbdHJhY2tJZF07XG4gICAgaWYgKCFzdWJ0aXRsZVRyYWNrKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRldGFpbHMgPSBzdWJ0aXRsZVRyYWNrLmRldGFpbHM7XG4gICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBsb2FkIHBsYXlsaXN0IGZvciB0aGlzIHN1YnRpdGxlIFRyYWNrXG4gICAgaWYgKCFkZXRhaWxzIHx8IGRldGFpbHMubGl2ZSkge1xuICAgICAgLy8gdHJhY2sgbm90IHJldHJpZXZlZCB5ZXQsIG9yIGxpdmUgcGxheWxpc3Qgd2UgbmVlZCB0byAocmUpbG9hZCBpdFxuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCcocmUpbG9hZGluZyBwbGF5bGlzdCBmb3Igc3VidGl0bGUgdHJhY2sgJyArIHRyYWNrSWQpO1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfVFJBQ0tfTE9BRElORywgeyB1cmw6IHN1YnRpdGxlVHJhY2sudXJsLCBpZDogdHJhY2tJZCB9KTtcbiAgICB9XG4gIH07XG5cbiAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uU3VidGl0bGVUcmFja0xvYWRlZCA9IGZ1bmN0aW9uIG9uU3VidGl0bGVUcmFja0xvYWRlZChkYXRhKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICBpZiAoZGF0YS5pZCA8IHRoaXMudHJhY2tzLmxlbmd0aCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzdWJ0aXRsZSB0cmFjayAnICsgZGF0YS5pZCArICcgbG9hZGVkJyk7XG4gICAgICB0aGlzLnRyYWNrc1tkYXRhLmlkXS5kZXRhaWxzID0gZGF0YS5kZXRhaWxzO1xuICAgICAgLy8gY2hlY2sgaWYgY3VycmVudCBwbGF5bGlzdCBpcyBhIGxpdmUgcGxheWxpc3RcbiAgICAgIGlmIChkYXRhLmRldGFpbHMubGl2ZSAmJiAhdGhpcy50aW1lcikge1xuICAgICAgICAvLyBpZiBsaXZlIHBsYXlsaXN0IHdlIHdpbGwgaGF2ZSB0byByZWxvYWQgaXQgcGVyaW9kaWNhbGx5XG4gICAgICAgIC8vIHNldCByZWxvYWQgcGVyaW9kIHRvIHBsYXlsaXN0IHRhcmdldCBkdXJhdGlvblxuICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzNC5vblRpY2soKTtcbiAgICAgICAgfSwgMTAwMCAqIGRhdGEuZGV0YWlscy50YXJnZXRkdXJhdGlvbiwgdGhpcyk7XG4gICAgICB9XG4gICAgICBpZiAoIWRhdGEuZGV0YWlscy5saXZlICYmIHRoaXMudGltZXIpIHtcbiAgICAgICAgLy8gcGxheWxpc3QgaXMgbm90IGxpdmUgYW5kIHRpbWVyIGlzIGFybWVkIDogc3RvcHBpbmcgaXRcbiAgICAgICAgdGhpcy5fc3RvcFRpbWVyKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKiBnZXQgYWx0ZXJuYXRlIHN1YnRpdGxlIHRyYWNrcyBsaXN0IGZyb20gcGxheWxpc3QgKiovXG5cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgaXMgcmVzcG9uc2libGUgZm9yIHZhbGlkYXRpbmcgdGhlIHN1YnRpdGxlIGluZGV4IGFuZCBwZXJpb2RpY2FsbHkgcmVsb2FkaW5nIGlmIGxpdmUuXG4gICAqIERpc3BhdGNoZXMgdGhlIFNVQlRJVExFX1RSQUNLX1NXSVRDSCBldmVudCwgd2hpY2ggaW5zdHJ1Y3RzIHRoZSBzdWJ0aXRsZS1zdHJlYW0tY29udHJvbGxlciB0byBsb2FkIHRoZSBzZWxlY3RlZCB0cmFjay5cbiAgICogQHBhcmFtIG5ld0lkIC0gVGhlIGlkIG9mIHRoZSBzdWJ0aXRsZSB0cmFjayB0byBhY3RpdmF0ZS5cbiAgICovXG4gIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5zZXRTdWJ0aXRsZVRyYWNrSW50ZXJuYWwgPSBmdW5jdGlvbiBzZXRTdWJ0aXRsZVRyYWNrSW50ZXJuYWwobmV3SWQpIHtcbiAgICB2YXIgaGxzID0gdGhpcy5obHMsXG4gICAgICAgIHRyYWNrcyA9IHRoaXMudHJhY2tzO1xuXG4gICAgaWYgKHR5cGVvZiBuZXdJZCAhPT0gJ251bWJlcicgfHwgbmV3SWQgPCAtMSB8fCBuZXdJZCA+PSB0cmFja3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc3RvcFRpbWVyKCk7XG4gICAgdGhpcy50cmFja0lkID0gbmV3SWQ7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2l0Y2hpbmcgdG8gc3VidGl0bGUgdHJhY2sgJyArIG5ld0lkKTtcbiAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfVFJBQ0tfU1dJVENILCB7IGlkOiBuZXdJZCB9KTtcbiAgICBpZiAobmV3SWQgPT09IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBsb2FkIHBsYXlsaXN0IGZvciB0aGlzIHN1YnRpdGxlIFRyYWNrXG4gICAgdmFyIHN1YnRpdGxlVHJhY2sgPSB0cmFja3NbbmV3SWRdO1xuICAgIHZhciBkZXRhaWxzID0gc3VidGl0bGVUcmFjay5kZXRhaWxzO1xuICAgIGlmICghZGV0YWlscyB8fCBkZXRhaWxzLmxpdmUpIHtcbiAgICAgIC8vIHRyYWNrIG5vdCByZXRyaWV2ZWQgeWV0LCBvciBsaXZlIHBsYXlsaXN0IHdlIG5lZWQgdG8gKHJlKWxvYWQgaXRcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnKHJlKWxvYWRpbmcgcGxheWxpc3QgZm9yIHN1YnRpdGxlIHRyYWNrICcgKyBuZXdJZCk7XG4gICAgICBobHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uU1VCVElUTEVfVFJBQ0tfTE9BRElORywgeyB1cmw6IHN1YnRpdGxlVHJhY2sudXJsLCBpZDogbmV3SWQgfSk7XG4gICAgfVxuICB9O1xuXG4gIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5fc3RvcFRpbWVyID0gZnVuY3Rpb24gX3N0b3BUaW1lcigpIHtcbiAgICBpZiAodGhpcy50aW1lcikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRGlzYWJsZXMgdGhlIG9sZCBzdWJ0aXRsZVRyYWNrIGFuZCBzZXRzIGN1cnJlbnQgbW9kZSBvbiB0aGUgbmV4dCBzdWJ0aXRsZVRyYWNrLlxuICAgKiBUaGlzIG9wZXJhdGVzIG9uIHRoZSBET00gdGV4dFRyYWNrcy5cbiAgICogQSB2YWx1ZSBvZiAtMSB3aWxsIGRpc2FibGUgYWxsIHN1YnRpdGxlIHRyYWNrcy5cbiAgICogQHBhcmFtIG5ld0lkIC0gVGhlIGlkIG9mIHRoZSBuZXh0IHRyYWNrIHRvIGVuYWJsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5fdG9nZ2xlVHJhY2tNb2RlcyA9IGZ1bmN0aW9uIF90b2dnbGVUcmFja01vZGVzKG5ld0lkKSB7XG4gICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYSxcbiAgICAgICAgc3VidGl0bGVEaXNwbGF5ID0gdGhpcy5zdWJ0aXRsZURpc3BsYXksXG4gICAgICAgIHRyYWNrSWQgPSB0aGlzLnRyYWNrSWQ7XG5cbiAgICBpZiAoIW1lZGlhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRleHRUcmFja3MgPSBmaWx0ZXJTdWJ0aXRsZVRyYWNrcyhtZWRpYS50ZXh0VHJhY2tzKTtcbiAgICBpZiAobmV3SWQgPT09IC0xKSB7XG4gICAgICBbXS5zbGljZS5jYWxsKHRleHRUcmFja3MpLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHRyYWNrLm1vZGUgPSAnZGlzYWJsZWQnO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBvbGRUcmFjayA9IHRleHRUcmFja3NbdHJhY2tJZF07XG4gICAgICBpZiAob2xkVHJhY2spIHtcbiAgICAgICAgb2xkVHJhY2subW9kZSA9ICdkaXNhYmxlZCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5leHRUcmFjayA9IHRleHRUcmFja3NbbmV3SWRdO1xuICAgIGlmIChuZXh0VHJhY2spIHtcbiAgICAgIG5leHRUcmFjay5tb2RlID0gc3VidGl0bGVEaXNwbGF5ID8gJ3Nob3dpbmcnIDogJ2hpZGRlbic7XG4gICAgfVxuICB9O1xuXG4gIHN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfX2NyZWF0ZUNsYXNzKFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLCBbe1xuICAgIGtleTogJ3N1YnRpdGxlVHJhY2tzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyYWNrcztcbiAgICB9XG5cbiAgICAvKiogZ2V0IGluZGV4IG9mIHRoZSBzZWxlY3RlZCBzdWJ0aXRsZSB0cmFjayAoaW5kZXggaW4gc3VidGl0bGUgdHJhY2sgbGlzdHMpICoqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzdWJ0aXRsZVRyYWNrJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyYWNrSWQ7XG4gICAgfVxuXG4gICAgLyoqIHNlbGVjdCBhIHN1YnRpdGxlIHRyYWNrLCBiYXNlZCBvbiBpdHMgaW5kZXggaW4gc3VidGl0bGUgdHJhY2sgbGlzdHMqKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoc3VidGl0bGVUcmFja0lkKSB7XG4gICAgICBpZiAodGhpcy50cmFja0lkICE9PSBzdWJ0aXRsZVRyYWNrSWQpIHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlVHJhY2tNb2RlcyhzdWJ0aXRsZVRyYWNrSWQpO1xuICAgICAgICB0aGlzLnNldFN1YnRpdGxlVHJhY2tJbnRlcm5hbChzdWJ0aXRsZVRyYWNrSWQpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcik7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXIgPSAoc3VidGl0bGVfdHJhY2tfY29udHJvbGxlcl9TdWJ0aXRsZVRyYWNrQ29udHJvbGxlcik7XG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2NyeXB0L2RlY3J5cHRlci5qcyArIDMgbW9kdWxlc1xudmFyIGRlY3J5cHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvc3VidGl0bGUtc3RyZWFtLWNvbnRyb2xsZXIuanNcbmZ1bmN0aW9uIHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLypcbiAqIFN1YnRpdGxlIFN0cmVhbSBDb250cm9sbGVyXG4qL1xuXG5cblxuXG5cblxudmFyIHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX193aW5kb3cgPSB3aW5kb3csXG4gICAgc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfcGVyZm9ybWFuY2UgPSBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9fd2luZG93LnBlcmZvcm1hbmNlO1xuXG5cbnZhciBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9TdGF0ZSA9IHtcbiAgU1RPUFBFRDogJ1NUT1BQRUQnLFxuICBJRExFOiAnSURMRScsXG4gIEtFWV9MT0FESU5HOiAnS0VZX0xPQURJTkcnLFxuICBGUkFHX0xPQURJTkc6ICdGUkFHX0xPQURJTkcnXG59O1xuXG52YXIgc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfU3VidGl0bGVTdHJlYW1Db250cm9sbGVyID0gZnVuY3Rpb24gKF9UYXNrTG9vcCkge1xuICBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9faW5oZXJpdHMoU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLCBfVGFza0xvb3ApO1xuXG4gIGZ1bmN0aW9uIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlcihobHMpIHtcbiAgICBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9fY2xhc3NDYWxsQ2hlY2sodGhpcywgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyKTtcblxuICAgIHZhciBfdGhpcyA9IHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9UYXNrTG9vcC5jYWxsKHRoaXMsIGhscywgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0FUVEFDSEVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5LRVlfTE9BREVELCBldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19MT0FERUQsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5TVUJUSVRMRV9UUkFDS1NfVVBEQVRFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX1RSQUNLX1NXSVRDSCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX1RSQUNLX0xPQURFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VEKSk7XG5cbiAgICBfdGhpcy5jb25maWcgPSBobHMuY29uZmlnO1xuICAgIF90aGlzLnZ0dEZyYWdTTnNQcm9jZXNzZWQgPSB7fTtcbiAgICBfdGhpcy52dHRGcmFnUXVldWVzID0gdW5kZWZpbmVkO1xuICAgIF90aGlzLmN1cnJlbnRseVByb2Nlc3NpbmcgPSBudWxsO1xuICAgIF90aGlzLnN0YXRlID0gc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuU1RPUFBFRDtcbiAgICBfdGhpcy5jdXJyZW50VHJhY2tJZCA9IC0xO1xuICAgIF90aGlzLmRlY3J5cHRlciA9IG5ldyBkZWNyeXB0ZXJbXCJhXCIgLyogZGVmYXVsdCAqL10oaGxzLm9ic2VydmVyLCBobHMuY29uZmlnKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3llZCA9IGZ1bmN0aW9uIG9uSGFuZGxlckRlc3Ryb3llZCgpIHtcbiAgICB0aGlzLnN0YXRlID0gc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuU1RPUFBFRDtcbiAgfTtcblxuICAvLyBSZW1vdmUgYWxsIHF1ZXVlZCBpdGVtcyBhbmQgY3JlYXRlIGEgbmV3LCBlbXB0eSBxdWV1ZSBmb3IgZWFjaCB0cmFjay5cblxuXG4gIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuY2xlYXJWdHRGcmFnUXVldWVzID0gZnVuY3Rpb24gY2xlYXJWdHRGcmFnUXVldWVzKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdGhpcy52dHRGcmFnUXVldWVzID0ge307XG4gICAgdGhpcy50cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgIF90aGlzMi52dHRGcmFnUXVldWVzW3RyYWNrLmlkXSA9IFtdO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIElmIG5vIGZyYWcgaXMgYmVpbmcgcHJvY2Vzc2VkIGFuZCBxdWV1ZSBpc24ndCBlbXB0eSwgaW5pdGlhdGUgcHJvY2Vzc2luZyBvZiBuZXh0IGZyYWcgaW4gbGluZS5cblxuXG4gIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUubmV4dEZyYWcgPSBmdW5jdGlvbiBuZXh0RnJhZygpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50bHlQcm9jZXNzaW5nID09PSBudWxsICYmIHRoaXMuY3VycmVudFRyYWNrSWQgPiAtMSAmJiB0aGlzLnZ0dEZyYWdRdWV1ZXNbdGhpcy5jdXJyZW50VHJhY2tJZF0ubGVuZ3RoKSB7XG4gICAgICB2YXIgZnJhZyA9IHRoaXMuY3VycmVudGx5UHJvY2Vzc2luZyA9IHRoaXMudnR0RnJhZ1F1ZXVlc1t0aGlzLmN1cnJlbnRUcmFja0lkXS5zaGlmdCgpO1xuICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IGZyYWc7XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX0xPQURJTkcsIHsgZnJhZzogZnJhZyB9KTtcbiAgICAgIHRoaXMuc3RhdGUgPSBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5GUkFHX0xPQURJTkc7XG4gICAgfVxuICB9O1xuXG4gIC8vIFdoZW4gZnJhZ21lbnQgaGFzIGZpbmlzaGVkIHByb2Nlc3NpbmcsIGFkZCBzbiB0byBsaXN0IG9mIGNvbXBsZXRlZCBpZiBzdWNjZXNzZnVsLlxuXG5cbiAgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vblN1YnRpdGxlRnJhZ1Byb2Nlc3NlZCA9IGZ1bmN0aW9uIG9uU3VidGl0bGVGcmFnUHJvY2Vzc2VkKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICB0aGlzLnZ0dEZyYWdTTnNQcm9jZXNzZWRbZGF0YS5mcmFnLnRyYWNrSWRdLnB1c2goZGF0YS5mcmFnLnNuKTtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnRseVByb2Nlc3NpbmcgPSBudWxsO1xuICAgIHRoaXMuc3RhdGUgPSBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5JRExFO1xuICAgIHRoaXMubmV4dEZyYWcoKTtcbiAgfTtcblxuICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hlZCA9IGZ1bmN0aW9uIG9uTWVkaWFBdHRhY2hlZCgpIHtcbiAgICB0aGlzLnN0YXRlID0gc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgfTtcblxuICAvLyBJZiBzb21ldGhpbmcgZ29lcyB3cm9uZywgcHJvY2VkZSB0byBuZXh0IGZyYWcsIGlmIHdlIHdlcmUgcHJvY2Vzc2luZyBvbmUuXG5cblxuICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiBvbkVycm9yKGRhdGEpIHtcbiAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZztcbiAgICAvLyBkb24ndCBoYW5kbGUgZnJhZyBlcnJvciBub3QgcmVsYXRlZCB0byBzdWJ0aXRsZSBmcmFnbWVudFxuICAgIGlmIChmcmFnICYmIGZyYWcudHlwZSAhPT0gJ3N1YnRpdGxlJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmN1cnJlbnRseVByb2Nlc3NpbmcpIHtcbiAgICAgIHRoaXMuY3VycmVudGx5UHJvY2Vzc2luZyA9IG51bGw7XG4gICAgICB0aGlzLm5leHRGcmFnKCk7XG4gICAgfVxuICB9O1xuXG4gIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuZG9UaWNrID0gZnVuY3Rpb24gZG9UaWNrKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICBjYXNlIHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLklETEU6XG4gICAgICAgIHZhciB0cmFja3MgPSB0aGlzLnRyYWNrcztcbiAgICAgICAgdmFyIHRyYWNrSWQgPSB0aGlzLmN1cnJlbnRUcmFja0lkO1xuXG4gICAgICAgIHZhciBwcm9jZXNzZWRGcmFnU05zID0gdGhpcy52dHRGcmFnU05zUHJvY2Vzc2VkW3RyYWNrSWRdLFxuICAgICAgICAgICAgZnJhZ1F1ZXVlID0gdGhpcy52dHRGcmFnUXVldWVzW3RyYWNrSWRdLFxuICAgICAgICAgICAgY3VycmVudEZyYWdTTiA9IHRoaXMuY3VycmVudGx5UHJvY2Vzc2luZyA/IHRoaXMuY3VycmVudGx5UHJvY2Vzc2luZy5zbiA6IC0xO1xuXG4gICAgICAgIHZhciBhbHJlYWR5UHJvY2Vzc2VkID0gZnVuY3Rpb24gYWxyZWFkeVByb2Nlc3NlZChmcmFnKSB7XG4gICAgICAgICAgcmV0dXJuIHByb2Nlc3NlZEZyYWdTTnMuaW5kZXhPZihmcmFnLnNuKSA+IC0xO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhbHJlYWR5SW5RdWV1ZSA9IGZ1bmN0aW9uIGFscmVhZHlJblF1ZXVlKGZyYWcpIHtcbiAgICAgICAgICByZXR1cm4gZnJhZ1F1ZXVlLnNvbWUoZnVuY3Rpb24gKGZyYWdJblF1ZXVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJhZ0luUXVldWUuc24gPT09IGZyYWcuc247XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZXhpdCBpZiB0cmFja3MgZG9uJ3QgZXhpc3RcbiAgICAgICAgaWYgKCF0cmFja3MpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0cmFja0RldGFpbHM7XG5cbiAgICAgICAgaWYgKHRyYWNrSWQgPCB0cmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgdHJhY2tEZXRhaWxzID0gdHJhY2tzW3RyYWNrSWRdLmRldGFpbHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHRyYWNrRGV0YWlscyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBhbGwgZnJhZ21lbnRzIHRoYXQgaGF2ZW4ndCBiZWVuLCBhcmVuJ3QgY3VycmVudGx5IGJlaW5nIGFuZCBhcmVuJ3Qgd2FpdGluZyB0byBiZSBwcm9jZXNzZWQsIHRvIHF1ZXVlLlxuICAgICAgICB0cmFja0RldGFpbHMuZnJhZ21lbnRzLmZvckVhY2goZnVuY3Rpb24gKGZyYWcpIHtcbiAgICAgICAgICBpZiAoIShhbHJlYWR5UHJvY2Vzc2VkKGZyYWcpIHx8IGZyYWcuc24gPT09IGN1cnJlbnRGcmFnU04gfHwgYWxyZWFkeUluUXVldWUoZnJhZykpKSB7XG4gICAgICAgICAgICAvLyBMb2FkIGtleSBpZiBzdWJ0aXRsZXMgYXJlIGVuY3J5cHRlZFxuICAgICAgICAgICAgaWYgKGZyYWcuZW5jcnlwdGVkKSB7XG4gICAgICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTG9hZGluZyBrZXkgZm9yICcgKyBmcmFnLnNuKTtcbiAgICAgICAgICAgICAgX3RoaXMzLnN0YXRlID0gc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuS0VZX0xPQURJTkc7XG4gICAgICAgICAgICAgIF90aGlzMy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uS0VZX0xPQURJTkcsIHsgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIEZyYWdzIGRvbid0IGtub3cgdGhlaXIgc3VidGl0bGUgdHJhY2sgSUQsIHNvIGxldCdzIGp1c3QgYWRkIHRoYXQuLi5cbiAgICAgICAgICAgICAgZnJhZy50cmFja0lkID0gdHJhY2tJZDtcbiAgICAgICAgICAgICAgZnJhZ1F1ZXVlLnB1c2goZnJhZyk7XG4gICAgICAgICAgICAgIF90aGlzMy5uZXh0RnJhZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEdvdCBhbGwgbmV3IHN1YnRpdGxlIHRyYWNrcy5cblxuXG4gIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25TdWJ0aXRsZVRyYWNrc1VwZGF0ZWQgPSBmdW5jdGlvbiBvblN1YnRpdGxlVHJhY2tzVXBkYXRlZChkYXRhKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N1YnRpdGxlIHRyYWNrcyB1cGRhdGVkJyk7XG4gICAgdGhpcy50cmFja3MgPSBkYXRhLnN1YnRpdGxlVHJhY2tzO1xuICAgIHRoaXMuY2xlYXJWdHRGcmFnUXVldWVzKCk7XG4gICAgdGhpcy52dHRGcmFnU05zUHJvY2Vzc2VkID0ge307XG4gICAgdGhpcy50cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgIF90aGlzNC52dHRGcmFnU05zUHJvY2Vzc2VkW3RyYWNrLmlkXSA9IFtdO1xuICAgIH0pO1xuICB9O1xuXG4gIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25TdWJ0aXRsZVRyYWNrU3dpdGNoID0gZnVuY3Rpb24gb25TdWJ0aXRsZVRyYWNrU3dpdGNoKGRhdGEpIHtcbiAgICB0aGlzLmN1cnJlbnRUcmFja0lkID0gZGF0YS5pZDtcbiAgICBpZiAoIXRoaXMudHJhY2tzIHx8IHRoaXMuY3VycmVudFRyYWNrSWQgPT09IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdHJhY2sgd2FzIGFscmVhZHkgbG9hZGVkIGFuZCBpZiBzbyBtYWtlIHN1cmUgd2UgZmluaXNoXG4gICAgLy8gZG93bmxvYWRpbmcgaXRzIGZyYWdzLCBpZiBub3QgYWxsIGhhdmUgYmVlbiBkb3dubG9hZGVkIHlldFxuICAgIHZhciBjdXJyZW50VHJhY2sgPSB0aGlzLnRyYWNrc1t0aGlzLmN1cnJlbnRUcmFja0lkXTtcbiAgICBpZiAoY3VycmVudFRyYWNrICYmIGN1cnJlbnRUcmFjay5kZXRhaWxzKSB7XG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gR290IGEgbmV3IHNldCBvZiBzdWJ0aXRsZSBmcmFnbWVudHMuXG5cblxuICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uU3VidGl0bGVUcmFja0xvYWRlZCA9IGZ1bmN0aW9uIG9uU3VidGl0bGVUcmFja0xvYWRlZCgpIHtcbiAgICB0aGlzLnRpY2soKTtcbiAgfTtcblxuICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uS2V5TG9hZGVkID0gZnVuY3Rpb24gb25LZXlMb2FkZWQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX1N0YXRlLktFWV9MT0FESU5HKSB7XG4gICAgICB0aGlzLnN0YXRlID0gc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfU3RhdGUuSURMRTtcbiAgICAgIHRoaXMudGljaygpO1xuICAgIH1cbiAgfTtcblxuICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRlZCA9IGZ1bmN0aW9uIG9uRnJhZ0xvYWRlZChkYXRhKSB7XG4gICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudCxcbiAgICAgICAgZGVjcnlwdERhdGEgPSBkYXRhLmZyYWcuZGVjcnlwdGRhdGE7XG4gICAgdmFyIGZyYWdMb2FkZWQgPSBkYXRhLmZyYWcsXG4gICAgICAgIGhscyA9IHRoaXMuaGxzO1xuICAgIGlmICh0aGlzLnN0YXRlID09PSBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl9TdGF0ZS5GUkFHX0xPQURJTkcgJiYgZnJhZ0N1cnJlbnQgJiYgZGF0YS5mcmFnLnR5cGUgPT09ICdzdWJ0aXRsZScgJiYgZnJhZ0N1cnJlbnQuc24gPT09IGRhdGEuZnJhZy5zbikge1xuICAgICAgLy8gY2hlY2sgdG8gc2VlIGlmIHRoZSBwYXlsb2FkIG5lZWRzIHRvIGJlIGRlY3J5cHRlZFxuICAgICAgaWYgKGRhdGEucGF5bG9hZC5ieXRlTGVuZ3RoID4gMCAmJiBkZWNyeXB0RGF0YSAhPSBudWxsICYmIGRlY3J5cHREYXRhLmtleSAhPSBudWxsICYmIGRlY3J5cHREYXRhLm1ldGhvZCA9PT0gJ0FFUy0xMjgnKSB7XG4gICAgICAgIHZhciBzdGFydFRpbWUgPSB2b2lkIDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc3RhcnRUaW1lID0gc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkZWNyeXB0IHRoZSBzdWJ0aXRsZXNcbiAgICAgICAgdGhpcy5kZWNyeXB0ZXIuZGVjcnlwdChkYXRhLnBheWxvYWQsIGRlY3J5cHREYXRhLmtleS5idWZmZXIsIGRlY3J5cHREYXRhLml2LmJ1ZmZlciwgZnVuY3Rpb24gKGRlY3J5cHRlZERhdGEpIHtcbiAgICAgICAgICB2YXIgZW5kVGltZSA9IHZvaWQgMDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZW5kVGltZSA9IHN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyX3BlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBlbmRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfREVDUllQVEVELCB7IGZyYWc6IGZyYWdMb2FkZWQsIHBheWxvYWQ6IGRlY3J5cHRlZERhdGEsIHN0YXRzOiB7IHRzdGFydDogc3RhcnRUaW1lLCB0ZGVjcnlwdDogZW5kVGltZSB9IH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlcjtcbn0odGFza19sb29wKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXIgPSAoc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfU3VidGl0bGVTdHJlYW1Db250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbnRyb2xsZXIvZW1lLWNvbnRyb2xsZXIuanNcbnZhciBlbWVfY29udHJvbGxlcl9fY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIGVtZV9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGVtZV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBlbWVfY29udHJvbGxlcl9faW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLyoqXG4gKiBAYXV0aG9yIFN0ZXBoYW4gSGVzc2UgPGRpc3BhcmF0QGdtYWlsLmNvbT4gfCA8dGNoYWthYmFtQGdtYWlsLmNvbT5cbiAqXG4gKiBEUk0gc3VwcG9ydCBmb3IgSGxzLmpzXG4gKi9cblxuXG5cblxuXG5cblxudmFyIGVtZV9jb250cm9sbGVyX193aW5kb3cgPSB3aW5kb3csXG4gICAgZW1lX2NvbnRyb2xsZXJfWE1MSHR0cFJlcXVlc3QgPSBlbWVfY29udHJvbGxlcl9fd2luZG93LlhNTEh0dHBSZXF1ZXN0O1xuXG5cbnZhciBNQVhfTElDRU5TRV9SRVFVRVNUX0ZBSUxVUkVTID0gMztcblxuLyoqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9OYXZpZ2F0b3IvcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzXG4gKi9cbnZhciBLZXlTeXN0ZW1zID0ge1xuICBXSURFVklORTogJ2NvbS53aWRldmluZS5hbHBoYScsXG4gIFBMQVlSRUFEWTogJ2NvbS5taWNyb3NvZnQucGxheXJlYWR5J1xufTtcblxuLyoqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25cbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gYXVkaW9Db2RlY3MgTGlzdCBvZiByZXF1aXJlZCBhdWRpbyBjb2RlY3MgdG8gc3VwcG9ydFxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSB2aWRlb0NvZGVjcyBMaXN0IG9mIHJlcXVpcmVkIHZpZGVvIGNvZGVjcyB0byBzdXBwb3J0XG4gKiBAcGFyYW0ge29iamVjdH0gZHJtU3lzdGVtT3B0aW9ucyBPcHRpb25hbCBwYXJhbWV0ZXJzL3JlcXVpcmVtZW50cyBmb3IgdGhlIGtleS1zeXN0ZW1cbiAqIEByZXR1cm5zIHtBcnJheTxNZWRpYVN5c3RlbUNvbmZpZ3VyYXRpb24+fSBBbiBhcnJheSBvZiBzdXBwb3J0ZWQgY29uZmlndXJhdGlvbnNcbiAqL1xuXG52YXIgY3JlYXRlV2lkZXZpbmVNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25zID0gZnVuY3Rpb24gY3JlYXRlV2lkZXZpbmVNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25zKGF1ZGlvQ29kZWNzLCB2aWRlb0NvZGVjcywgZHJtU3lzdGVtT3B0aW9ucykge1xuICAvKiBqc2hpbnQgaWdub3JlOmxpbmUgKi9cbiAgdmFyIGJhc2VDb25maWcgPSB7XG4gICAgLy8gaW5pdERhdGFUeXBlczogWydrZXlpZHMnLCAnbXA0J10sXG4gICAgLy8gbGFiZWw6IFwiXCIsXG4gICAgLy8gcGVyc2lzdGVudFN0YXRlOiBcIm5vdC1hbGxvd2VkXCIsIC8vIG9yIFwicmVxdWlyZWRcIiA/XG4gICAgLy8gZGlzdGluY3RpdmVJZGVudGlmaWVyOiBcIm5vdC1hbGxvd2VkXCIsIC8vIG9yIFwicmVxdWlyZWRcIiA/XG4gICAgLy8gc2Vzc2lvblR5cGVzOiBbJ3RlbXBvcmFyeSddLFxuICAgIHZpZGVvQ2FwYWJpbGl0aWVzOiBbXG4gICAgICAvLyB7IGNvbnRlbnRUeXBlOiAndmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjQyRTAxRVwiJyB9XG4gICAgXVxuICB9O1xuXG4gIHZpZGVvQ29kZWNzLmZvckVhY2goZnVuY3Rpb24gKGNvZGVjKSB7XG4gICAgYmFzZUNvbmZpZy52aWRlb0NhcGFiaWxpdGllcy5wdXNoKHtcbiAgICAgIGNvbnRlbnRUeXBlOiAndmlkZW8vbXA0OyBjb2RlY3M9XCInICsgY29kZWMgKyAnXCInXG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiBbYmFzZUNvbmZpZ107XG59O1xuXG4vKipcbiAqIFRoZSBpZGVhIGhlcmUgaXMgdG8gaGFuZGxlIGtleS1zeXN0ZW0gKGFuZCB0aGVpciByZXNwZWN0aXZlIHBsYXRmb3Jtcykgc3BlY2lmaWMgY29uZmlndXJhdGlvbiBkaWZmZXJlbmNlc1xuICogaW4gb3JkZXIgdG8gd29yayB3aXRoIHRoZSBsb2NhbCByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MgbWV0aG9kLlxuICpcbiAqIFdlIGNhbiBhbHNvIHJ1bGUtb3V0IHBsYXRmb3JtLXJlbGF0ZWQga2V5LXN5c3RlbSBzdXBwb3J0IGF0IHRoaXMgcG9pbnQgYnkgdGhyb3dpbmcgYW4gZXJyb3Igb3IgcmV0dXJuaW5nIG51bGwuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleVN5c3RlbSBJZGVudGlmaWVyIGZvciB0aGUga2V5LXN5c3RlbSwgc2VlIGBLZXlTeXN0ZW1zYCBlbnVtXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGF1ZGlvQ29kZWNzIExpc3Qgb2YgcmVxdWlyZWQgYXVkaW8gY29kZWNzIHRvIHN1cHBvcnRcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gdmlkZW9Db2RlY3MgTGlzdCBvZiByZXF1aXJlZCB2aWRlbyBjb2RlY3MgdG8gc3VwcG9ydFxuICogQHJldHVybnMge0FycmF5PE1lZGlhU3lzdGVtQ29uZmlndXJhdGlvbj4gfCBudWxsfSBBIG5vbi1lbXB0eSBBcnJheSBvZiBNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb24gb2JqZWN0cyBvciBgbnVsbGBcbiAqL1xudmFyIGdldFN1cHBvcnRlZE1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbnMgPSBmdW5jdGlvbiBnZXRTdXBwb3J0ZWRNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25zKGtleVN5c3RlbSwgYXVkaW9Db2RlY3MsIHZpZGVvQ29kZWNzKSB7XG4gIHN3aXRjaCAoa2V5U3lzdGVtKSB7XG4gICAgY2FzZSBLZXlTeXN0ZW1zLldJREVWSU5FOlxuICAgICAgcmV0dXJuIGNyZWF0ZVdpZGV2aW5lTWVkaWFLZXlTeXN0ZW1Db25maWd1cmF0aW9ucyhhdWRpb0NvZGVjcywgdmlkZW9Db2RlY3MpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcignVW5rbm93biBrZXktc3lzdGVtOiAnICsga2V5U3lzdGVtKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDb250cm9sbGVyIHRvIGRlYWwgd2l0aCBlbmNyeXB0ZWQgbWVkaWEgZXh0ZW5zaW9ucyAoRU1FKVxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRW5jcnlwdGVkX01lZGlhX0V4dGVuc2lvbnNfQVBJXG4gKlxuICogQGNsYXNzXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuXG52YXIgZW1lX2NvbnRyb2xsZXJfRU1FQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfRXZlbnRIYW5kbGVyKSB7XG4gIGVtZV9jb250cm9sbGVyX19pbmhlcml0cyhFTUVDb250cm9sbGVyLCBfRXZlbnRIYW5kbGVyKTtcblxuICAvKipcbiAgICAgKiBAY29uc3RydWN0c1xuICAgICAqIEBwYXJhbSB7SGxzfSBobHMgT3VyIEhscy5qcyBpbnN0YW5jZVxuICAgICAqL1xuICBmdW5jdGlvbiBFTUVDb250cm9sbGVyKGhscykge1xuICAgIGVtZV9jb250cm9sbGVyX19jbGFzc0NhbGxDaGVjayh0aGlzLCBFTUVDb250cm9sbGVyKTtcblxuICAgIHZhciBfdGhpcyA9IGVtZV9jb250cm9sbGVyX19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEhhbmRsZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5NRURJQV9BVFRBQ0hFRCwgZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1BTklGRVNUX1BBUlNFRCkpO1xuXG4gICAgX3RoaXMuX3dpZGV2aW5lTGljZW5zZVVybCA9IGhscy5jb25maWcud2lkZXZpbmVMaWNlbnNlVXJsO1xuICAgIF90aGlzLl9saWNlbnNlWGhyU2V0dXAgPSBobHMuY29uZmlnLmxpY2Vuc2VYaHJTZXR1cDtcbiAgICBfdGhpcy5fZW1lRW5hYmxlZCA9IGhscy5jb25maWcuZW1lRW5hYmxlZDtcblxuICAgIF90aGlzLl9yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MgPSBobHMuY29uZmlnLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzc0Z1bmM7XG5cbiAgICBfdGhpcy5fbWVkaWFLZXlzTGlzdCA9IFtdO1xuICAgIF90aGlzLl9tZWRpYSA9IG51bGw7XG5cbiAgICBfdGhpcy5faGFzU2V0TWVkaWFLZXlzID0gZmFsc2U7XG4gICAgX3RoaXMuX2lzTWVkaWFFbmNyeXB0ZWQgPSBmYWxzZTtcblxuICAgIF90aGlzLl9yZXF1ZXN0TGljZW5zZUZhaWx1cmVDb3VudCA9IDA7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5U3lzdGVtIElkZW50aWZpZXIgZm9yIHRoZSBrZXktc3lzdGVtLCBzZWUgYEtleVN5c3RlbXNgIGVudW1cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBMaWNlbnNlIHNlcnZlciBVUkwgZm9yIGtleS1zeXN0ZW0gKGlmIGFueSBjb25maWd1cmVkLCBvdGhlcndpc2UgY2F1c2VzIGVycm9yKVxuICAgICAqL1xuXG5cbiAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TGljZW5zZVNlcnZlclVybCA9IGZ1bmN0aW9uIGdldExpY2Vuc2VTZXJ2ZXJVcmwoa2V5U3lzdGVtKSB7XG4gICAgdmFyIHVybCA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKGtleVN5c3RlbSkge1xuICAgICAgY2FzZSBLZXlTeXN0ZW1zLldJREVWSU5FOlxuICAgICAgICB1cmwgPSB0aGlzLl93aWRldmluZUxpY2Vuc2VVcmw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdXJsID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKCF1cmwpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdObyBsaWNlbnNlIHNlcnZlciBVUkwgY29uZmlndXJlZCBmb3Iga2V5LXN5c3RlbSBcIicgKyBrZXlTeXN0ZW0gKyAnXCInKTtcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7XG4gICAgICAgIHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5LRVlfU1lTVEVNX0xJQ0VOU0VfUkVRVUVTVF9GQUlMRUQsXG4gICAgICAgIGZhdGFsOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXJsO1xuICB9O1xuXG4gIC8qKlxuICAgICAqIFJlcXVlc3RzIGFjY2VzcyBvYmplY3QgYW5kIGFkZHMgaXQgdG8gb3VyIGxpc3QgdXBvbiBzdWNjZXNzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5U3lzdGVtIFN5c3RlbSBJRCAoc2VlIGBLZXlTeXN0ZW1zYClcbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGF1ZGlvQ29kZWNzIExpc3Qgb2YgcmVxdWlyZWQgYXVkaW8gY29kZWNzIHRvIHN1cHBvcnRcbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IHZpZGVvQ29kZWNzIExpc3Qgb2YgcmVxdWlyZWQgdmlkZW8gY29kZWNzIHRvIHN1cHBvcnRcbiAgICAgKi9cblxuXG4gIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLl9hdHRlbXB0S2V5U3lzdGVtQWNjZXNzID0gZnVuY3Rpb24gX2F0dGVtcHRLZXlTeXN0ZW1BY2Nlc3Moa2V5U3lzdGVtLCBhdWRpb0NvZGVjcywgdmlkZW9Db2RlY3MpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIC8vIFRPRE86IGFkZCBvdGhlciBEUk0gXCJvcHRpb25zXCJcblxuICAgIHZhciBtZWRpYUtleVN5c3RlbUNvbmZpZ3MgPSBnZXRTdXBwb3J0ZWRNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25zKGtleVN5c3RlbSwgYXVkaW9Db2RlY3MsIHZpZGVvQ29kZWNzKTtcblxuICAgIGlmICghbWVkaWFLZXlTeXN0ZW1Db25maWdzKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdDYW4gbm90IGNyZWF0ZSBjb25maWcgZm9yIGtleS1zeXN0ZW0gKG1heWJlIGJlY2F1c2UgcGxhdGZvcm0gaXMgbm90IHN1cHBvcnRlZCk6Jywga2V5U3lzdGVtKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1JlcXVlc3RpbmcgZW5jcnlwdGVkIG1lZGlhIGtleS1zeXN0ZW0gYWNjZXNzJyk7XG5cbiAgICAvLyBleHBlY3RpbmcgaW50ZXJmYWNlIGxpa2Ugd2luZG93Lm5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3NcbiAgICB0aGlzLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyhrZXlTeXN0ZW0sIG1lZGlhS2V5U3lzdGVtQ29uZmlncykudGhlbihmdW5jdGlvbiAobWVkaWFLZXlTeXN0ZW1BY2Nlc3MpIHtcbiAgICAgIF90aGlzMi5fb25NZWRpYUtleVN5c3RlbUFjY2Vzc09idGFpbmVkKGtleVN5c3RlbSwgbWVkaWFLZXlTeXN0ZW1BY2Nlc3MpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdGYWlsZWQgdG8gb2J0YWluIGtleS1zeXN0ZW0gXCInICsga2V5U3lzdGVtICsgJ1wiIGFjY2VzczonLCBlcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgICAqIEhhbmRsZXMgb2J0YWluaW5nIGFjY2VzcyB0byBhIGtleS1zeXN0ZW1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlTeXN0ZW1cbiAgICAgKiBAcGFyYW0ge01lZGlhS2V5U3lzdGVtQWNjZXNzfSBtZWRpYUtleVN5c3RlbUFjY2VzcyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTWVkaWFLZXlTeXN0ZW1BY2Nlc3NcbiAgICAgKi9cbiAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX29uTWVkaWFLZXlTeXN0ZW1BY2Nlc3NPYnRhaW5lZCA9IGZ1bmN0aW9uIF9vbk1lZGlhS2V5U3lzdGVtQWNjZXNzT2J0YWluZWQoa2V5U3lzdGVtLCBtZWRpYUtleVN5c3RlbUFjY2Vzcykge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdBY2Nlc3MgZm9yIGtleS1zeXN0ZW0gXCInICsga2V5U3lzdGVtICsgJ1wiIG9idGFpbmVkJyk7XG5cbiAgICB2YXIgbWVkaWFLZXlzTGlzdEl0ZW0gPSB7XG4gICAgICBtZWRpYUtleXM6IG51bGwsXG4gICAgICBtZWRpYUtleXNTZXNzaW9uOiBudWxsLFxuICAgICAgbWVkaWFLZXlzU2Vzc2lvbkluaXRpYWxpemVkOiBmYWxzZSxcbiAgICAgIG1lZGlhS2V5U3lzdGVtQWNjZXNzOiBtZWRpYUtleVN5c3RlbUFjY2VzcyxcbiAgICAgIG1lZGlhS2V5U3lzdGVtRG9tYWluOiBrZXlTeXN0ZW1cbiAgICB9O1xuXG4gICAgdGhpcy5fbWVkaWFLZXlzTGlzdC5wdXNoKG1lZGlhS2V5c0xpc3RJdGVtKTtcblxuICAgIG1lZGlhS2V5U3lzdGVtQWNjZXNzLmNyZWF0ZU1lZGlhS2V5cygpLnRoZW4oZnVuY3Rpb24gKG1lZGlhS2V5cykge1xuICAgICAgbWVkaWFLZXlzTGlzdEl0ZW0ubWVkaWFLZXlzID0gbWVkaWFLZXlzO1xuXG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ01lZGlhLWtleXMgY3JlYXRlZCBmb3Iga2V5LXN5c3RlbSBcIicgKyBrZXlTeXN0ZW0gKyAnXCInKTtcblxuICAgICAgX3RoaXMzLl9vbk1lZGlhS2V5c0NyZWF0ZWQoKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBtZWRpYS1rZXlzOicsIGVycik7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAgICogSGFuZGxlcyBrZXktY3JlYXRpb24gKHJlcHJlc2VudHMgYWNjZXNzIHRvIENETSkuIFdlIGFyZSBnb2luZyB0byBjcmVhdGUga2V5LXNlc3Npb25zIHVwb24gdGhpc1xuICAgICAqIGZvciBhbGwgZXhpc3Rpbmcga2V5cyB3aGVyZSBubyBzZXNzaW9uIGV4aXN0cyB5ZXQuXG4gICAgICovXG5cblxuICBFTUVDb250cm9sbGVyLnByb3RvdHlwZS5fb25NZWRpYUtleXNDcmVhdGVkID0gZnVuY3Rpb24gX29uTWVkaWFLZXlzQ3JlYXRlZCgpIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIC8vIGNoZWNrIGZvciBhbGwga2V5LWxpc3QgaXRlbXMgaWYgYSBzZXNzaW9uIGV4aXN0cywgb3RoZXJ3aXNlLCBjcmVhdGUgb25lXG4gICAgdGhpcy5fbWVkaWFLZXlzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChtZWRpYUtleXNMaXN0SXRlbSkge1xuICAgICAgaWYgKCFtZWRpYUtleXNMaXN0SXRlbS5tZWRpYUtleXNTZXNzaW9uKSB7XG4gICAgICAgIG1lZGlhS2V5c0xpc3RJdGVtLm1lZGlhS2V5c1Nlc3Npb24gPSBtZWRpYUtleXNMaXN0SXRlbS5tZWRpYUtleXMuY3JlYXRlU2Vzc2lvbigpO1xuICAgICAgICBfdGhpczQuX29uTmV3TWVkaWFLZXlTZXNzaW9uKG1lZGlhS2V5c0xpc3RJdGVtLm1lZGlhS2V5c1Nlc3Npb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBrZXlTZXNzaW9uXG4gICAgICovXG5cblxuICBFTUVDb250cm9sbGVyLnByb3RvdHlwZS5fb25OZXdNZWRpYUtleVNlc3Npb24gPSBmdW5jdGlvbiBfb25OZXdNZWRpYUtleVNlc3Npb24oa2V5U2Vzc2lvbikge1xuICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdOZXcga2V5LXN5c3RlbSBzZXNzaW9uICcgKyBrZXlTZXNzaW9uLnNlc3Npb25JZCk7XG5cbiAgICBrZXlTZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzNS5fb25LZXlTZXNzaW9uTWVzc2FnZShrZXlTZXNzaW9uLCBldmVudC5tZXNzYWdlKTtcbiAgICB9LCBmYWxzZSk7XG4gIH07XG5cbiAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX29uS2V5U2Vzc2lvbk1lc3NhZ2UgPSBmdW5jdGlvbiBfb25LZXlTZXNzaW9uTWVzc2FnZShrZXlTZXNzaW9uLCBtZXNzYWdlKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdHb3QgRU1FIG1lc3NhZ2UgZXZlbnQsIGNyZWF0aW5nIGxpY2Vuc2UgcmVxdWVzdCcpO1xuXG4gICAgdGhpcy5fcmVxdWVzdExpY2Vuc2UobWVzc2FnZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnUmVjZWl2ZWQgbGljZW5zZSBkYXRhLCB1cGRhdGluZyBrZXktc2Vzc2lvbicpO1xuICAgICAga2V5U2Vzc2lvbi51cGRhdGUoZGF0YSk7XG4gICAgfSk7XG4gIH07XG5cbiAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX29uTWVkaWFFbmNyeXB0ZWQgPSBmdW5jdGlvbiBfb25NZWRpYUVuY3J5cHRlZChpbml0RGF0YVR5cGUsIGluaXREYXRhKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdNZWRpYSBpcyBlbmNyeXB0ZWQgdXNpbmcgXCInICsgaW5pdERhdGFUeXBlICsgJ1wiIGluaXQgZGF0YSB0eXBlJyk7XG5cbiAgICB0aGlzLl9pc01lZGlhRW5jcnlwdGVkID0gdHJ1ZTtcbiAgICB0aGlzLl9tZWRpYUVuY3J5cHRpb25Jbml0RGF0YVR5cGUgPSBpbml0RGF0YVR5cGU7XG4gICAgdGhpcy5fbWVkaWFFbmNyeXB0aW9uSW5pdERhdGEgPSBpbml0RGF0YTtcblxuICAgIHRoaXMuX2F0dGVtcHRTZXRNZWRpYUtleXMoKTtcbiAgICB0aGlzLl9nZW5lcmF0ZVJlcXVlc3RXaXRoUHJlZmVycmVkS2V5U2Vzc2lvbigpO1xuICB9O1xuXG4gIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLl9hdHRlbXB0U2V0TWVkaWFLZXlzID0gZnVuY3Rpb24gX2F0dGVtcHRTZXRNZWRpYUtleXMoKSB7XG4gICAgaWYgKCF0aGlzLl9oYXNTZXRNZWRpYUtleXMpIHtcbiAgICAgIC8vIEZJWE1FOiBzZWUgaWYgd2UgY2FuL3dhbnQvbmVlZC10byByZWFsbHkgdG8gZGVhbCB3aXRoIHNldmVyYWwgcG90ZW50aWFsIGtleS1zZXNzaW9ucz9cbiAgICAgIHZhciBrZXlzTGlzdEl0ZW0gPSB0aGlzLl9tZWRpYUtleXNMaXN0WzBdO1xuICAgICAgaWYgKCFrZXlzTGlzdEl0ZW0gfHwgIWtleXNMaXN0SXRlbS5tZWRpYUtleXMpIHtcbiAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ0ZhdGFsOiBNZWRpYSBpcyBlbmNyeXB0ZWQgYnV0IG5vIENETSBhY2Nlc3Mgb3Igbm8ga2V5cyBoYXZlIGJlZW4gb2J0YWluZWQgeWV0Jyk7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7XG4gICAgICAgICAgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLktFWV9TWVNURU1fRVJST1IsXG4gICAgICAgICAgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uS0VZX1NZU1RFTV9OT19LRVlTLFxuICAgICAgICAgIGZhdGFsOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnU2V0dGluZyBrZXlzIGZvciBlbmNyeXB0ZWQgbWVkaWEnKTtcblxuICAgICAgdGhpcy5fbWVkaWEuc2V0TWVkaWFLZXlzKGtleXNMaXN0SXRlbS5tZWRpYUtleXMpO1xuICAgICAgdGhpcy5faGFzU2V0TWVkaWFLZXlzID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX2dlbmVyYXRlUmVxdWVzdFdpdGhQcmVmZXJyZWRLZXlTZXNzaW9uID0gZnVuY3Rpb24gX2dlbmVyYXRlUmVxdWVzdFdpdGhQcmVmZXJyZWRLZXlTZXNzaW9uKCkge1xuICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgLy8gRklYTUU6IHNlZSBpZiB3ZSBjYW4vd2FudC9uZWVkLXRvIHJlYWxseSB0byBkZWFsIHdpdGggc2V2ZXJhbCBwb3RlbnRpYWwga2V5LXNlc3Npb25zP1xuICAgIHZhciBrZXlzTGlzdEl0ZW0gPSB0aGlzLl9tZWRpYUtleXNMaXN0WzBdO1xuICAgIGlmICgha2V5c0xpc3RJdGVtKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignRmF0YWw6IE1lZGlhIGlzIGVuY3J5cHRlZCBidXQgbm90IGFueSBrZXktc3lzdGVtIGFjY2VzcyBoYXMgYmVlbiBvYnRhaW5lZCB5ZXQnKTtcbiAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7XG4gICAgICAgIHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5LRVlfU1lTVEVNX05PX0FDQ0VTUyxcbiAgICAgICAgZmF0YWw6IHRydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXlzTGlzdEl0ZW0ubWVkaWFLZXlzU2Vzc2lvbkluaXRpYWxpemVkKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdLZXktU2Vzc2lvbiBhbHJlYWR5IGluaXRpYWxpemVkIGJ1dCByZXF1ZXN0ZWQgYWdhaW4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIga2V5U2Vzc2lvbiA9IGtleXNMaXN0SXRlbS5tZWRpYUtleXNTZXNzaW9uO1xuICAgIGlmICgha2V5U2Vzc2lvbikge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ0ZhdGFsOiBNZWRpYSBpcyBlbmNyeXB0ZWQgYnV0IG5vIGtleS1zZXNzaW9uIGV4aXN0aW5nJyk7XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwge1xuICAgICAgICB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uS0VZX1NZU1RFTV9FUlJPUixcbiAgICAgICAgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uS0VZX1NZU1RFTV9OT19TRVNTSU9OLFxuICAgICAgICBmYXRhbDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIGluaXREYXRhVHlwZSA9IHRoaXMuX21lZGlhRW5jcnlwdGlvbkluaXREYXRhVHlwZTtcbiAgICB2YXIgaW5pdERhdGEgPSB0aGlzLl9tZWRpYUVuY3J5cHRpb25Jbml0RGF0YTtcblxuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnR2VuZXJhdGluZyBrZXktc2Vzc2lvbiByZXF1ZXN0IGZvciBcIicgKyBpbml0RGF0YVR5cGUgKyAnXCIgaW5pdCBkYXRhIHR5cGUnKTtcblxuICAgIGtleXNMaXN0SXRlbS5tZWRpYUtleXNTZXNzaW9uSW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gICAga2V5U2Vzc2lvbi5nZW5lcmF0ZVJlcXVlc3QoaW5pdERhdGFUeXBlLCBpbml0RGF0YSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5kZWJ1ZygnS2V5LXNlc3Npb24gZ2VuZXJhdGlvbiBzdWNjZWVkZWQnKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyBrZXktc2Vzc2lvbiByZXF1ZXN0OicsIGVycik7XG4gICAgICBfdGhpczYuaGxzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVSUk9SLCB7XG4gICAgICAgIHR5cGU6IGVycm9yc1tcImJcIiAvKiBFcnJvclR5cGVzICovXS5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5LRVlfU1lTVEVNX05PX1NFU1NJT04sXG4gICAgICAgIGZhdGFsOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBMaWNlbnNlIHNlcnZlciBVUkxcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBrZXlNZXNzYWdlIE1lc3NhZ2UgZGF0YSBpc3N1ZWQgYnkga2V5LXN5c3RlbVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCB3aGVuIFhIUiBoYXMgc3VjY2VlZGVkXG4gICAgICogQHJldHVybnMge1hNTEh0dHBSZXF1ZXN0fSBVbnNlbnQgKGJ1dCBvcGVuZWQgc3RhdGUpIFhIUiBvYmplY3RcbiAgICAgKi9cblxuXG4gIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLl9jcmVhdGVMaWNlbnNlWGhyID0gZnVuY3Rpb24gX2NyZWF0ZUxpY2Vuc2VYaHIodXJsLCBrZXlNZXNzYWdlLCBjYWxsYmFjaykge1xuICAgIHZhciB4aHIgPSBuZXcgZW1lX2NvbnRyb2xsZXJfWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB2YXIgbGljZW5zZVhoclNldHVwID0gdGhpcy5fbGljZW5zZVhoclNldHVwO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChsaWNlbnNlWGhyU2V0dXApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsaWNlbnNlWGhyU2V0dXAoeGhyLCB1cmwpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gbGV0J3MgdHJ5IHRvIG9wZW4gYmVmb3JlIHJ1bm5pbmcgc2V0dXBcbiAgICAgICAgICB4aHIub3BlbignUE9TVCcsIHVybCwgdHJ1ZSk7XG4gICAgICAgICAgbGljZW5zZVhoclNldHVwKHhociwgdXJsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gaWYgbGljZW5zZVhoclNldHVwIGRpZCBub3QgeWV0IGNhbGwgb3BlbiwgbGV0J3MgZG8gaXQgbm93XG4gICAgICBpZiAoIXhoci5yZWFkeVN0YXRlKSB7XG4gICAgICAgIHhoci5vcGVuKCdQT1NUJywgdXJsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBJRTExIHRocm93cyBhbiBleGNlcHRpb24gb24geGhyLm9wZW4gaWYgYXR0ZW1wdGluZyB0byBhY2Nlc3MgYW4gSFRUUCByZXNvdXJjZSBvdmVyIEhUVFBTXG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5lcnJvcignRXJyb3Igc2V0dGluZyB1cCBrZXktc3lzdGVtIGxpY2Vuc2UgWEhSJywgZSk7XG4gICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwge1xuICAgICAgICB0eXBlOiBlcnJvcnNbXCJiXCIgLyogRXJyb3JUeXBlcyAqL10uS0VZX1NZU1RFTV9FUlJPUixcbiAgICAgICAgZGV0YWlsczogZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL10uS0VZX1NZU1RFTV9MSUNFTlNFX1JFUVVFU1RfRkFJTEVELFxuICAgICAgICBmYXRhbDogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHRoaXMuX29uTGljZW5zZVJlcXVlc3RSZWFkeVN0YWdlQ2hhbmdlLmJpbmQodGhpcywgeGhyLCB1cmwsIGtleU1lc3NhZ2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4geGhyO1xuICB9O1xuXG4gIC8qKlxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R9IHhoclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgTGljZW5zZSBzZXJ2ZXIgVVJMXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0ga2V5TWVzc2FnZSBNZXNzYWdlIGRhdGEgaXNzdWVkIGJ5IGtleS1zeXN0ZW1cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgd2hlbiBYSFIgaGFzIHN1Y2NlZWRlZFxuICAgICAqXG4gICAgICovXG5cblxuICBFTUVDb250cm9sbGVyLnByb3RvdHlwZS5fb25MaWNlbnNlUmVxdWVzdFJlYWR5U3RhZ2VDaGFuZ2UgPSBmdW5jdGlvbiBfb25MaWNlbnNlUmVxdWVzdFJlYWR5U3RhZ2VDaGFuZ2UoeGhyLCB1cmwsIGtleU1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgc3dpdGNoICh4aHIucmVhZHlTdGF0ZSkge1xuICAgICAgY2FzZSA0OlxuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdGhpcy5fcmVxdWVzdExpY2Vuc2VGYWlsdXJlQ291bnQgPSAwO1xuICAgICAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnTGljZW5zZSByZXF1ZXN0IHN1Y2NlZWRlZCcpO1xuICAgICAgICAgIGNhbGxiYWNrKHhoci5yZXNwb25zZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ0xpY2Vuc2UgUmVxdWVzdCBYSFIgZmFpbGVkICgnICsgdXJsICsgJykuIFN0YXR1czogJyArIHhoci5zdGF0dXMgKyAnICgnICsgeGhyLnN0YXR1c1RleHQgKyAnKScpO1xuXG4gICAgICAgICAgdGhpcy5fcmVxdWVzdExpY2Vuc2VGYWlsdXJlQ291bnQrKztcbiAgICAgICAgICBpZiAodGhpcy5fcmVxdWVzdExpY2Vuc2VGYWlsdXJlQ291bnQgPD0gTUFYX0xJQ0VOU0VfUkVRVUVTVF9GQUlMVVJFUykge1xuICAgICAgICAgICAgdmFyIGF0dGVtcHRzTGVmdCA9IE1BWF9MSUNFTlNFX1JFUVVFU1RfRkFJTFVSRVMgLSB0aGlzLl9yZXF1ZXN0TGljZW5zZUZhaWx1cmVDb3VudCArIDE7XG4gICAgICAgICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS53YXJuKCdSZXRyeWluZyBsaWNlbnNlIHJlcXVlc3QsICcgKyBhdHRlbXB0c0xlZnQgKyAnIGF0dGVtcHRzIGxlZnQnKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RMaWNlbnNlKGtleU1lc3NhZ2UsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwge1xuICAgICAgICAgICAgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLktFWV9TWVNURU1fRVJST1IsXG4gICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNbXCJhXCIgLyogRXJyb3JEZXRhaWxzICovXS5LRVlfU1lTVEVNX0xJQ0VOU0VfUkVRVUVTVF9GQUlMRUQsXG4gICAgICAgICAgICBmYXRhbDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0ga2V5c0xpc3RJdGVtXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0ga2V5TWVzc2FnZVxuICAgICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gQ2hhbGxlbmdlIGRhdGEgcG9zdGVkIHRvIGxpY2Vuc2Ugc2VydmVyXG4gICAgICovXG5cblxuICBFTUVDb250cm9sbGVyLnByb3RvdHlwZS5fZ2VuZXJhdGVMaWNlbnNlUmVxdWVzdENoYWxsZW5nZSA9IGZ1bmN0aW9uIF9nZW5lcmF0ZUxpY2Vuc2VSZXF1ZXN0Q2hhbGxlbmdlKGtleXNMaXN0SXRlbSwga2V5TWVzc2FnZSkge1xuICAgIHZhciBjaGFsbGVuZ2UgPSB2b2lkIDA7XG5cbiAgICBpZiAoa2V5c0xpc3RJdGVtLm1lZGlhS2V5U3lzdGVtRG9tYWluID09PSBLZXlTeXN0ZW1zLlBMQVlSRUFEWSkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ1BsYXlSZWFkeSBpcyBub3Qgc3VwcG9ydGVkICh5ZXQpJyk7XG5cbiAgICAgIC8vIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdEVkZ2UvRGVtb3MvYmxvYi9tYXN0ZXIvZW1lL3NjcmlwdHMvZGVtby5qc1xuICAgICAgLypcbiAgICAgICAgaWYgKHRoaXMubGljZW5zZVR5cGUgIT09IHRoaXMuTElDRU5TRV9UWVBFX1dJREVWSU5FKSB7XG4gICAgICAgICAgICAvLyBGb3IgUGxheVJlYWR5IENETXMsIHdlIG5lZWQgdG8gZGlnIHRoZSBDaGFsbGVuZ2Ugb3V0IG9mIHRoZSBYTUwuXG4gICAgICAgICAgICB2YXIga2V5TWVzc2FnZVhtbCA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDE2QXJyYXkoa2V5TWVzc2FnZSkpLCAnYXBwbGljYXRpb24veG1sJyk7XG4gICAgICAgICAgICBpZiAoa2V5TWVzc2FnZVhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQ2hhbGxlbmdlJylbMF0pIHtcbiAgICAgICAgICAgICAgICBjaGFsbGVuZ2UgPSBhdG9iKGtleU1lc3NhZ2VYbWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0NoYWxsZW5nZScpWzBdLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBmaW5kIDxDaGFsbGVuZ2U+IGluIGtleSBtZXNzYWdlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBoZWFkZXJOYW1lcyA9IGtleU1lc3NhZ2VYbWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25hbWUnKTtcbiAgICAgICAgICAgIHZhciBoZWFkZXJWYWx1ZXMgPSBrZXlNZXNzYWdlWG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd2YWx1ZScpO1xuICAgICAgICAgICAgaWYgKGhlYWRlck5hbWVzLmxlbmd0aCAhPT0gaGVhZGVyVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93ICdNaXNtYXRjaGVkIGhlYWRlciA8bmFtZT4vPHZhbHVlPiBwYWlyIGluIGtleSBtZXNzYWdlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVhZGVyTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXJOYW1lc1tpXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSwgaGVhZGVyVmFsdWVzW2ldLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAqL1xuICAgIH0gZWxzZSBpZiAoa2V5c0xpc3RJdGVtLm1lZGlhS2V5U3lzdGVtRG9tYWluID09PSBLZXlTeXN0ZW1zLldJREVWSU5FKSB7XG4gICAgICAvLyBGb3IgV2lkZXZpbmUgQ0RNcywgdGhlIGNoYWxsZW5nZSBpcyB0aGUga2V5TWVzc2FnZS5cbiAgICAgIGNoYWxsZW5nZSA9IGtleU1lc3NhZ2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmVycm9yKCdVbnN1cHBvcnRlZCBrZXktc3lzdGVtOicsIGtleXNMaXN0SXRlbS5tZWRpYUtleVN5c3RlbURvbWFpbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoYWxsZW5nZTtcbiAgfTtcblxuICBFTUVDb250cm9sbGVyLnByb3RvdHlwZS5fcmVxdWVzdExpY2Vuc2UgPSBmdW5jdGlvbiBfcmVxdWVzdExpY2Vuc2Uoa2V5TWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ1JlcXVlc3RpbmcgY29udGVudCBsaWNlbnNlIGZvciBrZXktc3lzdGVtJyk7XG5cbiAgICB2YXIga2V5c0xpc3RJdGVtID0gdGhpcy5fbWVkaWFLZXlzTGlzdFswXTtcbiAgICBpZiAoIWtleXNMaXN0SXRlbSkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10uZXJyb3IoJ0ZhdGFsIGVycm9yOiBNZWRpYSBpcyBlbmNyeXB0ZWQgYnV0IG5vIGtleS1zeXN0ZW0gYWNjZXNzIGhhcyBiZWVuIG9idGFpbmVkIHlldCcpO1xuICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uRVJST1IsIHtcbiAgICAgICAgdHlwZTogZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dLktFWV9TWVNURU1fRVJST1IsXG4gICAgICAgIGRldGFpbHM6IGVycm9yc1tcImFcIiAvKiBFcnJvckRldGFpbHMgKi9dLktFWV9TWVNURU1fTk9fQUNDRVNTLFxuICAgICAgICBmYXRhbDogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHVybCA9IHRoaXMuZ2V0TGljZW5zZVNlcnZlclVybChrZXlzTGlzdEl0ZW0ubWVkaWFLZXlTeXN0ZW1Eb21haW4pO1xuICAgIHZhciB4aHIgPSB0aGlzLl9jcmVhdGVMaWNlbnNlWGhyKHVybCwga2V5TWVzc2FnZSwgY2FsbGJhY2spO1xuXG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdTZW5kaW5nIGxpY2Vuc2UgcmVxdWVzdCB0byBVUkw6ICcgKyB1cmwpO1xuXG4gICAgeGhyLnNlbmQodGhpcy5fZ2VuZXJhdGVMaWNlbnNlUmVxdWVzdENoYWxsZW5nZShrZXlzTGlzdEl0ZW0sIGtleU1lc3NhZ2UpKTtcbiAgfTtcblxuICBFTUVDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhQXR0YWNoZWQgPSBmdW5jdGlvbiBvbk1lZGlhQXR0YWNoZWQoZGF0YSkge1xuICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgaWYgKCF0aGlzLl9lbWVFbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1lZGlhID0gZGF0YS5tZWRpYTtcblxuICAgIC8vIGtlZXAgcmVmZXJlbmNlIG9mIG1lZGlhXG4gICAgdGhpcy5fbWVkaWEgPSBtZWRpYTtcblxuICAgIC8vIEZJWE1FOiBhbHNvIGhhbmRsZSBkZXRhY2hpbmcgbWVkaWEgIVxuXG4gICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcignZW5jcnlwdGVkJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzNy5fb25NZWRpYUVuY3J5cHRlZChlLmluaXREYXRhVHlwZSwgZS5pbml0RGF0YSk7XG4gICAgfSk7XG4gIH07XG5cbiAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdFBhcnNlZCA9IGZ1bmN0aW9uIG9uTWFuaWZlc3RQYXJzZWQoZGF0YSkge1xuICAgIGlmICghdGhpcy5fZW1lRW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBhdWRpb0NvZGVjcyA9IGRhdGEubGV2ZWxzLm1hcChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgIHJldHVybiBsZXZlbC5hdWRpb0NvZGVjO1xuICAgIH0pO1xuICAgIHZhciB2aWRlb0NvZGVjcyA9IGRhdGEubGV2ZWxzLm1hcChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgIHJldHVybiBsZXZlbC52aWRlb0NvZGVjO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fYXR0ZW1wdEtleVN5c3RlbUFjY2VzcyhLZXlTeXN0ZW1zLldJREVWSU5FLCBhdWRpb0NvZGVjcywgdmlkZW9Db2RlY3MpO1xuICB9O1xuXG4gIGVtZV9jb250cm9sbGVyX19jcmVhdGVDbGFzcyhFTUVDb250cm9sbGVyLCBbe1xuICAgIGtleTogJ3JlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAoIXRoaXMuX3JlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyBmdW5jdGlvbiBjb25maWd1cmVkJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3M7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEVNRUNvbnRyb2xsZXI7XG59KGV2ZW50X2hhbmRsZXIpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBlbWVfY29udHJvbGxlciA9IChlbWVfY29udHJvbGxlcl9FTUVDb250cm9sbGVyKTtcbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3V0aWxzL21lZGlha2V5cy1oZWxwZXIuanNcbnZhciByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yICYmIHdpbmRvdy5uYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzLmJpbmQod2luZG93Lm5hdmlnYXRvcik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0oKTtcblxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb25maWcuanNcbi8qKlxuICogSExTIGNvbmZpZ1xuICovXG5cblxuXG5cblxuXG4vLyBpbXBvcnQgRmV0Y2hMb2FkZXIgZnJvbSAnLi91dGlscy9mZXRjaC1sb2FkZXInO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxudmFyIGhsc0RlZmF1bHRDb25maWcgPSB7XG4gIGF1dG9TdGFydExvYWQ6IHRydWUsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgc3RhcnRQb3NpdGlvbjogLTEsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgZGVmYXVsdEF1ZGlvQ29kZWM6IHVuZGVmaW5lZCwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBkZWJ1ZzogZmFsc2UsIC8vIHVzZWQgYnkgbG9nZ2VyXG4gIGNhcExldmVsT25GUFNEcm9wOiBmYWxzZSwgLy8gdXNlZCBieSBmcHMtY29udHJvbGxlclxuICBjYXBMZXZlbFRvUGxheWVyU2l6ZTogZmFsc2UsIC8vIHVzZWQgYnkgY2FwLWxldmVsLWNvbnRyb2xsZXJcbiAgaW5pdGlhbExpdmVNYW5pZmVzdFNpemU6IDEsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbWF4QnVmZmVyTGVuZ3RoOiAzMCwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBtYXhCdWZmZXJTaXplOiA2MCAqIDEwMDAgKiAxMDAwLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIG1heEJ1ZmZlckhvbGU6IDAuNSwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuXG4gIGxvd0J1ZmZlcldhdGNoZG9nUGVyaW9kOiAwLjUsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgaGlnaEJ1ZmZlcldhdGNoZG9nUGVyaW9kOiAzLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIG51ZGdlT2Zmc2V0OiAwLjEsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbnVkZ2VNYXhSZXRyeTogMywgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBtYXhGcmFnTG9va1VwVG9sZXJhbmNlOiAwLjI1LCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIGxpdmVTeW5jRHVyYXRpb25Db3VudDogMywgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBsaXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnQ6IEluZmluaXR5LCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIGxpdmVTeW5jRHVyYXRpb246IHVuZGVmaW5lZCwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBsaXZlTWF4TGF0ZW5jeUR1cmF0aW9uOiB1bmRlZmluZWQsIC8vIHVzZWQgYnkgc3RyZWFtLWNvbnRyb2xsZXJcbiAgbGl2ZUR1cmF0aW9uSW5maW5pdHk6IGZhbHNlLCAvLyB1c2VkIGJ5IGJ1ZmZlci1jb250cm9sbGVyXG4gIG1heE1heEJ1ZmZlckxlbmd0aDogNjAwLCAvLyB1c2VkIGJ5IHN0cmVhbS1jb250cm9sbGVyXG4gIGVuYWJsZVdvcmtlcjogdHJ1ZSwgLy8gdXNlZCBieSBkZW11eGVyXG4gIGVuYWJsZVNvZnR3YXJlQUVTOiB0cnVlLCAvLyB1c2VkIGJ5IGRlY3J5cHRlclxuICBtYW5pZmVzdExvYWRpbmdUaW1lT3V0OiAxMDAwMCwgLy8gdXNlZCBieSBwbGF5bGlzdC1sb2FkZXJcbiAgbWFuaWZlc3RMb2FkaW5nTWF4UmV0cnk6IDEsIC8vIHVzZWQgYnkgcGxheWxpc3QtbG9hZGVyXG4gIG1hbmlmZXN0TG9hZGluZ1JldHJ5RGVsYXk6IDEwMDAsIC8vIHVzZWQgYnkgcGxheWxpc3QtbG9hZGVyXG4gIG1hbmlmZXN0TG9hZGluZ01heFJldHJ5VGltZW91dDogNjQwMDAsIC8vIHVzZWQgYnkgcGxheWxpc3QtbG9hZGVyXG4gIHN0YXJ0TGV2ZWw6IHVuZGVmaW5lZCwgLy8gdXNlZCBieSBsZXZlbC1jb250cm9sbGVyXG4gIGxldmVsTG9hZGluZ1RpbWVPdXQ6IDEwMDAwLCAvLyB1c2VkIGJ5IHBsYXlsaXN0LWxvYWRlclxuICBsZXZlbExvYWRpbmdNYXhSZXRyeTogNCwgLy8gdXNlZCBieSBwbGF5bGlzdC1sb2FkZXJcbiAgbGV2ZWxMb2FkaW5nUmV0cnlEZWxheTogMTAwMCwgLy8gdXNlZCBieSBwbGF5bGlzdC1sb2FkZXJcbiAgbGV2ZWxMb2FkaW5nTWF4UmV0cnlUaW1lb3V0OiA2NDAwMCwgLy8gdXNlZCBieSBwbGF5bGlzdC1sb2FkZXJcbiAgZnJhZ0xvYWRpbmdUaW1lT3V0OiAyMDAwMCwgLy8gdXNlZCBieSBmcmFnbWVudC1sb2FkZXJcbiAgZnJhZ0xvYWRpbmdNYXhSZXRyeTogNiwgLy8gdXNlZCBieSBmcmFnbWVudC1sb2FkZXJcbiAgZnJhZ0xvYWRpbmdSZXRyeURlbGF5OiAxMDAwLCAvLyB1c2VkIGJ5IGZyYWdtZW50LWxvYWRlclxuICBmcmFnTG9hZGluZ01heFJldHJ5VGltZW91dDogNjQwMDAsIC8vIHVzZWQgYnkgZnJhZ21lbnQtbG9hZGVyXG4gIHN0YXJ0RnJhZ1ByZWZldGNoOiBmYWxzZSwgLy8gdXNlZCBieSBzdHJlYW0tY29udHJvbGxlclxuICBmcHNEcm9wcGVkTW9uaXRvcmluZ1BlcmlvZDogNTAwMCwgLy8gdXNlZCBieSBmcHMtY29udHJvbGxlclxuICBmcHNEcm9wcGVkTW9uaXRvcmluZ1RocmVzaG9sZDogMC4yLCAvLyB1c2VkIGJ5IGZwcy1jb250cm9sbGVyXG4gIGFwcGVuZEVycm9yTWF4UmV0cnk6IDMsIC8vIHVzZWQgYnkgYnVmZmVyLWNvbnRyb2xsZXJcbiAgbG9hZGVyOiB4aHJfbG9hZGVyLFxuICAvLyBsb2FkZXI6IEZldGNoTG9hZGVyLFxuICBmTG9hZGVyOiB1bmRlZmluZWQsIC8vIHVzZWQgYnkgZnJhZ21lbnQtbG9hZGVyXG4gIHBMb2FkZXI6IHVuZGVmaW5lZCwgLy8gdXNlZCBieSBwbGF5bGlzdC1sb2FkZXJcbiAgeGhyU2V0dXA6IHVuZGVmaW5lZCwgLy8gdXNlZCBieSB4aHItbG9hZGVyXG4gIGxpY2Vuc2VYaHJTZXR1cDogdW5kZWZpbmVkLCAvLyB1c2VkIGJ5IGVtZS1jb250cm9sbGVyXG4gIC8vIGZldGNoU2V0dXA6IHVuZGVmaW5lZCxcbiAgYWJyQ29udHJvbGxlcjogYWJyX2NvbnRyb2xsZXIsXG4gIGJ1ZmZlckNvbnRyb2xsZXI6IGJ1ZmZlcl9jb250cm9sbGVyLFxuICBjYXBMZXZlbENvbnRyb2xsZXI6IGNhcF9sZXZlbF9jb250cm9sbGVyLFxuICBmcHNDb250cm9sbGVyOiBmcHNfY29udHJvbGxlcixcbiAgc3RyZXRjaFNob3J0VmlkZW9UcmFjazogZmFsc2UsIC8vIHVzZWQgYnkgbXA0LXJlbXV4ZXJcbiAgbWF4QXVkaW9GcmFtZXNEcmlmdDogMSwgLy8gdXNlZCBieSBtcDQtcmVtdXhlclxuICBmb3JjZUtleUZyYW1lT25EaXNjb250aW51aXR5OiB0cnVlLCAvLyB1c2VkIGJ5IHRzLWRlbXV4ZXJcbiAgYWJyRXdtYUZhc3RMaXZlOiAzLCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFickV3bWFTbG93TGl2ZTogOSwgLy8gdXNlZCBieSBhYnItY29udHJvbGxlclxuICBhYnJFd21hRmFzdFZvRDogMywgLy8gdXNlZCBieSBhYnItY29udHJvbGxlclxuICBhYnJFd21hU2xvd1ZvRDogOSwgLy8gdXNlZCBieSBhYnItY29udHJvbGxlclxuICBhYnJFd21hRGVmYXVsdEVzdGltYXRlOiA1ZTUsIC8vIDUwMCBrYnBzICAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFickJhbmRXaWR0aEZhY3RvcjogMC45NSwgLy8gdXNlZCBieSBhYnItY29udHJvbGxlclxuICBhYnJCYW5kV2lkdGhVcEZhY3RvcjogMC43LCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIGFick1heFdpdGhSZWFsQml0cmF0ZTogZmFsc2UsIC8vIHVzZWQgYnkgYWJyLWNvbnRyb2xsZXJcbiAgbWF4U3RhcnZhdGlvbkRlbGF5OiA0LCAvLyB1c2VkIGJ5IGFici1jb250cm9sbGVyXG4gIG1heExvYWRpbmdEZWxheTogNCwgLy8gdXNlZCBieSBhYnItY29udHJvbGxlclxuICBtaW5BdXRvQml0cmF0ZTogMCwgLy8gdXNlZCBieSBobHNcbiAgZW1lRW5hYmxlZDogZmFsc2UsIC8vIHVzZWQgYnkgZW1lLWNvbnRyb2xsZXJcbiAgd2lkZXZpbmVMaWNlbnNlVXJsOiB1bmRlZmluZWQsIC8vIHVzZWQgYnkgZW1lLWNvbnRyb2xsZXJcbiAgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzRnVuYzogcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzIC8vIHVzZWQgYnkgZW1lLWNvbnRyb2xsZXJcbn07XG5cbmlmICh0cnVlKSB7XG4gIGhsc0RlZmF1bHRDb25maWcuc3VidGl0bGVTdHJlYW1Db250cm9sbGVyID0gc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXI7XG4gIGhsc0RlZmF1bHRDb25maWcuc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyO1xuICBobHNEZWZhdWx0Q29uZmlnLnRpbWVsaW5lQ29udHJvbGxlciA9IHRpbWVsaW5lX2NvbnRyb2xsZXI7XG4gIGhsc0RlZmF1bHRDb25maWcuY3VlSGFuZGxlciA9IGN1ZXNfbmFtZXNwYWNlT2JqZWN0OyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgaGxzRGVmYXVsdENvbmZpZy5lbmFibGVDRUE3MDhDYXB0aW9ucyA9IHRydWU7IC8vIHVzZWQgYnkgdGltZWxpbmUtY29udHJvbGxlclxuICBobHNEZWZhdWx0Q29uZmlnLmVuYWJsZVdlYlZUVCA9IHRydWU7IC8vIHVzZWQgYnkgdGltZWxpbmUtY29udHJvbGxlclxuICBobHNEZWZhdWx0Q29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMUxhYmVsID0gJ0VuZ2xpc2gnOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgaGxzRGVmYXVsdENvbmZpZy5jYXB0aW9uc1RleHRUcmFjazFMYW5ndWFnZUNvZGUgPSAnZW4nOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgaGxzRGVmYXVsdENvbmZpZy5jYXB0aW9uc1RleHRUcmFjazJMYWJlbCA9ICdTcGFuaXNoJzsgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gIGhsc0RlZmF1bHRDb25maWcuY2FwdGlvbnNUZXh0VHJhY2syTGFuZ3VhZ2VDb2RlID0gJ2VzJzsgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG59XG5cbmlmICh0cnVlKSB7XG4gIGhsc0RlZmF1bHRDb25maWcuYXVkaW9TdHJlYW1Db250cm9sbGVyID0gYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXI7XG4gIGhsc0RlZmF1bHRDb25maWcuYXVkaW9UcmFja0NvbnRyb2xsZXIgPSBhdWRpb190cmFja19jb250cm9sbGVyO1xufVxuXG5pZiAodHJ1ZSkge1xuICBobHNEZWZhdWx0Q29uZmlnLmVtZUNvbnRyb2xsZXIgPSBlbWVfY29udHJvbGxlcjtcbn1cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2hscy5qc1xudmFyIGhsc19fY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIGhsc19fY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuLy8gcG9seWZpbGwgZm9yIElFMTFcbl9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXG4vKipcbiAqIEBtb2R1bGUgSGxzXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5cbnZhciBobHNfSGxzID0gZnVuY3Rpb24gKCkge1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIEhscy5pc1N1cHBvcnRlZCA9IGZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBpc19zdXBwb3J0ZWRfaXNTdXBwb3J0ZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogQHR5cGUge0hsc0V2ZW50c31cbiAgICovXG5cblxuICBobHNfX2NyZWF0ZUNsYXNzKEhscywgbnVsbCwgW3tcbiAgICBrZXk6ICd2ZXJzaW9uJyxcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gXCIwLjExLjBcIjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdFdmVudHMnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGV2ZW50c1tcImFcIiAvKiBkZWZhdWx0ICovXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7SGxzRXJyb3JUeXBlc31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnRXJyb3JUeXBlcycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZXJyb3JzW1wiYlwiIC8qIEVycm9yVHlwZXMgKi9dO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtIbHNFcnJvckRldGFpbHN9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ0Vycm9yRGV0YWlscycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZXJyb3JzW1wiYVwiIC8qIEVycm9yRGV0YWlscyAqL107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0hsc0NvbmZpZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnRGVmYXVsdENvbmZpZycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAoIUhscy5kZWZhdWx0Q29uZmlnKSB7XG4gICAgICAgIHJldHVybiBobHNEZWZhdWx0Q29uZmlnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gSGxzLmRlZmF1bHRDb25maWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge0hsc0NvbmZpZ31cbiAgICAgKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoZGVmYXVsdENvbmZpZykge1xuICAgICAgSGxzLmRlZmF1bHRDb25maWcgPSBkZWZhdWx0Q29uZmlnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYW4gSExTIGNsaWVudCB0aGF0IGNhbiBhdHRhY2ggdG8gZXhhY3RseSBvbmUgYEhUTUxNZWRpYUVsZW1lbnRgLlxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdHMgSGxzXG4gICAgICogQHBhcmFtIHtIbHNDb25maWd9IGNvbmZpZ1xuICAgICAqL1xuXG4gIH1dKTtcblxuICBmdW5jdGlvbiBIbHMoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgaGxzX19jbGFzc0NhbGxDaGVjayh0aGlzLCBIbHMpO1xuXG4gICAgdmFyIGRlZmF1bHRDb25maWcgPSBIbHMuRGVmYXVsdENvbmZpZztcblxuICAgIGlmICgoY29uZmlnLmxpdmVTeW5jRHVyYXRpb25Db3VudCB8fCBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50KSAmJiAoY29uZmlnLmxpdmVTeW5jRHVyYXRpb24gfHwgY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgaGxzLmpzIGNvbmZpZzogZG9uXFwndCBtaXggdXAgbGl2ZVN5bmNEdXJhdGlvbkNvdW50L2xpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCBhbmQgbGl2ZVN5bmNEdXJhdGlvbi9saXZlTWF4TGF0ZW5jeUR1cmF0aW9uJyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgcHJvcCBpbiBkZWZhdWx0Q29uZmlnKSB7XG4gICAgICBpZiAocHJvcCBpbiBjb25maWcpIGNvbnRpbnVlO1xuICAgICAgY29uZmlnW3Byb3BdID0gZGVmYXVsdENvbmZpZ1twcm9wXTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudCAhPT0gdW5kZWZpbmVkICYmIGNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnQgPD0gY29uZmlnLmxpdmVTeW5jRHVyYXRpb25Db3VudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGhscy5qcyBjb25maWc6IFwibGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50XCIgbXVzdCBiZSBndCBcImxpdmVTeW5jRHVyYXRpb25Db3VudFwiJyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uICE9PSB1bmRlZmluZWQgJiYgKGNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uIDw9IGNvbmZpZy5saXZlU3luY0R1cmF0aW9uIHx8IGNvbmZpZy5saXZlU3luY0R1cmF0aW9uID09PSB1bmRlZmluZWQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgaGxzLmpzIGNvbmZpZzogXCJsaXZlTWF4TGF0ZW5jeUR1cmF0aW9uXCIgbXVzdCBiZSBndCBcImxpdmVTeW5jRHVyYXRpb25cIicpO1xuICAgIH1cblxuICAgIE9iamVjdChsb2dnZXJbXCJhXCIgLyogZW5hYmxlTG9ncyAqL10pKGNvbmZpZy5kZWJ1Zyk7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fYXV0b0xldmVsQ2FwcGluZyA9IC0xO1xuICAgIC8vIG9ic2VydmVyIHNldHVwXG4gICAgdmFyIG9ic2VydmVyID0gdGhpcy5vYnNlcnZlciA9IG5ldyBldmVudHNfZGVmYXVsdC5hKCk7XG4gICAgb2JzZXJ2ZXIudHJpZ2dlciA9IGZ1bmN0aW9uIHRyaWdnZXIoZXZlbnQpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBkYXRhID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBkYXRhW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgb2JzZXJ2ZXIuZW1pdC5hcHBseShvYnNlcnZlciwgW2V2ZW50LCBldmVudF0uY29uY2F0KGRhdGEpKTtcbiAgICB9O1xuXG4gICAgb2JzZXJ2ZXIub2ZmID0gZnVuY3Rpb24gb2ZmKGV2ZW50KSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGRhdGEgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGRhdGFbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIG9ic2VydmVyLnJlbW92ZUxpc3RlbmVyLmFwcGx5KG9ic2VydmVyLCBbZXZlbnRdLmNvbmNhdChkYXRhKSk7XG4gICAgfTtcbiAgICB0aGlzLm9uID0gb2JzZXJ2ZXIub24uYmluZChvYnNlcnZlcik7XG4gICAgdGhpcy5vZmYgPSBvYnNlcnZlci5vZmYuYmluZChvYnNlcnZlcik7XG4gICAgdGhpcy5vbmNlID0gb2JzZXJ2ZXIub25jZS5iaW5kKG9ic2VydmVyKTtcbiAgICB0aGlzLnRyaWdnZXIgPSBvYnNlcnZlci50cmlnZ2VyLmJpbmQob2JzZXJ2ZXIpO1xuXG4gICAgLy8gY29yZSBjb250cm9sbGVycyBhbmQgbmV0d29yayBsb2FkZXJzXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtBYnJDb250cm9sbGVyfSBhYnJDb250cm9sbGVyXG4gICAgICovXG4gICAgdmFyIGFickNvbnRyb2xsZXIgPSB0aGlzLmFickNvbnRyb2xsZXIgPSBuZXcgY29uZmlnLmFickNvbnRyb2xsZXIodGhpcyk7XG5cbiAgICB2YXIgYnVmZmVyQ29udHJvbGxlciA9IG5ldyBjb25maWcuYnVmZmVyQ29udHJvbGxlcih0aGlzKTtcbiAgICB2YXIgY2FwTGV2ZWxDb250cm9sbGVyID0gbmV3IGNvbmZpZy5jYXBMZXZlbENvbnRyb2xsZXIodGhpcyk7XG4gICAgdmFyIGZwc0NvbnRyb2xsZXIgPSBuZXcgY29uZmlnLmZwc0NvbnRyb2xsZXIodGhpcyk7XG4gICAgdmFyIHBsYXlMaXN0TG9hZGVyID0gbmV3IHBsYXlsaXN0X2xvYWRlcih0aGlzKTtcbiAgICB2YXIgZnJhZ21lbnRMb2FkZXIgPSBuZXcgZnJhZ21lbnRfbG9hZGVyKHRoaXMpO1xuICAgIHZhciBrZXlMb2FkZXIgPSBuZXcga2V5X2xvYWRlcih0aGlzKTtcbiAgICB2YXIgaWQzVHJhY2tDb250cm9sbGVyID0gbmV3IGlkM190cmFja19jb250cm9sbGVyKHRoaXMpO1xuXG4gICAgLy8gbmV0d29yayBjb250cm9sbGVyc1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7TGV2ZWxDb250cm9sbGVyfSBsZXZlbENvbnRyb2xsZXJcbiAgICAgKi9cbiAgICB2YXIgbGV2ZWxDb250cm9sbGVyID0gdGhpcy5sZXZlbENvbnRyb2xsZXIgPSBuZXcgbGV2ZWxfY29udHJvbGxlcih0aGlzKTtcblxuICAgIC8vIEZJWE1FOiBGcmFnbWVudFRyYWNrZXIgbXVzdCBiZSBkZWZpbmVkIGJlZm9yZSBTdHJlYW1Db250cm9sbGVyIGJlY2F1c2UgdGhlIG9yZGVyIG9mIGV2ZW50IGhhbmRsaW5nIGlzIGltcG9ydGFudFxuICAgIHZhciBmcmFnbWVudFRyYWNrZXIgPSBuZXcgZnJhZ21lbnRfdHJhY2tlcl9GcmFnbWVudFRyYWNrZXIodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtTdHJlYW1Db250cm9sbGVyfSBzdHJlYW1Db250cm9sbGVyXG4gICAgICovXG4gICAgdmFyIHN0cmVhbUNvbnRyb2xsZXIgPSB0aGlzLnN0cmVhbUNvbnRyb2xsZXIgPSBuZXcgc3RyZWFtX2NvbnRyb2xsZXIodGhpcywgZnJhZ21lbnRUcmFja2VyKTtcblxuICAgIHZhciBuZXR3b3JrQ29udHJvbGxlcnMgPSBbbGV2ZWxDb250cm9sbGVyLCBzdHJlYW1Db250cm9sbGVyXTtcblxuICAgIC8vIG9wdGlvbmFsIGF1ZGlvIHN0cmVhbSBjb250cm9sbGVyXG4gICAgLyoqXG4gICAgICogQHZhciB7SUNvcmVDb21wb25lbnQgfCBDb250cm9sbGVyfVxuICAgICAqL1xuICAgIHZhciBDb250cm9sbGVyID0gY29uZmlnLmF1ZGlvU3RyZWFtQ29udHJvbGxlcjtcbiAgICBpZiAoQ29udHJvbGxlcikge1xuICAgICAgbmV0d29ya0NvbnRyb2xsZXJzLnB1c2gobmV3IENvbnRyb2xsZXIodGhpcywgZnJhZ21lbnRUcmFja2VyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7SU5ldHdvcmtDb250cm9sbGVyW119IG5ldHdvcmtDb250cm9sbGVyc1xuICAgICAqL1xuICAgIHRoaXMubmV0d29ya0NvbnRyb2xsZXJzID0gbmV0d29ya0NvbnRyb2xsZXJzO1xuXG4gICAgLyoqXG4gICAgICogQHZhciB7SUNvcmVDb21wb25lbnRbXX1cbiAgICAgKi9cbiAgICB2YXIgY29yZUNvbXBvbmVudHMgPSBbcGxheUxpc3RMb2FkZXIsIGZyYWdtZW50TG9hZGVyLCBrZXlMb2FkZXIsIGFickNvbnRyb2xsZXIsIGJ1ZmZlckNvbnRyb2xsZXIsIGNhcExldmVsQ29udHJvbGxlciwgZnBzQ29udHJvbGxlciwgaWQzVHJhY2tDb250cm9sbGVyLCBmcmFnbWVudFRyYWNrZXJdO1xuXG4gICAgLy8gb3B0aW9uYWwgYXVkaW8gdHJhY2sgYW5kIHN1YnRpdGxlIGNvbnRyb2xsZXJcbiAgICBDb250cm9sbGVyID0gY29uZmlnLmF1ZGlvVHJhY2tDb250cm9sbGVyO1xuICAgIGlmIChDb250cm9sbGVyKSB7XG4gICAgICB2YXIgYXVkaW9UcmFja0NvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcih0aGlzKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbWVtYmVyIHtBdWRpb1RyYWNrQ29udHJvbGxlcn0gYXVkaW9UcmFja0NvbnRyb2xsZXJcbiAgICAgICAqL1xuICAgICAgdGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlciA9IGF1ZGlvVHJhY2tDb250cm9sbGVyO1xuICAgICAgY29yZUNvbXBvbmVudHMucHVzaChhdWRpb1RyYWNrQ29udHJvbGxlcik7XG4gICAgfVxuXG4gICAgQ29udHJvbGxlciA9IGNvbmZpZy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtcbiAgICBpZiAoQ29udHJvbGxlcikge1xuICAgICAgdmFyIHN1YnRpdGxlVHJhY2tDb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIodGhpcyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogQG1lbWJlciB7U3VidGl0bGVUcmFja0NvbnRyb2xsZXJ9IHN1YnRpdGxlVHJhY2tDb250cm9sbGVyXG4gICAgICAgKi9cbiAgICAgIHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtcbiAgICAgIGNvcmVDb21wb25lbnRzLnB1c2goc3VidGl0bGVUcmFja0NvbnRyb2xsZXIpO1xuICAgIH1cblxuICAgIENvbnRyb2xsZXIgPSBjb25maWcuZW1lQ29udHJvbGxlcjtcbiAgICBpZiAoQ29udHJvbGxlcikge1xuICAgICAgdmFyIGVtZUNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcih0aGlzKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbWVtYmVyIHtFTUVDb250cm9sbGVyfSBlbWVDb250cm9sbGVyXG4gICAgICAgKi9cbiAgICAgIHRoaXMuZW1lQ29udHJvbGxlciA9IGVtZUNvbnRyb2xsZXI7XG4gICAgICBjb3JlQ29tcG9uZW50cy5wdXNoKGVtZUNvbnRyb2xsZXIpO1xuICAgIH1cblxuICAgIC8vIG9wdGlvbmFsIHN1YnRpdGxlIGNvbnRyb2xsZXJcbiAgICBbY29uZmlnLnN1YnRpdGxlU3RyZWFtQ29udHJvbGxlciwgY29uZmlnLnRpbWVsaW5lQ29udHJvbGxlcl0uZm9yRWFjaChmdW5jdGlvbiAoQ29udHJvbGxlcikge1xuICAgICAgaWYgKENvbnRyb2xsZXIpIHtcbiAgICAgICAgY29yZUNvbXBvbmVudHMucHVzaChuZXcgQ29udHJvbGxlcihfdGhpcykpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7SUNvcmVDb21wb25lbnRbXX1cbiAgICAgKi9cbiAgICB0aGlzLmNvcmVDb21wb25lbnRzID0gY29yZUNvbXBvbmVudHM7XG4gIH1cblxuICAvKipcbiAgICogRGlzcG9zZSBvZiB0aGUgaW5zdGFuY2VcbiAgICovXG5cblxuICBIbHMucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnZGVzdHJveScpO1xuICAgIHRoaXMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uREVTVFJPWUlORyk7XG4gICAgdGhpcy5kZXRhY2hNZWRpYSgpO1xuICAgIHRoaXMuY29yZUNvbXBvbmVudHMuY29uY2F0KHRoaXMubmV0d29ya0NvbnRyb2xsZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICAgIGNvbXBvbmVudC5kZXN0cm95KCk7XG4gICAgfSk7XG4gICAgdGhpcy51cmwgPSBudWxsO1xuICAgIHRoaXMub2JzZXJ2ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fYXV0b0xldmVsQ2FwcGluZyA9IC0xO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBdHRhY2ggYSBtZWRpYSBlbGVtZW50XG4gICAqIEBwYXJhbSB7SFRNTE1lZGlhRWxlbWVudH0gbWVkaWFcbiAgICovXG5cblxuICBIbHMucHJvdG90eXBlLmF0dGFjaE1lZGlhID0gZnVuY3Rpb24gYXR0YWNoTWVkaWEobWVkaWEpIHtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2F0dGFjaE1lZGlhJyk7XG4gICAgdGhpcy5tZWRpYSA9IG1lZGlhO1xuICAgIHRoaXMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUVESUFfQVRUQUNISU5HLCB7IG1lZGlhOiBtZWRpYSB9KTtcbiAgfTtcblxuICAvKipcbiAgICogRGV0YWNoIGZyb20gdGhlIG1lZGlhXG4gICAqL1xuXG5cbiAgSGxzLnByb3RvdHlwZS5kZXRhY2hNZWRpYSA9IGZ1bmN0aW9uIGRldGFjaE1lZGlhKCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnZGV0YWNoTWVkaWEnKTtcbiAgICB0aGlzLnRyaWdnZXIoZXZlbnRzW1wiYVwiIC8qIGRlZmF1bHQgKi9dLk1FRElBX0RFVEFDSElORyk7XG4gICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc291cmNlIFVSTC4gQ2FuIGJlIHJlbGF0aXZlIG9yIGFic29sdXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAqL1xuXG5cbiAgSGxzLnByb3RvdHlwZS5sb2FkU291cmNlID0gZnVuY3Rpb24gbG9hZFNvdXJjZSh1cmwpIHtcbiAgICB1cmwgPSB1cmxfdG9vbGtpdF9kZWZhdWx0LmEuYnVpbGRBYnNvbHV0ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZiwgdXJsLCB7IGFsd2F5c05vcm1hbGl6ZTogdHJ1ZSB9KTtcbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ2xvYWRTb3VyY2U6JyArIHVybCk7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgLy8gd2hlbiBhdHRhY2hpbmcgdG8gYSBzb3VyY2UgVVJMLCB0cmlnZ2VyIGEgcGxheWxpc3QgbG9hZFxuICAgIHRoaXMudHJpZ2dlcihldmVudHNbXCJhXCIgLyogZGVmYXVsdCAqL10uTUFOSUZFU1RfTE9BRElORywgeyB1cmw6IHVybCB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3RhcnQgbG9hZGluZyBkYXRhIGZyb20gdGhlIHN0cmVhbSBzb3VyY2UuXG4gICAqIERlcGVuZGluZyBvbiBkZWZhdWx0IGNvbmZpZywgY2xpZW50IHN0YXJ0cyBsb2FkaW5nIGF1dG9tYXRpY2FsbHkgd2hlbiBhIHNvdXJjZSBpcyBzZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFBvc2l0aW9uIFNldCB0aGUgc3RhcnQgcG9zaXRpb24gdG8gc3RyZWFtIGZyb21cbiAgICogQGRlZmF1bHQgLTEgTm9uZSAoZnJvbSBlYXJsaWVzdCBwb2ludClcbiAgICovXG5cblxuICBIbHMucHJvdG90eXBlLnN0YXJ0TG9hZCA9IGZ1bmN0aW9uIHN0YXJ0TG9hZCgpIHtcbiAgICB2YXIgc3RhcnRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogLTE7XG5cbiAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3N0YXJ0TG9hZCgnICsgc3RhcnRQb3NpdGlvbiArICcpJyk7XG4gICAgdGhpcy5uZXR3b3JrQ29udHJvbGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoY29udHJvbGxlcikge1xuICAgICAgY29udHJvbGxlci5zdGFydExvYWQoc3RhcnRQb3NpdGlvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3AgbG9hZGluZyBvZiBhbnkgc3RyZWFtIGRhdGEuXG4gICAqL1xuXG5cbiAgSGxzLnByb3RvdHlwZS5zdG9wTG9hZCA9IGZ1bmN0aW9uIHN0b3BMb2FkKCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc3RvcExvYWQnKTtcbiAgICB0aGlzLm5ldHdvcmtDb250cm9sbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChjb250cm9sbGVyKSB7XG4gICAgICBjb250cm9sbGVyLnN0b3BMb2FkKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN3YXAgdGhyb3VnaCBwb3NzaWJsZSBhdWRpbyBjb2RlY3MgaW4gdGhlIHN0cmVhbSAoZm9yIGV4YW1wbGUgdG8gc3dpdGNoIGZyb20gc3RlcmVvIHRvIDUuMSlcbiAgICovXG5cblxuICBIbHMucHJvdG90eXBlLnN3YXBBdWRpb0NvZGVjID0gZnVuY3Rpb24gc3dhcEF1ZGlvQ29kZWMoKSB7XG4gICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzd2FwQXVkaW9Db2RlYycpO1xuICAgIHRoaXMuc3RyZWFtQ29udHJvbGxlci5zd2FwQXVkaW9Db2RlYygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBtZWRpYS1lbGVtZW50IGZhaWxzLCB0aGlzIGFsbG93cyB0byBkZXRhY2ggYW5kIHRoZW4gcmUtYXR0YWNoIGl0XG4gICAqIGFzIG9uZSBjYWxsIChjb252ZW5pZW5jZSBtZXRob2QpLlxuICAgKlxuICAgKiBBdXRvbWF0aWMgcmVjb3Zlcnkgb2YgbWVkaWEtZXJyb3JzIGJ5IHRoaXMgcHJvY2VzcyBpcyBjb25maWd1cmFibGUuXG4gICAqL1xuXG5cbiAgSGxzLnByb3RvdHlwZS5yZWNvdmVyTWVkaWFFcnJvciA9IGZ1bmN0aW9uIHJlY292ZXJNZWRpYUVycm9yKCkge1xuICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygncmVjb3Zlck1lZGlhRXJyb3InKTtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgIHRoaXMuZGV0YWNoTWVkaWEoKTtcbiAgICB0aGlzLmF0dGFjaE1lZGlhKG1lZGlhKTtcbiAgfTtcblxuICAvKipcbiAgICogQHR5cGUge1F1YWxpdHlMZXZlbFtdfVxuICAgKi9cblxuXG4gIGhsc19fY3JlYXRlQ2xhc3MoSGxzLCBbe1xuICAgIGtleTogJ2xldmVscycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZXZlbENvbnRyb2xsZXIubGV2ZWxzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGV4IG9mIHF1YWxpdHkgbGV2ZWwgY3VycmVudGx5IHBsYXllZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2N1cnJlbnRMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW1Db250cm9sbGVyLmN1cnJlbnRMZXZlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgcXVhbGl0eSBsZXZlbCBpbmRleCBpbW1lZGlhdGVseSAuXG4gICAgICogVGhpcyB3aWxsIGZsdXNoIHRoZSBjdXJyZW50IGJ1ZmZlciB0byByZXBsYWNlIHRoZSBxdWFsaXR5IGFzYXAuXG4gICAgICogVGhhdCBtZWFucyBwbGF5YmFjayB3aWxsIGludGVycnVwdCBhdCBsZWFzdCBzaG9ydGx5IHRvIHJlLWJ1ZmZlciBhbmQgcmUtc3luYyBldmVudHVhbGx5LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9IC0xIGZvciBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uXG4gICAgICovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld0xldmVsKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3NldCBjdXJyZW50TGV2ZWw6JyArIG5ld0xldmVsKTtcbiAgICAgIHRoaXMubG9hZExldmVsID0gbmV3TGV2ZWw7XG4gICAgICB0aGlzLnN0cmVhbUNvbnRyb2xsZXIuaW1tZWRpYXRlTGV2ZWxTd2l0Y2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRleCBvZiBuZXh0IHF1YWxpdHkgbGV2ZWwgbG9hZGVkIGFzIHNjaGVkdWxlZCBieSBzdHJlYW0gY29udHJvbGxlci5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICduZXh0TGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtQ29udHJvbGxlci5uZXh0TGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHF1YWxpdHkgbGV2ZWwgaW5kZXggZm9yIG5leHQgbG9hZGVkIGRhdGEuXG4gICAgICogVGhpcyB3aWxsIHN3aXRjaCB0aGUgdmlkZW8gcXVhbGl0eSBhc2FwLCB3aXRob3V0IGludGVycnVwdGluZyBwbGF5YmFjay5cbiAgICAgKiBNYXkgYWJvcnQgY3VycmVudCBsb2FkaW5nIG9mIGRhdGEsIGFuZCBmbHVzaCBwYXJ0cyBvZiBidWZmZXIgKG91dHNpZGUgY3VycmVudGx5IHBsYXllZCBmcmFnbWVudCByZWdpb24pLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9IC0xIGZvciBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uXG4gICAgICovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld0xldmVsKSB7XG4gICAgICBsb2dnZXJbXCJiXCIgLyogbG9nZ2VyICovXS5sb2coJ3NldCBuZXh0TGV2ZWw6JyArIG5ld0xldmVsKTtcbiAgICAgIHRoaXMubGV2ZWxDb250cm9sbGVyLm1hbnVhbExldmVsID0gbmV3TGV2ZWw7XG4gICAgICB0aGlzLnN0cmVhbUNvbnRyb2xsZXIubmV4dExldmVsU3dpdGNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBxdWFsaXR5IGxldmVsIG9mIHRoZSBjdXJyZW50bHkgb3IgbGFzdCAob2Ygbm9uZSBpcyBsb2FkZWQgY3VycmVudGx5KSBzZWdtZW50XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbG9hZExldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxldmVsQ29udHJvbGxlci5sZXZlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgcXVhbGl0eSBsZXZlbCBpbmRleCBmb3IgbmV4dCBsb2FkZWQgZGF0YSBpbiBhIGNvbnNlcnZhdGl2ZSB3YXkuXG4gICAgICogVGhpcyB3aWxsIHN3aXRjaCB0aGUgcXVhbGl0eSB3aXRob3V0IGZsdXNoaW5nLCBidXQgaW50ZXJydXB0IGN1cnJlbnQgbG9hZGluZy5cbiAgICAgKiBUaHVzIHRoZSBtb21lbnQgd2hlbiB0aGUgcXVhbGl0eSBzd2l0Y2ggd2lsbCBhcHBlYXIgaW4gZWZmZWN0IHdpbGwgb25seSBiZSBhZnRlciB0aGUgYWxyZWFkeSBleGlzdGluZyBidWZmZXIuXG4gICAgICogQHR5cGUge251bWJlcn0gbmV3TGV2ZWwgLTEgZm9yIGF1dG9tYXRpYyBsZXZlbCBzZWxlY3Rpb25cbiAgICAgKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3TGV2ZWwpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc2V0IGxvYWRMZXZlbDonICsgbmV3TGV2ZWwpO1xuICAgICAgdGhpcy5sZXZlbENvbnRyb2xsZXIubWFudWFsTGV2ZWwgPSBuZXdMZXZlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXQgbmV4dCBxdWFsaXR5IGxldmVsIGxvYWRlZFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ25leHRMb2FkTGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubGV2ZWxDb250cm9sbGVyLm5leHRMb2FkTGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHF1YWxpdHkgbGV2ZWwgb2YgbmV4dCBsb2FkZWQgc2VnbWVudCBpbiBhIGZ1bGx5IFwibm9uLWRlc3RydWN0aXZlXCIgd2F5LlxuICAgICAqIFNhbWUgYXMgYGxvYWRMZXZlbGAgYnV0IHdpbGwgd2FpdCBmb3IgbmV4dCBzd2l0Y2ggKHVudGlsIGN1cnJlbnQgbG9hZGluZyBpcyBkb25lKS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfSBsZXZlbFxuICAgICAqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChsZXZlbCkge1xuICAgICAgdGhpcy5sZXZlbENvbnRyb2xsZXIubmV4dExvYWRMZXZlbCA9IGxldmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBcImZpcnN0IGxldmVsXCI6IGxpa2UgYSBkZWZhdWx0IGxldmVsLCBpZiBub3Qgc2V0LFxuICAgICAqIGZhbGxzIGJhY2sgdG8gaW5kZXggb2YgZmlyc3QgbGV2ZWwgcmVmZXJlbmNlZCBpbiBtYW5pZmVzdFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZpcnN0TGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMubGV2ZWxDb250cm9sbGVyLmZpcnN0TGV2ZWwsIHRoaXMubWluQXV0b0xldmVsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIFwiZmlyc3QtbGV2ZWxcIiwgc2VlIGdldHRlci5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdMZXZlbCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzZXQgZmlyc3RMZXZlbDonICsgbmV3TGV2ZWwpO1xuICAgICAgdGhpcy5sZXZlbENvbnRyb2xsZXIuZmlyc3RMZXZlbCA9IG5ld0xldmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBzdGFydCBsZXZlbCAobGV2ZWwgb2YgZmlyc3QgZnJhZ21lbnQgdGhhdCB3aWxsIGJlIHBsYXllZCBiYWNrKVxuICAgICAqIGlmIG5vdCBvdmVycmlkZWQgYnkgdXNlciwgZmlyc3QgbGV2ZWwgYXBwZWFyaW5nIGluIG1hbmlmZXN0IHdpbGwgYmUgdXNlZCBhcyBzdGFydCBsZXZlbFxuICAgICAqIGlmIC0xIDogYXV0b21hdGljIHN0YXJ0IGxldmVsIHNlbGVjdGlvbiwgcGxheWJhY2sgd2lsbCBzdGFydCBmcm9tIGxldmVsIG1hdGNoaW5nIGRvd25sb2FkIGJhbmR3aWR0aFxuICAgICAqIChkZXRlcm1pbmVkIGZyb20gZG93bmxvYWQgb2YgZmlyc3Qgc2VnbWVudClcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzdGFydExldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxldmVsQ29udHJvbGxlci5zdGFydExldmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNldCAgc3RhcnQgbGV2ZWwgKGxldmVsIG9mIGZpcnN0IGZyYWdtZW50IHRoYXQgd2lsbCBiZSBwbGF5ZWQgYmFjaylcbiAgICAgKiBpZiBub3Qgb3ZlcnJpZGVkIGJ5IHVzZXIsIGZpcnN0IGxldmVsIGFwcGVhcmluZyBpbiBtYW5pZmVzdCB3aWxsIGJlIHVzZWQgYXMgc3RhcnQgbGV2ZWxcbiAgICAgKiBpZiAtMSA6IGF1dG9tYXRpYyBzdGFydCBsZXZlbCBzZWxlY3Rpb24sIHBsYXliYWNrIHdpbGwgc3RhcnQgZnJvbSBsZXZlbCBtYXRjaGluZyBkb3dubG9hZCBiYW5kd2lkdGhcbiAgICAgKiAoZGV0ZXJtaW5lZCBmcm9tIGRvd25sb2FkIG9mIGZpcnN0IHNlZ21lbnQpXG4gICAgICogQHR5cGUge251bWJlcn0gbmV3TGV2ZWxcbiAgICAgKi9cbiAgICAsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3TGV2ZWwpIHtcbiAgICAgIGxvZ2dlcltcImJcIiAvKiBsb2dnZXIgKi9dLmxvZygnc2V0IHN0YXJ0TGV2ZWw6JyArIG5ld0xldmVsKTtcbiAgICAgIHZhciBobHMgPSB0aGlzO1xuICAgICAgLy8gaWYgbm90IGluIGF1dG9tYXRpYyBzdGFydCBsZXZlbCBkZXRlY3Rpb24sIGVuc3VyZSBzdGFydExldmVsIGlzIGdyZWF0ZXIgdGhhbiBtaW5BdXRvTGV2ZWxcbiAgICAgIGlmIChuZXdMZXZlbCAhPT0gLTEpIHtcbiAgICAgICAgbmV3TGV2ZWwgPSBNYXRoLm1heChuZXdMZXZlbCwgaGxzLm1pbkF1dG9MZXZlbCk7XG4gICAgICB9XG5cbiAgICAgIGhscy5sZXZlbENvbnRyb2xsZXIuc3RhcnRMZXZlbCA9IG5ld0xldmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhcHBpbmcvbWF4IGxldmVsIHZhbHVlIHRoYXQgc2hvdWxkIGJlIHVzZWQgYnkgYXV0b21hdGljIGxldmVsIHNlbGVjdGlvbiBhbGdvcml0aG0gKGBBQlJDb250cm9sbGVyYClcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhdXRvTGV2ZWxDYXBwaW5nJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hdXRvTGV2ZWxDYXBwaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhcHBpbmcvbWF4IGxldmVsIHZhbHVlIHRoYXQgc2hvdWxkIGJlIHVzZWQgYnkgYXV0b21hdGljIGxldmVsIHNlbGVjdGlvbiBhbGdvcml0aG0gKGBBQlJDb250cm9sbGVyYClcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdMZXZlbCkge1xuICAgICAgbG9nZ2VyW1wiYlwiIC8qIGxvZ2dlciAqL10ubG9nKCdzZXQgYXV0b0xldmVsQ2FwcGluZzonICsgbmV3TGV2ZWwpO1xuICAgICAgdGhpcy5fYXV0b0xldmVsQ2FwcGluZyA9IG5ld0xldmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydWUgd2hlbiBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uIGVuYWJsZWRcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYXV0b0xldmVsRW5hYmxlZCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZXZlbENvbnRyb2xsZXIubWFudWFsTGV2ZWwgPT09IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExldmVsIHNldCBtYW51YWxseSAoaWYgYW55KVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ21hbnVhbExldmVsJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxldmVsQ29udHJvbGxlci5tYW51YWxMZXZlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBtaW4gbGV2ZWwgc2VsZWN0YWJsZSBpbiBhdXRvIG1vZGUgYWNjb3JkaW5nIHRvIGNvbmZpZy5taW5BdXRvQml0cmF0ZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ21pbkF1dG9MZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgaGxzID0gdGhpcyxcbiAgICAgICAgICBsZXZlbHMgPSBobHMubGV2ZWxzLFxuICAgICAgICAgIG1pbkF1dG9CaXRyYXRlID0gaGxzLmNvbmZpZy5taW5BdXRvQml0cmF0ZSxcbiAgICAgICAgICBsZW4gPSBsZXZlbHMgPyBsZXZlbHMubGVuZ3RoIDogMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGxldmVsTmV4dEJpdHJhdGUgPSBsZXZlbHNbaV0ucmVhbEJpdHJhdGUgPyBNYXRoLm1heChsZXZlbHNbaV0ucmVhbEJpdHJhdGUsIGxldmVsc1tpXS5iaXRyYXRlKSA6IGxldmVsc1tpXS5iaXRyYXRlO1xuICAgICAgICBpZiAobGV2ZWxOZXh0Qml0cmF0ZSA+IG1pbkF1dG9CaXRyYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG1heCBsZXZlbCBzZWxlY3RhYmxlIGluIGF1dG8gbW9kZSBhY2NvcmRpbmcgdG8gYXV0b0xldmVsQ2FwcGluZ1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ21heEF1dG9MZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgaGxzID0gdGhpcztcbiAgICAgIHZhciBsZXZlbHMgPSBobHMubGV2ZWxzO1xuICAgICAgdmFyIGF1dG9MZXZlbENhcHBpbmcgPSBobHMuYXV0b0xldmVsQ2FwcGluZztcbiAgICAgIHZhciBtYXhBdXRvTGV2ZWwgPSB2b2lkIDA7XG4gICAgICBpZiAoYXV0b0xldmVsQ2FwcGluZyA9PT0gLTEgJiYgbGV2ZWxzICYmIGxldmVscy5sZW5ndGgpIHtcbiAgICAgICAgbWF4QXV0b0xldmVsID0gbGV2ZWxzLmxlbmd0aCAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXhBdXRvTGV2ZWwgPSBhdXRvTGV2ZWxDYXBwaW5nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWF4QXV0b0xldmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG5leHQgYXV0b21hdGljYWxseSBzZWxlY3RlZCBxdWFsaXR5IGxldmVsXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbmV4dEF1dG9MZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgaGxzID0gdGhpcztcbiAgICAgIC8vIGVuc3VyZSBuZXh0IGF1dG8gbGV2ZWwgaXMgYmV0d2VlbiAgbWluIGFuZCBtYXggYXV0byBsZXZlbFxuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KGhscy5hYnJDb250cm9sbGVyLm5leHRBdXRvTGV2ZWwsIGhscy5taW5BdXRvTGV2ZWwpLCBobHMubWF4QXV0b0xldmVsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0aGlzIHNldHRlciBpcyB1c2VkIHRvIGZvcmNlIG5leHQgYXV0byBsZXZlbC5cbiAgICAgKiB0aGlzIGlzIHVzZWZ1bCB0byBmb3JjZSBhIHN3aXRjaCBkb3duIGluIGF1dG8gbW9kZTpcbiAgICAgKiBpbiBjYXNlIG9mIGxvYWQgZXJyb3Igb24gbGV2ZWwgTiwgaGxzLmpzIGNhbiBzZXQgbmV4dEF1dG9MZXZlbCB0byBOLTEgZm9yIGV4YW1wbGUpXG4gICAgICogZm9yY2VkIHZhbHVlIGlzIHZhbGlkIGZvciBvbmUgZnJhZ21lbnQuIHVwb24gc3VjY2VzZnVsIGZyYWcgbG9hZGluZyBhdCBmb3JjZWQgbGV2ZWwsXG4gICAgICogdGhpcyB2YWx1ZSB3aWxsIGJlIHJlc2V0dGVkIHRvIC0xIGJ5IEFCUiBjb250cm9sbGVyLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5leHRMZXZlbCkge1xuICAgICAgdmFyIGhscyA9IHRoaXM7XG4gICAgICBobHMuYWJyQ29udHJvbGxlci5uZXh0QXV0b0xldmVsID0gTWF0aC5tYXgoaGxzLm1pbkF1dG9MZXZlbCwgbmV4dExldmVsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXVkaW9UcmFja1tdfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhdWRpb1RyYWNrcycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgYXVkaW9UcmFja0NvbnRyb2xsZXIgPSB0aGlzLmF1ZGlvVHJhY2tDb250cm9sbGVyO1xuICAgICAgcmV0dXJuIGF1ZGlvVHJhY2tDb250cm9sbGVyID8gYXVkaW9UcmFja0NvbnRyb2xsZXIuYXVkaW9UcmFja3MgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbmRleCBvZiB0aGUgc2VsZWN0ZWQgYXVkaW8gdHJhY2sgKGluZGV4IGluIGF1ZGlvIHRyYWNrIGxpc3RzKVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2F1ZGlvVHJhY2snLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGF1ZGlvVHJhY2tDb250cm9sbGVyID0gdGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlcjtcbiAgICAgIHJldHVybiBhdWRpb1RyYWNrQ29udHJvbGxlciA/IGF1ZGlvVHJhY2tDb250cm9sbGVyLmF1ZGlvVHJhY2sgOiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzZWxlY3RzIGFuIGF1ZGlvIHRyYWNrLCBiYXNlZCBvbiBpdHMgaW5kZXggaW4gYXVkaW8gdHJhY2sgbGlzdHNcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgICxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChhdWRpb1RyYWNrSWQpIHtcbiAgICAgIHZhciBhdWRpb1RyYWNrQ29udHJvbGxlciA9IHRoaXMuYXVkaW9UcmFja0NvbnRyb2xsZXI7XG4gICAgICBpZiAoYXVkaW9UcmFja0NvbnRyb2xsZXIpIHtcbiAgICAgICAgYXVkaW9UcmFja0NvbnRyb2xsZXIuYXVkaW9UcmFjayA9IGF1ZGlvVHJhY2tJZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7U2Vjb25kc31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbGl2ZVN5bmNQb3NpdGlvbicsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW1Db250cm9sbGVyLmxpdmVTeW5jUG9zaXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IGFsdGVybmF0ZSBzdWJ0aXRsZSB0cmFja3MgbGlzdCBmcm9tIHBsYXlsaXN0XG4gICAgICogQHR5cGUge1N1YnRpdGxlVHJhY2tbXX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3VidGl0bGVUcmFja3MnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIHN1YnRpdGxlVHJhY2tDb250cm9sbGVyID0gdGhpcy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtcbiAgICAgIHJldHVybiBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA/IHN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnN1YnRpdGxlVHJhY2tzIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaW5kZXggb2YgdGhlIHNlbGVjdGVkIHN1YnRpdGxlIHRyYWNrIChpbmRleCBpbiBzdWJ0aXRsZSB0cmFjayBsaXN0cylcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzdWJ0aXRsZVRyYWNrJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICByZXR1cm4gc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPyBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZVRyYWNrIDogLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc2VsZWN0IGFuIHN1YnRpdGxlIHRyYWNrLCBiYXNlZCBvbiBpdHMgaW5kZXggaW4gc3VidGl0bGUgdHJhY2sgbGlzdHNcbiAgICAgKiBAdHlwZXtudW1iZXJ9XG4gICAgICovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHN1YnRpdGxlVHJhY2tJZCkge1xuICAgICAgdmFyIHN1YnRpdGxlVHJhY2tDb250cm9sbGVyID0gdGhpcy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtcbiAgICAgIGlmIChzdWJ0aXRsZVRyYWNrQ29udHJvbGxlcikge1xuICAgICAgICBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZVRyYWNrID0gc3VidGl0bGVUcmFja0lkO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzdWJ0aXRsZURpc3BsYXknLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIHN1YnRpdGxlVHJhY2tDb250cm9sbGVyID0gdGhpcy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtcbiAgICAgIHJldHVybiBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA/IHN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnN1YnRpdGxlRGlzcGxheSA6IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZS9kaXNhYmxlIHN1YnRpdGxlIGRpc3BsYXkgcmVuZGVyaW5nXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICB2YXIgc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSB0aGlzLnN1YnRpdGxlVHJhY2tDb250cm9sbGVyO1xuICAgICAgaWYgKHN1YnRpdGxlVHJhY2tDb250cm9sbGVyKSB7XG4gICAgICAgIHN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnN1YnRpdGxlRGlzcGxheSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBIbHM7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHNyY19obHMgPSBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChobHNfSGxzKTtcblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5mdW5jdGlvbiB3ZWJwYWNrQm9vdHN0cmFwRnVuYyAobW9kdWxlcykge1xuLyoqKioqKi8gIC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovICB2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4vKioqKioqLyAgLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovICBmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovICAgIC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gICAgaWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyAgICAgIHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyAgICAvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gICAgdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gICAgICBpOiBtb2R1bGVJZCxcbi8qKioqKiovICAgICAgbDogZmFsc2UsXG4vKioqKioqLyAgICAgIGV4cG9ydHM6IHt9XG4vKioqKioqLyAgICB9O1xuXG4vKioqKioqLyAgICAvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovICAgIG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4vKioqKioqLyAgICAvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyAgICBtb2R1bGUubCA9IHRydWU7XG5cbi8qKioqKiovICAgIC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyAgfVxuXG4vKioqKioqLyAgLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovICBfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4vKioqKioqLyAgLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovICBfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyAgLy8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuLyoqKioqKi8gIC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gICAgaWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovICAgICAgICBnZXQ6IGdldHRlclxuLyoqKioqKi8gICAgICB9KTtcbi8qKioqKiovICAgIH1cbi8qKioqKiovICB9O1xuXG4vKioqKioqLyAgLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovICBfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovICAgIHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gICAgICBmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gICAgICBmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gICAgcmV0dXJuIGdldHRlcjtcbi8qKioqKiovICB9O1xuXG4vKioqKioqLyAgLy8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyAgX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4vKioqKioqLyAgLy8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovICBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuLyoqKioqKi8gIC8vIG9uIGVycm9yIGZ1bmN0aW9uIGZvciBhc3luYyBsb2FkaW5nXG4vKioqKioqLyAgX193ZWJwYWNrX3JlcXVpcmVfXy5vZSA9IGZ1bmN0aW9uKGVycikgeyBjb25zb2xlLmVycm9yKGVycik7IHRocm93IGVycjsgfTtcblxuICB2YXIgZiA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gRU5UUllfTU9EVUxFKVxuICByZXR1cm4gZi5kZWZhdWx0IHx8IGYgLy8gdHJ5IHRvIGNhbGwgZGVmYXVsdCBpZiBkZWZpbmVkIHRvIGFsc28gc3VwcG9ydCBiYWJlbCBlc21vZHVsZSBleHBvcnRzXG59XG5cbnZhciBtb2R1bGVOYW1lUmVxRXhwID0gJ1tcXFxcLnxcXFxcLXxcXFxcK3xcXFxcd3xcXC98QF0rJ1xudmFyIGRlcGVuZGVuY3lSZWdFeHAgPSAnXFxcXCgoXFwvXFxcXCouKj9cXFxcKlxcLyk/XFxzPy4qPygnICsgbW9kdWxlTmFtZVJlcUV4cCArICcpLio/XFxcXCknIC8vIGFkZGl0aW9uYWwgY2hhcnMgd2hlbiBvdXRwdXQucGF0aGluZm8gaXMgdHJ1ZVxuXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNTkzNjYxLzEzMDQ0MlxuZnVuY3Rpb24gcXVvdGVSZWdFeHAgKHN0cikge1xuICByZXR1cm4gKHN0ciArICcnKS5yZXBsYWNlKC9bLj8qK14kW1xcXVxcXFwoKXt9fC1dL2csICdcXFxcJCYnKVxufVxuXG5mdW5jdGlvbiBnZXRNb2R1bGVEZXBlbmRlbmNpZXMgKHNvdXJjZXMsIG1vZHVsZSwgcXVldWVOYW1lKSB7XG4gIHZhciByZXR2YWwgPSB7fVxuICByZXR2YWxbcXVldWVOYW1lXSA9IFtdXG5cbiAgdmFyIGZuU3RyaW5nID0gbW9kdWxlLnRvU3RyaW5nKClcbiAgdmFyIHdyYXBwZXJTaWduYXR1cmUgPSBmblN0cmluZy5tYXRjaCgvXmZ1bmN0aW9uXFxzP1xcKFxcdyssXFxzKlxcdyssXFxzKihcXHcrKVxcKS8pXG4gIGlmICghd3JhcHBlclNpZ25hdHVyZSkgcmV0dXJuIHJldHZhbFxuICB2YXIgd2VicGFja1JlcXVpcmVOYW1lID0gd3JhcHBlclNpZ25hdHVyZVsxXVxuXG4gIC8vIG1haW4gYnVuZGxlIGRlcHNcbiAgdmFyIHJlID0gbmV3IFJlZ0V4cCgnKFxcXFxcXFxcbnxcXFxcVyknICsgcXVvdGVSZWdFeHAod2VicGFja1JlcXVpcmVOYW1lKSArIGRlcGVuZGVuY3lSZWdFeHAsICdnJylcbiAgdmFyIG1hdGNoXG4gIHdoaWxlICgobWF0Y2ggPSByZS5leGVjKGZuU3RyaW5nKSkpIHtcbiAgICBpZiAobWF0Y2hbM10gPT09ICdkbGwtcmVmZXJlbmNlJykgY29udGludWVcbiAgICByZXR2YWxbcXVldWVOYW1lXS5wdXNoKG1hdGNoWzNdKVxuICB9XG5cbiAgLy8gZGxsIGRlcHNcbiAgcmUgPSBuZXcgUmVnRXhwKCdcXFxcKCcgKyBxdW90ZVJlZ0V4cCh3ZWJwYWNrUmVxdWlyZU5hbWUpICsgJ1xcXFwoXCIoZGxsLXJlZmVyZW5jZVxcXFxzKCcgKyBtb2R1bGVOYW1lUmVxRXhwICsgJykpXCJcXFxcKVxcXFwpJyArIGRlcGVuZGVuY3lSZWdFeHAsICdnJylcbiAgd2hpbGUgKChtYXRjaCA9IHJlLmV4ZWMoZm5TdHJpbmcpKSkge1xuICAgIGlmICghc291cmNlc1ttYXRjaFsyXV0pIHtcbiAgICAgIHJldHZhbFtxdWV1ZU5hbWVdLnB1c2gobWF0Y2hbMV0pXG4gICAgICBzb3VyY2VzW21hdGNoWzJdXSA9IF9fd2VicGFja19yZXF1aXJlX18obWF0Y2hbMV0pLm1cbiAgICB9XG4gICAgcmV0dmFsW21hdGNoWzJdXSA9IHJldHZhbFttYXRjaFsyXV0gfHwgW11cbiAgICByZXR2YWxbbWF0Y2hbMl1dLnB1c2gobWF0Y2hbNF0pXG4gIH1cblxuICByZXR1cm4gcmV0dmFsXG59XG5cbmZ1bmN0aW9uIGhhc1ZhbHVlc0luUXVldWVzIChxdWV1ZXMpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhxdWV1ZXMpXG4gIHJldHVybiBrZXlzLnJlZHVjZShmdW5jdGlvbiAoaGFzVmFsdWVzLCBrZXkpIHtcbiAgICByZXR1cm4gaGFzVmFsdWVzIHx8IHF1ZXVlc1trZXldLmxlbmd0aCA+IDBcbiAgfSwgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGdldFJlcXVpcmVkTW9kdWxlcyAoc291cmNlcywgbW9kdWxlSWQpIHtcbiAgdmFyIG1vZHVsZXNRdWV1ZSA9IHtcbiAgICBtYWluOiBbbW9kdWxlSWRdXG4gIH1cbiAgdmFyIHJlcXVpcmVkTW9kdWxlcyA9IHtcbiAgICBtYWluOiBbXVxuICB9XG4gIHZhciBzZWVuTW9kdWxlcyA9IHtcbiAgICBtYWluOiB7fVxuICB9XG5cbiAgd2hpbGUgKGhhc1ZhbHVlc0luUXVldWVzKG1vZHVsZXNRdWV1ZSkpIHtcbiAgICB2YXIgcXVldWVzID0gT2JqZWN0LmtleXMobW9kdWxlc1F1ZXVlKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcXVldWVOYW1lID0gcXVldWVzW2ldXG4gICAgICB2YXIgcXVldWUgPSBtb2R1bGVzUXVldWVbcXVldWVOYW1lXVxuICAgICAgdmFyIG1vZHVsZVRvQ2hlY2sgPSBxdWV1ZS5wb3AoKVxuICAgICAgc2Vlbk1vZHVsZXNbcXVldWVOYW1lXSA9IHNlZW5Nb2R1bGVzW3F1ZXVlTmFtZV0gfHwge31cbiAgICAgIGlmIChzZWVuTW9kdWxlc1txdWV1ZU5hbWVdW21vZHVsZVRvQ2hlY2tdIHx8ICFzb3VyY2VzW3F1ZXVlTmFtZV1bbW9kdWxlVG9DaGVja10pIGNvbnRpbnVlXG4gICAgICBzZWVuTW9kdWxlc1txdWV1ZU5hbWVdW21vZHVsZVRvQ2hlY2tdID0gdHJ1ZVxuICAgICAgcmVxdWlyZWRNb2R1bGVzW3F1ZXVlTmFtZV0gPSByZXF1aXJlZE1vZHVsZXNbcXVldWVOYW1lXSB8fCBbXVxuICAgICAgcmVxdWlyZWRNb2R1bGVzW3F1ZXVlTmFtZV0ucHVzaChtb2R1bGVUb0NoZWNrKVxuICAgICAgdmFyIG5ld01vZHVsZXMgPSBnZXRNb2R1bGVEZXBlbmRlbmNpZXMoc291cmNlcywgc291cmNlc1txdWV1ZU5hbWVdW21vZHVsZVRvQ2hlY2tdLCBxdWV1ZU5hbWUpXG4gICAgICB2YXIgbmV3TW9kdWxlc0tleXMgPSBPYmplY3Qua2V5cyhuZXdNb2R1bGVzKVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZXdNb2R1bGVzS2V5cy5sZW5ndGg7IGorKykge1xuICAgICAgICBtb2R1bGVzUXVldWVbbmV3TW9kdWxlc0tleXNbal1dID0gbW9kdWxlc1F1ZXVlW25ld01vZHVsZXNLZXlzW2pdXSB8fCBbXVxuICAgICAgICBtb2R1bGVzUXVldWVbbmV3TW9kdWxlc0tleXNbal1dID0gbW9kdWxlc1F1ZXVlW25ld01vZHVsZXNLZXlzW2pdXS5jb25jYXQobmV3TW9kdWxlc1tuZXdNb2R1bGVzS2V5c1tqXV0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcXVpcmVkTW9kdWxlc1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChtb2R1bGVJZCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICB2YXIgc291cmNlcyA9IHtcbiAgICBtYWluOiBfX3dlYnBhY2tfcmVxdWlyZV9fLm1cbiAgfVxuXG4gIHZhciByZXF1aXJlZE1vZHVsZXMgPSBvcHRpb25zLmFsbCA/IHsgbWFpbjogT2JqZWN0LmtleXMoc291cmNlcykgfSA6IGdldFJlcXVpcmVkTW9kdWxlcyhzb3VyY2VzLCBtb2R1bGVJZClcblxuICB2YXIgc3JjID0gJydcblxuICBPYmplY3Qua2V5cyhyZXF1aXJlZE1vZHVsZXMpLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbSAhPT0gJ21haW4nIH0pLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZSkge1xuICAgIHZhciBlbnRyeU1vZHVsZSA9IDBcbiAgICB3aGlsZSAocmVxdWlyZWRNb2R1bGVzW21vZHVsZV1bZW50cnlNb2R1bGVdKSB7XG4gICAgICBlbnRyeU1vZHVsZSsrXG4gICAgfVxuICAgIHJlcXVpcmVkTW9kdWxlc1ttb2R1bGVdLnB1c2goZW50cnlNb2R1bGUpXG4gICAgc291cmNlc1ttb2R1bGVdW2VudHJ5TW9kdWxlXSA9ICcoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXzsgfSknXG4gICAgc3JjID0gc3JjICsgJ3ZhciAnICsgbW9kdWxlICsgJyA9ICgnICsgd2VicGFja0Jvb3RzdHJhcEZ1bmMudG9TdHJpbmcoKS5yZXBsYWNlKCdFTlRSWV9NT0RVTEUnLCBKU09OLnN0cmluZ2lmeShlbnRyeU1vZHVsZSkpICsgJykoeycgKyByZXF1aXJlZE1vZHVsZXNbbW9kdWxlXS5tYXAoZnVuY3Rpb24gKGlkKSB7IHJldHVybiAnJyArIEpTT04uc3RyaW5naWZ5KGlkKSArICc6ICcgKyBzb3VyY2VzW21vZHVsZV1baWRdLnRvU3RyaW5nKCkgfSkuam9pbignLCcpICsgJ30pO1xcbidcbiAgfSlcblxuICBzcmMgPSBzcmMgKyAnKCcgKyB3ZWJwYWNrQm9vdHN0cmFwRnVuYy50b1N0cmluZygpLnJlcGxhY2UoJ0VOVFJZX01PRFVMRScsIEpTT04uc3RyaW5naWZ5KG1vZHVsZUlkKSkgKyAnKSh7JyArIHJlcXVpcmVkTW9kdWxlcy5tYWluLm1hcChmdW5jdGlvbiAoaWQpIHsgcmV0dXJuICcnICsgSlNPTi5zdHJpbmdpZnkoaWQpICsgJzogJyArIHNvdXJjZXMubWFpbltpZF0udG9TdHJpbmcoKSB9KS5qb2luKCcsJykgKyAnfSkoc2VsZik7J1xuXG4gIHZhciBibG9iID0gbmV3IHdpbmRvdy5CbG9iKFtzcmNdLCB7IHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnIH0pXG4gIGlmIChvcHRpb25zLmJhcmUpIHsgcmV0dXJuIGJsb2IgfVxuXG4gIHZhciBVUkwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkwgfHwgd2luZG93Lm1velVSTCB8fCB3aW5kb3cubXNVUkxcblxuICB2YXIgd29ya2VyVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKVxuICB2YXIgd29ya2VyID0gbmV3IHdpbmRvdy5Xb3JrZXIod29ya2VyVXJsKVxuICB3b3JrZXIub2JqZWN0VVJMID0gd29ya2VyVXJsXG5cbiAgcmV0dXJuIHdvcmtlclxufVxuXG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19kZW11eF9kZW11eGVyX2lubGluZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ldmVudHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX191dGlsc19sb2dnZXJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2V2ZW50c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfZXZlbnRzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfZXZlbnRzX18pO1xuLyogZGVtdXhlciB3ZWIgd29ya2VyLlxuICogIC0gbGlzdGVuIHRvIHdvcmtlciBtZXNzYWdlLCBhbmQgdHJpZ2dlciBEZW11eGVySW5saW5lIHVwb24gcmVjZXB0aW9uIG9mIEZyYWdtZW50cy5cbiAqICAtIHByb3ZpZGVzIE1QNCBCb3hlcyBiYWNrIHRvIG1haW4gdGhyZWFkIHVzaW5nIFt0cmFuc2ZlcmFibGUgb2JqZWN0c10oaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vd2ViL3VwZGF0ZXMvMjAxMS8xMi9UcmFuc2ZlcmFibGUtT2JqZWN0cy1MaWdodG5pbmctRmFzdCkgaW4gb3JkZXIgdG8gbWluaW1pemUgbWVzc2FnZSBwYXNzaW5nIG92ZXJoZWFkLlxuICovXG5cblxuXG5cblxuXG52YXIgRGVtdXhlcldvcmtlciA9IGZ1bmN0aW9uIERlbXV4ZXJXb3JrZXIoc2VsZikge1xuICAvLyBvYnNlcnZlciBzZXR1cFxuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2V2ZW50c19fX2RlZmF1bHQuYSgpO1xuICBvYnNlcnZlci50cmlnZ2VyID0gZnVuY3Rpb24gdHJpZ2dlcihldmVudCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBkYXRhID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgZGF0YVtfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgb2JzZXJ2ZXIuZW1pdC5hcHBseShvYnNlcnZlciwgW2V2ZW50LCBldmVudF0uY29uY2F0KGRhdGEpKTtcbiAgfTtcblxuICBvYnNlcnZlci5vZmYgPSBmdW5jdGlvbiBvZmYoZXZlbnQpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGRhdGEgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBkYXRhW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIG9ic2VydmVyLnJlbW92ZUxpc3RlbmVyLmFwcGx5KG9ic2VydmVyLCBbZXZlbnRdLmNvbmNhdChkYXRhKSk7XG4gIH07XG5cbiAgdmFyIGZvcndhcmRNZXNzYWdlID0gZnVuY3Rpb24gZm9yd2FyZE1lc3NhZ2UoZXYsIGRhdGEpIHtcbiAgICBzZWxmLnBvc3RNZXNzYWdlKHsgZXZlbnQ6IGV2LCBkYXRhOiBkYXRhIH0pO1xuICB9O1xuXG4gIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldikge1xuICAgIHZhciBkYXRhID0gZXYuZGF0YTtcbiAgICAvLyBjb25zb2xlLmxvZygnZGVtdXhlciBjbWQ6JyArIGRhdGEuY21kKTtcbiAgICBzd2l0Y2ggKGRhdGEuY21kKSB7XG4gICAgICBjYXNlICdpbml0JzpcbiAgICAgICAgdmFyIGNvbmZpZyA9IEpTT04ucGFyc2UoZGF0YS5jb25maWcpO1xuICAgICAgICBzZWxmLmRlbXV4ZXIgPSBuZXcgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19kZW11eF9kZW11eGVyX2lubGluZV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKG9ic2VydmVyLCBkYXRhLnR5cGVTdXBwb3J0ZWQsIGNvbmZpZywgZGF0YS52ZW5kb3IpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3V0aWxzX2xvZ2dlcl9fW1wiYVwiIC8qIGVuYWJsZUxvZ3MgKi9dKShjb25maWcuZGVidWcgPT09IHRydWUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ2RlbXV4ZXJXb3JrZXI6IHVuYWJsZSB0byBlbmFibGUgbG9ncycpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNpZ25hbCBlbmQgb2Ygd29ya2VyIGluaXRcbiAgICAgICAgZm9yd2FyZE1lc3NhZ2UoJ2luaXQnLCBudWxsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkZW11eCc6XG4gICAgICAgIHNlbGYuZGVtdXhlci5wdXNoKGRhdGEuZGF0YSwgZGF0YS5kZWNyeXB0ZGF0YSwgZGF0YS5pbml0U2VnbWVudCwgZGF0YS5hdWRpb0NvZGVjLCBkYXRhLnZpZGVvQ29kZWMsIGRhdGEudGltZU9mZnNldCwgZGF0YS5kaXNjb250aW51aXR5LCBkYXRhLnRyYWNrU3dpdGNoLCBkYXRhLmNvbnRpZ3VvdXMsIGRhdGEuZHVyYXRpb24sIGRhdGEuYWNjdXJhdGVUaW1lT2Zmc2V0LCBkYXRhLmRlZmF1bHRJbml0UFRTKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGZvcndhcmQgZXZlbnRzIHRvIG1haW4gdGhyZWFkXG4gIG9ic2VydmVyLm9uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXZlbnRzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19ERUNSWVBURUQsIGZvcndhcmRNZXNzYWdlKTtcbiAgb2JzZXJ2ZXIub24oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ldmVudHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5GUkFHX1BBUlNJTkdfSU5JVF9TRUdNRU5ULCBmb3J3YXJkTWVzc2FnZSk7XG4gIG9ic2VydmVyLm9uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZXZlbnRzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uRlJBR19QQVJTRUQsIGZvcndhcmRNZXNzYWdlKTtcbiAgb2JzZXJ2ZXIub24oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ldmVudHNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5FUlJPUiwgZm9yd2FyZE1lc3NhZ2UpO1xuICBvYnNlcnZlci5vbihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2V2ZW50c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19NRVRBREFUQSwgZm9yd2FyZE1lc3NhZ2UpO1xuICBvYnNlcnZlci5vbihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2V2ZW50c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19VU0VSREFUQSwgZm9yd2FyZE1lc3NhZ2UpO1xuICBvYnNlcnZlci5vbihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2V2ZW50c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLklOSVRfUFRTX0ZPVU5ELCBmb3J3YXJkTWVzc2FnZSk7XG5cbiAgLy8gc3BlY2lhbCBjYXNlIGZvciBGUkFHX1BBUlNJTkdfREFUQTogcGFzcyBkYXRhMS9kYXRhMiBhcyB0cmFuc2ZlcmFibGUgb2JqZWN0IChubyBjb3B5KVxuICBvYnNlcnZlci5vbihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2V2ZW50c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkZSQUdfUEFSU0lOR19EQVRBLCBmdW5jdGlvbiAoZXYsIGRhdGEpIHtcbiAgICB2YXIgdHJhbnNmZXJhYmxlID0gW107XG4gICAgdmFyIG1lc3NhZ2UgPSB7IGV2ZW50OiBldiwgZGF0YTogZGF0YSB9O1xuICAgIGlmIChkYXRhLmRhdGExKSB7XG4gICAgICBtZXNzYWdlLmRhdGExID0gZGF0YS5kYXRhMS5idWZmZXI7XG4gICAgICB0cmFuc2ZlcmFibGUucHVzaChkYXRhLmRhdGExLmJ1ZmZlcik7XG4gICAgICBkZWxldGUgZGF0YS5kYXRhMTtcbiAgICB9XG4gICAgaWYgKGRhdGEuZGF0YTIpIHtcbiAgICAgIG1lc3NhZ2UuZGF0YTIgPSBkYXRhLmRhdGEyLmJ1ZmZlcjtcbiAgICAgIHRyYW5zZmVyYWJsZS5wdXNoKGRhdGEuZGF0YTIuYnVmZmVyKTtcbiAgICAgIGRlbGV0ZSBkYXRhLmRhdGEyO1xuICAgIH1cbiAgICBzZWxmLnBvc3RNZXNzYWdlKG1lc3NhZ2UsIHRyYW5zZmVyYWJsZSk7XG4gIH0pO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChEZW11eGVyV29ya2VyKTtcblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKiEgaHR0cDovL210aHMuYmUvZW5kc3dpdGggdjAuMi4wIGJ5IEBtYXRoaWFzICovXG5pZiAoIVN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGgpIHtcblx0KGZ1bmN0aW9uKCkge1xuXHRcdCd1c2Ugc3RyaWN0JzsgLy8gbmVlZGVkIHRvIHN1cHBvcnQgYGFwcGx5YC9gY2FsbGAgd2l0aCBgdW5kZWZpbmVkYC9gbnVsbGBcblx0XHR2YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyBJRSA4IG9ubHkgc3VwcG9ydHMgYE9iamVjdC5kZWZpbmVQcm9wZXJ0eWAgb24gRE9NIGVsZW1lbnRzXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YXIgb2JqZWN0ID0ge307XG5cdFx0XHRcdHZhciAkZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cdFx0XHRcdHZhciByZXN1bHQgPSAkZGVmaW5lUHJvcGVydHkob2JqZWN0LCBvYmplY3QsIG9iamVjdCkgJiYgJGRlZmluZVByb3BlcnR5O1xuXHRcdFx0fSBjYXRjaChlcnJvcikge31cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSgpKTtcblx0XHR2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblx0XHR2YXIgZW5kc1dpdGggPSBmdW5jdGlvbihzZWFyY2gpIHtcblx0XHRcdGlmICh0aGlzID09IG51bGwpIHtcblx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKCk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgc3RyaW5nID0gU3RyaW5nKHRoaXMpO1xuXHRcdFx0aWYgKHNlYXJjaCAmJiB0b1N0cmluZy5jYWxsKHNlYXJjaCkgPT0gJ1tvYmplY3QgUmVnRXhwXScpIHtcblx0XHRcdFx0dGhyb3cgVHlwZUVycm9yKCk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgc3RyaW5nTGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcblx0XHRcdHZhciBzZWFyY2hTdHJpbmcgPSBTdHJpbmcoc2VhcmNoKTtcblx0XHRcdHZhciBzZWFyY2hMZW5ndGggPSBzZWFyY2hTdHJpbmcubGVuZ3RoO1xuXHRcdFx0dmFyIHBvcyA9IHN0cmluZ0xlbmd0aDtcblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHR2YXIgcG9zaXRpb24gPSBhcmd1bWVudHNbMV07XG5cdFx0XHRcdGlmIChwb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ly8gYFRvSW50ZWdlcmBcblx0XHRcdFx0XHRwb3MgPSBwb3NpdGlvbiA/IE51bWJlcihwb3NpdGlvbikgOiAwO1xuXHRcdFx0XHRcdGlmIChwb3MgIT0gcG9zKSB7IC8vIGJldHRlciBgaXNOYU5gXG5cdFx0XHRcdFx0XHRwb3MgPSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dmFyIGVuZCA9IE1hdGgubWluKE1hdGgubWF4KHBvcywgMCksIHN0cmluZ0xlbmd0aCk7XG5cdFx0XHR2YXIgc3RhcnQgPSBlbmQgLSBzZWFyY2hMZW5ndGg7XG5cdFx0XHRpZiAoc3RhcnQgPCAwKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHZhciBpbmRleCA9IC0xO1xuXHRcdFx0d2hpbGUgKCsraW5kZXggPCBzZWFyY2hMZW5ndGgpIHtcblx0XHRcdFx0aWYgKHN0cmluZy5jaGFyQ29kZUF0KHN0YXJ0ICsgaW5kZXgpICE9IHNlYXJjaFN0cmluZy5jaGFyQ29kZUF0KGluZGV4KSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fTtcblx0XHRpZiAoZGVmaW5lUHJvcGVydHkpIHtcblx0XHRcdGRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsICdlbmRzV2l0aCcsIHtcblx0XHRcdFx0J3ZhbHVlJzogZW5kc1dpdGgsXG5cdFx0XHRcdCdjb25maWd1cmFibGUnOiB0cnVlLFxuXHRcdFx0XHQnd3JpdGFibGUnOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0U3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuXHRcdH1cblx0fSgpKTtcbn1cblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSlbXCJkZWZhdWx0XCJdO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1obHMuanMubWFwIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZm9vdGVyLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9mb290ZXIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9mb290ZXIuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwidmFyIGVzY2FwZSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvdXJsL2VzY2FwZS5qc1wiKTtcbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiZm9vdGVyIHtcXG4gIGhlaWdodCA6IDRyZW07XFxuICB3aWR0aCA6IDEwMCU7XFxuICBncmlkLWFyZWEgOiBmb290ZXI7XFxuICBkaXNwbGF5IDogLW1zLWdyaWQ7XFxuICBkaXNwbGF5IDogICAgIGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnMgOiBbY29sMV0gYXV0byBbY29sM10gMWZyO1xcbiAgZ3JpZC10ZW1wbGF0ZS1hcmVhcyA6ICdtZW51IGNvcHknO1xcbiAgYm9yZGVyLXRvcCA6IDFweCBzb2xpZCAjZjBmMGYwO1xcbn1cXG4vKlRPRE86INC/0LXRgNC10L3QtdGB0YLQuCDRiNGA0LjRhNGC0YsqL1xcbi5mb28tbWVudS1hLFxcbi5mb28tY29weS1wIHtcXG4gIHRleHQtZGVjb3JhdGlvbiA6IG5vbmU7XFxuICBmb250LWZhbWlseSA6IEFyaWFsTVQ7XFxuICBmb250LXNpemUgOiAwLjc1cmVtO1xcbiAgY29sb3IgOiAjODU4NTg1O1xcbiAgbGV0dGVyLXNwYWNpbmcgOiAwLjAxcHg7XFxuICB0ZXh0LWFsaWduIDogbGVmdDtcXG59XFxuLmZvby1tZW51IHtcXG4gIHBhZGRpbmctdG9wIDogMS40cmVtO1xcbiAgcGFkZGluZy1sZWZ0IDogMi41cmVtO1xcbiAgbGlzdC1zdHlsZSA6IG5vbmU7XFxuICBncmlkLWFyZWEgOiBtZW51O1xcbiAgZGlzcGxheSA6IC1tcy1ncmlkO1xcbiAgZGlzcGxheSA6ICAgICBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zIDogcmVwZWF0KDQsIGF1dG8pO1xcbiAgZ3JpZC1nYXAgOiAxcmVtO1xcbn1cXG5cXG4uZm9vLWNvcHkge1xcbiAgZ3JpZC1hcmVhIDogY29weTtcXG4gIHBhZGRpbmctdG9wIDogMS40cmVtO1xcbiAgcGFkZGluZy1yaWdodCA6IDIuNXJlbTtcXG59XFxuLmZvby1jb3B5LXAge1xcbiAgdGV4dC1hbGlnbiA6IHJpZ2h0O1xcbn1cXG5cXG4vKmZvb3RlciDQuNGB0YfQtdC30LDQtdGCINC/0YDQuCDQvNC+0LHQuNC70YzQvdGL0YUqL1xcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNTk5cHgpIHtcXG4gIGZvb3RlciB7XFxuICAgIGRpc3BsYXkgOiBub25lO1xcbiAgfVxcbn1cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDYwMHB4KSB7XFxuICAubmF2LWl0ZW06aG92ZXIge1xcbiAgICBvcGFjaXR5IDogMTtcXG4gIH1cXG4gIC50aWxlaG92ZXI6aG92ZXI6YmVmb3JlIHtcXG4gICAgY29udGVudCA6ICcnO1xcbiAgICBwb3NpdGlvbiA6IGFic29sdXRlO1xcbiAgICBiYWNrZ3JvdW5kIDogdXJsKFwiICsgZXNjYXBlKHJlcXVpcmUoXCIuLi8uLi9pbWFnZXMvY3Jvc3Muc3ZnXCIpKSArIFwiKSBuby1yZXBlYXQ7XFxuICAgIHdpZHRoIDogMXJlbTtcXG4gICAgaGVpZ2h0IDogMXJlbTtcXG4gICAgdG9wIDogMXJlbTtcXG4gICAgcmlnaHQgOiAxcmVtO1xcbiAgfVxcbiAgLnRpbGVob3Zlcjpob3ZlcjphZnRlciB7XFxuICAgIGNvbnRlbnQgOiAnJztcXG4gICAgcG9zaXRpb24gOiBhYnNvbHV0ZTtcXG4gICAgYmFja2dyb3VuZCA6IHVybChcIiArIGVzY2FwZShyZXF1aXJlKFwiLi4vLi4vaW1hZ2VzL05leHQuc3ZnXCIpKSArIFwiKSBuby1yZXBlYXQ7XFxuICAgIHdpZHRoIDogMC43cmVtO1xcbiAgICBoZWlnaHQgOiAxcmVtO1xcbiAgICBib3R0b20gOiAxcmVtO1xcbiAgICByaWdodCA6IDFyZW07XFxuICB9XFxuICAudGlsZWhvdmVyOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZCA6ICNmM2YzZjM7XFxuICAgIC13ZWJraXQtYm94LXNoYWRvdyA6IDAgMnB4IDZweCAwIHJnYmEoMTk3LCAxODYsIDE4NiwgMC41KTtcXG4gICAgICAgICAgICBib3gtc2hhZG93IDogMCAycHggNnB4IDAgcmdiYSgxOTcsIDE4NiwgMTg2LCAwLjUpO1xcbiAgfVxcbiAgLnRpbGVob3Zlcjpob3ZlciAuaW5mby10aWxlIHtcXG4gICAgYmFja2dyb3VuZCA6ICNmM2YzZjM7XFxuICB9XFxuXFxuICAuZm9vLW1lbnUtYTpob3ZlciB7XFxuICAgIGNvbG9yIDogIzMzMzMzMztcXG4gIH1cXG59XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1nL2Nyb3NzLnN2Z1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltZy9OZXh0LnN2Z1wiOyIsInZhciBIYW5kbGViYXJzID0gcmVxdWlyZShcIi9Vc2Vycy9vbGdhL0RvY3VtZW50cy/QqNCg0Jgv0JTQvtC80LDRiNC90LjQtSDRgNCw0LHQvtGC0Ysv0L7RgdC90L7QstC90LDRjy9ub2RlX21vZHVsZXMvaGFuZGxlYmFycy9ydW50aW1lLmpzXCIpO1xuZnVuY3Rpb24gX19kZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIChvYmouX19lc01vZHVsZSA/IG9ialtcImRlZmF1bHRcIl0gOiBvYmopOyB9XG5tb2R1bGUuZXhwb3J0cyA9IChIYW5kbGViYXJzW1wiZGVmYXVsdFwiXSB8fCBIYW5kbGViYXJzKS50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiAoY29udGFpbmVyLm51bGxDb250ZXh0IHx8IHt9KSwgYWxpYXMyPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYWxpYXMzPVwiZnVuY3Rpb25cIiwgYWxpYXM0PWNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIHJldHVybiBcIiAgPGxpPlxcbiAgICA8YSBocmVmPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudXJsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInVybFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiIGNsYXNzPVxcXCJmb250LWFyaWFsLWJvbGQgbmF2X19pdGVtXFxcIj5cXG4gICAgICBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudGl0bGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRpdGxlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXG4gICAgPC9hPlxcbiAgPC9saT5cXG5cIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLml0ZW1zIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcInVzZURhdGFcIjp0cnVlfSk7IiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vaGVhZGVyLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9oZWFkZXIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9oZWFkZXIuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuaGVhZGVyIHtcXG4gIHBvc2l0aW9uIDogZml4ZWQ7XFxuICBsZWZ0IDogMDtcXG4gIHRvcCA6IDA7XFxuICBoZWlnaHQgOiA2cmVtO1xcbiAgd2lkdGggOiAxMDAlO1xcbiAgZ3JpZC1hcmVhIDogaGVhZGVyO1xcbiAgZGlzcGxheSA6IC1tcy1ncmlkO1xcbiAgZGlzcGxheSA6ICAgICBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZSA6ICdsb2dvIG5hdicgJ2ljb24gaWNvbic7XFxuICBncmlkLWF1dG8tY29sdW1ucyA6IG1pbi1jb250ZW50O1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzIDogYXV0byAxcHg7XFxuICAtd2Via2l0LWJveC1hbGlnbiA6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zIDogY2VudGVyO1xcbiAgYm9yZGVyLWJvdHRvbSA6IDFweCBzb2xpZCAjZjBmMGYwO1xcbiAgYmFja2dyb3VuZCA6IHdoaXRlO1xcbiAgei1pbmRleCA6IDE7XFxufVxcblxcbi5oZWFkZXJfX2xvZ28ge1xcbiAgZ3JpZC1hcmVhIDogbG9nbztcXG59XFxuXFxuLmhlYWRlcl9fbG9nb19wb3NpdGlvbiB7XFxuICBwYWRkaW5nLWxlZnQgOiAyLjZyZW07XFxufVxcbi8q0YHRgdGL0LvQutCwIDxhIGhyZWY9Li4uPiDQtNC10LvQsNC10LwgaW5saW5lLWJsb2NrLCDQvdC10LvRjNC30Y8g0LTQvtCx0LDQstC70Y/RgtGMINC40LfQvtCx0YDQsNC20LXQvdC40LUg0LIg0YHRgtGA0L7Rh9C90YvQuSDRjdC70LXQvNC10L3RgiovXFxuLmxvZ29fX2xvZ28taHJlZiB7XFxuICBkaXNwbGF5IDogaW5saW5lLWJsb2NrO1xcbiAgZ3JpZC1hcmVhIDogbG9nbztcXG4gIG1pbi13aWR0aCA6IDdyZW07XFxufVxcblxcbi5oZWFkZXJfX25hdiB7XFxuICBncmlkLWFyZWEgOiBuYXY7XFxuICBqdXN0aWZ5LXNlbGYgOiBsZWZ0O1xcbiAgcG9zaXRpb24gOiByZWxhdGl2ZTtcXG59XFxuXFxuLm5hdl9fbmF2LWxpc3Qge1xcbiAgbGlzdC1zdHlsZSA6IG5vbmU7XFxuICBkaXNwbGF5IDogLW1zLWlubGluZS1ncmlkO1xcbiAgZGlzcGxheSA6ICAgICBpbmxpbmUtZ3JpZDtcXG4gIGdyaWQtYXV0by1mbG93IDogY29sdW1uO1xcbn1cXG5cXG4ubmF2X19pdGVtIHtcXG4gIHRleHQtZGVjb3JhdGlvbiA6IG5vbmU7XFxuICBvcGFjaXR5IDogMC42O1xcbiAgZm9udC1mYW1pbHkgOiBBcmlhbC1Cb2xkTVQ7XFxuICBmb250LXNpemUgOiAxNnB4O1xcbiAgY29sb3IgOiAjMzMzMzMzO1xcbiAgbGluZS1oZWlnaHQgOiAyMHB4O1xcbiAgcGFkZGluZy1sZWZ0IDogMS41cmVtO1xcbn1cXG4ubmF2X19pdGVtOmhvdmVyIHtcXG4gIG9wYWNpdHkgOiAxO1xcbn1cXG5cXG4uaGVhZGVyX19tZW51LXRvZ2dsZSB7XFxuICBvcGFjaXR5IDogMDtcXG4gIGdyaWQtYXJlYSA6IGljb247XFxuICBjdXJzb3IgOiBwb2ludGVyO1xcbn1cXG4vKlxcbmlucHV0W3R5cGU9J2NoZWNrYm94J10ge1xcbiAgZGlzcGxheSA6IG5vbmU7XFxufSovXFxuXFxuLm1lbnUtdG9nZ2xlX19jaGVja2JveCB7XFxuICBkaXNwbGF5IDogbm9uZTtcXG59XFxuXFxuLm1lbnUtdG9nZ2xlX19waWN0dXJlIHtcXG4gIHBhZGRpbmctcmlnaHQgOiAxLjI1cmVtO1xcbn1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDU5OXB4KSB7XFxuICAuaGVhZGVyIHtcXG4gICAgaGVpZ2h0IDogNC41cmVtO1xcbiAgICBib3JkZXIgOiBpbml0aWFsO1xcbiAgICBncmlkLXRlbXBsYXRlIDogJ2xvZ28gaWNvbidcXG4gICAgJ25hdiBuYXYnO1xcbiAgICBncmlkLWF1dG8tY29sdW1ucyA6IGF1dG87XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93cyA6IGF1dG8gMXB4O1xcbiAgfVxcbiAgLmhlYWRlcl9fbG9nb19wb3NpdGlvbiB7XFxuICAgIHBhZGRpbmctbGVmdCA6IDEuMjVyZW07XFxuICB9XFxuICAuaGVhZGVyX19uYXYge1xcbiAgICBvcGFjaXR5IDogMDtcXG4gICAganVzdGlmeS1zZWxmIDogY2VudGVyO1xcbiAgICB0b3AgOiA0LjVyZW07XFxuICAgIHBvc2l0aW9uIDogcmVsYXRpdmU7XFxuICAgIGxlZnQgOiAwO1xcbiAgICByaWdodCA6IDA7XFxuICAgIGJvdHRvbSA6IDA7XFxuICAgIGJhY2tncm91bmQgOiB3aGl0ZTtcXG4gICAgd2lkdGggOiAxMDAlO1xcbiAgfVxcblxcbiAgLm5hdl9fbmF2LWxpc3Qge1xcbiAgICBkaXNwbGF5IDogYmxvY2s7XFxuICB9XFxuXFxuICAubmF2X19pdGVtIHtcXG4gICAgcGFkZGluZy1ib3R0b20gOiAxcmVtO1xcbiAgICBkaXNwbGF5IDogaW5saW5lLWJsb2NrO1xcbiAgfVxcblxcbiAgLmhlYWRlcl9fbWVudS10b2dnbGUge1xcbiAgICBvcGFjaXR5IDogMTtcXG4gICAganVzdGlmeS1zZWxmIDogZW5kO1xcbiAgICB3aWR0aCA6IDNyZW07XFxuICB9XFxuICAubWVudS1pY29uIHtcXG4gICAgcGFkZGluZy1yaWdodCA6IDMuNXJlbTtcXG4gIH1cXG4gIC5tZW51LXRvZ2dsZV9fY2hlY2tib3g6Y2hlY2tlZCB+IC5oZWFkZXJfX25hdiB7XFxuICAgIG9wYWNpdHkgOiAxO1xcbiAgfVxcbn1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJ2YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoXCIvVXNlcnMvb2xnYS9Eb2N1bWVudHMv0KjQoNCYL9CU0L7QvNCw0YjQvdC40LUg0YDQsNCx0L7RgtGLL9C+0YHQvdC+0LLQvdCw0Y8vbm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvcnVudGltZS5qc1wiKTtcbmZ1bmN0aW9uIF9fZGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiAob2JqLl9fZXNNb2R1bGUgPyBvYmpbXCJkZWZhdWx0XCJdIDogb2JqKTsgfVxubW9kdWxlLmV4cG9ydHMgPSAoSGFuZGxlYmFyc1tcImRlZmF1bHRcIl0gfHwgSGFuZGxlYmFycykudGVtcGxhdGUoe1wiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDogKGNvbnRhaW5lci5udWxsQ29udGV4dCB8fCB7fSksIGFsaWFzMj1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJkZXZpY2Utd3JhcFxcXCI+XFxuICA8ZGl2IGNsYXNzPVxcXCJ0aWxlIHZcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ0aXRsZS10aWxlLXZcXFwiPlxcbiAgICAgIDxwPlxcbiAgICAgICAgXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwidGl0bGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxuICAgICAgPC9wPlxcbiAgICA8L2Rpdj5cXG4gICAgPHZpZGVvIGNsYXNzPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnNbXCJjbGFzc1wiXSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDBbXCJjbGFzc1wiXSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiY2xhc3NcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiIHZpZGVvXFxcIiBtdXRlZD1cXFwiXFxcIiBhdXRvcGxheT1cXFwiXFxcIiBwcmVsb2FkPVxcXCJcXFwiPjwvdmlkZW8+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wZW5cXFwiPlxcbiAgICAgIDxsYWJlbCBjbGFzcz1cXFwibGFiZWwtYnJpZ2h0bmVzc1xcXCI+XFxuICAgICAgICDQr9GA0LrQvtGB0YLRjFxcbiAgICAgICAgPGlucHV0XFxuICAgICAgICAgIHR5cGU9XFxcInJhbmdlXFxcIlxcbiAgICAgICAgICBjbGFzcz1cXFwiYnJpZ2h0bmVzc1xcXCJcXG4gICAgICAgICAgbWluPVxcXCIwXFxcIlxcbiAgICAgICAgICBtYXg9XFxcIjJcXFwiXFxuICAgICAgICAgIHN0ZXA9XFxcIjAuMlxcXCJcXG4gICAgICAgICAgdmFsdWU9XFxcIjFcXFwiXFxuICAgICAgICAgLz5cXG5cXG4gICAgICA8L2xhYmVsPlxcbiAgICAgIDxsYWJlbCBjbGFzcz1cXFwibGFiZWwtY29udHJhc3RcXFwiPlxcbiAgICAgICAg0JrQvtC90YLRgNCw0YHRgtC90L7RgdGC0YxcXG4gICAgICAgIDxpbnB1dFxcbiAgICAgICAgICB0eXBlPVxcXCJyYW5nZVxcXCJcXG4gICAgICAgICAgY2xhc3M9XFxcImNvbnRyYXN0XFxcIlxcbiAgICAgICAgICBtaW49XFxcIjBcXFwiXFxuICAgICAgICAgIG1heD1cXFwiM1xcXCJcXG4gICAgICAgICAgc3RlcD1cXFwiMC4yXFxcIlxcbiAgICAgICAgICB2YWx1ZT1cXFwiMVxcXCJcXG4gICAgICAgICAvPlxcblxcbiAgICAgIDwvbGFiZWw+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwidm9sdW1lLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ2b2x1bWVcXFwiPjwvZGl2PlxcbiAgICAgICAgPHN2ZyBjbGFzcz1cXFwiY2hhcnRcXFwiIHdpZHRoPVxcXCI0MFxcXCIgaGVpZ2h0PVxcXCI0MFxcXCIgcm9sZT1cXFwiaW1nXFxcIj5cXG4gICAgICAgICAgPHJlY3Qgd2lkdGg9XFxcIjBcXFwiIGhlaWdodD1cXFwiOFxcXCIgY2xhc3M9XFxcImJhci0xXFxcIj48L3JlY3Q+XFxuICAgICAgICAgIDxyZWN0IHdpZHRoPVxcXCIwXFxcIiBoZWlnaHQ9XFxcIjhcXFwiIHk9XFxcIjEwXFxcIiBjbGFzcz1cXFwiYmFyLTJcXFwiPjwvcmVjdD5cXG4gICAgICAgICAgPHJlY3Qgd2lkdGg9XFxcIjBcXFwiIGhlaWdodD1cXFwiOFxcXCIgeT1cXFwiMjBcXFwiIGNsYXNzPVxcXCJiYXItM1xcXCI+PC9yZWN0PlxcbiAgICAgICAgICA8cmVjdCB3aWR0aD1cXFwiMFxcXCIgaGVpZ2h0PVxcXCI4XFxcIiB5PVxcXCIzMFxcXCIgY2xhc3M9XFxcImJhci00XFxcIj48L3JlY3Q+XFxuICAgICAgICA8L3N2Zz5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjbG9zZSBjbG9zZS1idXR0b24gY2xvc2UtYnV0dG9uLWhvdmVyXFxcIj5cXG4gICAgICAgIDxwIGNsYXNzPVxcXCJjbG9zZSBjbG9zZS10aXRsZVxcXCI+XFxuICAgICAgICAgINCS0YHQtSDQutCw0LzQtdGA0YtcXG4gICAgICAgIDwvcD5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG48L2Rpdj5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pOyIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3ZpZGVvVGlsZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vdmlkZW9UaWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vdmlkZW9UaWxlLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsInZhciBlc2NhcGUgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL3VybC9lc2NhcGUuanNcIik7XG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5jb250YWluZXIge1xcbiAgbWF4LXdpZHRoOiA2NXJlbTtcXG4gIG1hcmdpbjogMnJlbSBhdXRvIDA7XFxuXFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcblxcbiAgY29sb3I6ICMwMDAwMDA7XFxuXFxuICBmb250LWZhbWlseTogQXJpYWxNVDtcXG4gIGZvbnQtc2l6ZTogMS4xMjVyZW07XFxufVxcbi5mb250LWgxIHtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuXFxuICBjb2xvcjogIzMzMzMzMztcXG5cXG4gIGZvbnQtZmFtaWx5OiBBcmlhbC1Cb2xkTVQ7XFxuICBmb250LXNpemU6IDIuMjVyZW07XFxufVxcbi50aWxlIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXG4gIGJvcmRlci1yYWRpdXM6IDEuMjVyZW07XFxuICBiYWNrZ3JvdW5kOiAjZmFmYWZhO1xcblxcbiAgZ3JpZC1hdXRvLXJvd3M6IC13ZWJraXQtbWluLWNvbnRlbnQ7XFxuICBncmlkLWF1dG8tcm93czogbWluLWNvbnRlbnQ7XFxufVxcblxcbi50aXRsZS10aWxlIHtcXG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XFxuXFxuICBoZWlnaHQ6IDMuNnJlbTtcXG5cXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcblxcbiAgY29sb3I6ICMzMzMzMzM7XFxuXFxuICBmb250LWZhbWlseTogQXJpYWwtQm9sZE1UO1xcbiAgZm9udC1zaXplOiAxLjVyZW07XFxuXFxuICAtby10ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIC13ZWJraXQtbGluZS1jbGFtcDogMjtcXG59XFxuXFxuLmNvbnRlbnQtZGV2aWNlIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuXFxuICBwYWRkaW5nLXRvcDogMnJlbTtcXG5cXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmciAxZnI7XFxuICBncmlkLWdhcDogMS4ycmVtO1xcbn1cXG5cXG4udmlkZW8ge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDgwJTtcXG5cXG4gIGJvcmRlci1yYWRpdXM6IDEuMjVyZW07XFxufVxcblxcbi50aXRsZS10aWxlLXYge1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcXG5cXG4gIGhlaWdodDogMy42cmVtO1xcblxcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuXFxuICBjb2xvcjogIzMzMzMzMztcXG5cXG4gIGZvbnQtZmFtaWx5OiBBcmlhbC1Cb2xkTVQ7XFxuICBmb250LXNpemU6IDEuNXJlbTtcXG5cXG4gIC1vLXRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbiAgLXdlYmtpdC1saW5lLWNsYW1wOiAyO1xcbn1cXG5cXG4udiB7XFxuICBoZWlnaHQ6IDIwcmVtO1xcbiAgcGFkZGluZzogMC41cmVtO1xcblxcbiAgdHJhbnNpdGlvbjogd2lkdGgsIGhlaWdodCwgdG9wLCBsZWZ0IDEwcztcXG4gIC8qdHJhbnNpdGlvbiA6IG9mZnNldC1wb3NpdGlvbiA1czsqL1xcbn1cXG4ub3BlbmVkLnYge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTtcXG4gIHRvcDogNTAlO1xcbiAgbGVmdDogNTAlO1xcblxcbiAgd2lkdGg6IDkwJTtcXG4gIG1heC13aWR0aDogMTAwJTtcXG4gIGhlaWdodDogOTAlO1xcbiAgbWF4LWhlaWdodDogODAlO1xcblxcbiAgdHJhbnNpdGlvbjogd2lkdGgsIGhlaWdodCwgdG9wLCBsZWZ0IDEwcztcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcXG59XFxuXFxuLmNsb3NlLWJ1dHRvbiB7XFxuICB6LWluZGV4OiAxO1xcbiAgei1pbmRleDogMjtcXG4gIHJpZ2h0OiAxcmVtO1xcbiAgYm90dG9tOiAxcmVtO1xcblxcbiAgZGlzcGxheTogZmxleDtcXG4gIC8qIGFsaWduLWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47ICovXFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAvKndpZHRoOiA3cmVtOyovXFxuXFxuICBoZWlnaHQ6IDNyZW07XFxuICAvKnBhZGRpbmc6IDAuNXJlbTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjsqL1xcblxcbiAgYm9yZGVyLXJhZGl1czogMC43NXJlbTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlNWU1ZTU7XFxufVxcblxcbi5jbG9zZS1idXR0b24taG92ZXI6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZDkzZTtcXG59XFxuXFxuLm9wZW4ge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG59XFxuXFxuLmxhYmVsLWJyaWdodG5lc3MsXFxuLmxhYmVsLWNvbnRyYXN0LFxcbi52b2x1bWUtY29udGFpbmVyLFxcbi5jbG9zZS1idXR0b24ge1xcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xcblxcbiAgd2lkdGg6IDcwJTtcXG59XFxuXFxuLm9wZW5lZCAub3BlbiB7XFxuICBkaXNwbGF5OiBmbGV4O1xcblxcbiAgcGFkZGluZy10b3A6IDFyZW07XFxufVxcblxcbi52b2x1bWUtY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG5cXG4gIHBhZGRpbmctcmlnaHQ6IDFyZW07XFxuICBwYWRkaW5nLWxlZnQ6IDFyZW07XFxufVxcblxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogODAwcHgpIHtcXG4gIC5jb250ZW50LWRldmljZSB7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xcbiAgfVxcbiAgLm9wZW5lZC52IHtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcblxcbiAgICBoZWlnaHQ6IGF1dG87XFxuICB9XFxuICAub3BlbiB7XFxuICAgIGZsZXgtd3JhcDogd3JhcDtcXG4gIH1cXG59XFxuXFxuLnZvbHVtZSB7XFxuICB3aWR0aDogMnJlbTtcXG4gIGhlaWdodDogMnJlbTtcXG4gIG1hcmdpbi1yaWdodDogMXJlbTtcXG5cXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIGVzY2FwZShyZXF1aXJlKFwiLi4vLi4vLi4vaW1hZ2VzL3ZvaWNlb2ZmLnBuZ1wiKSkgKyBcIik7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xcbn1cXG4udm9sdW1lLnVwIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIGVzY2FwZShyZXF1aXJlKFwiLi4vLi4vLi4vaW1hZ2VzL3ZvaWNlb24ucG5nXCIpKSArIFwiKTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XFxufVxcbi5jaGFydCB7XFxuICBtYXJnaW4tbGVmdDogMXJlbTtcXG59XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1nL3ZvaWNlb2ZmLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltZy92b2ljZW9uLnBuZ1wiOyIsIi8vaW1wb3J0IFN0b3JlIGZyb20gJy4uLy4uLy4uL2ZsdXgvYnVpbGQvc3RvcmUvc3RvcmUnO1xuaW1wb3J0IFN0b3JlIGZyb20gJ2Jpa2VmbHV4L2J1aWxkL3N0b3JlL3N0b3JlJztcbmltcG9ydCBUaWxlIGZyb20gJy4vY29tcG9uZW50cy92aWRlb1RpbGUvaW5kZXgnO1xuaW1wb3J0IGZvbyBmcm9tICcuLi9jb21wb25lbnRzL2Zvb3Rlcic7XG5pbXBvcnQgaGVhZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvaGVhZGVyJztcblxuaW1wb3J0IGhlYWRlckRhdGEgZnJvbSAnLi4vZGF0YS9oZWFkZXIuanNvbic7XG5pbXBvcnQgZGF0YVZpZGVvcyBmcm9tICcuLi9kYXRhL3ZpZGVvLmpzb24nO1xuaW1wb3J0IGZvb3RlckRhdGEgZnJvbSAnLi4vZGF0YS9mb290ZXIuanNvbic7XG5cbi8q0JjQvNC/0L7RgNGC0LjRgNGD0LXQvCDQuNC30L7QsdGA0LDQttC10L3QuNGPINC00LvRjyDQu9C+0LPQvtGC0LjQv9CwICovXG5pbXBvcnQgaW1nTG9nb1NyYyBmcm9tICcuLi9pbWFnZXMvbG9nb0AxeC5wbmcnO1xuaW1wb3J0IGltZ0xvZ29TcmNzZXQgZnJvbSAnLi4vaW1hZ2VzL2xvZ29AMngucG5nJztcbmltcG9ydCBzb3VyY2VMb2dvU3Jjc2V0IGZyb20gJy4uL2ltYWdlcy9sb2dvLnN2Zyc7XG5cbi8q0JjQvNC/0L7RgNGC0LjRgNGD0LXQvCDQuNC30L7QsdGA0LDQttC10L3QuNGPINC00LvRjyDQvNC10L3RjiAqL1xuaW1wb3J0IGltZ01lbnVJY29uU3JjIGZyb20gJy4uL2ltYWdlcy9pY29uX2xpc3RfbS5wbmcnO1xuaW1wb3J0IGltZ01lbnVJY29uU3Jjc2V0IGZyb20gJy4uL2ltYWdlcy9pY29uX2xpc3RfbUAyeC5wbmcnO1xuaW1wb3J0IHNvdXJjZU1lbnVJY29uU3Jjc2V0IGZyb20gJy4uL2ltYWdlcy9pY29uX2xpc3RfbUAxeC5zdmcnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvRGF0YUVsZW1lbnQge1xuICB0aXRsZTogc3RyaW5nO1xuICBjbGFzczogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIGlWaWRlb3Mge1xuICBba2V5OiBzdHJpbmddOiBpVmlkZW9TdGF0ZTtcbn1cblxuaW50ZXJmYWNlIGlWaWRlb1N0YXRlIHtcbiAgYnJpZ2h0bmVzczogc3RyaW5nO1xuICBjb250cmFzdDogc3RyaW5nO1xuICAvL3ZpZGVvSWQ6IHN0cmluZztcbn1cblxuY29uc3QgVHlwZVZpZGVvU2V0dGluZ3MgPSAndmlkZW9TZXR0aW5nQ2hhbmdlJztcblxuLyrQl9Cw0LPRgNGD0LbQsNC10Lwg0LvQvtCz0L7RgtC40L8g0LTQu9GPINGB0LDQudGC0LAgKi9cbmNvbnN0IGltYWdlTG9nbyA9IHtcbiAgY2xhc3M6ICdsb2dvX19waWN0dXJlJyxcbiAgc291cmNlU3Jjc2V0OiBzb3VyY2VMb2dvU3Jjc2V0LFxuICBpbWdTcmM6IGltZ0xvZ29TcmMsXG4gIGltZ1NyY3NldDogYCR7aW1nTG9nb1NyY3NldH0gMnhgLFxuICBpbWdBbHQ6ICfQr9C90LTQtdC60YEg0LTQvtC8J1xufTtcblxuLyrQl9Cw0LPRgNGD0LbQsNC10Lwg0LjQutC+0L3QutGDINC80LXQvdGOINC00LvRjyDRgdCw0LnRgtCwKi9cbmNvbnN0IGltYWdlSWNvbiA9IHtcbiAgY2xhc3M6ICdtZW51LXRvZ2dsZV9fcGljdHVyZScsXG4gIHNvdXJjZVNyY3NldDogc291cmNlTWVudUljb25TcmNzZXQsXG4gIGltZ1NyYzogaW1nTWVudUljb25TcmMsXG4gIGltZ1NyY3NldDogYCR7aW1nTWVudUljb25TcmNzZXR9IDJ4YCxcbiAgaW1nQWx0OiAnbWVudSdcbn07XG5cbi8q0KjQsNCx0LvQvtC90LjQt9Cw0YLQvtGAIGhlYWRlciAqL1xuaGVhZGVyRGF0YS5sb2dvID0gaW1hZ2VMb2dvO1xuaGVhZGVyRGF0YS5pY29uID0gaW1hZ2VJY29uO1xuLyrQn9C+0LvRg9GH0LDQtdC8INGA0LXQt9GD0LvRjNGC0LDRgiDRiNCw0LHQu9C+0L3QuNC30LDRgtC+0YDQsCDQuCDQstGB0YLQsNCy0LvQtdC8INCyIGh0bWwqL1xuY29uc3QgZGF0YUhlYWRlciA9IGhlYWRlcihoZWFkZXJEYXRhKTtcbmNvbnN0IGhlYWRlckhUTUw6IEhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItd3JhcCcpO1xuaGVhZGVySFRNTC5pbm5lckhUTUwgPSBkYXRhSGVhZGVyO1xuXG5sZXQgaW5pdGlhbFN0YXRlOiBpVmlkZW9zID0ge307XG5mdW5jdGlvbiBvbkNoYW5nZShhY3Rpb246IGFueSkge1xuICBzdG9yZS5kaXNwYXRjaChhY3Rpb24pO1xufVxuZnVuY3Rpb24gdmlkZW9SZWR1Y2VyKHN0YXRlID0gaW5pdGlhbFN0YXRlLCBhY3Rpb246IGFueSkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT0gJ2JyaWdodG5lc3NDaGFuZ2UnKSBzdGF0ZVthY3Rpb24udmlkZW9JZF0uYnJpZ2h0bmVzcyA9IGFjdGlvbi5icmlnaHRuZXNzO1xuICBpZiAoYWN0aW9uLnR5cGUgPT0gJ2NvbnRyYXN0Q2hhbmdlJykgc3RhdGVbYWN0aW9uLnZpZGVvSWRdLmNvbnRyYXN0ID0gYWN0aW9uLmNvbnRyYXN0O1xuICByZXR1cm4gc3RhdGU7XG59XG5jb25zdCB2aWRlb3M6IFRpbGVbXSA9IFtdO1xuLyrQn9C+0LvRg9GH0LDQtdC8INC00LDQvdC90YvQtSDQtNC70Y8g0LLQuNC00LXQviAt0YLQsNC50LvQvtCyKi9cbmRhdGFWaWRlb3MuZm9yRWFjaCgoZGF0YVZpZGVvOiBWaWRlb0RhdGFFbGVtZW50KSA9PiB7XG4gIC8q0J/QvtC70YPRh9Cw0LXQvCDRgNC10LfRg9C70YzRgtCw0YIg0YjQsNCx0LvQvtC90LjQt9Cw0YLQvtGA0LAg0Lgg0LLRgdGC0LDQstC70LXQvCDQsiBodG1sKi9cbiAgY29uc3QgdmlkZW9zQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudC1kZXZpY2UnKTtcbiAgaWYgKHZpZGVvc0NvbnRhaW5lcikge1xuICAgIGNvbnN0IHRpbGUgPSBuZXcgVGlsZShkYXRhVmlkZW8sIHZpZGVvc0NvbnRhaW5lciwgZGF0YVZpZGVvLnVybCwgb25DaGFuZ2UpO1xuICAgIGluaXRpYWxTdGF0ZVtkYXRhVmlkZW8uY2xhc3NdID0ge1xuICAgICAgYnJpZ2h0bmVzczogJzEnLFxuICAgICAgY29udHJhc3Q6ICcxJ1xuICAgIH07XG4gICAgdmlkZW9zLnB1c2godGlsZSk7XG4gIH1cbn0pO1xuXG5jb25zdCBkYXRhRm9vID0gZm9vKGZvb3RlckRhdGEpO1xuLyrQn9C+0LvRg9GH0LDQtdC8INGA0LXQt9GD0LvRjNGC0LDRgiDRiNCw0LHQu9C+0L3QuNC30LDRgtC+0YDQsCDQuCDQstGB0YLQsNCy0LvQtdC8INCyIGh0bWwqL1xuY29uc3QgZm9vSHRtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb28tbWVudScpO1xuaWYgKGZvb0h0bWwpIHtcbiAgZm9vSHRtbC5pbm5lckhUTUwgPSBkYXRhRm9vO1xufVxuXG5sZXQgc3RvcmUgPSBuZXcgU3RvcmUodmlkZW9SZWR1Y2VyKTtcbnN0b3JlLnN1YnNjcmliZSgoKSA9PiB7XG4gIHZpZGVvcy5mb3JFYWNoKHZpZGVvID0+IHtcbiAgICBjb25zdCBjdXJyZW50U3RvcmU6IGlWaWRlb3MgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHZpZGVvLnNldENvbnRyYXN0KGN1cnJlbnRTdG9yZVt2aWRlby52aWRlby5jbGFzc0xpc3RbMF1dLmNvbnRyYXN0KTtcbiAgICB2aWRlby5zZXRCcmlnaHRuZXNzKGN1cnJlbnRTdG9yZVt2aWRlby52aWRlby5jbGFzc0xpc3RbMF1dLmJyaWdodG5lc3MpO1xuICB9KTtcbn0pO1xuIiwiaW1wb3J0ICogYXMgSGxzIGZyb20gJ2hscy5qcyc7XG4vL2ltcG9ydCBTdG9yZSBmcm9tICcuLi8uLi8uLi8uLi8uLi9mbHV4L2J1aWxkL3N0b3JlL3N0b3JlJztcblxuaW1wb3J0ICogYXMgdmlkZW9UZW1wbGF0ZSBmcm9tICcuL3ZpZGVvVGlsZS5oYW5kbGViYXJzJztcbmltcG9ydCAqIGFzIGludGVyZmFjZURhdGFFbGVtZW50IGZyb20gJy4uLy4uL2RldmljZSc7XG5cbmltcG9ydCAnLi92aWRlb1RpbGUuY3NzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZSB7XG4gIHRpbGU6IEhUTUxEaXZFbGVtZW50O1xuICB2aWRlbzogSFRNTFZpZGVvRWxlbWVudDtcbiAgY3R4OiBBdWRpb0NvbnRleHQgfCB1bmRlZmluZWQ7XG4gIHNvdXJjZTogTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlIHwgdW5kZWZpbmVkO1xuICBhbmFseXNlcjogQW5hbHlzZXJOb2RlIHwgdW5kZWZpbmVkO1xuICBwcm9jZXNzb3I6IFNjcmlwdFByb2Nlc3Nvck5vZGUgfCB1bmRlZmluZWQ7XG4gIG9uQ2hhbmdlOiBhbnk7XG4gIGJyaWdodG5lc3M6IHN0cmluZyA9ICcxJztcbiAgY29udHJhc3Q6IHN0cmluZyA9ICcxJztcbiAgY29uc3RydWN0b3IoXG4gICAgdmlkZW9EYXRhOiBpbnRlcmZhY2VEYXRhRWxlbWVudC5WaWRlb0RhdGFFbGVtZW50LFxuICAgIHZpZGVvc0NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQsXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgb25DaGFuZ2U6IGFueVxuICApIHtcbiAgICBjb25zdCBodG1sID0gdmlkZW9UZW1wbGF0ZSh2aWRlb0RhdGEpO1xuICAgIHRoaXMub25DaGFuZ2UgPSBvbkNoYW5nZTtcbiAgICB0aGlzLmFwcGVuZFRvQ29udGFpbmVyKGh0bWwsIHZpZGVvc0NvbnRhaW5lcik7XG4gICAgdGhpcy50aWxlID0gPEhUTUxEaXZFbGVtZW50PnZpZGVvc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZGV2aWNlLXdyYXA6bGFzdC1jaGlsZCAgLnRpbGUnKTtcbiAgICAvKtCY0L3QuNGG0LjQsNC70LjQt9C40YDRg9C10Lwg0LLQuNC00LXQviovXG4gICAgdGhpcy52aWRlbyA9IDxIVE1MVmlkZW9FbGVtZW50PnRoaXMudGlsZS5xdWVyeVNlbGVjdG9yKCd2aWRlbycpO1xuICAgIHRoaXMuaW5pdFZpZGVvU3RyZWFtKHRoaXMudmlkZW8sIHVybCk7XG5cbiAgICAvKtCe0LHRgNCw0LHQvtGC0YfQuNC60LggKi9cbiAgICB0aGlzLmFkZEV2ZW50VG9WaWRlbygpO1xuICAgIHRoaXMuYWRkRXZlbnRUb0J0bnMoKTtcbiAgICB0aGlzLmFkZEV2ZW50VG9CcmlnaHRuZXNzKCk7XG4gICAgdGhpcy5hZGRFdmVudFRvQ29udHJhc3QoKTtcbiAgICB0aGlzLmFkZEV2ZW50VG9Wb2x1bWUoKTtcbiAgfVxuXG4gIGluaXRWaWRlb1N0cmVhbSh2aWRlbzogSFRNTFZpZGVvRWxlbWVudCwgdXJsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoSGxzLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgIGNvbnN0IGhscyA9IG5ldyBIbHMoKTtcbiAgICAgIGhscy5sb2FkU291cmNlKHVybCk7XG4gICAgICBobHMuYXR0YWNoTWVkaWEodmlkZW8pO1xuICAgICAgaGxzLm9uKEhscy5FdmVudHMuTUFOSUZFU1RfUEFSU0VELCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmlkZW8ucGxheSgpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh2aWRlby5jYW5QbGF5VHlwZSgnYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmwnKSkge1xuICAgICAgdmlkZW8uc3JjID0gJ2h0dHBzOi8vdmlkZW8tZGV2LmdpdGh1Yi5pby9zdHJlYW1zL3gzNnhoenoveDM2eGh6ei5tM3U4JztcbiAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGFwcGVuZFRvQ29udGFpbmVyKGh0bWw6IGFueSwgdmlkZW9zQ29udGFpbmVyOiBhbnkpIHtcbiAgICBjb25zdCBuZXdIdG1sRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgbmV3SHRtbEVsZW0uaW5uZXJIVE1MID0gaHRtbDtcbiAgICB2aWRlb3NDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3SHRtbEVsZW0uY29udGVudCk7XG4gIH1cblxuICBhZGRFdmVudFRvVmlkZW8oKSB7XG4gICAgaWYgKHRoaXMudmlkZW8pIHtcbiAgICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMudGlsZS5jbGFzc0xpc3QuYWRkKCdvcGVuZWQnKTtcbiAgICAgICAgdGhpcy5pbml0QXVkaW9Db250ZXh0KCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBhZGRFdmVudFRvQnJpZ2h0bmVzcygpIHtcbiAgICBjb25zdCBpbnB1dEJyaWdodG5lc3M6IEhUTUxJbnB1dEVsZW1lbnQgPSA8SFRNTElucHV0RWxlbWVudD50aGlzLnRpbGUucXVlcnlTZWxlY3RvcignLmJyaWdodG5lc3MnKTtcbiAgICBpZiAoaW5wdXRCcmlnaHRuZXNzKSB7XG4gICAgICBpbnB1dEJyaWdodG5lc3MuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBlID0+IHtcbiAgICAgICAgLy90aGlzLnZpZGVvLnN0eWxlLmZpbHRlciA9IGBicmlnaHRuZXNzKCR7KDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS52YWx1ZX0pYDtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSh7XG4gICAgICAgICAgdHlwZTogJ2JyaWdodG5lc3NDaGFuZ2UnLFxuICAgICAgICAgIGJyaWdodG5lc3M6IGAkeyg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkudmFsdWV9YCxcbiAgICAgICAgICB2aWRlb0lkOiB0aGlzLnZpZGVvLmNsYXNzTGlzdFswXVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBzZXRCcmlnaHRuZXNzKGJyaWdodG5lc3NWYWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5icmlnaHRuZXNzID0gYnJpZ2h0bmVzc1ZhbHVlO1xuICAgIHRoaXMuYXBwbHlGaWx0ZXIoKTtcbiAgfVxuXG4gIGFkZEV2ZW50VG9Db250cmFzdCgpIHtcbiAgICBjb25zdCBpbnB1dENvbnRyYXN0OiBIVE1MSW5wdXRFbGVtZW50ID0gPEhUTUxJbnB1dEVsZW1lbnQ+dGhpcy50aWxlLnF1ZXJ5U2VsZWN0b3IoJy5jb250cmFzdCcpO1xuICAgIGlmIChpbnB1dENvbnRyYXN0ICE9PSBudWxsKSB7XG4gICAgICBpbnB1dENvbnRyYXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZSA9PiB7XG4gICAgICAgIC8vdGhpcy52aWRlby5zdHlsZS5maWx0ZXIgPSBgY29udHJhc3QoJHsoPEhUTUxJbnB1dEVsZW1lbnQ+ZS50YXJnZXQpLnZhbHVlfSlgO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlKHtcbiAgICAgICAgICB0eXBlOiAnY29udHJhc3RDaGFuZ2UnLFxuICAgICAgICAgIGNvbnRyYXN0OiBgJHsoPEhUTUxJbnB1dEVsZW1lbnQ+ZS50YXJnZXQpLnZhbHVlfWAsXG4gICAgICAgICAgdmlkZW9JZDogdGhpcy52aWRlby5jbGFzc0xpc3RbMF1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBzZXRDb250cmFzdChjb250cmFzdFZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLmNvbnRyYXN0ID0gY29udHJhc3RWYWx1ZTtcbiAgICB0aGlzLmFwcGx5RmlsdGVyKCk7XG4gIH1cblxuICBhcHBseUZpbHRlcigpIHtcbiAgICB0aGlzLnZpZGVvLnN0eWxlLmZpbHRlciA9IGBicmlnaHRuZXNzKCR7dGhpcy5icmlnaHRuZXNzfSkgY29udHJhc3QoJHt0aGlzLmNvbnRyYXN0fSlgO1xuICB9XG5cbiAgYWRkRXZlbnRUb0J0bnMoKSB7XG4gICAgY29uc3QgYnV0dG9uOiBIVE1MRGl2RWxlbWVudCA9IDxIVE1MRGl2RWxlbWVudD50aGlzLnRpbGUucXVlcnlTZWxlY3RvcignLmNsb3NlJyk7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy50aWxlLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW5lZCcpO1xuICAgICAgY29uc3Qgdm9sdW1lOiBIVE1MRGl2RWxlbWVudCA9IDxIVE1MRGl2RWxlbWVudD50aGlzLnRpbGUucXVlcnlTZWxlY3RvcignLnZvbHVtZScpO1xuICAgICAgaWYgKHZvbHVtZSAmJiB2b2x1bWUuY2xhc3NMaXN0LmNvbnRhaW5zKCd1cCcpKSB0aGlzLm9uVm9sdW1lTXV0ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkRXZlbnRUb1ZvbHVtZSgpIHtcbiAgICBjb25zdCB2b2x1bWU6IEhUTUxEaXZFbGVtZW50ID0gPEhUTUxEaXZFbGVtZW50PnRoaXMudGlsZS5xdWVyeVNlbGVjdG9yKCcudm9sdW1lJyk7XG4gICAgaWYgKHZvbHVtZSkge1xuICAgICAgdm9sdW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgICAgIGNvbnN0IHZvbHVtZVVwID0gdm9sdW1lLmNsYXNzTGlzdC5jb250YWlucygndXAnKTtcbiAgICAgICAgdm9sdW1lVXAgPyB0aGlzLm9uVm9sdW1lTXV0ZSgpIDogdGhpcy5vblZvbHVtZVVuTXV0ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgb25Wb2x1bWVVbk11dGUoKSB7XG4gICAgY29uc3Qgdm9sdW1lOiBIVE1MRGl2RWxlbWVudCA9IDxIVE1MRGl2RWxlbWVudD50aGlzLnRpbGUucXVlcnlTZWxlY3RvcignLnZvbHVtZScpO1xuICAgIHZvbHVtZS5jbGFzc0xpc3QuYWRkKCd1cCcpO1xuICAgIHRoaXMudmlkZW8ubXV0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmFuYWxpc2VyKHRoaXMudGlsZS5xdWVyeVNlbGVjdG9yKCcuY2hhcnQnKSwgJ3J1bm5pbmcnKTtcbiAgfVxuXG4gIG9uVm9sdW1lTXV0ZSgpIHtcbiAgICBjb25zdCB2b2x1bWU6IEhUTUxEaXZFbGVtZW50ID0gPEhUTUxEaXZFbGVtZW50PnRoaXMudGlsZS5xdWVyeVNlbGVjdG9yKCcudm9sdW1lJyk7XG4gICAgdm9sdW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3VwJyk7XG4gICAgdGhpcy52aWRlby5tdXRlZCA9IHRydWU7XG4gICAgdGhpcy5hbmFsaXNlcih0aGlzLnRpbGUucXVlcnlTZWxlY3RvcignLmNoYXJ0JyksICdjbG9zZWQnKTtcbiAgfVxuXG4gIGluaXRBdWRpb0NvbnRleHQoKSB7XG4gICAgaWYgKHRoaXMuY3R4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgICAgdGhpcy5zb3VyY2UgPSB0aGlzLmN0eC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UodGhpcy52aWRlbyk7XG4gICAgICB0aGlzLmFuYWx5c2VyID0gdGhpcy5jdHguY3JlYXRlQW5hbHlzZXIoKTtcbiAgICAgIHRoaXMucHJvY2Vzc29yID0gdGhpcy5jdHguY3JlYXRlU2NyaXB0UHJvY2Vzc29yKDI1NiwgMSwgMSk7XG4gICAgfVxuICB9XG5cbiAgYW5hbGlzZXIoY2hhcnQ6IGFueSwgbmV3U3RhdGU6IHN0cmluZykge1xuICAgIGlmICh0aGlzLmN0eCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAodGhpcy5zb3VyY2UgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmFuYWx5c2VyICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wcm9jZXNzb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuYW5hbHlzZXIpO1xuICAgICAgICB0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMucHJvY2Vzc29yKTtcblxuICAgICAgICBpZiAobmV3U3RhdGUgPT0gJ3J1bm5pbmcnKSB7XG4gICAgICAgICAgLyrQt9Cw0L/Rg9GB0LrQsNC10LwgKi9cbiAgICAgICAgICB0aGlzLmN0eC5yZXN1bWUoKTtcbiAgICAgICAgICB0aGlzLmFuYWx5c2VyLmNvbm5lY3QodGhpcy5jdHguZGVzdGluYXRpb24pO1xuICAgICAgICAgIHRoaXMucHJvY2Vzc29yLmNvbm5lY3QodGhpcy5jdHguZGVzdGluYXRpb24pO1xuICAgICAgICAgIHRoaXMuYW5hbHlzZXIuZmZ0U2l6ZSA9IDMyO1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheSh0aGlzLmFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTtcbiAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5vbmF1ZGlvcHJvY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFuYWx5c2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgdGhpcy5hbmFseXNlci5nZXRCeXRlRnJlcXVlbmN5RGF0YShkYXRhKTtcbiAgICAgICAgICAgICAgLyrQlNC70Y8g0L7RgtC+0LHRgNCw0LbQtdC90LjRjyDQs9GA0LDRhNC40LrQsCAqL1xuICAgICAgICAgICAgICAvL9C60L7RjdGE0YTQuNGG0LjQtdC90YJcbiAgICAgICAgICAgICAgY29uc3Qga0RhdGEgPSAyNTtcbiAgICAgICAgICAgICAgLy/QodGC0L7QsdGG0Ysg0LPRgNCw0YTQuNC60LBcbiAgICAgICAgICAgICAgY29uc3QgYmFyNCA9IGNoYXJ0LnF1ZXJ5U2VsZWN0b3IoJy5iYXItNCcpO1xuICAgICAgICAgICAgICBjb25zdCBiYXIzID0gY2hhcnQucXVlcnlTZWxlY3RvcignLmJhci0yJyk7XG4gICAgICAgICAgICAgIGNvbnN0IGJhcjIgPSBjaGFydC5xdWVyeVNlbGVjdG9yKCcuYmFyLTMnKTtcbiAgICAgICAgICAgICAgY29uc3QgYmFyMSA9IGNoYXJ0LnF1ZXJ5U2VsZWN0b3IoJy5iYXItMScpO1xuICAgICAgICAgICAgICAvL9C+0LHRitGP0LLQu9C10L3QuNC1INC4INC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC30L3QsNGH0LXQvdC40Lkg0LTQu9GPINGB0YLQvtC70LHRhtC+0LIg0LPRgNCw0YTQuNC60LBcbiAgICAgICAgICAgICAgbGV0IGJhcjRWb2x1bWUgPSAwLFxuICAgICAgICAgICAgICAgIGJhcjNWb2x1bWUgPSAwLFxuICAgICAgICAgICAgICAgIGJhcjJWb2x1bWUgPSAwLFxuICAgICAgICAgICAgICAgIGJhcjFWb2x1bWUgPSAwO1xuICAgICAgICAgICAgICAvL9GB0YfQuNGC0LDQtdC8INC30L3QsNGH0LXQvdC40LVcbiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgICAgICBiYXI0Vm9sdW1lICs9IGRhdGFbaV0gLyBrRGF0YTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gNDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgICAgIGJhcjNWb2x1bWUgKz0gZGF0YVtpXSAvIGtEYXRhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSA4OyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgICAgICAgIGJhcjJWb2x1bWUgKz0gZGF0YVtpXSAvIGtEYXRhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxMjsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgICAgICBiYXIxVm9sdW1lICs9IGRhdGFbaV0gLyBrRGF0YTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvL9C+0YLQvtCx0YDQsNC20LDQtdC8INC30L3QsNGH0LXQvdC40Y8g0L3QsCDQs9GA0LDRhNC40LrQtVxuICAgICAgICAgICAgICBiYXI0LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBiYXI0Vm9sdW1lKTtcbiAgICAgICAgICAgICAgYmFyMy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgYmFyM1ZvbHVtZSk7XG4gICAgICAgICAgICAgIGJhcjIuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGJhcjJWb2x1bWUpO1xuICAgICAgICAgICAgICBiYXIxLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBiYXIxVm9sdW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8q0J7RgdGC0LDQvdCw0LLQu9C40LLQsNC10LwgKi9cbiAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5vbmF1ZGlvcHJvY2VzcyA9IG51bGw7XG4gICAgICAgICAgdGhpcy5zb3VyY2UuZGlzY29ubmVjdCh0aGlzLmFuYWx5c2VyKTtcbiAgICAgICAgICB0aGlzLnNvdXJjZS5kaXNjb25uZWN0KHRoaXMucHJvY2Vzc29yKTtcbiAgICAgICAgICB0aGlzLmN0eC5zdXNwZW5kKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsIi8vaW1wb3J0IGFsbFJlZHVjZXJJbnRlcmZhY2UgZnJvbSAnLi4vcmVkdWNlcic7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yZSB7XG4gICAgY29uc3RydWN0b3IocmVkdWNlciwgc3RhdGUpIHtcbiAgICAgICAgdGhpcy5yZWR1Y2VyID0gcmVkdWNlcjtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gKCkgPT4geyB9O1xuICAgIH1cbiAgICBnZXRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gICAgfVxuICAgIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5yZWR1Y2VyKHRoaXMuc3RhdGUsIGFjdGlvbik7XG4gICAgICAgIHRoaXMubGlzdGVuZXIoKTtcbiAgICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9XG4gICAgc3Vic2NyaWJlKG5ld0xpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBuZXdMaXN0ZW5lcjtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdG9yZS5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9